<html>
<head>
  <title>Land Surveyors United</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
   <style>
    body {
      background-color: #111827!important;
      color: #808080;
      margin: 0;
      padding: 0;
    }
    body {
  min-height: 100vh;
  display: grid;
  place-items: center;
  font-family: "SF Pro Text", "SF Pro Icons", "AOS Icons", "Helvetica Neue", Helvetica, Arial, sans-serif, system-ui;
  background: hsl(0 0% 0%);
  gap: 2rem;
}

body::before {
	--line: hsl(0 0% 95% / 0.25);
	content: "";
	height: 100vh;
	width: 100vw;
	position: fixed;
	background:
		linear-gradient(90deg, var(--line) 1px, transparent 1px 10vmin) 0 -5vmin / 10vmin 10vmin,
		linear-gradient(var(--line) 1px, transparent 1px 10vmin) 0 -5vmin / 10vmin 10vmin;
	mask: linear-gradient(-15deg, transparent 30%, white);
	top: 0;
	z-index: -1;
}
    .card-columns {
      column-count: 3;
      column-gap: 1rem;
    }
    .card {
      display: inline-block;
      width: 100%;
      margin-bottom: 1rem;
    }
    .card-img-top {
      width: 100%;
      height: auto;
    }
    .card-body {
      padding: 1rem;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: #111827;
    }
    .modal-content {
      background-color: orange;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #111827;
      width: 80%;
      max-width: 800px;
    }
    .modal-iframe {
      width: 100%;
      height: 500px;
    }
    h5.card-title {color:orange;}
     select#feedSelect.p-2.bg-white.border.border-gray-300.rounded.shadow {color:orange;}
  </style>
  <style>
    .marquee {
      white-space: nowrap;
      overflow: hidden;
      box-sizing: border-box;
      padding: 20px 0;
      width: 100%;
      background-color: #1f2937;
    }
    a {color:orange;}
    .marquee__content {
      display: inline-block;
      animation: marquee 55s linear infinite;
    }

    .marquee__item {
      display: inline-block;
      padding: 0 20px;
      color: #fff;
      font-size: 18px;
    }

    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    .marquee__controls {
      display: flex;
      justify-content: center;
      margin-top: 10px;
    }

    .marquee__controls button {
      margin: 0 5px;
      padding: 5px 10px;
      background-color: orange;
      color: #111827;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    .marquee__controls button:focus {
      outline: none;
    }
  </style>
</head>
<body class="bg-gray-900 text-white">
  <header class="bg-gray-800 py-4">
    <div class="container mx-auto flex justify-between items-center">
      <a href="https://landsurveyorsunited.com/main/authorization/signIn?target=/my/profile">
        <img class="w-12 h-12" src="https://storage.ning.com/topology/rest/1.0/file/get/12222126291?profile=original" alt="LSU Logo">
      </a>
      <form class="relative">
        <input class="bg-gray-700 text-white rounded-lg py-2 pl-8 pr-4 w-96 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" placeholder="Search for Anything about Land Surveying">
        <span class="absolute left-3 top-2/4 transform -translate-y-2/4">
          <img class="h-5 w-5" src="https://storage.ning.com/topology/rest/1.0/file/get/12374742670?profile=RESIZE_584x" alt="Search Icon">
        </span>
      </form>
    </div>
  </header>
  <main class="container mx-auto py-8">
    <h1 class="text-4xl font-bold text-center mb-8">Welcome to Land Surveyors United</h1>
    <p class="text-lg text-center mb-8">Find information and resources about Land Surveying</p>
   <div class="marquee">
    <div class="marquee__content">
      <div class="marquee__item">â–¶ï¸.&nbsp;Tell us what we should build <a href="https://landsurveyorsunited.com/next" target="_self">NEXT</a> for the community.</div>
      <div class="marquee__item">ğŸ§™&zwj;â™‚ï¸.&nbsp;Become a <a href="https://landsurveyorsunited.com/mentorship" target="_self">Mentor</a> for those new to surveying</div>
      <div class="marquee__item">Meet up with other surveyors inside <a href="https://landsurveyorsunited.com/chat" target="_self">Virtual Chat</a> for the community.</div>
      <div class="marquee__item">ğŸ™ï¸&nbsp;Listen to all of the <a href="https://landsurveyorsunited.com/audio" target="_self">Surveyor Podcasts</a> in one place.</div>
      <div class="marquee__item">ğŸ’¥&nbsp;Find the perfect <a href="https://landsurveyorsunited.com/jobs" target="_self">Surveying Job of your dreams</a></div>
      <div class="marquee__item">Generate a <a href="https://landsurveyorsunited.com/jobs" target="_self">Resume in seconds</a></div>
      <div class="marquee__item">ğŸ’ª.&nbsp;Post your available positions for <a href="https://landsurveyorsunited.com/surveyors?categoryId=6622436%3AMemberCategory%3A21982" target="_self">Surveyors Seeking Employment</a>.</div>
      <div class="marquee__item">ğŸ”ï¸.&nbsp;Find deals and specials on <a href="https://landsurveyorsunited.com/next" target="_self">Survey Equipment</a> from the marketplace.</div>
      <div class="marquee__item">ğŸ“.&nbsp;List your company inside the <a href="https://landsurveyorsunited.com/next" target="_self">Survey Company Directory</a>.</div>
      <div class="marquee__item">ğŸŒ.&nbsp;Contribute to surveying knowledge <a href="https://landsurveyorsunited.com/hubs/Locations" target="_self">Locally inside your local hub</a> community.</div>
      <div class="marquee__item">ğŸ–¼ï¸.&nbsp;Share images from the field <a href="https://landsurveyorsunited.com/photo" target="_self">and Photos of Surveying</a> for the community.</div>
      <div class="marquee__item">ğŸ¯.&nbsp;Find targeted support for your <a href="https://landsurveyorsunited.com/hubs/Equipment" target="_self">Surveying Equipment</a> from other users.</div>
      <div class="marquee__item">ğŸ“ºï¸.&nbsp;Learn something new everyday from <a href="https://landsurveyorsunited.com/video" target="_self">Surveying Tutorials</a> curated by the community.</div>
      <div class="marquee__item">ğŸ§°.&nbsp;Customize Surveyor <a href="https://landsurveyorsunited.com/hubs/excel" target="_self">Spreadsheet tools</a> shared by the community.</div>
      <div class="marquee__item">â›“ï¸.&nbsp;Add a badge to your website and <a href="https://landsurveyorsunited.com/me" target="_self">Show your support</a> for the community.</div>
      <div class="marquee__item">ğŸ—ºï¸.&nbsp;Add a point to the new <a href="https://landsurveyorsunited.com/atlas" target="_self">Land Surveyor Atlas</a> and find or post jobs.</div>
      <div class="marquee__item">ğŸ“„.&nbsp;Publish an article or <a href="https://landsurveyorsunited.com/articles" target="_self">republish an outdated</a> document.</div>
      <div class="marquee__item">ğŸ‘½ï¸.&nbsp;Learn how to use Artificial Intelligence in <a href="https://landsurveyorsunited.com/hubs/ai" target="_self">AI for Surveyors Hub</a>.</div>
      <div class="marquee__item">ğŸ“†&nbsp;Increase turnout by sharing <a href="https://landsurveyorsunited.com/events" target="_self">Local Surveying Events</a> with the community.</div>
      <div class="marquee__item">ğŸ“ƒ.&nbsp;Over 16 years of community curated <a href="https://landsurveyorsunited.com/hubs/docs" target="_self">Surveying Related Documents</a>.</div>
      <div class="marquee__item">ğŸ“œ.&nbsp;Submit a term to the <a href="https://landsurveyorsunited.com/page/land-surveying-a-to-z" target="_self">Land Surveyor Dictionary</a> for the future.</div>
    </div>
  </div>

  <div class="marquee__controls">
    <button id="marqueeBackward">Backward</button>
    <button id="marqueeForward">Forward</button>
  </div>
<header class="bg-primary py-4">
    <div class="container mx-auto">
      <h1 class="text-white text-4xl font-bold text-center">Land Surveying Times</h1>
      <div class="flex justify-center mt-4">
        <select id="feedSelect" class="p-2 bg-white border border-gray-300 rounded shadow">
          <option value="">Select a Feed</option>
        </select>
      </div>
    </div>
  </header>
  <main class="container mx-auto my-8">
    <div class="card-columns" id="feedItemsContainer"></div>
  </main>
  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <iframe id="modalIframe" class="modal-iframe" frameborder="0"></iframe>
    </div>
  </div>
  
  <script>
    // Function to fetch and parse OPML file
    const fetchOPML = async () => {
      try {
        const response = await fetch("https://landsurveyorsuniteddocs.on.drv.tw/membertools/opml/jobsmarket.opml");
        const text = await response.text();
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(text, "text/xml");
        const outlines = xmlDoc.getElementsByTagName("outline");
        const feeds = Array.from(outlines).map((outline) => ({
          title: outline.getAttribute("title"),
          xmlUrl: outline.getAttribute("xmlUrl"),
        }));
        return feeds;
      } catch (error) {
        console.error("Error fetching OPML:", error);
        return [];
      }
    };

    // Function to fetch RSS feed items
    const fetchFeedItems = async (feedUrl) => {
      try {
        const response = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${feedUrl}`);
        const data = await response.json();
        return data.items;
      } catch (error) {
        console.error("Error fetching feed items:", error);
        return [];
      }
    };

    // Function to create a card for a feed item
    const createFeedItemCard = (item) => {
      const card = document.createElement("div");
      card.classList.add("card");

      const cardBody = document.createElement("div");
      cardBody.classList.add("card-body");

      const title = document.createElement("h5");
      title.classList.add("card-title");
      title.textContent = item.title;

      const description = document.createElement("p");
      description.classList.add("card-text");
      description.textContent = item.description;

      const link = document.createElement("a");
      link.href = item.link;

      link.classList.add("btn", "btn-primary");
      link.textContent = "Read More";

      cardBody.appendChild(title);
      cardBody.appendChild(description);
      cardBody.appendChild(link);
      card.appendChild(cardBody);

      return card;
    };

    // Function to open the modal with an embedded iframe
    const openModal = (url) => {
      const modal = document.getElementById("myModal");
      const modalIframe = document.getElementById("modalIframe");

      modalIframe.src = url;
      modal.style.display = "block";

      const closeModal = () => {
        modalIframe.src = "";
        modal.style.display = "none";
      };

      window.onclick = function (event) {
        if (event.target === modal) {
          closeModal();
        }
      };

      const closeBtn = document.getElementsByClassName("close")[0];
      closeBtn.onclick = closeModal;
    };

    // Function to populate the feed select dropdown
    const populateFeedSelect = (feeds) => {
      const feedSelect = document.getElementById("feedSelect");

      feeds.forEach((feed, index) => {
        const option = document.createElement("option");
        option.value = index;
        option.textContent = feed.title;
        feedSelect.appendChild(option);
      });

      feedSelect.addEventListener("change", (event) => {
        const selectedIndex = event.target.value;
        if (selectedIndex !== "") {
          const selectedFeed = feeds[selectedIndex];
          fetchFeedItems(selectedFeed.xmlUrl)
            .then((items) => {
              renderFeedItems(items);
            })
            .catch((error) => {
              console.error("Error fetching feed items:", error);
            });
        }
      });
    };

    // Function to render the feed items
    const renderFeedItems = (items) => {
      const feedItemsContainer = document.getElementById("feedItemsContainer");
      feedItemsContainer.innerHTML = "";

      items.forEach((item) => {
        const card = createFeedItemCard(item);
        feedItemsContainer.appendChild(card);

        card.addEventListener("click", () => {
          openModal(item.link);
        });
      });
    };

    // Function to randomize feed order
    const randomizeFeedOrder = (feeds) => {
      for (let i = feeds.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [feeds[i], feeds[j]] = [feeds[j], feeds[i]];
      }
      return feeds;
    };

    // Initialize the app
    const initializeApp = async () => {
      const feeds = await fetchOPML();
      const randomizedFeeds = randomizeFeedOrder(feeds);
      populateFeedSelect(randomizedFeeds);
    };

    initializeApp();
  </script>
</body>
</html>
  
  <script>
    // Function to fetch and parse OPML file
    const fetchOPML = async () => {
      try {
        const response = await fetch("https://landsurveyorsuniteddocs.on.drv.tw/membertools/opml/jobsmarket.opml");
        const text = await response.text();
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(text, "text/xml");
        const outlines = xmlDoc.getElementsByTagName("outline");
        const feeds = Array.from(outlines).map((outline) => ({
          title: outline.getAttribute("title"),
          xmlUrl: outline.getAttribute("xmlUrl"),
        }));
        return feeds;
      } catch (error) {
        console.error("Error fetching OPML:", error);
        return [];
      }
    };

    // Function to fetch RSS feed items
    const fetchFeedItems = async (feedUrl) => {
      try {
        const response = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${feedUrl}`);
        const data = await response.json();
        return data.items;
      } catch (error) {
        console.error("Error fetching feed items:", error);
        return [];
      }
    };

    // Function to create a card for a feed item
    const createFeedItemCard = (item) => {
      const card = document.createElement("div");
      card.classList.add("card");

      const cardBody = document.createElement("div");
      cardBody.classList.add("card-body");

      const title = document.createElement("h5");
      title.classList.add("card-title");
      title.textContent = item.title;

      const description = document.createElement("p");
      description.classList.add("card-text");
      description.textContent = item.description;

      const link = document.createElement("a");
      link.href = item.link;

      link.classList.add("btn", "btn-primary");
      link.textContent = "Read More";

      cardBody.appendChild(title);
      cardBody.appendChild(description);
      cardBody.appendChild(link);
      card.appendChild(cardBody);

      return card;
    };

    // Function to open the modal with an embedded iframe
    const openModal = (url) => {
      const modal = document.getElementById("myModal");
      const modalIframe = document.getElementById("modalIframe");

      modalIframe.src = url;
      modal.style.display = "block";

      const closeModal = () => {
        modalIframe.src = "";
        modal.style.display = "none";
      };

      window.onclick = function (event) {
        if (event.target === modal) {
          closeModal();
        }
      };

      const closeBtn = document.getElementsByClassName("close")[0];
      closeBtn.onclick = closeModal;
    };

    // Function to populate the feed select dropdown
    const populateFeedSelect = (feeds) => {
      const feedSelect = document.getElementById("feedSelect");

      feeds.forEach((feed, index) => {
        const option = document.createElement("option");
        option.value = index;
        option.textContent = feed.title;
        feedSelect.appendChild(option);
      });

      feedSelect.addEventListener("change", (event) => {
        const selectedIndex = event.target.value;
        if (selectedIndex !== "") {
          const selectedFeed = feeds[selectedIndex];
          fetchFeedItems(selectedFeed.xmlUrl)
            .then((items) => {
              renderFeedItems(items);
            })
            .catch((error) => {
              console.error("Error fetching feed items:", error);
            });
        }
      });
    };

    // Function to render the feed items
    const renderFeedItems = (items) => {
      const feedItemsContainer = document.getElementById("feedItemsContainer");
      feedItemsContainer.innerHTML = "";

      items.forEach((item) => {
        const card = createFeedItemCard(item);
        feedItemsContainer.appendChild(card);

        card.addEventListener("click", () => {
          openModal(item.link);
        });
      });
    };

    // Function to randomize feed order
    const randomizeFeedOrder = (feeds) => {
      for (let i = feeds.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [feeds[i], feeds[j]] = [feeds[j], feeds[i]];
      }
      return feeds;
    };

    // Initialize the app
    const initializeApp = async () => {
      const feeds = await fetchOPML();
      const randomizedFeeds = randomizeFeedOrder(feeds);
      populateFeedSelect(randomizedFeeds);
    };

    initializeApp();
  </script>
  <script>
    const marqueeContent = document.querySelector('.marquee__content');
    const marqueeBackwardBtn = document.querySelector('#marqueeBackward');
    const marqueeForwardBtn = document.querySelector('#marqueeForward');

    let animation;

    function startMarquee() {
      animation = marqueeContent.animate(
        [{ transform: 'translateX(0)' }, { transform: 'translateX(-100%)' }],
        { duration: 150000, iterations: Infinity }
      );
    }

    function stopMarquee() {
      animation.cancel();
    }

    marqueeBackwardBtn.addEventListener('click', stopMarquee);
    marqueeForwardBtn.addEventListener('click', startMarquee);

    startMarquee();
  </script>
  </main>
</body>
</html>
