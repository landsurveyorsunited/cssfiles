/** 
 * WebDataRocks Reporting v1.1.0 (http://www.webdatarocks.com/)
 * Copyright 2019 WebDataRocks. All rights reserved.
 */

var WebDataRocks=function(p){T3yy.j0B=200;F3yy.v4R="wdr-popup-header wdr-ui-row";T3yy.L0B=" ";F3yy.q4R="wdr-list-content";T3yy.P0B=192;J3yy.C9t="drillThrough";T3yy.s1B=27;T3yy.p1B=38;F3yy.V4R="wdr-search-wrap";T3yy.a1B=19;C3yy.g3J=".";J3yy.X3R=/^(\+|dt\+|t\+|n\+|-|ds\+|d\+|m\+|w\+|D\+|D4\+|url\+|img\+|id\+)/;T3yy.e0B=191;T3yy.x1B=63;F3yy.L7R="isInlineData";T3yy.P9B="wdr-draggable";C3yy.I8B="0";J3yy.u2t="rowSortMeasure";J3yy.M8t=".Month";C3yy.N3J=";";C3yy.k0t=" filterHeaderCell";C3yy.y2J="All";T3yy.u1B=8;T3yy.W6B="paste";J3yy.l3R="%n%";F3yy.g9R='">';T3yy.I6B="absolute";F3yy.v6R="wdr-helper";F3yy.K1R=" / ";C3yy.o8B="Month";T3yy.w9B="div";F3yy.D9R=1E5;F3yy.l6R="wdr-rows-filter";J3yy.s0t="font-size";T3yy.B6B="textarea";J3yy.s8t="hidden";J3yy.d0t=".{0}{{1}}\n";C3yy.t4B=1E3;T3yy.w1B=40;F3yy.R1R="wdr-ui-label-light";F3yy.L6R="title";C3yy.E4B="allowMultipleSelection";J3yy.H8t=".Day";T3yy.j9B="mousemove";T3yy.F1B=6;F3yy.O9R="data-r";C3yy.T1t="false";F3yy.f4R="#wdr-drag-handle";C3yy.u3J=":";F3yy.C7R="date";F3yy.I5R="classic";J3yy.a0t="class='";J3yy.P2t="columnSortMeasure";F3yy.w4R="wdr-btn-add-measure";F3yy.D1a="isReportComplete";T3yy.y1B=17;C3yy.J7J="^";T3yy.i9B="left";C3yy.G1t="/**----**";J3yy.y2t="extendedDataWidth";J3yy.w0t=".level{0}{{1}}\n";J3yy.n0t="padding-left";C3yy.e5J="members";F3yy.x4R="wdr-search-btn";F3yy.c2R="wdr-level";J3yy.n3R="**--!--**/";J3yy.h4t="isClassic";C3yy.x3J=")";T3yy.D1B=10;J3yy.b9t="bold";J3yy.L0t="showAggregations";J3yy.A8t="measuresHierarchy";T3yy.V9B="parent";function C3yy(){}F3yy.c7R="value";T3yy.Q1B=7;F3yy.C2R="wdr-prompt";C3yy.d1t="report.json";T3yy.p6B="ntr";F3yy.C0R="wdr-filtered";T3yy.Y1B=35;C3yy.s8B="()";J3yy.g3R="The following JSON meta object for the field '";T3yy.f6B="span";T3yy.H1B=60;F3yy.w6R="wdr-filters";F3yy.x6R="wdr-compact-view";F3yy.E4R="wdr-level-folder";C3yy.P7t="Year";F3yy.T5a='"/>';F3yy.d6R="i";J3yy.l2t="month";C3yy.e0t="<td {0}>";F3yy.W4R="wdr-popup-subtitle";T3yy.F0B=100;F3yy.i3R="desc";J3yy.K4t="descendants";T3yy.X1B=20;J3yy.W9t="...";T3yy.T1B=3;J3yy.x4t="pages";C3yy.R5t="export";F3yy.J6R="wdr-row";J3yy.G4t="measuresPosition";F3yy.E1R=" - ";J3yy.V9t="rgb(33, 33, 33)";T3yy.F6B="input";C3yy.q3J="(";C3yy.i2B="-9999px";C3yy.i5J="rows";T3yy.B1B=13;F3yy.K4R="wdr-folder";F3yy.d1R="max-width";F3yy.z4R="wdr-moreicon-display";T3yy.c1B=50;F3yy.g6R="wheel";F3yy.F7R="count";J3yy.L4t="columnMaxDepth";C3yy.u8B="<style>";T3yy.C1B=4;C3yy.D5J="update";J3yy.V4t="columnLevels";C3yy.e3J="dd/MM/yyyy HH:mm:ss";F3yy.r4R="wdr-close-search wdr-ui-icon wdr-icon-act_close";F3yy.B2R="wdr-lst-measures";J3yy.h2t="levelOrdinal";F3yy.V3a="close";F3yy.n2R="wdr-text-display";C3yy.a3J="\t";C3yy.s4B="label";T3yy.E0B=500;F3yy.L4R="wdr-lst-hierarchies";T3yy.l6B="focusin";C3yy.l5J="aftergriddraw";T3yy.Y9B="all";F3yy.k2R="wdr-drag-handle";J3yy.j2t="dataWidth";C3yy.R7J="portrait";J3yy.i2t="asc";J3yy.Q2t="rowSortTuple";C3yy.B0t="class='cell'";F3yy.J3a="<b>$1</b>";J3yy.i4t="columnAxis";F3yy.C1R="wdr-popup-title";T3yy.I9B="height";J3yy.A3R="%q%";T3yy.e1B=11;C3yy.D3J="dd/MM/yyyy";T3yy.Q6B="none";J3yy.d3R="%d%";F3yy.R9R="line-height";T3yy.L9B="width";C3yy.j8B=2E3;J3yy.R0t="font-family";T3yy.T6B="top";C3yy.O3J="#";F3yy.p4R="wdr-ui-col wdr-vam wdr-tar wdr-ui-btns-row";F3yy.t4R="wdr-ui-icon wdr-icon-act_search";J3yy.E6t="%";F3yy.h3R="NaN";J3yy.l8t=".Year";C3yy.N7J="keydown";F3yy.E7R=">";T3yy.S1B=24;C3yy.z2B="length";C3yy.G8B="+";F3yy.o4R="wdr-ui-btn-light wdr-icon-act_calc";J3yy.v0t=".cell{{0}}\n";F3yy.S0R="wdr-level-";J3yy.g9t="off";J3yy.N4t="measureDepth";C3yy.d3J="truestyle";C3yy.v2B="\n";T3yy.q9B="string";J3yy.C2t="columnCount";J3yy.H9t="rgb(0,0,0)";C3yy.A5J="beforegriddraw";C3yy.p3J=", ";C3yy.N1t=".js";T3yy.X6B="wdr-ui-btn";C3yy.u0t="caption";T3yy.b6B="click";F3yy.t7a="solid";F3yy.K7R="<";C3yy.m4B="ul";T3yy.B9B="mousedown";J3yy.y0t=" totalCell";J3yy.J8t="hierarchy";C3yy.c1t="filename";T3yy.t1B=64;J3yy.U9t="rgb(242, 242, 242)";function T3yy(){}C3yy.X8B="relative";C3yy.W3J="}";J3yy.B2t="hasColumnSorting";C3yy.C3J="true";C3yy.F2B="html";C3yy.l1t="url";F3yy.S4R="wdr-droppable-valid";J3yy.n8t="measures_";J3yy.e2t="columnSortTuple";F3yy.N5R="compact";C3yy.r1t="\x3c!--";J3yy.S2t="flat";J3yy.g0t=" cell";J3yy.d8t="calculatedMeasures";J3yy.n2t=".[]";T3yy.K1B=31;T3yy.W1B=37;J3yy.t4t="measures";T3yy.f9B="wdr-droppable";T3yy.m1B=25;T3yy.H6B="wdr-selected";function J3yy(){}C3yy.m7J="landscape";F3yy.c1R="max-height";F3yy.b6R="wdr-cols-resize";J3yy.X9t="italic";F3yy.G4R="wdr-search-inp";T3yy.I5B=1;F3yy.n4R="wdr-popup-content";T3yy.Z1B=9;F3yy.O4R="isExpandAll";T3yy.t9B="wdr-noselect";T3yy.M6B="_";C3yy.d5t="if";T3yy.N6B="position";C3yy.L1t=".json";F3yy.m4R="wdr-droppable-invalid";J3yy.W0t=".rowHeaderCell{{0}}\n";C3yy.F7J="min";C3yy.N2B="name";T3yy.m9B="px";J3yy.T2t="rowCount";T3yy.h6B="focusout";T3yy.O1B=14;J3yy.K6t="percent";J3yy.C4t="params";F3yy.j2R="wdr-search-opened";T3yy.P6B="-";C3yy.P0t="</td>";J3yy.v4t="search";J3yy.s9t="text-align";J3yy.H2t="filter";F3yy.R4R="wdr-drop-indicator";T3yy.E1B=32;J3yy.O2t="isEmpty";F3yy.s9R="isSmooth";C3yy.w5J="exportcomplete";F3yy.e1a="isReportDefined";C3yy.s3J="&#39;";C3yy.Z2B="text/xml";J3yy.a2t="lastRowsTupleInteracted";F3yy.d4R="wdr-ui-row";J3yy.a3R="' in CSV is invalid: ";C3yy.O2B="&";J3yy.E2t="folder";T3yy.j1B=15;F3yy.z6R="wdr-rows-resize";T3yy.Y6B="keyup";T3yy.k1B=16;C3yy.c4B="scroll";J3yy.O3R=1E4;C3yy.f4B="li";J3yy.U4t="columnsOnly";F3yy.j9R="data-c";F3yy.c9R=".wdr-filters";T3yy.b1B=21;F3yy.H6R="[Measures]";C3yy.A4B=1E6;J3yy.l4t="dataStorage";T3yy.c0B=2048;T3yy.b9B="opacity";T3yy.g0B=224;C3yy.C8B="<html>";F3yy.v7R="==";J3yy.Z8t="level";T3yy.J1B=5;J3yy.Z2t="hasRowSorting";C3yy.p8B="Day";C3yy.E3J="|";T3yy.a6B="a";C3yy.f8B="?";T3yy.E9B="mouseleave";T3yy.C6B="right";J3yy.R2t="uniqueName";T3yy.A6B="text";T3yy.n6B="wdr-ui-prompt";F3yy.Y5R="wdr-grid-layout";C3yy.v3J="{";C3yy.u7J="sum";F3yy.P1R="wdr-ui-btn-dark";T3yy.D6B="block";T3yy.r0B=null;J3yy.p0t=".columnHeaderCell{{0}}\n";J3yy.H4t="rowLevels";J3yy.S0t="#wdr-data-sheet";J3yy.o0t=".filterHeaderCell{{0}}\n";T3yy.g9B="touchend";C3yy.Q2B="json";F3yy.D5R="tabindex";C3yy.Q8B="</title>";J3yy.I4t="rowAxis";C3yy.u1J="slice";C3yy.S4B="data";T3yy.W9B="id";T3yy.J6B="bottom";T3yy.V6B="wdr-ui-toggle-btn";C3yy.T1J="columns";J3yy.J2t="multiMeasures";T3yy.o1B=39;C3yy.j0t=" columnHeaderCell";F3yy.O2R="wdr-aggregations-view";T3yy.o9B="";C3yy.y8B="boolean";C3yy.C7J="*";T3yy.c6B="type";T3yy.P1B=12;T3yy.u0B=127;C3yy.y2B=",";C3yy.r7J="function";T3yy.N5B=0;J3yy.S9t="background-color";T3yy.y9B="mouseup";C3yy.X3J="\r";J3yy.M4t="rowsOnly";F3yy.V6R=".wdr-header";T3yy.A9B="size";J3yy.z2t="pivot";F3yy.Y4R="wdr-ui-col wdr-vam";T3yy.k6B="undefined";T3yy.v6B="keypress";F3yy.W5R="isFlatTable";J3yy.R9t="font-weight";C3yy.d5J="printcomplete";J3yy.X0t="style='";F3yy.y2R="wdr-values";J3yy.W8t="hierarchies";F3yy.d2R="wdr-measure";F3yy.f6R=".wdr-cell";T3yy.Z0B=128;C3yy.m2B="Singleton";J3yy.D2t="columnSortType";C3yy.Q7J="max";J3yy.c4t="QUERY_ERROR";F3yy.V1R="wdr-pivot-title";J3yy.d4t="QUERY_COMPLETE";J3yy.r4t="dataLoaded";C3yy.B3J=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/i;J3yy.i0t="showHeaders";J3yy.Y8t="formula";J3yy.Y0t=".totalCell{{0}}\n";C3yy.B1t="and";C3yy.O0t=" rowHeaderCell level";J3yy.c8t="regularMeasures";C3yy.F8B="<title>";T3yy.J0B=99;F3yy.Y7R="!=";T3yy.O9B="touchstart";T3yy.r9B="number";F3yy.X4R="wdr-aggr-display";C3yy.q1t="</config>";T3yy.f1B=30;C3yy.I2B="1px";F3yy.i4R="wdr-list-header";C3yy.j2B="file";C3yy.K4B="data-index";T3yy.i5B=2;J3yy.F2t="rowSortType";C3yy.w5t="delete";F3yy.b9R="min-height";C3yy.k3J="rgb(255,255,255)";T3yy.c9B="padding";C3yy.P8B="<body>";C3yy.B2B="=";C3yy.o3J='"';C3yy.w3J="'";C3yy.l2B="/";J3yy.S4t="\\";T3yy.S6B="inline-block";C3yy.e4B="wdr-ui-hgroup";F3yy.b4R="wdr-calc-display";J3yy.X2t="lastColsTupleInteracted";F3yy.W6R="z-index";C3yy.i4B="GET";F3yy.y6R="wdr-cols-sheet";function F3yy(){}J3yy.k2t="dataHeight";J3yy.u6t="color";T3yy.y6B="on";F3yy.o6R="data-h";F3yy.c5R="dblclick";J3yy.q4t="rowMaxDepth";J3yy.y3R=".csv";J3yy.g2t="extendedDataHeight";var __extends=this&&this.__extends||function(){var C=function(J,F){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,P){Q.__proto__=P;}||function(j,O){for(var B in O)O.hasOwnProperty(B)&&(j[B]=O[B]);};return C(J,F);};return function(R,X){C(R,X);R.prototype=T3yy.r0B===X?Object.create(X):(K.prototype=X.prototype,new K());function K(){this.constructor=R;}};}(),events;(function(Y){var E=function(){var Q9B="event_closed";var e9B="event_resize";var C9B="event_change";var N0B="event_complete";var F9B="event_opened";var i0B="event_progress";var u9B="event_cancel";var T9B="event_select";var D9B="event_close";var J9B="event_error";var Z9B="event_open";var I0B="event_connected";W.isNativeType=function(G){var q0B="fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange focusin focusout touchstart touchmove touchend touchenter touchleave touchcancel";return-T3yy.I5B<q0B.split(T3yy.L0B).indexOf(G);};W.COMPLETE=N0B;W.CONNECTED=I0B;W.PROGRESS=i0B;W.SELECT=T9B;W.CHANGE=C9B;W.ERROR=J9B;W.OPENED=F9B;W.CLOSED=Q9B;function W(U,A,V){var K9a=T3yy;void K9a.N5B===A&&(A=K9a.r0B);void K9a.N5B===V&&(V=K9a.r0B);this.type=U;this.target=A;this.data=V;}W.CANCEL=u9B;W.OPEN=Z9B;W.CLOSE=D9B;W.RESIZE=e9B;return W;}();Y._Event=E;E=function(){N.prototype.areListenersEqual=function(I,i){return I.type==i.type&&I.handler==i.handler;};N.prototype.hasEventListener=function(C3,J3){var E9a=T3yy;if(utils.nullOrUndefined(this._listeners[C3]))return!E9a.I5B;for(var T3=E9a.N5B;T3<this._listeners[C3].length;T3++)if(this.areListenersEqual(this._listeners[C3][T3],J3))return!E9a.N5B;return!E9a.I5B;};N.prototype.addEventListener=function(F3,Q3,u3){var Y9a=T3yy;void Y9a.N5B===u3&&(u3=Y9a.N5B);Q3={type:F3,handler:Q3,priority:u3};if(!this.hasEventListener(F3,Q3))if(this.dispatchActive)utils.nullOrUndefined(this._addedListeners[F3])&&(this._addedListeners[F3]=[]),this._addedListeners[F3].push(Q3);else if(utils.nullOrUndefined(this._listeners[F3])&&(this._listeners[F3]=[]),Y9a.N5B==this._listeners[F3].length)this._listeners[F3].push(Q3);else{this._listeners[F3][this._listeners[F3].length-Y9a.I5B].priority>=u3&&this._listeners[F3].push(Q3);for(var Z3=Y9a.N5B;Z3<this._listeners[F3].length;Z3++)if(this._listeners[F3][Z3].priority<u3){this._listeners[F3].splice(Z3,Y9a.N5B,Q3);break;}}};N.prototype.removeEventListener=function(D3,j3){if(!utils.nullOrUndefined(this._listeners[D3])){for(var O3={type:D3,handler:j3},P3=this._listeners[D3].slice(T3yy.N5B),B3=[],e3=T3yy.N5B;e3<P3.length;e3++)this.areListenersEqual(P3[e3],O3)?this.dispatchActive&&(utils.nullOrUndefined(this._deletedListeners[D3])&&(this._deletedListeners[D3]=[]),this._deletedListeners[D3].push(P3[e3])):B3.push(P3[e3]);this._listeners[D3]=B3;}};N.prototype.removeAllEventListeners=function(k3){void T3yy.N5B===k3?(this._listeners=[],this._addedListeners=[],this._deletedListeners=[]):(utils.nullOrUndefined(this._listeners)||(this._listeners[k3]=[]),utils.nullOrUndefined(this._addedListeners)||(this._addedListeners[k3]=[]),utils.nullOrUndefined(this._deletedListeners)||(this._deletedListeners[k3]=[]));};function N(){this.dispatchActive=!T3yy.I5B;this._listeners=[];this._addedListeners=[];this._deletedListeners=[];}N.prototype.dispatch=function(g3){var w9a=T3yy;if(!utils.nullOrUndefined(this._listeners[g3.type])){this.dispatchActive=!w9a.N5B;for(var y3=this._listeners[g3.type].slice(w9a.N5B),a3=w9a.N5B;a3<y3.length;a3++){if(!utils.nullOrUndefined(this._deletedListeners[g3.type])){var b3=!w9a.I5B,z3;for(z3 in this._deletedListeners[g3.type])this.areListenersEqual(y3[a3],this._deletedListeners[g3.type][z3])&&(b3=!w9a.N5B);if(b3)continue;}g3 instanceof pivot.model.APIEvent?y3[a3].handler.call(this,g3.data):y3[a3].handler.call(this,g3);}delete this._deletedListeners[g3.type];for(var X3 in this._addedListeners){if(utils.nullOrUndefined(this._listeners[X3]))y3=[];else if(this._listeners[X3]instanceof Array)y3=this._listeners[X3].slice(w9a.N5B);else continue;if(!utils.nullOrUndefined(this._addedListeners[X3]))for(a3=w9a.N5B;a3<this._addedListeners[X3].length;a3++)if(w9a.N5B==y3.length)y3.push(this._addedListeners[X3][a3]);else for(y3[y3.length-w9a.I5B].priority==this._addedListeners[X3][a3].priority&&y3.push(this._addedListeners[X3][a3]),g3=w9a.N5B;g3<y3.length;g3++)if(y3[g3].priority<this._addedListeners[X3][a3].priority){y3.splice(g3,w9a.N5B,this._addedListeners[X3][a3]);break;}this._listeners[X3]=y3;this._addedListeners[X3]=[];}this.dispatchActive=!w9a.I5B;}};N.prototype.dispatchWith=function(S3,m3,R3){S3=new Y._Event(S3,T3yy.r0B==m3?this:m3,R3);this.dispatch(S3);};return N;}();Y.EventDispatcher=E;}(events||(events={})));var uicontrols;(function(s3){(function(K3){var f3=function(){var X9B="wdr-dragging";var z9B="wdr-dragging-move";E3.getInstance=function(){E3.instance||(E3.instance=new E3());return E3.instance;};E3.dispose=function(){E3.instance=T3yy.r0B;};E3.prototype.makeDraggable=function(d3,c3){var n3=this;d3.addClass(T3yy.P9B);var A3=function(l3){c3.handle&&!l3.target.matches(c3.handle)||n3.dragElement==d3||(T3yy.r0B!=n3.dragElement&&n3.stopDrag(c3,l3),n3.dragElement=d3,n3.dragOptions=c3,n3.startX=n3.getX(l3),n3.startY=n3.getY(l3));};d3.addEventListener(T3yy.B9B,A3);d3.addEventListener(T3yy.O9B,A3);};E3.prototype.getX=function(h3){return h3 instanceof MouseEvent?h3.clientX:h3.changedTouches[T3yy.N5B].clientX;};E3.prototype.getY=function(M3){return M3 instanceof MouseEvent?M3.clientY:M3.changedTouches[T3yy.N5B].clientY;};function E3(){var x3u=T3yy;var a9B="touchcancel";var k9B="touchmove";var v3=this;this.distance=x3u.J1B;this._lastDraggable=x3u.r0B;utils.fmdocument.addEventListener(x3u.j9B,function(Y3){return v3.onMouseMove(Y3);});utils.fmdocument.addEventListener(k9B,function(W3){return v3.onTouchMove(W3);},!x3u.I5B);utils.fmdocument.addEventListener(x3u.y9B,function(p3){return v3.onMouseUp(p3);});utils.fmdocument.addEventListener(x3u.g9B,function(o3){return v3.onTouchEnd(o3);});utils.fmdocument.addEventListener(a9B,function(w3){return v3.onTouchEnd(w3);});}E3.prototype.onMouseMove=function(H3){var t3u=T3yy;if(t3u.I5B==H3.which&&this.dragElement)if(this.dragHelper&&this.dragElement.hasClass(X9B)){this.setHelperPosition(H3.clientX,H3.clientY);if(this.dragOptions.onDrag)this.dragOptions.onDrag(this.dragElement,H3);H3.preventDefault();}else utils.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,H3)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css(t3u.b9B,t3u.N5B),pivot._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(H3.clientX,H3.clientY,!t3u.N5B),this.dragElement.addClass(X9B)):(this.dragElement=t3u.r0B,this.dragHelper.removeFromParent(!t3u.N5B),this.dragHelper=t3u.r0B);};E3.prototype.isDistanceOK=function(V3,U3){return Math.abs(this.startX-V3)>this.distance||Math.abs(this.startY-U3)>this.distance?!T3yy.N5B:!T3yy.I5B;};E3.prototype.setHelperPosition=function(t3,G3,r3){var C7u=T3yy;var R9B="margin-left";var S9B="margin-top";void C7u.N5B===r3&&(r3=!C7u.I5B);if(C7u.r0B!=this.dragHelper){var x3=pivot._view.PivotView.stage.container.getOffset();this.dragHelper.position({top:G3-x3.top,left:t3-x3.left});this.isDistanceOK(t3,G3)&&(this.dragHelper.css(C7u.b9B,C7u.I5B),this.dragElement.addClass(z9B));r3&&C7u.r0B!=this.dragElement&&(x3=this.dragElement.getOffset(),G3=Math.max(C7u.N5B,Math.min(this.dragElement.height,G3-x3.top)),t3=Math.max(C7u.N5B,Math.min(this.dragElement.width,this.dragHelper.width,t3-x3.left)),this.dragHelper.css(S9B,-G3+C7u.m9B),this.dragHelper.css(R9B,-t3+C7u.m9B));}};E3.prototype.onTouchMove=function(I3){var Z7u=T3yy;var s9B=".wdr-droppable";if(this.dragElement){var L3=I3.touches[Z7u.N5B];if(this.dragHelper&&this.dragElement.hasClass(X9B)){this.setHelperPosition(L3.clientX,L3.clientY);if(this.dragOptions.onDrag)this.dragOptions.onDrag(this.dragElement,I3);I3.preventDefault();L3=I3.changedTouches[Z7u.N5B];if(L3=s3.UIElement.convert(document.elementFromPoint(L3.clientX,L3.clientY))){var N3=L3.closest(s9B);N3&&N3.droppableOptions&&N3.droppableOptions.onDragOver&&(N3.droppableOptions.onDragOver(this.dragElement,this.dragHelper,N3,I3),this._lastDraggable=N3);}if((Z7u.r0B==L3||Z7u.r0B==N3)&&Z7u.r0B!=this._lastDraggable&&this._lastDraggable.droppableOptions&&this._lastDraggable.droppableOptions.onDragLeave)this._lastDraggable.droppableOptions.onDragLeave(this.dragElement,this.dragHelper,this._lastDraggable,I3);}else utils.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,I3)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css(Z7u.b9B,Z7u.N5B),pivot._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(L3.clientX,L3.clientY,!Z7u.N5B),this.dragElement.addClass(X9B)):(this.dragElement=Z7u.r0B,this.dragHelper.removeFromParent(!Z7u.N5B),this.dragHelper=Z7u.r0B);}};E3.prototype.onMouseUp=function(i3){this.stopDrag(this.dragOptions,i3);};E3.prototype.onTouchEnd=function(J7){for(var T7=J7.changedTouches[T3yy.N5B],C7=T7=s3.UIElement.convert(document.elementFromPoint(T7.clientX,T7.clientY));T7;){if(T7.hasClass(T3yy.f9B)){utils.nullOrEmpty(T7.droppableOptions.itemSelector)||(C7=C7.closest(T7.droppableOptions.itemSelector));T7.droppableOptions.onDrop(this.dragElement,T7,C7,J7);break;}T7=T7.parent;}this.stopDrag(this.dragOptions,J7);};E3.prototype.stopDrag=function(Q7,F7){var e7u=T3yy;e7u.r0B!=this.dragHelper&&(this.dragHelper.removeFromParent(!e7u.N5B),this.dragHelper=e7u.r0B);if(e7u.r0B!=this.dragElement){this.dragElement.removeClass(X9B);this.dragElement.removeClass(z9B);if(Q7.onDragEnd&&this.isDistanceOK(this.getX(F7),this.getY(F7)))Q7.onDragEnd(this.dragElement,F7);this.dragElement=e7u.r0B;}this._lastDraggable=e7u.r0B;this.startY=this.startX=NaN;};E3.prototype.makeDroppable=function(D7,e7,Z7){var P7u=T3yy;var v9B="mouseover";var K9B="mouseenter";var u7=this;D7.hasClass(P7u.f9B)||(D7.addClass(P7u.f9B),D7.addEventListener(K9B,function(P7){if(P7u.r0B!=u7.dragElement&&P7u.I5B==P7.which&&Z7.onDragEnter)Z7.onDragEnter(u7.dragElement,u7.dragHelper,e7,P7);}),D7.addEventListener(P7u.E9B,function(B7){if(P7u.r0B!=u7.dragElement&&P7u.I5B==B7.which&&Z7.onDragLeave)Z7.onDragLeave(u7.dragElement,u7.dragHelper,e7,B7);}),D7.addEventListener(v9B,function(O7){if(P7u.r0B!=u7.dragElement&&P7u.I5B==O7.which&&Z7.onDragOver)Z7.onDragOver(u7.dragElement,u7.dragHelper,e7,O7);}),D7.addEventListener(P7u.y9B,function(k7){if(P7u.r0B!=u7.dragElement&&P7u.I5B==k7.which){var j7=s3.UIElement.convert(k7.target);utils.nullOrEmpty(Z7.itemSelector)||(j7=j7.closest(Z7.itemSelector));Z7.onDrop(u7.dragElement,D7,j7,k7);}}));};return E3;}();K3.DragManager=f3;}(s3.dragndrop||(s3.dragndrop={})));}(uicontrols||(uicontrols={})));(function(y7){var g7=function(X7){var p9B="wdr-ui-disabled";__extends(a7,X7);a7.prototype.validate=function(){this.invalidHash={};};a7.prototype.invalidate=function(m7){void T3yy.N5B===m7&&(m7=T3yy.Y9B);this.invalidHash[m7]=!T3yy.N5B;this.draw();};a7.prototype.isInvalid=function(){var c9a=T3yy;for(var s7=[],R7=c9a.N5B;R7<arguments.length;R7++)s7[R7]=arguments[R7];if(this.invalidHash.all)return!c9a.N5B;for(R7=c9a.N5B;R7<s7.length;R7++)if(this.invalidHash[s7[R7]])return!c9a.N5B;return!c9a.I5B;};a7.prototype.draw=function(){this.validate();};a7.prototype.validateNow=function(){this.invalidate();};a7.prototype.show=function(){this.container.show();};a7.prototype.hide=function(){this.container.hide();};a7.prototype.getId=function(){return this.container.attr(T3yy.W9B);};a7.prototype.setId=function(f7){this.container.attr(T3yy.W9B,f7);};a7.prototype.getName=function(){return this.name;};a7.prototype.setName=function(K7){this.name=K7;};a7.prototype.html=function(E7){if(void T3yy.N5B===E7)return this.container.html();this.container.html(E7);return this;};a7.prototype.setEnabled=function(v7){this.container.toggleClass(p9B,!v7);};a7.prototype.getEnabled=function(){return!this.container.hasClass(p9B);};a7.prototype.addClass=function(Y7){void T3yy.N5B===Y7&&(Y7=T3yy.o9B);this.container.addClass(Y7);};function a7(z7,S7){var H9a=T3yy;var n9B="wdr-ui ";var d9B="wdr-ui-mobile";void H9a.N5B===z7&&(z7=H9a.w9B);void H9a.N5B===S7&&(S7=H9a.o9B);var b7=X7.call(this)||this;b7.container=new y7.UIElement(z7);b7.container.addClass(n9B+S7);utils.browserVersion().isMobile&&b7.container.addClass(d9B);b7.validate();return b7;}a7.prototype.removeClass=function(W7){this.container.removeClass(W7);};Object.defineProperty(a7.prototype,T3yy.c9B,{get:function(){return this.container.padding;},set:function(p7){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});a7.prototype.getWidth=function(o7){return this.container.getWidth(o7);};a7.prototype.setWidth=function(w7){this.getWidth()!==w7&&(this.container.setWidth(w7),this.invalidate(T3yy.A9B));};a7.prototype.getHeight=function(n7){void T3yy.N5B===n7&&(n7=!T3yy.I5B);return this.container.getHeight(n7);};a7.prototype.setHeight=function(d7){this.getHeight()!==d7&&(this.container.setHeight(d7),this.invalidate(T3yy.A9B));};a7.prototype.isVisible=function(c7){void T3yy.N5B===c7&&(c7=void T3yy.N5B);void T3yy.N5B!==c7&&(c7?this.show():this.hide());return this.container.visible;};a7.prototype.position=function(){return this.container.position();};a7.prototype.addChild=function(l7,A7){void T3yy.N5B===A7&&(A7=!T3yy.I5B);A7?this.container.prepend(l7.container):this.container.append(l7.container);};a7.prototype.removeFromParent=function(h7){void T3yy.N5B===h7&&(h7=!T3yy.I5B);h7?this.container.remove():this.container.detach();};a7.prototype.getX=function(){return this.container.left;};a7.prototype.getY=function(){return this.container.top;};a7.prototype.hitTestPoint=function(M7,H7){return M7>=this.getX()&&M7<=this.getX()+this.getWidth()&&H7>=this.getY()&&H7<=this.getY()+this.getHeight();};a7.prototype.addEventListener=function(V7,U7){this.container.addEventListener(V7,U7);};a7.prototype.removeEventListener=function(x7,t7){this.container.removeEventListener(x7,t7);};a7.prototype.dispatch=function(G7){this.container.dispatch(G7);};a7.prototype.dispatchWith=function(r7,q7,L7){this.container.dispatchWith(r7,q7,L7);};a7.prototype.addLayoutClasses=function(N7){var h9B="wdr-layout-mobile";var Y0B=580;var M9B="wdr-layout-mobile-small";var p0B=768;var l9B="wdr-layout-tablet";var K0B=460;void T3yy.N5B===N7&&(N7=!T3yy.I5B);N7=N7?this.getWidth(!T3yy.N5B):pivot._view.PivotView.stageWidth;this.container.toggleClass(l9B,p0B>N7);this.container.toggleClass(h9B,Y0B>N7);this.container.toggleClass(M9B,K0B>N7);};return a7;}(events.EventDispatcher);y7.UIComponentBase=g7;}(uicontrols||(uicontrols={})));(function(I7){var i7=function(C5){var F9a=T3yy;var x9B="class";var H9B="element";var O6B="visible";var Z6B="y";var N9B="borderWidth";var U9B="nodeName";var g6B="droppableOptions";var u6B="x";__extends(T5,C5);Object.defineProperty(T5.prototype,H9B,{get:function(){return this._element;},set:function(u5){(this._element=u5)&&(this._element.uielement=this);},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.W9B,{get:function(){return this.element.id;},set:function(Z5){this.element.id=Z5;},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.V9B,{get:function(){return T5.convert(this.element.parentElement);},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,U9B,{get:function(){return this._element.nodeName.toLowerCase();},enumerable:!F9a.N5B,configurable:!F9a.N5B});T5.prototype.addChild=function(D5){this.element.appendChild(D5.element);};T5.prototype.children=function(){for(var e5=this.element.firstElementChild,P5=[];e5;)P5.push(T5.convert(e5)),e5=e5.nextElementSibling;return P5;};T5.prototype.contains=function(B5){return this.element.contains(B5.element);};T5.prototype.append=function(O5){O5&&this.addChild(O5);return this;};T5.prototype.prepend=function(j5){this.element.insertBefore(j5.element,this.element.firstChild);return this;};T5.prototype.before=function(k5){this.element.parentNode&&this.element.parentNode.insertBefore(k5.element,this.element);return this;};T5.prototype.after=function(y5){this.element.parentNode&&this.element.nextElementSibling?this.element.parentNode.insertBefore(y5.element,this.element.nextElementSibling):this.append(y5);return this;};T5.prototype.addComponent=function(g5){this.element.appendChild(g5.container.element);};T5.prototype.removeFromParent=function(a5){void F9a.N5B===a5&&(a5=!F9a.N5B);a5?this.remove():this.detach();};T5.prototype.remove=function(){F9a.r0B!=this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispose());};T5.prototype.detach=function(){if(F9a.r0B!=this.element&&this.element.parentNode){var X5=this.element.cloneNode(!F9a.N5B);this.element.parentNode.removeChild(this.element);this.element=X5;}};T5.prototype.removeAllChildren=function(){for(;this.element&&this.element.firstChild;){var b5=T5.convert(this.element.firstChild);b5&&b5.dispose&&b5.dispose();this.element.removeChild(this.element.firstChild);}};T5.prototype.clone=function(){return T5.convert(this.element.cloneNode(!F9a.N5B));};T5.convert=function(z5){return z5&&z5.nodeType==Node.ELEMENT_NODE?utils.nullOrUndefined(z5.uielement)?new T5(z5):z5.uielement:F9a.r0B;};T5.prototype.get=function(m5){var S5=this.children();return F9a.N5B<S5.length?S5[m5]:F9a.r0B;};T5.prototype.find=function(K5,E5){if(void F9a.N5B===E5||!F9a.I5B==E5)return T5.convert(this.element.querySelector(K5));for(var s5=this.element.querySelectorAll(K5),f5=[],R5=F9a.N5B;R5<s5.length;R5++)f5.push(T5.convert(s5[R5]));return f5;};T5.prototype.closest=function(Y5){if(!this.element)return F9a.r0B;for(var v5=this.element;F9a.r0B!=v5;){if(v5.matches){if(v5.matches(Y5))return v5==this.element?this:T5.convert(v5);}else if(v5.msMatchesSelector(Y5))return v5==this.element?this:T5.convert(v5);v5=v5.parentElement;}return F9a.r0B;};T5.prototype.addClass=function(o5){if(!this.element)return this;o5=o5.trim();for(var p5=o5.split(F9a.L0B),W5=F9a.N5B;W5<p5.length;W5++)F9a.N5B<p5[W5].length&&(utils.detectBrowser().isMsie?(o5=this.element.getAttribute(x9B),utils.nullOrUndefined(o5)?this.element.setAttribute(x9B,p5[W5]):-F9a.I5B==o5.split(F9a.L0B).indexOf(p5[W5])&&this.element.setAttribute(x9B,o5+F9a.L0B+p5[W5])):!F9a.I5B==this.element.classList.contains(p5[W5])&&this.element.classList.add(p5[W5]));return this;};T5.prototype.removeClass=function(w5){if(!this.element)return this;w5=w5.trim();if(F9a.N5B<w5.length)if(utils.detectBrowser().isMsie){var n5=this.element.getAttribute(x9B);utils.nullOrUndefined(n5)||(n5=n5.split(F9a.L0B),w5=n5.indexOf(w5),-F9a.I5B<w5&&(n5.splice(w5,F9a.I5B),this.element.setAttribute(x9B,n5.join(F9a.L0B))));}else this.element.classList.contains(w5)&&this.element.classList.remove(w5);return this;};T5.prototype.toggleClass=function(d5,c5){c5?this.addClass(d5):this.removeClass(d5);};T5.prototype.hasClass=function(A5){return this.element.classList.contains(A5);};T5.prototype.disableSelection=function(){this.addClass(F9a.t9B);return this;};T5.prototype.enableSelection=function(){var G9B="wdr-selectable";this.addClass(G9B);return this;};T5.prototype.getWidth=function(l5){void F9a.N5B===l5&&(l5=!F9a.I5B);if(!this.element)return F9a.N5B;var h5=window.getComputedStyle(this.element);l5=l5?F9a.N5B:(parseFloat(h5.paddingLeft)||F9a.N5B)+(parseFloat(h5.paddingRight)||F9a.N5B);return this.element.clientWidth-l5;};T5.prototype.setWidth=function(M5){F9a.r9B===typeof M5?this.element.style.width=M5+F9a.m9B:F9a.q9B===typeof M5&&(this.element.style.width=M5);return this;};Object.defineProperty(T5.prototype,F9a.L9B,{get:function(){return this.getWidth();},set:function(H5){this.setWidth(H5);},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.c9B,{get:function(){var V5=window.getComputedStyle(this.element);return{left:parseFloat(V5.paddingLeft)||F9a.N5B,right:parseFloat(V5.paddingRight)||F9a.N5B,top:parseFloat(V5.paddingTop)||F9a.N5B,bottom:parseFloat(V5.paddingBottom)||F9a.N5B};},set:function(U5){},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,N9B,{get:function(){var x5=window.getComputedStyle(this.element);return{left:parseFloat(x5.borderLeftWidth||x5.borderWidth)||F9a.N5B,right:parseFloat(x5.borderRightWidth||x5.borderWidth)||F9a.N5B,top:parseFloat(x5.borderTopWidth||x5.borderWidth)||F9a.N5B,bottom:parseFloat(x5.borderBottomWidth||x5.borderWidth)||F9a.N5B};},enumerable:!F9a.N5B,configurable:!F9a.N5B});T5.prototype.getHeight=function(t5){void F9a.N5B===t5&&(t5=!F9a.I5B);var G5=window.getComputedStyle(this.element);t5=t5?F9a.N5B:(parseFloat(G5.paddingTop)||F9a.N5B)+(parseFloat(G5.paddingBottom)||F9a.N5B);return F9a.N5B>this.element.clientHeight-t5?F9a.N5B:this.element.clientHeight-t5;};T5.prototype.setHeight=function(r5){F9a.r9B===typeof r5?this.element.style.height=r5+F9a.m9B:F9a.q9B===typeof r5&&(this.element.style.height=r5);return this;};Object.defineProperty(T5.prototype,F9a.I9B,{get:function(){return this.getHeight();},set:function(q5){this.setHeight(q5);},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.i9B,{get:function(){return this.element.getBoundingClientRect().left;},set:function(L5){this.element.style.left=L5+F9a.m9B;},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.T6B,{get:function(){return this.element.getBoundingClientRect().top;},set:function(N5){this.element.style.top=N5+F9a.m9B;},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.C6B,{get:function(){return this.element.getBoundingClientRect().right;},set:function(I5){this.element.style.right=I5+F9a.m9B;},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,F9a.J6B,{get:function(){return this.element.getBoundingClientRect().bottom;},set:function(i5){this.element.style.bottom=i5+F9a.m9B;},enumerable:!F9a.N5B,configurable:!F9a.N5B});T5.prototype.outerHtml=function(){return this.element.outerHTML;};T5.prototype.html=function(T1){if(void F9a.N5B===T1)return this.element.innerHTML;this.element.innerHTML=T1;return this;};T5.prototype.empty=function(){this.html(F9a.o9B);};T5.prototype.clear=function(){this.empty();};T5.prototype.text=function(C1){if(void F9a.N5B===C1)return this.element.textContent;F9a.F6B==this.element.tagName.toLowerCase()?this.element.value=C1:this.element.textContent=C1;return this;};T5.prototype.focus=function(){this.element.focus();return this;};T5.prototype.blur=function(){this.element.blur();return this;};T5.prototype.show=function(){this.element.style.display=this.display;};T5.prototype.hide=function(){this.element.style.display=F9a.Q6B;};Object.defineProperty(T5.prototype,u6B,{get:function(){return this.element.offsetLeft;},enumerable:!F9a.N5B,configurable:!F9a.N5B});Object.defineProperty(T5.prototype,Z6B,{get:function(){return this.element.offsetTop;},enumerable:!F9a.N5B,configurable:!F9a.N5B});T5.prototype.offset=function(J1){if(void F9a.N5B===J1)return this.getOffset();this.css(F9a.i9B,J1.left+F9a.m9B);this.css(F9a.T6B,J1.top+F9a.m9B);};T5.prototype.getBoundingClientRect=function(){return this.element.getBoundingClientRect();};T5.prototype.position=function(F1){if(void F9a.N5B===F1)return{top:this.y,left:this.x};this.offset(F1);};T5.prototype.attr=function(Q1,u1){if(void F9a.N5B===u1)return this.element.getAttribute(Q1);try{this.element.setAttribute(Q1,u1);}catch(Z1){this.element.attributes[Q1]=u1;}return this;};T5.prototype.removeAttr=function(D1){this.element.removeAttribute(D1);return this;};function T5(F5,Q5){var e6B="wdr-ui-element";void F9a.N5B===F5&&(F5=F9a.w9B);void F9a.N5B===Q5&&(Q5=F9a.o9B);var J5=C5.call(this)||this;J5.display=F9a.D6B;J5.frames=[];J5.__handlers=[];J5.element=F9a.q9B==typeof F5?document.createElement(F5):F5;J5.addClass(e6B);J5.addClass(Q5);return J5;}T5.prototype.css=function(e1,P1){if(void F9a.N5B===P1)return window.getComputedStyle(this.element)[T5.toCamelCase(e1)];this.element.style[T5.toCamelCase(e1)]=P1;return this;};T5.toCamelCase=function(B1){var O1=B1.split(F9a.P6B);if(F9a.I5B<O1.length){for(B1=F9a.I5B;B1<O1.length;B1++)O1[B1]=O1[B1].charAt(F9a.N5B).toUpperCase()+O1[B1].substr(F9a.I5B);return O1.join(F9a.o9B);}return B1;};T5.prototype.val=function(){return F9a.F6B==this.element.tagName.toLowerCase()||F9a.B6B==this.element.tagName.toLowerCase()?this.element.value:this.element.textContent;};T5.prototype.requestAnimationFrame=function(k1){var j1=F9a.N5B;window.requestAnimationFrame?j1=window.requestAnimationFrame(k1):window.msRequestAnimationFrame?j1=window.msRequestAnimationFrame(k1):window.mozRequestAnimationFrame?j1=window.mozRequestAnimationFrame(k1):window.webkitRequestAnimationFrame?j1=window.webkitRequestAnimationFrame(k1):k1.call(F9a.r0B);this.frames.push(j1);return j1;};T5.prototype.cancelAnimationFrame=function(y1){this.frames.splice(this.frames.indexOf(y1),F9a.I5B);F9a.N5B!=y1&&(F9a.r0B!=window.cancelAnimationFrame?window.cancelAnimationFrame(y1):F9a.r0B!=window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(y1):F9a.r0B!=window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(y1):F9a.r0B!=window.webkitCancelAnimationFrame&&window.webkitCancelAnimationFrame(y1));};Object.defineProperty(T5.prototype,O6B,{get:function(){var j6B="display";return this.element&&F9a.Q6B!=this.css(j6B);},set:function(g1){g1?this.show():this.hide();},enumerable:!F9a.N5B,configurable:!F9a.N5B});T5.prototype.getOffset=function(X1){void F9a.N5B===X1&&(X1=F9a.r0B);if(F9a.r0B==X1)return this.element.getBoundingClientRect();for(var b1=F9a.N5B,z1=F9a.N5B,a1=this.element;a1&&a1!=X1&&!isNaN(a1.offsetLeft)&&!isNaN(a1.offsetTop);)b1+=a1.offsetLeft-a1.scrollLeft,z1+=a1.offsetTop-a1.scrollTop,a1=a1.offsetParent;return{top:z1,left:b1};};T5.prototype.getScrollTop=function(){return this.element.scrollTop;};T5.prototype.setScrollTop=function(S1){this.element.scrollTop=S1;return this;};T5.prototype.setScrollLeft=function(m1){this.element.scrollLeft=m1;return this;};T5.prototype.addEventListener=function(R1,s1,f1){F9a.k6B!==typeof this.element[F9a.y6B+R1]||events._Event.isNativeType(R1)?(utils.nullOrUndefined(this.__handlers[R1])&&(this.__handlers[R1]=[]),this.__handlers[R1][s1.toString()]=function(K1){s1(K1);},this.element.addEventListener(R1,this.__handlers[R1][s1.toString()],f1)):C5.prototype.addEventListener.call(this,R1,s1,f1);};T5.prototype.removeEventListener=function(E1,v1,Y1){F9a.k6B!==typeof this.element[F9a.y6B+E1]||events._Event.isNativeType(E1)?this.__handlers[E1]&&this.element.removeEventListener(E1,this.__handlers[E1][v1.toString()],Y1):C5.prototype.removeEventListener.call(this,E1,v1);};T5.prototype.dispatch=function(W1){C5.prototype.dispatch.call(this,W1);};T5.prototype.removeAllEventListeners=function(w1){for(var p1 in this.__handlers)if(void F9a.N5B===w1||w1==p1)for(var o1 in this.__handlers[p1])try{this.element.removeEventListener(p1,this.__handlers[p1][o1],!F9a.N5B),this.element.removeEventListener(p1,this.__handlers[p1][o1],!F9a.I5B);}catch(n1){console.error(n1);}this.__handlers=[];C5.prototype.removeAllEventListeners.call(this,p1);};T5.prototype.dispose=function(){this.removeAllEventListeners();this.removeAllChildren();this._element=this._element.uielement=F9a.r0B;for(var d1=F9a.N5B;d1<this.frames.length;d1++)this.cancelAnimationFrame(this.frames[d1]);this.frames=[];this._resizableHelper&&this._resizableHelper.dispose();};T5.prototype.refresh=function(){this.html(this.html());};T5.prototype.draggable=function(c1){I7.dragndrop.DragManager.getInstance().makeDraggable(this,c1);};T5.prototype.droppable=function(A1,l1){this._droppableOptions=A1;I7.dragndrop.DragManager.getInstance().makeDroppable(this,l1?l1:this,A1);};Object.defineProperty(T5.prototype,g6B,{get:function(){return this._droppableOptions;},enumerable:!F9a.N5B,configurable:!F9a.N5B});T5.prototype.index=function(){for(var h1=F9a.N5B,M1=this.element;M1=M1.previousElementSibling;)h1++;return h1;};T5.prototype.resizable=function(H1){this._resizableHelper=new I7.resizable.ResizableHelper(this,H1);};return T5;}(events.EventDispatcher);I7.UIElement=i7;}(uicontrols||(uicontrols={})));(function(V1){var U1=function(t1){var m6B="wdr-ui-pressed";var s6B="buttonclick";var R6B="buttonmousedown";__extends(x1,t1);function x1(r1){var L9a=T3yy;var z6B="mouseout";void L9a.N5B===r1&&(r1=L9a.o9B);var G1=t1.call(this,L9a.a6B,L9a.X6B)||this;G1.mouseDownTimeout=L9a.N5B;G1.repeatDelay=L9a.c1B;G1.addClass(r1);G1.container.addEventListener(L9a.b6B,function(L1){return G1.onClick(L1);});G1.container.addEventListener(L9a.B9B,function(N1){return G1.onMouseDown();});G1.container.addEventListener(L9a.y9B,function(I1){return G1.onMouseUp();});G1.container.addEventListener(z6B,function(i1){return G1.onMouseOut();});G1.container.display=L9a.S6B;return G1;}x1.prototype.onClick=function(T0){this.getEnabled()&&this.dispatchWith(x1.CLICK_EVENT,this);T0.stopImmediatePropagation();};x1.prototype.onMouseDown=function(){var C0=this;this.container.toggleClass(m6B,!T3yy.N5B);this.mouseDownTimeout=utils.fmSetInterval(function(){return C0.dispatchMouseDown();},this.getRepeatDelay());};x1.prototype.dispatchMouseDown=function(){this.dispatch(new events._Event(x1.MOUSE_DOWN_EVENT,this));};x1.prototype.onMouseUp=function(){this.container.toggleClass(m6B,!T3yy.I5B);utils.fmClearInterval(this.mouseDownTimeout);};x1.prototype.onMouseOut=function(){this.container.toggleClass(m6B,!T3yy.I5B);utils.fmClearInterval(this.mouseDownTimeout);};x1.prototype.getLabel=function(){return this.label;};x1.prototype.setRepeatDelay=function(J0){this.repeatDelay=J0;};x1.prototype.getRepeatDelay=function(){return this.repeatDelay;};x1.prototype.setLabel=function(F0){this.label!=F0&&(this.label=F0,this.container.text(this.label));};x1.MOUSE_DOWN_EVENT=R6B;x1.CLICK_EVENT=s6B;return x1;}(V1.UIComponentBase);V1.UIButton=U1;}(uicontrols||(uicontrols={})));(function(Q0){var u0=function(D0){__extends(Z0,D0);Z0.prototype.getLabel=function(){return this.label;};Z0.prototype.setLabel=function(O0,B0){void T3yy.N5B===B0&&(B0=!T3yy.I5B);this.label!=O0&&(this.label=O0,B0?this.container.html(this.label):this.container.text(this.label));};Z0.prototype.setSelectable=function(j0){j0?this.container.enableSelection():this.container.disableSelection();};function Z0(P0){var C6a=T3yy;var K6B="wdr-ui wdr-ui-label";void C6a.N5B===P0&&(P0=C6a.o9B);var e0=D0.call(this,C6a.f6B,K6B)||this;e0.container.display=C6a.S6B;e0.setLabel(P0);return e0;}return Z0;}(Q0.UIComponentBase);Q0.UILabel=u0;}(uicontrols||(uicontrols={})));(function(k0){var y0=function(a0){var o6B="ntl";__extends(g0,a0);g0.prototype.onKeyUp=function(m0){this.dispatchChange();};g0.prototype.onInputPaste=function(R0){this.dispatchChange();};g0.prototype.dispatchChange=function(){this.dispatch(new events._Event(k0.UITextInput.CHANGE_EVENT,this));};g0.prototype.getText=function(){return this.container.val();};g0.prototype.setText=function(s0){this.getText()!=s0&&(this.container.element.value=s0,this.dispatchChange());};g0.prototype.clear=function(){this.setText(T3yy.o9B);};g0.prototype.insertText=function(E0){var K0=this.getSelectionBeginIndex(),v0=this.getSelectionEndIndex(),f0=this.getText(),f0=f0.substr(T3yy.N5B,K0)+E0+f0.substr(K0);this.setText(f0);this.setSelection(K0+E0.length,v0+E0.length);};g0.prototype.setSelection=function(W0,Y0){void T3yy.N5B===Y0&&(Y0=-T3yy.I5B);this.container.element.focus();this.container.element.setSelectionRange(W0,T3yy.N5B>Y0?W0:Y0);};function g0(){var u6a=T3yy;var E6B="wdr-ui-text-area";var X0=a0.call(this,u6a.B6B,E6B)||this;X0.container.addEventListener(u6a.v6B,function(b0){return X0.onKeyPressed(b0);});X0.container.addEventListener(u6a.Y6B,function(z0){return X0.onKeyUp(z0);});X0.container.addEventListener(u6a.W6B,function(S0){return X0.onInputPaste(S0);});return X0;}g0.prototype.getSelectionBeginIndex=function(){return this.container.element.selectionStart;};g0.prototype.getSelectionEndIndex=function(){return this.container.element.selectionEnd;};g0.prototype.selectAll=function(){this.setSelection(T3yy.N5B,this.getText().length);};g0.prototype.onKeyPressed=function(p0){p0.ctrlKey?(this.dispatchWith(g0.EVENT_CTRL_ENTER),p0.preventDefault()):T3yy.B1B==p0.keyCode&&(this.dispatchWith(g0.EVENT_ENTER),p0.preventDefault());};g0.EVENT_ENTER=T3yy.p6B;g0.EVENT_CTRL_ENTER=o6B;return g0;}(k0.UIComponentBase);k0.UITextArea=y0;}(uicontrols||(uicontrols={})));(function(o0){var w0=function(d0){var w6B="data-placeholder";__extends(n0,d0);n0.getChar=function(V0){var e6a=T3yy;return e6a.r0B==V0.which?e6a.E1B>V0.keyCode?e6a.r0B:String.fromCharCode(V0.keyCode):e6a.N5B!=V0.which&&e6a.N5B!=V0.charCode?e6a.E1B>V0.which?e6a.r0B:String.fromCharCode(V0.which):e6a.r0B;};n0.prototype.onKeyPressed=function(U0){T3yy.B1B==U0.keyCode&&this.dispatchWith(n0.EVENT_ENTER);if(!(utils.nullOrUndefined(this.restrictRule)||U0.ctrlKey||U0.altKey||U0.metaKey)){var x0=n0.getChar(U0);T3yy.r0B!=x0&&!T3yy.I5B===this.restrictRule.test(x0)&&U0.preventDefault();}};n0.prototype.onKeyUp=function(t0){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange());};n0.prototype.onInputPaste=function(G0){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange());};n0.prototype.dispatchChange=function(){var r0=this;T3yy.N5B<this.changeDelay?this.changeDispatched&&(this.changeDispatched=!T3yy.I5B,utils.fmSetTimeout(function(){return r0._dispatchChange();},this.changeDelay)):this._dispatchChange();};n0.prototype._dispatchChange=function(){this.changeDispatched=!T3yy.N5B;this.dispatch(new events._Event(n0.CHANGE_EVENT,this,this.text));};n0.prototype.onFocusIn=function(){T3yy.N5B==this.text.length&&(this.container.text(T3yy.o9B),this.enablePrompt(!T3yy.I5B));};n0.prototype.onFocusOut=function(){this.enablePrompt(T3yy.N5B==this.text.length);};n0.prototype.getText=function(){return this.text=this.container.val()==this.prompt?this.text:this.container.val();};n0.prototype.setText=function(q0){this.text!=q0&&(this.text=q0,this.container.text(this.text),this.enablePrompt(T3yy.N5B==this.text.length));};n0.prototype.clear=function(L0){void T3yy.N5B===L0&&(L0=!T3yy.N5B);this.setText(T3yy.o9B);L0&&this._dispatchChange();};n0.prototype.setPrompt=function(N0){N0!=this.prompt&&(this.prompt=N0,this.container.attr(w6B,this.prompt),this.enablePrompt(T3yy.N5B==this.text.length));};n0.prototype.enablePrompt=function(I0){this.container.text(I0?this.prompt:this.text);this.container.toggleClass(T3yy.n6B,I0);};n0.prototype.getPrompt=function(){return this.prompt;};function n0(){var b6a=T3yy;var d6B="wdr-ui-text-input";var c0=d0.call(this,b6a.F6B,d6B)||this;c0.text=b6a.o9B;c0.prompt=b6a.o9B;c0.changeDelay=b6a.N5B;c0.changeDispatched=!b6a.N5B;c0.container.display=b6a.S6B;c0.container.attr(b6a.c6B,b6a.A6B);c0.container.attr(w6B,b6a.o9B);c0.container.addEventListener(b6a.l6B,function(A0){return c0.onFocusIn();});c0.container.addEventListener(b6a.h6B,function(l0){return c0.onFocusOut();});c0.container.addEventListener(b6a.Y6B,function(h0){return c0.onKeyUp(h0);});c0.container.addEventListener(b6a.v6B,function(M0){return c0.onKeyPressed(M0);});c0.container.addEventListener(b6a.W6B,function(H0){return c0.onInputPaste(H0);});return c0;}n0.prototype.setRestriction=function(i0){this.restrictRule=i0;};n0.prototype.getRestriction=function(){return this.restrictRule;};n0.prototype.setChangeDelay=function(T9){this.changeDelay=T9;};n0.prototype.getChangeDelay=function(){return this.changeDelay;};n0.prototype.getType=function(){return this.container.attr(T3yy.c6B);};n0.prototype.setType=function(C9){this.container.attr(T3yy.c6B,C9);};n0.CHANGE_EVENT=T3yy.M6B;n0.EVENT_ENTER=T3yy.p6B;return n0;}(o0.UIComponentBase);o0.UITextInput=w0;}(uicontrols||(uicontrols={})));(function(J9){var F9=function(u9){__extends(Q9,u9);Q9.prototype.onClick=function(){this.getEnabled()&&(this.toggle(),this.dispatchWith(events._Event.CHANGE,this));};Q9.prototype.toggle=function(){var m6a=T3yy;this.selected=m6a.I5B==this.selected?m6a.N5B:m6a.I5B;this.container.toggleClass(m6a.H6B,m6a.I5B==this.selected);};function Q9(){var R6a=T3yy;var Z9=u9.call(this)||this;Z9.container.display=R6a.S6B;Z9.container.hasClass(R6a.X6B)&&Z9.container.removeClass(R6a.X6B);Z9.container.addClass(R6a.V6B);Z9.selected=R6a.N5B;Z9.addEventListener(J9.UIButton.CLICK_EVENT,function(){return Z9.onClick();});return Z9;}Q9.prototype.setSelection=function(D9){var s6a=T3yy;this.selected==D9||s6a.I5B<D9||-s6a.I5B>D9||(this.selected=D9,this.container.toggleClass(s6a.H6B,s6a.I5B==this.selected));};Q9.prototype.getSelection=function(){return this.selected;};return Q9;}(J9.UIButton);J9.UIToggleButton=F9;}(uicontrols||(uicontrols={})));(function(e9){var P9=function(O9){var H1a=T3yy;var U6B="wdr-ui-semi-selected";var G6B="checked";__extends(B9,O9);B9.prototype.toggle=function(){O9.prototype.toggle.call(this);this.container.toggleClass(U6B,-H1a.I5B==this.getSelection());};function B9(){var t6B="Label";var x6B="wdr-ui-checkbox";var j9=O9.call(this)||this;j9.container.display=H1a.S6B;j9.container.hasClass(H1a.V6B)&&j9.container.removeClass(H1a.V6B);j9.container.addClass(x6B);j9.labelHolder=new e9.UILabel(t6B);j9.container.append(j9.labelHolder.container);return j9;}B9.prototype.setLabel=function(y9,k9){void H1a.N5B===k9&&(k9=!H1a.I5B);H1a.r0B!=this.labelHolder&&this.labelHolder.setLabel(y9,k9);};B9.prototype.getLabel=function(){return H1a.r0B!=this.labelHolder?this.labelHolder.getLabel():H1a.o9B;};B9.prototype.setSelection=function(g9){this.getSelection()==g9||H1a.I5B<g9||-H1a.I5B>g9||(O9.prototype.setSelection.call(this,g9),this.container.toggleClass(U6B,-H1a.I5B==this.getSelection()));};Object.defineProperty(B9.prototype,G6B,{get:function(){return H1a.I5B==this.getSelection();},set:function(a9){this.setSelection(a9?H1a.I5B:H1a.N5B);},enumerable:!H1a.N5B,configurable:!H1a.N5B});B9.SELECTED=H1a.I5B;B9.UNSELECTED=H1a.N5B;B9.SEMI_SELECTED=-H1a.I5B;return B9;}(e9.UIToggleButton);e9.UICheckBox=P9;}(uicontrols||(uicontrols={})));(function(X9){var b9=function(S9){var V1a=T3yy;var r6B="direction";var i6B="containment";var T4B="divider_moved_event";__extends(z9,S9);z9.prototype.onMouseDown=function(K9){this._height=this.direction==z9.HORIZONTAL?this.getHeight():this.getWidth();this._baseOffset=this.container.parent.getOffset();utils.fmdocument.addEventListener(V1a.j9B,this.mouseMoveHandler);K9.preventDefault();K9.stopImmediatePropagation();};z9.prototype.onMouseMove=function(E9){if(this.direction==z9.HORIZONTAL){var v9=E9.clientY-this._baseOffset.top;if(this._containment&&(v9<this._containment[V1a.I5B]||v9>this._containment[V1a.T1B]))return;this.container.css(V1a.T6B,v9-this._height/V1a.i5B+V1a.m9B);this.dispatchWith(z9.EVENT_MOVED,this,{top:v9});}this.direction==z9.VERTICAL&&(E9=E9.clientX-this._baseOffset.left,this._containment&&(E9<this._containment[V1a.N5B]||E9>this._containment[V1a.i5B])||(this.container.css(V1a.i9B,E9-this._height/V1a.i5B+V1a.m9B),this.dispatchWith(z9.EVENT_MOVED,this,{left:E9})));};z9.prototype.onMouseUp=function(Y9){utils.fmdocument.removeEventListener(V1a.j9B,this.mouseMoveHandler);};Object.defineProperty(z9.prototype,r6B,{get:function(){return this._direction;},set:function(W9){var L6B="wdr-ui-vertical";var q6B="wdr-ui-horizontal";this._direction=W9;this.container.toggleClass(q6B,this._direction==z9.HORIZONTAL);this.container.toggleClass(L6B,this._direction==z9.VERTICAL);this.container.css(V1a.N6B,V1a.I6B);},enumerable:!V1a.N5B,configurable:!V1a.N5B});Object.defineProperty(z9.prototype,i6B,{set:function(p9){this._containment=p9;},enumerable:!V1a.N5B,configurable:!V1a.N5B});z9.HORIZONTAL=V1a.N5B;z9.VERTICAL=V1a.I5B;z9.EVENT_MOVED=T4B;function z9(){var C4B="wdr-ui-divider";var m9=S9.call(this,V1a.w9B,C4B)||this;m9.mouseMoveHandler=function(R9){return m9.onMouseMove(R9);};m9.mouseDownHandler=function(s9){return m9.onMouseDown(s9);};m9.mouseUpHandler=function(f9){return m9.onMouseUp(f9);};m9.direction=z9.HORIZONTAL;m9.addEventListener(V1a.B9B,m9.mouseDownHandler);utils.fmdocument.addEventListener(V1a.y9B,m9.mouseUpHandler);m9.container.disableSelection();return m9;}return z9;}(X9.UIComponentBase);X9.UIDivider=b9;}(uicontrols||(uicontrols={})));(function(o9){var w9=function(d9){var F4B="wdr-ui-opaque";var Q4B="wdr-ui-transparent";__extends(n9,d9);function n9(){var J4B="wdr-ui-modal-overlay";return d9.call(this,T3yy.w9B,J4B)||this;}n9.prototype.setTransparent=function(c9){this.container.toggleClass(F4B,!T3yy.I5B);this.container.toggleClass(Q4B,c9);};n9.prototype.setOpaque=function(A9){this.container.toggleClass(Q4B,!T3yy.I5B);this.container.toggleClass(F4B,A9);};return n9;}(o9.UIComponentBase);o9.UIModalOverlay=w9;}(uicontrols||(uicontrols={})));(function(l9){(function(M9){var h9=function(V9){__extends(H9,V9);H9.prototype.removeChild=function(x9){this.contains(x9)&&x9.container.detach();};H9.prototype.contains=function(t9){return utils.nullOrUndefined(t9)?!T3yy.I5B:this.container.contains(t9.container);};H9.prototype.getWidth=function(){return this.container.width;};function H9(U9){var u4B="wdr-ui-container";void T3yy.N5B===U9&&(U9=u4B);return V9.call(this,T3yy.w9B,U9)||this;}H9.prototype.getHeight=function(){return this.container.height;};H9.prototype.removeAllChildren=function(){for(var r9=this.container.children(),G9=r9.length-T3yy.I5B;T3yy.N5B<=G9;G9--)r9[G9].removeFromParent();};return H9;}(l9.UIComponentBase);M9.UIContainer=h9;}(l9.containers||(l9.containers={})));}(uicontrols||(uicontrols={})));(function(q9){(function(L9){var N9=function(I9){__extends(i9,I9);function i9(){var Z4B="wdr-ui-border-container";return I9.call(this,Z4B)||this;}return i9;}(L9.UIContainer);L9.UIBorderContainer=N9;}(q9.containers||(q9.containers={})));}(uicontrols||(uicontrols={})));(function(T6){(function(C6){var J6=function(Q6){__extends(F6,Q6);F6.prototype.setPosition=function(Z6,D6){this.container.offset({left:Math.floor(Z6),top:Math.floor(D6)});this.container.css(T3yy.N6B,T3yy.I6B);};F6.prototype.getPosition=function(){return this.container.offset();};function F6(){var D4B="wdr-ui-window";var u6=Q6.call(this)||this;u6.container.addClass(D4B);u6.hide();return u6;}return F6;}(C6.UIContainer);C6.UIWindow=J6;}(T6.containers||(T6.containers={})));}(uicontrols||(uicontrols={})));(function(e6){(function(P6){var B6=function(O6){__extends(j6,O6);function j6(){return O6.call(this,C3yy.e4B)||this;}return j6;}(P6.UIContainer);P6.UIHGroup=B6;}(e6.containers||(e6.containers={})));}(uicontrols||(uicontrols={})));(function(k6){(function(y6){var g6=function(a6){__extends(X6,a6);function X6(){var P4B="wdr-ui-vgroup";return a6.call(this,P4B)||this;}return X6;}(y6.UIContainer);y6.UIVGroup=g6;}(k6.containers||(k6.containers={})));}(uicontrols||(uicontrols={})));(function(b6){(function(z6){var S6=function(m6){__extends(R6,m6);function R6(){var B4B="wdr-ui-panel";return m6.call(this,B4B)||this;}return R6;}(z6.UIContainer);z6.UIPanel=S6;}(b6.containers||(b6.containers={})));}(uicontrols||(uicontrols={})));(function(s6){(function(f6){var K6=function(v6){var O4B="resize";var k4B="overlay";__extends(E6,v6);E6.prototype.onWindowResize=function(w6){var o6=this;w6.target===window&&(this.container.requestAnimationFrame(function(){return o6.centerPosition();}),this.addLayoutClasses());};E6.prototype.onOverlayClick=function(){this.close();};E6.prototype.open=function(){var j4B="fm-ui-opaque";utils.fmwindow.addEventListener(O4B,this.resizeHandler);this._overlay.show();this._overlay.container.toggleClass(j4B,this.isOpaque);this.show();this.centerPosition();this.dispatchWith(events._Event.OPENED);this.addLayoutClasses();};E6.prototype.close=function(){utils.fmwindow.removeEventListener(O4B,this.resizeHandler);this._overlay.hide();this.hide();this.dispatchWith(events._Event.CLOSED);};E6.prototype.centerPosition=function(){var i7u=T3yy;var n6=this._modalParent;if(n6){var d6=Math.max(i7u.N5B,(n6.getWidth(!i7u.N5B)-this.container.getWidth(!i7u.N5B)-i7u.i5B)/ i7u.i5B),n6=Math.max(i7u.N5B,(n6.getHeight(!i7u.N5B)-this.container.getHeight(!i7u.N5B)-i7u.i5B)/ i7u.i5B);this.setPosition(d6,n6);}};Object.defineProperty(E6.prototype,k4B,{get:function(){return this._overlay;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function E6(W6){var y4B="wdr-ui-popup";var Y6=v6.call(this)||this;Y6._overlayClickHandler=function(){return Y6.onOverlayClick();};Y6.resizeHandler=function(p6){return Y6.onWindowResize(p6);};Y6.isOpaque=!T3yy.I5B;Y6._modalParent=W6;Y6.container.addClass(y4B);Y6.hide();Y6._overlay=new s6.UIModalOverlay();Y6._overlay.addEventListener(T3yy.b6B,Y6._overlayClickHandler);Y6._overlay.hide();Y6._modalParent&&Y6._modalParent.addChild(Y6._overlay.container);return Y6;}return E6;}(f6.UIWindow);f6.UIPopup=K6;}(s6.containers||(s6.containers={})));}(uicontrols||(uicontrols={})));(function(c6){(function(A6){var l6=function(h6){__extends(M6,h6);function M6(){var g4B="wdr-ui-toolbar";return h6.call(this,g4B)||this;}return M6;}(A6.UIContainer);A6.UIToolbar=l6;}(c6.containers||(c6.containers={})));}(uicontrols||(uicontrols={})));(function(H6){(function(V6){var U6=function(t6){__extends(x6,t6);x6.prototype.setHeader=function(r6){this.header!=r6&&(this.header=r6,this.headerDisplay.setLabel(r6));};function x6(){var X4B="wdr-ui-header-display";var a4B="wdr-ui-toolbar-mobile";var G6=t6.call(this,a4B)||this;G6.headerDisplay=new H6.UILabel();G6.headerDisplay.addClass(X4B);G6.addChild(G6.headerDisplay);return G6;}x6.prototype.getHeader=function(){return this.header;};x6.prototype.setLeftItem=function(q6){var b4B="wdr-ui-left";this.leftItem!=q6&&(T3yy.r0B!=this.leftItem&&this.leftItem.removeFromParent(),this.leftItem=q6,T3yy.r0B!=this.leftItem&&(this.leftItem.addClass(b4B),this.addChild(this.leftItem)));};x6.prototype.setRightItem=function(L6){var z4B="wdr-ui-right";this.rightItem!=L6&&(T3yy.r0B!=this.rightItem&&this.rightItem.removeFromParent(),this.rightItem=L6,T3yy.r0B!=this.rightItem&&(this.rightItem.addClass(z4B),this.addChild(this.rightItem)));};return x6;}(V6.UIContainer);V6.UIToolbarMobile=U6;}(H6.containers||(H6.containers={})));}(uicontrols||(uicontrols={})));(function(N6){(function(i6){var I6=function(){T4.prototype.setItems=function(C4){this.allItems=C4;};T4.prototype.getItems=function(F4,Q4){if(T3yy.N5B>F4||Q4>this.allItems.length+T3yy.I5B)return[];this.items.length=T3yy.N5B;for(var J4=F4;J4<Q4;J4++)this.items.push(this.allItems[J4]);return this.items;};T4.prototype.getLength=function(){return this.allItems.length;};function T4(){this.items=[];this.allItems=[];}return T4;}();i6.SmartDataProvider=I6;}(N6.dataProviders||(N6.dataProviders={})));}(uicontrols||(uicontrols={})));(function(u4){(function(D4){var Z4=function(P4){var W6a=T3yy;__extends(e4,P4);e4.prototype.getRowHeight=function(){return W6a.N5B<this.visibleItems.length?this.visibleItems[W6a.N5B].getHeight():this.rowHeight;};e4.prototype.getStartIdx=function(){return W6a.N5B;};e4.prototype.getRowCount=function(){return this.dataProvider.length;};e4.prototype.draw=function(){this.isInvalid(C3yy.S4B)&&this.drawItems();this.validate();};e4.prototype.drawItems=function(){var k4=this,g4=this.container.getScrollTop();this.removeAllItems();for(var a4,y4=this.getDataProvider(),j4=W6a.N5B;j4<y4.length;j4++)a4=this.getItem(y4[j4],j4),this.addItem(a4);this.container.setScrollTop(g4);this.container.requestAnimationFrame(function(){W6a.N5B<k4.visibleItems.length&&(k4.rowHeight=k4.visibleItems[W6a.N5B].getHeight());});};e4.prototype.getItem=function(b4,z4){var X4;this.useCache&&W6a.N5B<this.itemsCache.length?(X4=this.itemsCache.pop(),X4.setData(b4),X4.setIndex(z4)):(X4=this.itemRendererFactory(b4,z4),X4.setLabelField(this.labelField));return X4;};e4.prototype.addItem=function(S4){this.visibleItems.push(S4);this.addChild(S4);};e4.prototype.removeAllItems=function(){for(;W6a.N5B<this.visibleItems.length;)this._removeItem(this.visibleItems.pop());};e4.prototype.removeItem=function(R4){for(var m4=W6a.N5B;m4<this.visibleItems.length;m4++)if(this.visibleItems[m4]===R4){this.visibleItems.splice(m4,W6a.I5B);break;}this._removeItem(R4);};e4.prototype._removeItem=function(s4){W6a.r0B!=this.container.find(s4.container.element.nodeName)&&s4.container.remove();};function e4(){var R4B="wdr-ui-list";var B4=P4.call(this,C3yy.m4B,R4B)||this;B4.rowHeight=utils.browserVersion().isMobile?e4.DEFAULT_ROW_HEIGHT_MOBILE:e4.DEFAULT_ROW_HEIGHT;B4.selectedItems=[];B4.selectedIndices=[];B4.markSelected=!W6a.I5B;B4.useCache=!W6a.N5B;B4._allowMultipleSelection=!W6a.I5B;B4.dataProvider=[];B4.itemsCache=[];B4.visibleItems=[];B4.labelField=C3yy.s4B;B4.itemRendererFactory=B4.defaultItemRendererFactory;B4.selectedItem=W6a.r0B;B4.selectedIndex=-W6a.I5B;B4.container.addEventListener(W6a.b6B,function(O4){return B4.onItemClick(O4);});return B4;}e4.prototype.onItemClick=function(f4){f4=u4.UIElement.convert(f4.target).closest(C3yy.f4B);if(W6a.r0B!=f4){f4=parseInt(f4.attr(C3yy.K4B));var K4=this.getStartIdx()+f4,E4=this.selectedItem,v4=this.selectedIndex;this.setSelectedIndex(f4);this.dispatchWith(events._Event.CHANGE,this,{selectedItem:this.selectedItem,selectedIndex:this.selectedIndex,realIndex:K4,prevItem:E4,prevIndex:v4});}};e4.prototype.getDataProvider=function(){return this.dataProvider;};e4.prototype.setDataProvider=function(W4,Y4){void W6a.N5B===Y4&&(Y4=!W6a.N5B);this.dataProvider=W4;Y4&&this.invalidate(C3yy.S4B);};e4.prototype.getLabelField=function(){return this.labelField;};e4.prototype.setLabelField=function(p4){this.labelField!=p4&&(this.labelField=p4,this.invalidate(C3yy.S4B));};e4.prototype.setItemRendererFactory=function(o4){this.itemRendererFactory=o4;this.invalidate(C3yy.S4B);};e4.prototype.validateItemAt=function(w4){-W6a.I5B<w4&&w4<this.visibleItems.length&&this.visibleItems[w4].validateNow();};e4.prototype.validateItem=function(A4,n4){void W6a.N5B===n4&&(n4=W6a.o9B);for(var c4,d4=W6a.N5B;d4<this.visibleItems.length;d4++)if(c4=this.visibleItems[d4].getData(),W6a.N5B==n4.length&&c4===A4||W6a.N5B<n4.length&&c4.hasOwnProperty(n4)&&c4[n4]==A4[n4]){this.visibleItems[d4].validateNow();break;}};e4.prototype.getSelectedIndex=function(){return this.selectedIndex;};e4.prototype.setSelectedIndex=function(l4){var h4=this.getDataProvider();-W6a.I5B<l4&&l4<h4.length?this.updateSelectedItem(h4[l4],l4):this.updateSelectedItem(W6a.r0B,-W6a.I5B);};e4.prototype.getSelectedItem=function(){return this.selectedItem;};e4.prototype.setSelectedItem=function(V4,U4){var M4=this.getDataProvider();if(utils.nullOrUndefined(V4)||utils.nullOrEmpty(U4))-W6a.I5B<M4.indexOf(V4)&&this.updateSelectedItem(V4,M4.indexOf(V4));else for(var H4=W6a.N5B;H4<M4.length;H4++)if(!utils.nullOrUndefined(M4[H4])&&M4[H4][U4]==V4[U4]){this.updateSelectedItem(M4[H4],H4);break;}};e4.prototype.updateSelectedItem=function(G4,x4){if(this.allowMultipleSelection){var t4=-W6a.I5B<this.selectedIndices.indexOf(x4);!(t4=!t4)&&W6a.i5B>this.selectedIndices.length||(t4?(this.selectedIndices.push(x4),this.selectedItems.push(G4)):(this.selectedIndices.splice(this.selectedIndices.indexOf(x4),W6a.I5B),this.selectedItems.splice(this.selectedItems.indexOf(G4),W6a.I5B)),this.markSelected&&(G4.isSelected=t4,this.validateItemAt(x4)));}else this.markSelected&&W6a.r0B!=this.selectedItem&&(this.selectedItem.isSelected=!W6a.I5B,this.validateItemAt(this.selectedIndex)),this.selectedItem=G4,this.selectedIndex=x4,this.markSelected&&W6a.r0B!=this.selectedItem&&(this.selectedItem.isSelected=!W6a.N5B,this.validateItemAt(this.selectedIndex));};e4.prototype.defaultItemRendererFactory=function(L4,N4){var r4=new u4.renderers.UIItemRenderer();r4.setData(L4);r4.setIndex(N4);return r4;};e4.prototype.getMinHeight=function(){return this.getRowHeight();};e4.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getDataProvider().length;};Object.defineProperty(e4.prototype,C3yy.E4B,{get:function(){return this._allowMultipleSelection;},set:function(I4){this._allowMultipleSelection=I4;},enumerable:!W6a.N5B,configurable:!W6a.N5B});e4.prototype.getSelectedIndices=function(){return this.selectedIndices;};e4.prototype.setSelectedIndices=function(T2){this.selectedIndices=T2;this.selectedItems.length=W6a.N5B;T2=this.getDataProvider();for(var i4=W6a.N5B;i4<T2.length;i4++)-W6a.I5B<this.selectedIndices.indexOf(i4)?(this.selectedItems.push(T2[i4]),this.markSelected&&(T2[i4].isSelected=!W6a.N5B,this.validateItemAt(i4))):this.markSelected&&(T2[i4].isSelected=!W6a.I5B,this.validateItemAt(i4));};e4.prototype.getSelectedItems=function(){return this.selectedItems;};e4.prototype.setSelectedItems=function(J2){this.selectedItems=J2;this.selectedIndices.length=W6a.N5B;J2=this.getDataProvider();for(var C2=W6a.N5B;C2<J2.length;C2++)-W6a.I5B<this.selectedItems.indexOf(J2[C2])?(this.selectedIndices.push(C2),this.markSelected&&(J2[C2].isSelected=!W6a.N5B,this.validateItemAt(C2))):this.markSelected&&(J2[C2].isSelected=!W6a.I5B,this.validateItemAt(C2));};e4.prototype.droppable=function(F2){this.container.droppable(F2,this);};e4.DEFAULT_ROW_HEIGHT=W6a.b1B;e4.DEFAULT_ROW_HEIGHT_MOBILE=W6a.K1B;return e4;}(u4.UIComponentBase);D4.UIList=Z4;}(u4.lists||(u4.lists={})));}(uicontrols||(uicontrols={})));(function(Q2){(function(u2){var Z2=function(e2){var o6a=T3yy;var w4B="markSelected";__extends(D2,e2);D2.prototype.itemRendererFactory=function(k2,y2){var j2=new Q2.renderers.SelectItemRenderer();j2.setData(k2);j2.setIndex(y2);return j2;};D2.prototype.onListChange=function(g2){this.enablePrompt(o6a.r0B==g2.data.selectedItem);this.dispatchWith(events._Event.CHANGE,this,g2.data);this.allowMultipleSelection||this.close();};D2.prototype.onBtnChange=function(){this.dropDownBtn.getSelection()?this.open():this.close();};D2.prototype.enablePrompt=function(X2){var a2=this.dropDownList.getSelectedItem(),a2=X2||this.allowMultipleSelection||o6a.r0B==a2?this.prompt:a2[this.getLabelField()];this.dropDownBtn.setLabel(a2);this.container.toggleClass(o6a.n6B,X2);};D2.prototype.setPrompt=function(b2){this.prompt!==b2&&(this.prompt=b2,this.enablePrompt(!o6a.N5B));};D2.prototype.getPrompt=function(){return this.prompt;};D2.prototype.open=function(){this.getEnabled()&&(this.dropDownListWrap.show(),this.dropDownList.setWidth(this.dropDownBtn.getWidth(!o6a.N5B)),this.dropDownBtn.setSelection(o6a.I5B),document.body.addEventListener(o6a.B9B,this.mouseHandler));};D2.prototype.handleMouse=function(z2){var v4B=".fm-ui-dropdown";o6a.r0B==Q2.UIElement.convert(z2.target).closest(v4B)&&(document.body.removeEventListener(o6a.B9B,this.mouseHandler),this.close());};D2.prototype.close=function(){this.getEnabled()&&(this.dropDownListWrap.hide(),this.dropDownBtn.setSelection(o6a.N5B),document.body.removeEventListener(o6a.y9B,this.mouseHandler));};D2.prototype.getDataProvider=function(){return this.dropDownList.getDataProvider();};D2.prototype.setDataProvider=function(S2){this.dropDownList.setDataProvider(S2);};D2.prototype.getLabelField=function(){return this.dropDownList.getLabelField();};D2.prototype.setLabelField=function(m2){this.dropDownList.setLabelField(m2);};D2.prototype.setItemRendererFactory=function(R2){this.dropDownList.setItemRendererFactory(R2);};D2.prototype.validateNow=function(){this.dropDownList.validateNow();};D2.prototype.validateItemAt=function(s2){this.dropDownList.validateItemAt(s2);};D2.prototype.getSelectedIndex=function(){return this.dropDownList.getSelectedIndex();};D2.prototype.setSelectedIndex=function(f2){this.dropDownList.setSelectedIndex(f2);this.enablePrompt(o6a.r0B==this.dropDownList.getSelectedItem());};D2.prototype.getSelectedIndices=function(){return this.dropDownList.getSelectedIndices();};D2.prototype.setSelectedIndices=function(K2){this.dropDownList.setSelectedIndices(K2);this.enablePrompt(!o6a.N5B);};D2.prototype.getSelectedItem=function(){return this.dropDownList.getSelectedItem();};D2.prototype.setSelectedItem=function(E2,v2){this.dropDownList.setSelectedItem(E2,v2);this.enablePrompt(o6a.r0B==this.dropDownList.getSelectedItem());};D2.prototype.getSelectedItems=function(){return this.dropDownList.getSelectedItems();};D2.prototype.setSelectedItems=function(Y2){this.dropDownList.setSelectedItems(Y2);this.enablePrompt(!o6a.N5B);};D2.prototype.show=function(){e2.prototype.show.call(this);};D2.prototype.getRowHeight=function(){return this.dropDownList.getRowHeight();};D2.prototype.getRowCount=function(){return this.dropDownList.getRowCount();};D2.prototype.validateItem=function(W2,p2){};D2.prototype.getMinHeight=function(){return o6a.N5B;};D2.prototype.getMaxHeight=function(){return o6a.N5B;};Object.defineProperty(D2.prototype,C3yy.E4B,{get:function(){return this._allowMultipleSelection;},set:function(o2){var Y4B="wdr-ui-dropdown-multiple-selection-list";this._allowMultipleSelection=o2;this.dropDownList.allowMultipleSelection=o2;this._allowMultipleSelection?this.dropDownList.container.addClass(Y4B):this.dropDownList.container.removeClass(Y4B);},enumerable:!o6a.N5B,configurable:!o6a.N5B});function D2(){var o4B="wdr-ui-dropdown-list";var W4B="wdr-ui-dropdown";var p4B="Choose item";var P2=e2.call(this,o6a.w9B,W4B)||this;P2.prompt=p4B;P2.mouseHandler=function(B2){return P2.handleMouse(B2);};P2._allowMultipleSelection=!o6a.I5B;P2.container.display=o6a.S6B;P2.dropDownBtn=new u2.UIDropDownButton();P2.dropDownBtn.addEventListener(events._Event.CHANGE,function(){return P2.onBtnChange();});P2.dropDownListWrap=new Q2.UIComponentBase(o6a.w9B,o4B);P2.dropDownListWrap.hide();P2.dropDownList=new u2.UIList();P2.dropDownList.markSelected=!o6a.N5B;P2.dropDownList.setItemRendererFactory(P2.itemRendererFactory);P2.dropDownList.addEventListener(events._Event.CHANGE,function(O2){return P2.onListChange(O2);});P2.dropDownListWrap.addChild(P2.dropDownList);P2.addChild(P2.dropDownBtn);P2.addChild(P2.dropDownListWrap);return P2;}Object.defineProperty(D2.prototype,w4B,{set:function(w2){this.dropDownList.markSelected=w2;},enumerable:!o6a.N5B,configurable:!o6a.N5B});return D2;}(Q2.UIComponentBase);u2.UIDropDownList=Z2;}(Q2.lists||(Q2.lists={})));}(uicontrols||(uicontrols={})));(function(n2){(function(d2){var c2=function(l2){__extends(A2,l2);A2.prototype.onScroll=function(){this.invalidate(C3yy.S4B);};A2.prototype.draw=function(){this._placeholder.setHeight(Math.min(this.getMaxHeight(),A2.MAX_HEIGHT));if(this.isInvalid(C3yy.S4B)){this._list.setDataProvider(this.getDataProvider());var M2=this.getStartIdx()*this.getRowHeight()*this.getScale()-this.getScaleFix();this._list.container.top=Math.min(M2,this._placeholder.getHeight()-this._list.container.height);}this.validate();};A2.prototype.getScale=function(){return this.getMaxHeight()>A2.MAX_HEIGHT?A2.MAX_HEIGHT/this.getMaxHeight():T3yy.I5B;};A2.prototype.getStartIdx=function(){return T3yy.I5B!=this.getScale()?Math.floor((this.getScrollPosition()+this.getScaleFix())/this.getScale()/this.getRowHeight()):Math.floor(this.getScrollPosition()/this.getRowHeight());};A2.prototype.getScaleFix=function(){return T3yy.I5B!=this.getScale()?(this.getHeight()/this.getScale()-this.getHeight())*(this.getScrollPosition()/A2.MAX_HEIGHT)*this.getScale():T3yy.N5B;};Object.defineProperty(A2.prototype,C3yy.E4B,{get:function(){return this._list.allowMultipleSelection;},set:function(H2){this._list.allowMultipleSelection=H2;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});A2.prototype.getLabelField=function(){return this._list.getLabelField();};A2.prototype.setLabelField=function(V2){this._list.setLabelField(V2);};A2.prototype.setItemRendererFactory=function(U2){this._list.setItemRendererFactory(U2);};A2.prototype.validateItemAt=function(x2){this._list.validateItemAt(x2);};A2.prototype.validateItem=function(G2,t2){void T3yy.N5B===t2&&(t2=T3yy.o9B);this._list.validateItem(G2,t2);};A2.prototype.getRowHeight=function(){return T3yy.W1B;};A2.prototype.getRowCount=function(){return T3yy.N5B<this.getRowHeight()?Math.ceil(this.getHeight()/this.getRowHeight())+T3yy.I5B:T3yy.N5B;};A2.prototype.getSelectedIndex=function(){return this._list.getSelectedIndex();};A2.prototype.setSelectedIndex=function(r2){this._list.setSelectedIndex(r2);};A2.prototype.getSelectedIndices=function(){return this._list.getSelectedIndices();};A2.prototype.setSelectedIndices=function(L2){this._list.setSelectedIndices(L2);};A2.prototype.getSelectedItem=function(){return this._list.getSelectedItem();};A2.prototype.setSelectedItem=function(N2,I2){this._list.setSelectedItem(N2,I2);};A2.prototype.getSelectedItems=function(){return this._list.getSelectedItems();};A2.prototype.setSelectedItems=function(i2){this._list.setSelectedItems(i2);};A2.prototype.getMinHeight=function(){return this._list.getRowHeight();};A2.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getSmartDataProvider().getLength();};function A2(){var d4B="wdr-ui-vlist-placeholder";var n4B="wdr-ui-vlist";var h2=l2.call(this)||this;h2.addClass(n4B);h2._list=new d2.UIList();h2.addChild(h2._list);h2._placeholder=new n2.UIComponentBase(T3yy.w9B,d4B);h2.addChild(h2._placeholder);h2.addEventListener(C3yy.c4B,function(){return h2.onScroll();});return h2;}A2.prototype.getSmartDataProvider=function(){return this.smartDataProvider;};A2.prototype.setSmartDataProvider=function(T8){this.smartDataProvider=T8;};A2.prototype.getScrollPosition=function(){return this.container.getScrollTop();};A2.prototype.setScrollPosition=function(C8){this.container.setScrollTop(C8);};A2.prototype.setDataProvider=function(J8){this.getSmartDataProvider()&&(this.getSmartDataProvider().setItems(J8),this.setScrollPosition(T3yy.N5B),this.invalidate(C3yy.S4B));};A2.prototype.getDataProvider=function(){var F8=this.getStartIdx(),Q8=F8+this.getRowCount();return this.getSmartDataProvider()?this.getSmartDataProvider().getItems(F8,Q8):[];};A2.MAX_HEIGHT=C3yy.A4B;return A2;}(n2.UIComponentBase);d2.UIVirtualList=c2;}(n2.lists||(n2.lists={})));}(uicontrols||(uicontrols={})));(function(u8){(function(D8){var Z8=function(P8){__extends(e8,P8);function e8(){var l4B="wdr-ui-dropdown-btn";var B8=P8.call(this)||this;B8.addClass(l4B);B8.labelDisplay=new u8.UILabel();B8.addChild(B8.labelDisplay);return B8;}e8.prototype.setLabel=function(O8){this.labelDisplay.setLabel(O8);};return e8;}(u8.UIToggleButton);D8.UIDropDownButton=Z8;}(u8.lists||(u8.lists={})));}(uicontrols||(uicontrols={})));(function(j8){(function(y8){var k8=function(a8){__extends(g8,a8);g8.prototype.getData=function(){return this.data;};g8.prototype.setData=function(b8){T3yy.r0B!=b8&&(this.data=b8,this.invalidate(C3yy.S4B));};g8.prototype.getIndex=function(){return parseInt(this.container.attr(C3yy.K4B));};g8.prototype.setIndex=function(z8){this.container.attr(C3yy.K4B,z8);};g8.prototype.getLabelField=function(){return this.labelField;};function g8(){var X8=a8.call(this,C3yy.f4B)||this;X8.labelField=C3yy.s4B;return X8;}g8.prototype.setLabelField=function(S8){this.labelField!=S8&&(this.labelField=S8,this.invalidate(C3yy.S4B));};g8.prototype.getLabelFunction=function(){return this.labelFunction;};g8.prototype.setLabelFunction=function(m8){this.labelFunction!=m8&&(this.labelFunction=m8,this.invalidate(C3yy.S4B));};g8.prototype.draw=function(){this.isInvalid(C3yy.S4B)&&this.container.text(this.data[this.labelField]);this.validate();};return g8;}(j8.UIComponentBase);y8.UIItemRenderer=k8;}(j8.renderers||(j8.renderers={})));}(uicontrols||(uicontrols={})));(function(R8){(function(s8){var f8=function(E8){__extends(K8,E8);K8.prototype.draw=function(){var y3u=T3yy;var M4B="wdr-not-selected";var h4B="#wdr-text-display";var v8=this.getData();y3u.r0B==this.label&&(this.label=new R8.UILabel(),this.label.setId(h4B),this.container.append(this.label.container));this.label.setLabel(v8[this.getLabelField()],!y3u.N5B);this.container.toggleClass(y3u.H6B,!y3u.N5B===v8.isSelected);this.container.toggleClass(M4B,!y3u.N5B!==v8.isSelected);};function K8(){return E8.call(this)||this;}return K8;}(s8.UIItemRenderer);s8.SelectItemRenderer=f8;}(R8.renderers||(R8.renderers={})));}(uicontrols||(uicontrols={})));(function(Y8){(function(p8){var W8=function(){o8.prototype.createHandles=function(){for(var h8=T3yy.N5B;h8<this.options.sides.length;h8++)this.createHandle(this.options.sides[h8]);};o8.prototype.createHandle=function(H8){var V4B="fm-";var H4B="fm-resizable-handle";var M8=new Y8.UIElement(T3yy.w9B,H4B);M8.addClass(V4B+H8);M8.addEventListener(T3yy.B9B,this._mouseDownHandler);this.target.addChild(M8);return M8;};o8.prototype.onMouseDown=function(V8){var U4B="fm-left";var x4B="fm-right";V8=Y8.UIElement.convert(V8.target);V8.hasClass(U4B)?this._currentSide=T3yy.i9B:V8.hasClass(x4B)&&(this._currentSide=T3yy.C6B);this.startResizing();};o8.prototype.onMouseUp=function(U8){this.onResize(U8.clientX,U8.clientY);this.stopResizing();};o8.prototype.onMouseMove=function(x8){if(this._boundingRect&&(x8.clientX<this._boundingRect.left||x8.clientX>this._boundingRect.right||x8.clientY<this._boundingRect.top||x8.clientY>this._boundingRect.bottom))this.onMouseUp(x8);else this.onResize(x8.clientX,x8.clientY);};o8.prototype.onResize=function(r8,q8){var t8={left:this._originalPosition.left,top:this._originalPosition.top},G8={width:this._originalSize.width,height:this._originalSize.height};T3yy.i9B==this._currentSide&&(t8.left=r8,G8.width+=this._originalPosition.left-t8.left);T3yy.C6B==this._currentSide&&(G8.width=r8-this._originalPosition.left);this.options.resize&&this.options.resize({side:this._currentSide,originalPosition:this._originalPosition,originalSize:this._originalSize,position:t8,size:G8});};o8.prototype.startResizing=function(){var z3u=T3yy;document.addEventListener(z3u.j9B,this._mouseMoveHandler);document.addEventListener(z3u.y9B,this._mouseUpHandler);this._originalSize={width:this.target.getWidth(!z3u.N5B),height:this.target.getHeight(!z3u.N5B)};this._originalPosition={left:this.target.getOffset().left,top:this.target.getOffset().top};this._boundingRect=this.options.containtment?this.options.containtment.getBoundingClientRect():z3u.r0B;};o8.prototype.stopResizing=function(){document.removeEventListener(T3yy.j9B,this._mouseMoveHandler);document.removeEventListener(T3yy.y9B,this._mouseUpHandler);};function o8(n8,d8){var w8=this;this._mouseDownHandler=function(c8){return w8.onMouseDown(c8);};this._mouseUpHandler=function(A8){return w8.onMouseUp(A8);};this._mouseMoveHandler=function(l8){return w8.onMouseMove(l8);};this.target=n8;this.options=d8;this.createHandles();}o8.prototype.dispose=function(){document.removeEventListener(T3yy.j9B,this._mouseMoveHandler);document.removeEventListener(T3yy.y9B,this._mouseUpHandler);};return o8;}();p8.ResizableHelper=W8;}(Y8.resizable||(Y8.resizable={})));}(uicontrols||(uicontrols={})));(function(L8){(function(I8){var N8=function(){i8.prototype.listen=function(u3y){this.handler=u3y;this.target.addEventListener(T3yy.O9B,this.touchStartHandler);this.target.addEventListener(T3yy.g9B,this.touchEndHandler);};i8.prototype.stop=function(){this.target.removeEventListener(T3yy.O9B,this.touchStartHandler);this.target.removeEventListener(T3yy.g9B,this.touchEndHandler);};i8.prototype.onTouchStart=function(D3y){var Z3y=this;this.timer=utils.fmSetTimeout(function(){return Z3y.callHandler(D3y);},this.delay);};i8.prototype.onTouchEnd=function(e3y){this.timer&&utils.fmClearTimeout(this.timer);};function i8(J3y,T3y){void T3yy.N5B===T3y&&(T3y=C3yy.t4B);var C3y=this;this.touchStartHandler=function(F3y){return C3y.onTouchStart(F3y);};this.touchEndHandler=function(Q3y){return C3y.onTouchEnd(Q3y);};this.target=J3y;this.delay=T3y;}i8.prototype.callHandler=function(P3y){this.handler(P3y,P3y&&T3yy.N5B<P3y.changedTouches.length?P3y.changedTouches[T3yy.N5B]:T3yy.r0B);};return i8;}();I8.LongPressListener=N8;}(L8._utils||(L8._utils={})));}(uicontrols||(uicontrols={})));var pivot;(function(B3y){var o0B=1023;var U0B=65535;var N4B="Seeking past start of the buffer";var h0B=55296;var M0B=56320;var H0B=57343;var I4B="Seeking past EOF";var G0B=1114111;var x0B=65536;var X0B=240;var z3y=function(){var U1a=T3yy;var q4B="buffer";var L4B="dataView";var r4B="byteLength";var G4B="byteOffset";Object.defineProperty(S3y.prototype,G4B,{get:function(){return this._byteOffset;},set:function(f3y){this._byteOffset=f3y;this._dataView=new DataView(this._buffer,this._byteOffset);this._byteLength=this._buffer.byteLength;},enumerable:!U1a.N5B,configurable:!U1a.N5B});Object.defineProperty(S3y.prototype,r4B,{get:function(){return this._byteLength-this._byteOffset;},enumerable:!U1a.N5B,configurable:!U1a.N5B});Object.defineProperty(S3y.prototype,q4B,{get:function(){this._trimAlloc();return this._buffer;},set:function(K3y){this._buffer=K3y;this._dataView=U1a.N5B==this._byteOffset?new DataView(this._buffer):new DataView(this._buffer,this._byteOffset);this._byteLength=this._buffer.byteLength;},enumerable:!U1a.N5B,configurable:!U1a.N5B});Object.defineProperty(S3y.prototype,L4B,{get:function(){return this._dataView;},set:function(E3y){this._byteOffset=E3y.byteOffset;this._buffer=E3y.buffer;this._dataView=new DataView(this._buffer,this._byteOffset);this._byteLength=this._byteOffset+E3y.byteLength;},enumerable:!U1a.N5B,configurable:!U1a.N5B});S3y.prototype.seek=function(v3y){v3y=Math.max(U1a.N5B,Math.min(this.byteLength,v3y));this.position=isNaN(v3y)||!isFinite(v3y)?U1a.N5B:v3y;};S3y.prototype.writeString=function(Y3y){this.writeUint8Array(k3y.encode(Y3y));};S3y.prototype.writeUint32=function(p3y,W3y){void U1a.N5B===W3y&&(W3y=U1a.r0B);this._realloc(U1a.C1B);this._dataView.setUint32(this.position,p3y,U1a.r0B==W3y?this.endianness:W3y);this.position+=U1a.C1B;};S3y.prototype.writeUint8=function(o3y){this._realloc(U1a.I5B);this._dataView.setUint8(this.position,o3y);this.position+=U1a.I5B;};S3y.prototype.writeUint8Array=function(w3y){this._realloc(U1a.I5B*w3y.length);if(w3y instanceof Uint8Array&&U1a.N5B==this.byteOffset+this.position%w3y.BYTES_PER_ELEMENT)this.memcpy(this._buffer,this.byteOffset+this.position,w3y.buffer,U1a.N5B,w3y.byteLength),this.mapUint8Array(w3y.length);else for(var n3y=U1a.N5B;n3y<w3y.length;n3y++)this.writeUint8(w3y[n3y]);};S3y.prototype.readString=function(d3y,c3y){return y3y.decode(this.mapUint8Array(d3y));};S3y.prototype.readUint32=function(){var A3y=this._dataView.getUint32(this.position,this.endianness);this.position+=U1a.C1B;return A3y;};S3y.prototype.readUint8=function(){var l3y=this._dataView.getUint8(this.position);this.position+=U1a.I5B;return l3y;};S3y.prototype.readUint8Array=function(h3y){void U1a.N5B===h3y&&(h3y=-U1a.I5B);h3y=U1a.N5B>h3y?this.byteLength-this.position:h3y;var M3y=new Uint8Array(h3y);this.memcpy(M3y.buffer,U1a.N5B,this.buffer,this.byteOffset+this.position,h3y*M3y.BYTES_PER_ELEMENT);this.position+=M3y.byteLength;return M3y;};S3y.prototype.mapUint8Array=function(H3y){this._realloc(U1a.I5B*H3y);var V3y=new Uint8Array(this._buffer,this.byteOffset+this.position,H3y);this.position+=U1a.I5B*H3y;return V3y;};S3y.prototype._realloc=function(x3y){if(this._dynamicSize){x3y=this._byteOffset+this.position+x3y;var U3y=this._buffer.byteLength;if(x3y<=U3y)x3y>this._byteLength&&(this._byteLength=x3y);else{for(U1a.I5B>U3y&&(U3y=U1a.I5B);x3y>U3y;)U3y*=U1a.i5B;var U3y=new ArrayBuffer(U3y),t3y=new Uint8Array(this._buffer);new Uint8Array(U3y,U1a.N5B,t3y.length).set(t3y);this.buffer=U3y;this._byteLength=x3y;}}};S3y.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var G3y=new ArrayBuffer(this._byteLength),r3y=new Uint8Array(G3y),q3y=new Uint8Array(this._buffer,U1a.N5B,r3y.length);r3y.set(q3y);this.buffer=G3y;}};S3y.prototype.memcpy=function(L3y,i3y,N3y,T7y,I3y){L3y=new Uint8Array(L3y,i3y,I3y);N3y=new Uint8Array(N3y,T7y,I3y);L3y.set(N3y);};function S3y(s3y,m3y,R3y){void U1a.N5B===m3y&&(m3y=U1a.N5B);void U1a.N5B===R3y&&(R3y=S3y.LITTLE_ENDIAN);this._dynamicSize=!U1a.N5B;this._byteLength=U1a.N5B;this._byteOffset=m3y;this.buffer=s3y;this.position=U1a.N5B;this.endianness=R3y;}S3y.BIG_ENDIAN=!U1a.I5B;S3y.LITTLE_ENDIAN=!U1a.N5B;return S3y;}();B3y.DataStream=z3y;var k3y=function(){C7y.encode=function(J7y){J7y=J7y?String(J7y):T3yy.o9B;var F7y=[],Q7y=new b3y(F7y);J7y=new j3y(J7y);T3yy.r0B==C7y.encoder&&(C7y.encoder=new a3y());for(;J7y.get()!==C7y.EOF_code_point;)C7y.encoder.encode(Q7y,J7y);var u7y;do u7y=C7y.encoder.encode(Q7y,J7y);while(u7y!==C7y.EOF_byte);return new Uint8Array(F7y);};C7y.EOF_byte=-T3yy.I5B;function C7y(){}C7y.EOF_code_point=-T3yy.I5B;return C7y;}();B3y.TextEncoder=k3y;var y3y=function(){Z7y.decode=function(D7y){var A6a=T3yy;D7y||(D7y=new Uint8Array(A6a.N5B));D7y=new Uint8Array(D7y.buffer,D7y.byteOffset,D7y.byteLength);D7y=new X3y(D7y);var P7y=new g3y(),e7y;A6a.r0B==Z7y.decoder&&(Z7y.decoder=new O3y());for(;D7y.get()!==Z7y.EOF_byte;)e7y=Z7y.decoder.decode(D7y),A6a.r0B!==e7y&&e7y!==Z7y.EOF_code_point&&P7y.emit(e7y);do e7y=Z7y.decoder.decode(D7y),A6a.r0B!==e7y&&e7y!==Z7y.EOF_code_point&&P7y.emit(e7y);while(e7y!==Z7y.EOF_code_point);return P7y.str();};Z7y.EOF_byte=-T3yy.I5B;Z7y.EOF_code_point=-T3yy.I5B;function Z7y(){}return Z7y;}();B3y.TextDecoder=y3y;var O3y=function(){B7y.prototype.decode=function(j7y){var l6a=T3yy;var b0B=244;var B0B=194;var y0B=223;var a0B=239;var O7y=j7y.get();if(O7y===this.EOF_byte)return this.EOF_code_point;j7y.offset(l6a.I5B);if(l6a.N5B===this.utf8_bytes_needed){if(this.inRange(O7y,l6a.N5B,l6a.u0B))return O7y;if(this.inRange(O7y,B0B,y0B))this.utf8_bytes_needed=l6a.I5B,this.utf8_lower_boundary=l6a.Z0B,this.utf8_code_point=O7y-l6a.P0B;else if(this.inRange(O7y,l6a.g0B,a0B))this.utf8_bytes_needed=l6a.i5B,this.utf8_lower_boundary=l6a.c0B,this.utf8_code_point=O7y-l6a.g0B;else if(this.inRange(O7y,X0B,b0B))this.utf8_bytes_needed=l6a.T1B,this.utf8_lower_boundary=x0B,this.utf8_code_point=O7y-X0B;else return this.EOF_code_point;this.utf8_code_point*=Math.pow(l6a.t1B,this.utf8_bytes_needed);return l6a.r0B;}if(!this.inRange(O7y,l6a.Z0B,l6a.e0B))return this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=l6a.N5B,j7y.offset(-l6a.I5B),this.EOF_code_point;this.utf8_bytes_seen+=l6a.I5B;this.utf8_code_point+=(O7y-l6a.Z0B)*Math.pow(l6a.t1B,this.utf8_bytes_needed-this.utf8_bytes_seen);if(this.utf8_bytes_seen!==this.utf8_bytes_needed)return l6a.r0B;j7y=this.utf8_code_point;O7y=this.utf8_lower_boundary;this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=l6a.N5B;return this.inRange(j7y,O7y,G0B)&&!this.inRange(j7y,h0B,H0B)?j7y:this.EOF_code_point;};B7y.prototype.inRange=function(k7y,y7y,g7y){return y7y<=k7y&&k7y<=g7y;};function B7y(){this.EOF_code_point=this.EOF_byte=-T3yy.I5B;this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=T3yy.N5B;}return B7y;}();B3y.UTF8Decoder=O3y;var a3y=function(){a7y.prototype.inRange=function(X7y,b7y,z7y){return b7y<=X7y&&X7y<=z7y;};a7y.prototype.div=function(S7y,m7y){return Math.floor(S7y/m7y);};a7y.prototype.encode=function(K7y,E7y){var M6a=T3yy;var d0B=2047;var R7y=E7y.get();if(R7y===this.EOF_code_point)return this.EOF_byte;E7y.offset(M6a.I5B);if(this.inRange(R7y,h0B,H0B))return this.EOF_code_point;if(this.inRange(R7y,M6a.N5B,M6a.u0B))return K7y.emit(R7y);var f7y,s7y;this.inRange(R7y,M6a.Z0B,d0B)?(f7y=M6a.I5B,s7y=M6a.P0B):this.inRange(R7y,M6a.c0B,U0B)?(f7y=M6a.i5B,s7y=M6a.g0B):this.inRange(R7y,x0B,G0B)&&(f7y=M6a.T1B,s7y=X0B);for(s7y=K7y.emit(this.div(R7y,Math.pow(M6a.t1B,f7y))+s7y);M6a.N5B<f7y;)s7y=this.div(R7y,Math.pow(M6a.t1B,f7y-M6a.I5B)),s7y=K7y.emit(M6a.Z0B+s7y%M6a.t1B),f7y-=M6a.I5B;return s7y;};function a7y(){this.EOF_code_point=this.EOF_byte=-T3yy.I5B;}return a7y;}();B3y.UTF8Encoder=a3y;var X3y=function(){v7y.prototype.get=function(){return this.pos>=this.bytes.length?this.EOF_byte:Number(this.bytes[this.pos]);};v7y.prototype.offset=function(W7y){this.pos+=W7y;if(T3yy.N5B>this.pos)throw Error(N4B);if(this.pos>this.bytes.length)throw Error(I4B);};function v7y(Y7y){this.EOF_byte=-T3yy.I5B;this.pos=T3yy.N5B;this.bytes=Y7y;}v7y.prototype.match=function(o7y){var x6a=T3yy;if(o7y.length>this.pos+this.bytes.length)return!x6a.I5B;var p7y;for(p7y=x6a.N5B;p7y<o7y.length;p7y+=x6a.I5B)if(Number(this.bytes[this.pos+p7y])!==o7y[p7y])return!x6a.I5B;return!x6a.N5B;};return v7y;}();B3y.ByteInputStream=X3y;var b3y=function(){w7y.prototype.emit=function(A7y){var d7y=this.EOF_byte,c7y;for(c7y=T3yy.N5B;c7y<arguments.length;++c7y)d7y=Number(arguments[c7y]),this.bytes[this.pos++]=d7y;return d7y;};function w7y(n7y){this.EOF_byte=-T3yy.I5B;this.pos=T3yy.N5B;this.bytes=n7y;}return w7y;}();B3y.ByteOutputStream=b3y;var j3y=function(){l7y.prototype.getCps=function(U7y){var r6a=T3yy;var V0B=65533;for(var M7y=[],H7y=r6a.N5B,t7y=U7y.length;H7y<U7y.length;){var V7y=U7y.charCodeAt(H7y);if(this.inRange(V7y,h0B,H0B))if(this.inRange(V7y,M0B,H0B))M7y.push(V0B);else if(H7y===t7y-r6a.I5B)M7y.push(V0B);else{var x7y=U7y.charCodeAt(H7y+r6a.I5B);this.inRange(x7y,M0B,H0B)?(V7y&=o0B,x7y&=o0B,H7y+=r6a.I5B,M7y.push(x0B+(V7y<<r6a.D1B)+x7y)):M7y.push(V0B);}else M7y.push(V7y);H7y+=r6a.I5B;}return M7y;};l7y.prototype.inRange=function(G7y,r7y,q7y){return r7y<=G7y&&G7y<=q7y;};l7y.prototype.offset=function(L7y){this.pos+=L7y;if(T3yy.N5B>this.pos)throw Error(N4B);if(this.pos>this.cps.length)throw Error(I4B);};function l7y(h7y){this.pos=T3yy.N5B;this.EOF_code_point=-T3yy.I5B;this._str=h7y;this.cps=this.getCps(this._str);}l7y.prototype.get=function(){return this.pos>=this.cps.length?this.EOF_code_point:this.cps[this.pos];};return l7y;}();B3y.CodePointInputStream=j3y;var g3y=function(){N7y.prototype.str=function(){return this._str;};N7y.prototype.emit=function(I7y){U0B>=I7y?this._str+=String.fromCharCode(I7y):(I7y-=x0B,this._str+=String.fromCharCode(h0B+(I7y>>T3yy.D1B&o0B)),this._str+=String.fromCharCode(M0B+(I7y&o0B)));};function N7y(){this._str=T3yy.o9B;}return N7y;}();B3y.CodePointOutputStream=g3y;}(pivot||(pivot={})));var misc;(function(T5y){var i7y=function(J5y){__extends(C5y,J5y);C5y.prototype.load=function(u5y){var T2B="arraybuffer";var Q5y=this;this.url=u5y;this.connected=!T3yy.I5B;this.close();this.xhr=new XMLHttpRequest();this.xhr.open(C3yy.i4B,u5y,!T3yy.N5B);this.xhr.responseType=T2B;this.xhr.onload=function(Z5y){return Q5y.onComplete(Z5y);};this.xhr.onprogress=function(D5y){return Q5y.onProgress(D5y);};this.xhr.onerror=function(e5y){return Q5y.onError(e5y);};this.xhr.onreadystatechange=function(P5y){return Q5y.onReadyStateChange(P5y);};this.xhr.send();};C5y.prototype.onComplete=function(B5y){this.response=this.xhr.response;this.dispatch(new events._Event(events._Event.COMPLETE,this));};C5y.prototype.onProgress=function(O5y){this.dispatch(O5y);};C5y.prototype.onError=function(j5y){this.dispatch(j5y);};C5y.prototype.onReadyStateChange=function(k5y){var C4a=T3yy;C4a.r0B!=this.xhr&&C4a.C1B===this.xhr.readyState&&C4a.j0B!==this.xhr.status&&this.dispatch(new events._Event(events._Event.ERROR,this,this.xhr.statusText));C4a.r0B!=this.xhr&&C4a.T1B>this.xhr.readyState&&!this.connected&&(this.connected=!C4a.N5B,this.dispatch(new events._Event(events._Event.CONNECTED)));};function C5y(){var F5y=J5y.call(this)||this;F5y.connected=!T3yy.I5B;return F5y;}C5y.prototype.close=function(){T3yy.r0B!=this.xhr&&this.xhr.abort();};C5y.prototype.dispose=function(){var Q4a=T3yy;this.response=Q4a.r0B;Q4a.r0B!=this.xhr&&(this.xhr.onload=Q4a.r0B,this.xhr.onprogress=Q4a.r0B,this.xhr.onerror=Q4a.r0B,this.xhr.onreadystatechange=Q4a.r0B);this.xhr=Q4a.r0B;};return C5y;}(events.EventDispatcher);T5y.URLBinaryLoader=i7y;}(misc||(misc={})));(function(y5y){var g5y=function(m5y){__extends(S5y,m5y);S5y.prototype.load=function(E5y,K5y){var u4a=T3yy;var C2B="Content-type";var f5y=this;void u4a.N5B===K5y&&(K5y=u4a.r0B);this.url=E5y;this._bytesLoaded=u4a.N5B;this.connected=!u4a.I5B;this.processRequestHeader(K5y);this.close();this.xhr=new XMLHttpRequest();this.xhr.open(this.requestMethod,this.url,!u4a.N5B);this.xhr.onerror=function(v5y){return f5y.onError(v5y);};this.xhr.onreadystatechange=function(Y5y){return f5y.onReadyStateChange(Y5y);};this.xhr.onprogress=function(W5y){return f5y.onProgress(W5y);};this.xhr.setRequestHeader(C2B,this.contentType);for(var s5y=u4a.N5B;s5y<this.requestHeaders.length;s5y++)this.xhr.setRequestHeader(this.requestHeaders[s5y].header,this.requestHeaders[s5y].value);this.xhr.send(this.data);};S5y.prototype.processRequestHeader=function(p5y){this.requestHeaders=[];if(T3yy.r0B!=p5y)for(var o5y in p5y)this.requestHeaders.push(new z5y(o5y,p5y[o5y]));};S5y.prototype.getBytesLoaded=function(){return this._bytesLoaded;};function S5y(){var D4a=T3yy;var R5y=m5y.call(this)||this;R5y.dataType=a5y.TEXT;R5y.contentType=X5y.TEXT_PLAIN;R5y.requestMethod=b5y.GET;R5y.connected=!D4a.I5B;R5y.withCredentials=!D4a.I5B;R5y._lastProgressTriggered=D4a.N5B;R5y._lastEvent=D4a.r0B;R5y.progressInterval=D4a.N5B;R5y.requestHeaders=[];R5y.data={};R5y._bytesLoaded=D4a.N5B;return R5y;}S5y.prototype.success=function(){this.response=this.xhr.response||this.xhr.responseText;this._bytesLoaded=this._lastEvent?this._lastEvent.loaded:this.response.length;this.dispatch(new events._Event(events._Event.COMPLETE,this));};S5y.prototype.onReadyStateChange=function(w5y){var e4a=T3yy;e4a.r0B!=this.xhr&&e4a.C1B===this.xhr.readyState&&(e4a.j0B===this.xhr.status?this.success():this.dispatch(new events._Event(events._Event.ERROR,this,this.xhr.statusText)));e4a.r0B!=this.xhr&&e4a.T1B>this.xhr.readyState&&!this.connected&&(this.connected=!e4a.N5B,this.dispatch(new events._Event(events._Event.CONNECTED)));};S5y.prototype.onProgress=function(n5y){utils.getTimer()-this._lastProgressTriggered>this.progressInterval?(this.response=this.xhr.response||this.xhr.responseText,this._bytesLoaded=n5y.loaded,this.dispatch(n5y),this._lastProgressTriggered=utils.getTimer(),this._lastEvent=T3yy.r0B):this._lastEvent=n5y;};S5y.prototype.onError=function(d5y){this.dispatch(new events._Event(events._Event.ERROR,this));};S5y.prototype.close=function(){T3yy.r0B!=this.xhr&&(this.xhr.onprogress=T3yy.r0B,this.xhr.onreadystatechange=T3yy.r0B,this.xhr.abort());};S5y.prototype.dispose=function(){var O4a=T3yy;this.data=this.response=O4a.r0B;this.requestHeaders=[];O4a.r0B!=this.xhr&&(this.xhr.onprogress=O4a.r0B,this.xhr.onreadystatechange=O4a.r0B);this._lastProgressTriggered=this._lastEvent=this.xhr=O4a.r0B;};return S5y;}(events.EventDispatcher);y5y.URLStream=g5y;var a5y=function(){var J2B="xml";c5y.TEXT=T3yy.A6B;c5y.XML=J2B;c5y.HTML=C3yy.F2B;function c5y(){}c5y.JSON=C3yy.Q2B;return c5y;}();y5y.DataType=a5y;var X5y=function(){var u2B="text/plain";var D2B="application/json";var e2B="application/x-www-form-urlencoded";A5y.TEXT_PLAIN=u2B;function A5y(){}A5y.TEXT_XML=C3yy.Z2B;A5y.APPLICATION_JSON=D2B;A5y.APPLICATION_URLENCODED=e2B;return A5y;}();y5y.ContentType=X5y;var b5y=function(){var P2B="POST";l5y.POST=P2B;function l5y(){}l5y.GET=C3yy.i4B;return l5y;}();y5y.URLRequestMethod=b5y;var z5y=function(){return function(h5y,M5y){this.header=h5y;this.value=M5y;};}();y5y.URLRequestHeader=z5y;g5y=function(){H5y.prototype.toString=function(){var V5y=[],U5y;for(U5y in this.data)V5y.push(U5y+C3yy.B2B+this.data[U5y]);return V5y.join(C3yy.O2B);};function H5y(){this.data={};}return H5y;}();y5y.URLVariables=g5y;}(misc||(misc={})));(function(t5y){var G5y=function(q5y){__extends(r5y,q5y);r5y.prototype.browse=function(N5y){var y4a=T3yy;var g2B="change";var k2B="accept";var I5y=this;void y4a.N5B===N5y&&(N5y=[]);this.input=document.createElement(y4a.F6B);this.input.setAttribute(y4a.c6B,C3yy.j2B);this.input.style.display=y4a.Q6B;document.body.appendChild(this.input);this.input.setAttribute(k2B,N5y.join(C3yy.y2B));this.input.addEventListener(g2B,function(){return I5y.onChange();});this.dialogOpened=!y4a.N5B;this.input.click();};r5y.prototype.onChange=function(){this.dialogOpened=!T3yy.I5B;utils.nullOrUndefined(this.input.files)||utils.nullOrUndefined(this.input.files[T3yy.N5B])||(this.file=this.input.files[T3yy.N5B],this.dispatchWith(events._Event.SELECT));};r5y.prototype.onFocus=function(){var i5y=this;this.dialogOpened&&utils.fmSetTimeout(function(){(utils.nullOrUndefined(i5y.input.files)||utils.nullOrUndefined(i5y.input.files[T3yy.N5B]))&&i5y.dispatchWith(events._Event.CANCEL);i5y.dialogOpened=!T3yy.I5B;},T3yy.E0B);};r5y.prototype.load=function(C1y){var T1y=this;void T3yy.N5B===C1y&&(C1y=x5y.TEXT);T3yy.r0B!=this.file&&(this.reader=new FileReader(),this.reader.onload=function(J1y){return T1y.onLoad(J1y);},this.reader.onprogress=function(F1y){return T1y.onProgress(F1y);},this.reader.onerror=function(Q1y){return T1y.onError(Q1y);},C1y==x5y.ARRAY_BUFFER?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file));};r5y.prototype.onLoad=function(u1y){this.response=this.reader.result;this.dispatch(new events._Event(events._Event.COMPLETE,this));};r5y.prototype.onProgress=function(Z1y){this.dispatch(Z1y);};r5y.prototype.onError=function(D1y){this.dispatch(D1y);};r5y.prototype.dispose=function(){this.reader=this.file=this.response=T3yy.r0B;};function r5y(){var L5y=q5y.call(this)||this;L5y.dialogOpened=!T3yy.I5B;document.body.onfocus=function(){return L5y.onFocus();};return L5y;}return r5y;}(events.EventDispatcher);t5y.FileReference=G5y;var x5y=function(){var X2B="ARRAY_BUFFER";var a2B="TEXT";e1y.TEXT=a2B;e1y.ARRAY_BUFFER=X2B;function e1y(){}return e1y;}();t5y.ReadMethod=x5y;}(misc||(misc={})));(function(O1y){var P1y=function(){var N1a=T3yy;var b2B="item";Object.defineProperty(k1y.prototype,b2B,{get:function(){return this[N1a.N5B];},enumerable:!N1a.N5B,configurable:!N1a.N5B});k1y.prototype.find=function(y1y){return void N1a.N5B===this.item?this:this.item.find(y1y);};function k1y(){}k1y.prototype.text=function(){return void N1a.N5B===this.item?N1a.o9B:this.item.text();};k1y.prototype.attr=function(g1y,a1y){return void N1a.N5B===this.item?void N1a.N5B:a1y?this.item.attr(g1y,a1y):this.item.attr(g1y);};k1y.prototype.children=function(){for(var b1y=new k1y(),X1y=N1a.N5B;void N1a.N5B!==this[X1y];)b1y[X1y++]=B1y.convert(this[X1y]);return b1y;};k1y.prototype.push=function(z1y){this[this.length]=z1y;return this;};Object.defineProperty(k1y.prototype,C3yy.z2B,{get:function(){for(var S1y=N1a.N5B;void N1a.N5B!==this[S1y];)S1y++;return S1y;},enumerable:!N1a.N5B,configurable:!N1a.N5B});return k1y;}();O1y.XMLNodeList=P1y;var B1y=function(R1y){__extends(m1y,R1y);function m1y(){return T3yy.r0B!==R1y&&R1y.apply(this,arguments)||this;}m1y.prototype.text=function(s1y){return s1y||!T3yy.I5B===s1y?(this.textContent=s1y.toString(),this):s1y=utils.nullOrUndefined(this.textContent)?T3yy.o9B:this.textContent;};m1y.prototype.append=function(f1y){if(utils.nullOrUndefined(f1y)||T3yy.q9B==typeof f1y&&utils.nullOrEmpty(f1y))return this;(f1y instanceof CDATASection||T3yy.o9B!=f1y.textContent)&&this.appendChild(f1y);return this;};m1y.prototype.isEmpty=function(){return T3yy.o9B==this.text();};m1y.prototype.find=function(E1y){E1y=this.querySelectorAll(E1y);for(var v1y=new P1y(),K1y=T3yy.N5B;K1y<E1y.length;K1y++)v1y[K1y]=m1y.convert(E1y[K1y]);return v1y;};m1y.prototype.attr=function(W1y,Y1y){if(Y1y||!T3yy.I5B===Y1y)return this.setAttribute(W1y,Y1y),this;Y1y=this.getAttribute(W1y);T3yy.r0B==Y1y&&(Y1y=void T3yy.N5B);return Y1y;};m1y.prototype.getChildren=function(){for(var o1y=new P1y(),p1y=this.firstElementChild;p1y;)p1y.nodeType===Node.ELEMENT_NODE&&o1y.push(m1y.convert(p1y)),p1y=p1y.nextElementSibling;return o1y;};Object.defineProperty(m1y.prototype,C3yy.z2B,{get:function(){return this.childNodes.length;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});m1y.convert=function(w1y){w1y.find=m1y.prototype.find;w1y.append=m1y.prototype.append;w1y.text=m1y.prototype.text;w1y.attr=m1y.prototype.attr;w1y.isEmpty=m1y.prototype.isEmpty;w1y.getChildren=m1y.prototype.getChildren;return w1y;};return m1y;}(Element);O1y.XMLNode=B1y;var j1y=function(){var r2B="<tmp/>";n1y.create=function(d1y){if(T3yy.r0B==d1y.firstChild){d1y=new DOMParser().parseFromString(d1y,C3yy.Z2B);if(n1y.isParseError(d1y))return T3yy.r0B;d1y=d1y.firstElementChild?d1y.firstElementChild:d1y.firstChild;}else d1y=d1y.firstChild;return B1y.convert(d1y);};n1y.isParseError=function(c1y){var W4a=T3yy;var S2B="parsererror";if(!c1y.getElementsByTagName(S2B)||!c1y.getElementsByTagName(S2B)[W4a.N5B])return!W4a.I5B;var A1y=c1y.getElementsByTagName(S2B)[W4a.N5B].namespaceURI;return W4a.N5B<c1y.getElementsByTagNameNS(A1y,S2B).length;};function n1y(){throw Error(C3yy.m2B);}n1y.cdata=function(l1y){return n1y.doc.createCDATASection(l1y);};n1y.toXMLString=function(H1y,M1y){var o4a=T3yy;void o4a.N5B===M1y&&(M1y=!o4a.I5B);o4a.r0B==n1y.serializer&&(n1y.serializer=new XMLSerializer());var h1y=n1y.serializer.serializeToString(H1y);!o4a.N5B==M1y&&(h1y=n1y.format(h1y));return h1y.trim();};n1y.format=function(U1y){var w4a=T3yy;var f2B="~::~xmlns:";var p2B=/--\x3e/;var w2B=/!DOCTYPE/;var V2B=/<\?/;var n2B=/^<\w/;var s2B="~::~<";var K2B="~::~xmlns=";var A2B=/^<\/[\w:\-\.\,]+/;var o2B=/\]>/;var c2B=/^<[\w:\-\.\,]+/;var x2B=/xmlns\=/;var R2B="><";var E2B="~::~";var d2B=/^<\/\w/;var t2B="<![CDATA[";var H2B=/\/>/;var h2B=/<\w/;var G2B="]]\x3e";var U2B=/xmlns\:/;var Y2B="    ";var W2B=/<!/;var M2B=/<\//;U1y=U1y.replace(/>\s{0,}</g,R2B).replace(/</g,s2B).replace(/\s*xmlns\:/g,f2B).replace(/\s*xmlns\=/g,K2B).split(E2B);for(var q1y=U1y.length,G1y=!w4a.I5B,r1y=w4a.N5B,x1y=w4a.o9B,V1y=w4a.N5B,t1y=[C3yy.v2B],V1y=w4a.N5B;w4a.X1B>V1y;V1y++)t1y.push(t1y[V1y]+Y2B);for(V1y=w4a.N5B;V1y<q1y;V1y++)if(-w4a.I5B<U1y[V1y].search(W2B)){if(x1y+=t1y[r1y]+U1y[V1y],G1y=!w4a.N5B,-w4a.I5B<U1y[V1y].search(p2B)||-w4a.I5B<U1y[V1y].search(o2B)||-w4a.I5B<U1y[V1y].search(w2B))G1y=!w4a.I5B;}else-w4a.I5B<U1y[V1y].search(p2B)||-w4a.I5B<U1y[V1y].search(o2B)?(x1y+=U1y[V1y],G1y=!w4a.I5B):n2B.exec(U1y[V1y-w4a.I5B])&&d2B.exec(U1y[V1y])&&c2B.exec(U1y[V1y-w4a.I5B])[w4a.N5B]==A2B.exec(U1y[V1y])[w4a.N5B].replace(C3yy.l2B,w4a.o9B)?(x1y+=U1y[V1y],G1y||r1y--):x1y=-w4a.I5B<U1y[V1y].search(h2B)&&-w4a.I5B==U1y[V1y].search(M2B)&&-w4a.I5B==U1y[V1y].search(H2B)?G1y?x1y+=U1y[V1y]:x1y+=t1y[r1y++]+U1y[V1y]:-w4a.I5B<U1y[V1y].search(h2B)&&-w4a.I5B<U1y[V1y].search(M2B)?G1y?x1y+=U1y[V1y]:x1y+=t1y[r1y]+U1y[V1y]:-w4a.I5B<U1y[V1y].search(M2B)?G1y?x1y+=U1y[V1y]:x1y+=t1y[--r1y]+U1y[V1y]:-w4a.I5B<U1y[V1y].search(H2B)?G1y?x1y+=U1y[V1y]:x1y+=t1y[r1y]+U1y[V1y]:-w4a.I5B<U1y[V1y].search(V2B)?x1y+(t1y[r1y]+U1y[V1y]):-w4a.I5B<U1y[V1y].search(U2B)||-w4a.I5B<U1y[V1y].search(x2B)?x1y+(t1y[r1y]+U1y[V1y]):x1y+U1y[V1y];U1y=C3yy.v2B==x1y[w4a.N5B]?x1y.slice(w4a.I5B):x1y;U1y=U1y.replace(/[\r\n\s]*<\!\[CDATA\[/g,t2B);return U1y=U1y.replace(/]]\x3e\s*/g,G2B);};n1y.doc=new DOMParser().parseFromString(r2B,C3yy.Z2B);return n1y;}();O1y.XML=j1y;}(misc||(misc={})));(function(N1y){var L1y=function(){I1y.print=function(Q0y,J0y,F0y){var c4a=C3yy;var d4a=T3yy;var q2B="printer-";var T8B="<!DOCTYPE html>";var Z8B="body{-webkit-print-color-adjust:exact;}";var J8B="<head>";var D8B="</style>";var L2B="iframe";var B8B="</body>";var e8B="</head>";var O8B="</html>";void d4a.N5B===J0y&&(J0y=d4a.o9B);void d4a.N5B===F0y&&(F0y=d4a.o9B);var T0y=q2B+new Date().getTime(),C0y=new uicontrols.UIElement(L2B).attr(c4a.N2B,T0y);C0y.css(d4a.L9B,c4a.I2B).css(d4a.I9B,c4a.I2B).css(d4a.N6B,d4a.I6B).css(d4a.i9B,c4a.i2B);uicontrols.UIElement.convert(document.body).append(C0y);var T0y=window.frames[T0y],i1y=T0y.document;i1y.open();i1y.write(T8B);i1y.write(c4a.C8B);i1y.write(J8B);i1y.write(c4a.F8B);i1y.write(F0y);i1y.write(c4a.Q8B);i1y.write(c4a.u8B);i1y.write(J0y+Z8B);i1y.write(D8B);i1y.write(e8B);i1y.write(c4a.P8B);i1y.write(Q0y);i1y.write(B8B);i1y.write(O8B);i1y.close();T0y.focus();T0y.print();utils.fmSetTimeout(function(){C0y.remove();},c4a.j8B);};function I1y(){}return I1y;}();N1y.PrintJob=L1y;}(misc||(misc={})));var utils;(function(u0y){var k8B="target";var D0y=function(){Object.defineProperty(P0y.prototype,k8B,{get:function(){return T3yy.r0B;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});P0y.prototype.areListenersEqual=function(B0y,O0y){return B0y.type===O0y.type&&B0y.handler===O0y.handler&&B0y.useCapture===O0y.useCapture;};function P0y(){this.listeners={};}P0y.prototype.hasEventListener=function(k0y,y0y){var l4a=T3yy;if(u0y.nullOrUndefined(this.listeners[k0y]))return!l4a.I5B;for(var j0y=l4a.N5B;j0y<this.listeners[k0y].length;j0y++)if(this.areListenersEqual(this.listeners[k0y][j0y],y0y))return!l4a.N5B;return!l4a.I5B;};P0y.prototype.addEventListener=function(g0y,X0y,b0y){var a0y={type:g0y,handler:X0y,useCapture:b0y};this.hasEventListener(g0y,a0y)||(u0y.nullOrUndefined(this.listeners[g0y])&&(this.listeners[g0y]=[]),this.listeners[g0y].push(a0y),this.target.addEventListener(g0y,X0y,b0y));};P0y.prototype.removeEventListener=function(z0y,m0y,R0y){m0y={type:z0y,handler:m0y,useCapture:R0y};for(z0y in this.listeners){for(var s0y=[],S0y=T3yy.N5B;S0y<this.listeners[z0y].length;S0y++)this.areListenersEqual(this.listeners[z0y][S0y],m0y)?C3yy.y8B===typeof R0y?this.target.removeEventListener(z0y,this.listeners[z0y][S0y].handler,R0y):this.target.removeEventListener(z0y,this.listeners[z0y][S0y].handler):s0y.push(this.listeners[z0y][S0y]);this.listeners[z0y]=s0y;}};P0y.prototype.dispose=function(){for(var f0y in this.listeners)for(var K0y=T3yy.N5B;K0y<this.listeners[f0y].length;K0y++)this.target.removeEventListener(f0y,this.listeners[f0y][K0y].handler,!T3yy.N5B),this.target.removeEventListener(f0y,this.listeners[f0y][K0y].handler,!T3yy.I5B);this.listeners={};};return P0y;}(),e0y=function(v0y){__extends(E0y,v0y);E0y.getInstance=function(){T3yy.r0B==E0y.instance&&(E0y.instance=new E0y());return E0y.instance;};Object.defineProperty(E0y.prototype,k8B,{get:function(){return document;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function E0y(){return T3yy.r0B!==v0y&&v0y.apply(this,arguments)||this;}return E0y;}(D0y),D0y=function(W0y){__extends(Y0y,W0y);Y0y.getInstance=function(){T3yy.r0B==Y0y.instance&&(Y0y.instance=new Y0y());return Y0y.instance;};Object.defineProperty(Y0y.prototype,k8B,{get:function(){return window;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function Y0y(){return T3yy.r0B!==W0y&&W0y.apply(this,arguments)||this;}return Y0y;}(D0y),Z0y=function(){p0y.dispose=function(){for(;T3yy.N5B<p0y.timeouts.length;)clearTimeout(p0y.timeouts.pop());for(;T3yy.N5B<p0y.intervals.length;)clearInterval(p0y.intervals.pop());};p0y.timeouts=[];p0y.intervals=[];function p0y(){}return p0y;}();u0y.Timers=Z0y;u0y.fmSetTimeout=function(w0y,n0y){var o0y=setTimeout(w0y,n0y);Z0y.timeouts.push(o0y);return o0y;};u0y.fmClearTimeout=function(d0y){clearTimeout(d0y);Z0y.timeouts.splice(Z0y.timeouts.indexOf(d0y),T3yy.I5B);};u0y.fmSetInterval=function(A0y,l0y){var c0y=setInterval(A0y,l0y);Z0y.intervals.push(c0y);return c0y;};u0y.fmClearInterval=function(h0y){clearInterval(h0y);Z0y.intervals.splice(Z0y.intervals.indexOf(h0y),T3yy.I5B);};u0y.fmdocument=e0y.getInstance();u0y.fmwindow=D0y.getInstance();}(utils||(utils={})));(function(H0y){var M0y=function(U0y){var g8B="onresize";__extends(V0y,U0y);V0y.prototype.resetTriggers=function(G0y){var r4a=T3yy;var r0y=G0y.__resizeTriggers__;G0y=r0y.firstElementChild;var r0y=r0y.lastElementChild,q0y=G0y.firstElementChild;r0y.scrollLeft=r0y.scrollWidth;r0y.scrollTop=r0y.scrollHeight;q0y.style.width=G0y.offsetWidth+r4a.I5B+r4a.m9B;q0y.style.height=G0y.offsetHeight+r4a.I5B+r4a.m9B;G0y.scrollLeft=G0y.scrollWidth;G0y.scrollTop=G0y.scrollHeight;};V0y.prototype.checkTriggers=function(L0y){return L0y.offsetWidth!=L0y.__resizeLast__.width||L0y.offsetHeight!=L0y.__resizeLast__.height;};V0y.prototype.scrollListener=function(){var I0y=this;if(T3yy.r0B!=this._target){var N0y=this._target.element;this.resetTriggers(N0y);N0y.__resizeRAF__&&this._target.cancelAnimationFrame(N0y.__resizeRAF__);N0y.__resizeRAF__=this._target.requestAnimationFrame(function(){I0y.checkTriggers(N0y)&&(N0y.__resizeLast__.width=N0y.offsetWidth,N0y.__resizeLast__.height=N0y.offsetHeight,I0y.dispatchResize());});}};V0y.prototype.dispatchResize=function(){this.dispatchWith(events._Event.RESIZE);};function V0y(t0y){var x0y=U0y.call(this)||this;x0y._scrollListener=function(){return x0y.scrollListener();};x0y._dispatchResize=function(){return x0y._dispatchResize();};x0y._target=t0y;x0y.startListener(x0y._target.element);return x0y;}V0y.prototype.startListener=function(i0y){var z8B='<div class="wdr-expand-trigger"><div></div></div><div class="wdr-contract-trigger"></div>';var b8B="wdr-resize-triggers";var a8B="static";i0y.attachEvent?i0y.attachEvent(g8B,this._dispatchResize):i0y.__resizeTriggers__||(a8B==getComputedStyle(i0y).position&&(i0y.style.position=C3yy.X8B),i0y.__resizeLast__={},i0y.__resizeListeners__=[],i0y.__resizeTriggers__=document.createElement(T3yy.w9B),i0y.__resizeTriggers__.className=b8B,i0y.__resizeTriggers__.innerHTML=z8B,i0y.appendChild(i0y.__resizeTriggers__),this.resetTriggers(i0y),i0y.addEventListener(C3yy.c4B,this._scrollListener,!T3yy.N5B));};V0y.prototype.stopListener=function(T9y){T9y.detachEvent?T9y.detachEvent(g8B,this._dispatchResize):(T9y.removeEventListener(C3yy.c4B,this._scrollListener),T9y.__resizeTriggers__=!T9y.removeChild(T9y.__resizeTriggers__));};V0y.prototype.dispose=function(){this._target&&this._target.element&&this.stopListener(this._target.element);this._dispatchResize=this._scrollListener=this._target=T3yy.r0B;};return V0y;}(events.EventDispatcher);H0y.ResizeListener=M0y;}(utils||(utils={})));(function(J9y){var C9y=function(){var A0B=3600;F9y.isHttpURL=function(Q9y){var m8B="https://";var S8B="http://";return T3yy.r0B!=Q9y&&(T3yy.N5B==Q9y.indexOf(S8B)||T3yy.N5B==Q9y.indexOf(m8B));};function F9y(){}F9y.isBlobURL=function(u9y){var R8B="blob:http";return T3yy.r0B!=u9y&&T3yy.N5B==u9y.indexOf(R8B);};F9y.getUrl=function(Z9y,e9y){var F2a=C3yy;var J2a=T3yy;var K8B="..";void J2a.N5B===e9y&&(e9y=!J2a.I5B);if(!Z9y)return F2a.s8B;Z9y=Z9y.trim();if(J2a.N5B==Z9y.length)return F2a.s8B;if(F9y.isBlobURL(Z9y))return Z9y;if(e9y){var D9y=-J2a.I5B<Z9y.indexOf(F2a.f8B)?F2a.O2B:F2a.f8B;Z9y+=D9y+Math.round(Date.now()/A0B);}if(F9y.isHttpURL(Z9y)||J2a.N5B==Z9y.indexOf(F2a.j2B)||F2a.l2B==Z9y.substr(J2a.N5B,J2a.I5B))return Z9y;if(-J2a.I5B!=Z9y.indexOf(K8B)){for(D9y=Z9y.split(F2a.l2B);K8B==D9y[J2a.N5B];)J2a.N5B<D9y.length&&D9y.shift();Z9y=F2a.l2B+D9y.join(F2a.l2B);F2a.l2B==Z9y.substr(J2a.N5B,J2a.I5B)&&(Z9y=Z9y.substring(J2a.I5B));}return Z9y;};F9y.addTimestamp=function(P9y){var B9y=-T3yy.I5B<P9y.indexOf(C3yy.f8B)?C3yy.O2B:C3yy.f8B;return P9y+=B9y+Math.round(Date.now()/A0B);};return F9y;}();J9y.URLUtils=C9y;}(utils||(utils={})));(function(j9y){var O9y=function(){var E8B="UTC:";var i8B="Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday";var T3J="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December";k9y.isUTCFormat=function(y9y){return E8B==y9y.slice(T3yy.N5B,T3yy.C1B);};k9y.format=function(a9y,s9y){var D2a=T3yy;var N8B="rd";var l8B="p";var c8B="Seconds";var r8B="th";var U8B="AM";var q8B="st";var A8B="Milliseconds";var v8B="getUTC";var h8B="am";var Y8B="get";var H8B="A";var V8B="P";var d8B="Minutes";var n8B="Hours";var W8B="Date";var t8B="UTC";var x8B="PM";var L8B="nd";var w8B="FullYear";var M8B="pm";var S9y=!D2a.I5B;E8B==s9y.slice(D2a.N5B,D2a.C1B)&&(s9y=s9y.slice(D2a.C1B),S9y=!D2a.N5B);var g9y=S9y?v8B:Y8B,X9y=a9y[g9y+W8B](),m9y=a9y[g9y+C3yy.p8B](),z9y=a9y[g9y+C3yy.o8B](),R9y=a9y[g9y+w8B](),b9y=a9y[g9y+n8B](),K9y=a9y[g9y+d8B](),E9y=a9y[g9y+c8B](),g9y=a9y[g9y+A8B](),f9y=S9y?D2a.N5B:a9y.getTimezoneOffset(),v9y={d:X9y,dd:k9y.pad(X9y),ddd:k9y.i18n.dayNames[m9y],dddd:k9y.i18n.dayNames[m9y+D2a.Q1B],D:X9y,DD:k9y.pad(X9y),DDD:k9y.i18n.dayNames[m9y],DDDD:k9y.i18n.dayNames[m9y+D2a.Q1B],M:z9y+D2a.I5B,MM:k9y.pad(z9y+D2a.I5B),MMM:k9y.i18n.monthNames[z9y],MMMM:k9y.i18n.monthNames[z9y+D2a.P1B],yy:String(R9y).slice(D2a.i5B),yyyy:R9y,YY:String(R9y).slice(D2a.i5B),YYYY:R9y,h:b9y%D2a.P1B||D2a.P1B,hh:k9y.pad(b9y%D2a.P1B||D2a.P1B),H:b9y,HH:k9y.pad(b9y),m:K9y,mm:k9y.pad(K9y),s:E9y,ss:k9y.pad(E9y),l:k9y.pad(g9y,D2a.T1B),L:k9y.pad(D2a.J0B<g9y?Math.round(g9y/D2a.D1B):g9y),t:D2a.P1B>b9y?D2a.a6B:l8B,tt:D2a.P1B>b9y?h8B:M8B,T:D2a.P1B>b9y?H8B:V8B,TT:D2a.P1B>b9y?U8B:x8B,Z:S9y?t8B:(String(a9y).match(k9y.timezone)||[D2a.o9B]).pop().replace(k9y.timezoneClip,D2a.o9B),o:(D2a.N5B<f9y?D2a.P6B:C3yy.G8B)+k9y.pad(D2a.F0B*Math.floor(Math.abs(f9y)/D2a.H1B)+Math.abs(f9y)%D2a.H1B,D2a.C1B),S:[r8B,q8B,L8B,N8B][D2a.T1B<X9y%D2a.D1B?D2a.N5B:(D2a.D1B!=X9y%D2a.F0B-X9y%D2a.D1B?D2a.I5B:D2a.N5B)*X9y%D2a.D1B]};return s9y.replace(k9y.token,function(Y9y){return Y9y in v9y?v9y[Y9y]:Y9y.slice(D2a.I5B,Y9y.length-D2a.I5B);});};k9y.pad=function(o9y,p9y){var W9y=T3yy.o9B+o9y;for(p9y=p9y||T3yy.i5B;W9y.length<p9y;)W9y=C3yy.I8B+W9y;return W9y;};k9y.setDayNames=function(w9y,n9y){k9y.i18n.dayNames=n9y.concat(w9y);};k9y.setMonthNames=function(d9y,c9y){k9y.i18n.monthNames=c9y.concat(d9y);};k9y.token=/d{1,4}|D{1,4}|m{1,4}|M{1,4}|yy(?:yy)?|YY(?:YY)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;k9y.timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;function k9y(){}k9y.timezoneClip=/[^-+\dA-Z]/g;k9y.i18n={dayNames:i8B.split(T3yy.L0B),monthNames:T3J.split(T3yy.L0B)};return k9y;}();j9y.DateFormat=O9y;}(utils||(utils={})));(function(A9y){var h9y=function(){var S3J="&lt;";var m3J="&gt;";var z3J="&amp;";var f3J="&#x2F;";var R3J="&quot;";V9y.toBoolean=function(U9y){return void T3yy.N5B!==U9y&&T3yy.r0B!==U9y&&(C3yy.C3J==U9y.toLowerCase()||T3yy.y6B==U9y.toLowerCase());};V9y.generateID=function(){var k2a=T3yy;var n0B=2012;var x9y=new Date().getTime()-new Date(n0B,k2a.i5B,k2a.u1B).getTime();if(V9y.lastGeneratedID==x9y)return x9y.toString(k2a.Y1B)+(V9y.lastGeneratedIDSuffix++).toString();V9y.lastGeneratedID=x9y;V9y.lastGeneratedIDSuffix=k2a.N5B;return x9y.toString(k2a.Y1B);};V9y.bind=function(G9y){var y2a=T3yy;var F3J="\\}";var Q3J="gi";var J3J="\\{";for(var r9y=[],t9y=y2a.I5B;t9y<arguments.length;t9y++)r9y[t9y-y2a.I5B]=arguments[t9y];if(A9y.nullOrUndefined(G9y))return G9y;for(t9y=y2a.N5B;t9y<r9y.length;t9y++)G9y=G9y.replace(RegExp(J3J+t9y+F3J,Q3J),y2a.r0B==r9y[t9y]?y2a.o9B:r9y[t9y].toString());return G9y;};V9y.concat=function(q9y,I9y){var g2a=T3yy;var m0B=256;if(g2a.N5B==q9y.length)return I9y;var i9y=g2a.N5B<q9y.length?q9y.charCodeAt(q9y.length-g2a.I5B):-g2a.I5B,L9y=g2a.N5B<q9y.length?q9y.charCodeAt(q9y.length-g2a.i5B):-g2a.I5B,N9y=g2a.o9B;if(-g2a.I5B!=L9y&&g2a.Z0B<L9y&&m0B>L9y&&!(g2a.e0B<L9y&&g2a.g0B>L9y))return N9y=I9y.charCodeAt(g2a.N5B),N9y=String.fromCharCode((L9y&g2a.j1B)<<g2a.P1B|(i9y&g2a.x1B)<<g2a.F1B|N9y&g2a.x1B),q9y.substr(g2a.N5B,q9y.length-g2a.i5B)+N9y+I9y.substr(g2a.I5B);if(!(g2a.Z0B>i9y||m0B<i9y)){if(g2a.e0B<i9y&&g2a.g0B>i9y)return L9y=I9y.charCodeAt(g2a.N5B),N9y=String.fromCharCode((i9y&g2a.K1B)<<g2a.F1B|L9y&g2a.x1B),q9y.substr(g2a.N5B,q9y.length-g2a.I5B)+N9y+I9y.substr(g2a.I5B);if(m0B>i9y)return L9y=I9y.charCodeAt(g2a.N5B),N9y=I9y.charCodeAt(g2a.I5B),N9y=String.fromCharCode((i9y&g2a.j1B)<<g2a.P1B|(L9y&g2a.x1B)<<g2a.F1B|N9y&g2a.x1B),q9y.substr(g2a.N5B,q9y.length-g2a.I5B)+N9y+I9y.substr(g2a.i5B);}return q9y+I9y;};V9y.toTime=function(T6y){var X2a=C3yy;var a2a=T3yy;var Z3J="d ";if(isNaN(T6y))return pivot.model._labels.Labels.INVALID_DATE;var J6y=a2a.o9B,F6y=a2a.N5B>T6y;a2a.N5B>T6y&&(T6y*=-a2a.I5B);T6y=Math.round(T6y);var C6y=T6y%a2a.H1B,J6y=a2a.D1B>C6y?X2a.I8B+C6y:C6y.toString();T6y=(T6y-C6y)/a2a.H1B;C6y=T6y%a2a.H1B;J6y=(a2a.D1B>C6y?X2a.I8B+C6y:C6y.toString())+X2a.u3J+J6y;T6y=(T6y-C6y)/a2a.H1B;C6y=T6y%a2a.S1B;J6y=(a2a.D1B>C6y?X2a.I8B+C6y:C6y.toString())+X2a.u3J+J6y;T6y=(T6y-C6y)/a2a.S1B;a2a.N5B<T6y&&(J6y=T6y.toString()+Z3J+J6y);F6y&&(J6y=a2a.P6B+J6y);return J6y;};V9y.toDate=function(Q6y,u6y){void T3yy.N5B===u6y&&(u6y=C3yy.D3J);if(isNaN(Q6y)||T3yy.N5B==Q6y)return pivot.model._labels.Labels.INVALID_DATE;var Z6y=new Date(Q6y);return isNaN(Z6y.getTime())?T3yy.o9B:A9y.DateFormat.format(Z6y,u6y);};V9y.toDateTime=function(e6y,D6y){void T3yy.N5B===D6y&&(D6y=C3yy.e3J);return V9y.toDate(e6y,D6y);};V9y.isDate=function(P6y){var P3J=/\d+/;return this.matchesISODate(P6y)&&!isNaN(Date.parse(P6y))&&(T3yy.I5B<P6y.match(P3J).length||T3yy.I5B==P6y.match(P3J).length&&new Date(Date.parse(P6y)).toDateString()!=new Date(Date.parse(P6y.match(P3J)[T3yy.N5B])).toDateString());};V9y.matchesISODate=function(B6y){return A9y.detectBrowser().isChrome&&!B6y.match(C3yy.B3J)?!T3yy.I5B:!T3yy.N5B;};V9y.fromRgbToHex=function(O6y){var K2a=T3yy;var j3J="transparent";var S0B=255;if(l9y(O6y))return K2a.N5B;if(C3yy.O3J===O6y.substr(K2a.N5B,K2a.I5B))return parseInt(O6y.substr(K2a.I5B),K2a.k1B);j3J==O6y&&(O6y=C3yy.k3J);O6y=O6y.replace(/[^\d,]/g,K2a.o9B);O6y=O6y.split(C3yy.y2B);var j6y=parseInt(O6y[K2a.N5B]),k6y=parseInt(O6y[K2a.I5B]),y6y=parseInt(O6y[K2a.i5B]);K2a.N5B===parseInt(O6y[K2a.T1B])&&(j6y=k6y=y6y=S0B);return y6y|k6y<<K2a.u1B|j6y<<K2a.k1B;};V9y.strToUint8Arr=function(a6y){for(var X6y=new Uint8Array(a6y.length),g6y=T3yy.N5B,b6y=a6y.length;g6y<b6y;++g6y)X6y[g6y]=a6y.charCodeAt(g6y);return X6y;};V9y.strToUint8ArrExtended=function(m6y){for(var z6y=new pivot.DataStream(new ArrayBuffer(m6y.length)),S6y=T3yy.N5B,R6y=m6y.length;S6y<R6y;++S6y)z6y.writeString(m6y.charAt(S6y));z6y.seek(T3yy.N5B);return z6y.readUint8Array(z6y.byteLength);};function V9y(){}V9y.dataURItoUint8Arr=function(s6y){var W2a=T3yy;var y3J="base64";s6y=-W2a.I5B!==s6y.split(C3yy.y2B)[W2a.N5B].indexOf(y3J)?atob(s6y.split(C3yy.y2B)[W2a.I5B]):decodeURI(s6y.split(C3yy.y2B)[W2a.I5B]);return V9y.strToUint8Arr(s6y);};V9y.decode2=function(K6y){var o2a=T3yy;var E6y,f6y,W6y,v6y,Y6y,p6y;E6y=o2a.o9B;W6y=K6y.length;for(f6y=o2a.N5B;f6y<W6y;)switch(v6y=K6y[f6y++],v6y>>o2a.C1B){case o2a.N5B:case o2a.I5B:case o2a.i5B:case o2a.T1B:case o2a.C1B:case o2a.J1B:case o2a.F1B:case o2a.Q1B:E6y+=String.fromCharCode(v6y);break;case o2a.P1B:case o2a.B1B:Y6y=K6y[f6y++];E6y+=String.fromCharCode((v6y&o2a.K1B)<<o2a.F1B|Y6y&o2a.x1B);break;case o2a.O1B:Y6y=K6y[f6y++],p6y=K6y[f6y++],E6y+=String.fromCharCode((v6y&o2a.j1B)<<o2a.P1B|(Y6y&o2a.x1B)<<o2a.F1B|(p6y&o2a.x1B)<<o2a.N5B);}return E6y;};V9y.decode=function(n6y){for(var w6y=T3yy.o9B,o6y=T3yy.N5B;o6y<n6y.length;o6y++)w6y+=String.fromCharCode(n6y[o6y]);return decodeURIComponent(escape(w6y));};V9y.contains=function(d6y,c6y){return-T3yy.I5B<d6y.toLowerCase().indexOf(c6y);};V9y.parseBool=function(A6y){var d2a=T3yy;d2a.q9B==typeof A6y&&(A6y=String(A6y).toLowerCase());return C3yy.C3J===A6y||d2a.y6B===A6y||d2a.I5B===A6y||!d2a.N5B===A6y;};V9y.toNumber=function(l6y){var A2a=T3yy;if(A2a.r0B==l6y)return NaN;if(A2a.r9B===typeof l6y)return l6y;A2a.q9B!==typeof l6y&&(l6y=l6y.toString());C3yy.y2B==pivot.model.format.FormatManager.getFormat(A2a.o9B).thousandsSeparator&&(l6y=l6y.replace(/,/gi,A2a.o9B));l6y=l6y.replace(C3yy.y2B,C3yy.g3J);l6y=l6y.replace(/[^[,|\.|\-|\d|e]]*/gi,A2a.o9B);return parseFloat(l6y);};V9y.trim=function(h6y,V6y){var h2a=T3yy;void h2a.N5B===V6y&&(V6y=h2a.r0B);if(h2a.r0B==h6y)return h2a.o9B;for(var M6y=h2a.N5B;V9y.isWhitespace(h6y.charAt(M6y),V6y);)++M6y;for(var H6y=h6y.length-h2a.I5B;V9y.isWhitespace(h6y.charAt(H6y),V6y);)--H6y;return H6y>=M6y?h6y.slice(M6y,H6y+h2a.I5B):h2a.o9B;};V9y.trimLeft=function(x6y,t6y){var M2a=T3yy;void M2a.N5B===t6y&&(t6y=M2a.r0B);if(M2a.r0B==x6y)return M2a.o9B;for(var U6y=M2a.N5B;V9y.isWhitespace(x6y.charAt(U6y),t6y);)++U6y;var G6y=x6y.length-M2a.I5B;return G6y>=U6y?x6y.slice(U6y,G6y+M2a.I5B):M2a.o9B;};V9y.isWhitespace=function(q6y,r6y){var H2a=T3yy;var b3J="\f";void H2a.N5B===r6y&&(r6y=H2a.r0B);if(H2a.r0B!=r6y&&q6y==r6y)return!H2a.I5B;switch(q6y){case H2a.L0B:case C3yy.a3J:case C3yy.X3J:case C3yy.v2B:case b3J:return!H2a.N5B;}return!H2a.I5B;};V9y.isEntity=function(N6y){for(var L6y in V9y.entityMap)if(V9y.entityMap[L6y]==N6y)return!T3yy.N5B;return!T3yy.I5B;};V9y.escapeHtml=function(i6y,I6y){void T3yy.N5B===I6y&&(I6y=!T3yy.I5B);return I6y?i6y.replace(/[<>"'\/]/g,function(T4y){return V9y.entityMap[T4y];}):i6y.replace(/[&<>"'\/]/g,function(C4y){return V9y.entityMap[C4y];});};V9y.lastGeneratedIDSuffix=T3yy.N5B;V9y.entityMap={"&":z3J,"<":S3J,">":m3J,'"':R3J,"'":C3yy.s3J,"/":f3J};return V9y;}();A9y.StringUtils=h9y;A9y.nullOrUndefined=l9y;A9y.nullOrEmpty=function(J4y){var B0a=T3yy;if(l9y(J4y)||B0a.q9B!=typeof J4y||B0a.N5B==J4y.trim().length)return!B0a.N5B;J4y=J4y.trim();for(var F4y=B0a.N5B;F4y<J4y.length;F4y++)if(B0a.N5B!=J4y.charCodeAt(F4y))return!B0a.I5B;return!B0a.N5B;};A9y.strEncode=function(Q4y){var K3J="{%7C}";return Q4y.replace(/\|/g,K3J);};A9y.strDecode=function(u4y){return u4y.replace(/{%7C}/g,C3yy.E3J);};function l9y(){var j0a=T3yy;for(var H9y=[],M9y=j0a.N5B;M9y<arguments.length;M9y++)H9y[M9y]=arguments[M9y];for(M9y=j0a.N5B;M9y<H9y.length;M9y++)if(j0a.k6B===typeof H9y[M9y]||j0a.r0B===H9y[M9y])return!j0a.N5B;return!j0a.I5B;}}(utils||(utils={})));(function(D4y){var Z4y=function(){var k0a=T3yy;e4y.sortOn=function(P4y,O4y,B4y,y4y){B4y>>=k0a.I5B;var j4y=k0a.I5B==B4y%k0a.i5B;B4y=B4y>>k0a.I5B>>k0a.I5B;var k4y=k0a.I5B==B4y%k0a.i5B;B4y>>=k0a.I5B;B4y=k0a.I5B==B4y%k0a.i5B;if(k4y)return P4y=e4y.sortIndices(P4y,O4y,y4y),j4y&&P4y.reverse(),P4y;B4y?e4y.sortNumeric(P4y,O4y):k0a.o9B==O4y?P4y.sort():P4y.sort(function(g4y,a4y){return g4y[O4y]==a4y[O4y]?k0a.N5B:g4y[O4y]>a4y[O4y]?k0a.I5B:-k0a.I5B;});j4y&&P4y.reverse();return P4y;};e4y.sort=function(b4y,X4y,z4y){void k0a.N5B===X4y&&(X4y=k0a.N5B);return e4y.sortOn(b4y,k0a.o9B,X4y,z4y);};e4y.sortNumeric=function(m4y,S4y){k0a.o9B==S4y?m4y.sort(function(R4y,s4y){return isNaN(R4y)?k0a.I5B:isNaN(s4y)?-k0a.I5B:R4y-s4y;}):m4y.sort(function(f4y,K4y){return isNaN(f4y[S4y])?k0a.I5B:isNaN(K4y[S4y])?-k0a.I5B:f4y[S4y]-K4y[S4y];});};e4y.sortIndices=function(Y4y,v4y,W4y){var E4y=[],p4y;for(p4y in Y4y)E4y.push([Y4y[p4y],parseInt(p4y)]);k0a.o9B==v4y?W4y?E4y.sort(function(w4y,n4y){return W4y(w4y[k0a.N5B],n4y[k0a.N5B]);}):E4y.sort(function(d4y,c4y){return d4y[k0a.N5B]==c4y[k0a.N5B]?k0a.N5B:d4y[k0a.N5B]>c4y[k0a.N5B]?k0a.I5B:-k0a.I5B;}):W4y?E4y.sort(function(A4y,l4y){return W4y(A4y[k0a.N5B][v4y],l4y[k0a.N5B][v4y]);}):E4y.sort(function(h4y,M4y){return h4y[k0a.N5B][v4y]==M4y[k0a.N5B][v4y]?k0a.N5B:h4y[k0a.N5B][v4y]>M4y[k0a.N5B][v4y]?k0a.I5B:-k0a.I5B;});Y4y=[];for(var o4y in E4y)Y4y.push(E4y[o4y][k0a.I5B]);return Y4y;};e4y.find=function(U4y,x4y,V4y){void k0a.N5B===V4y&&(V4y=k0a.r0B);for(var H4y=U4y.length-k0a.I5B;-k0a.I5B<H4y;H4y--)if(k0a.r0B===V4y&&U4y[H4y]===x4y||k0a.r0B!==V4y&&U4y[H4y][V4y]===x4y)return U4y[H4y];return k0a.r0B;};function e4y(){}e4y.findIndex=function(r4y,q4y,G4y){void k0a.N5B===G4y&&(G4y=k0a.r0B);for(var t4y=r4y.length-k0a.I5B;-k0a.I5B<t4y;t4y--)if(k0a.r0B===G4y&&r4y[t4y]===q4y||k0a.r0B!==G4y&&r4y[t4y][G4y]===q4y)return t4y;return-k0a.I5B;};e4y.insert=function(I4y,N4y,i4y){for(var L4y=k0a.N5B;L4y<N4y.length;L4y++)I4y.splice(i4y+L4y,k0a.N5B,N4y[L4y]);};e4y.CASEINSENSITIVE=k0a.I5B;e4y.DESCENDING=k0a.i5B;e4y.UNIQUESORT=k0a.C1B;e4y.RETURNINDEXEDARRAY=k0a.u1B;e4y.NUMERIC=k0a.k1B;return e4y;}();D4y.ArrayUtils=Z4y;}(utils||(utils={})));(function(T2y){var C2y=function(){J2y.prototype.addItem=function(F2y,Q2y){void T3yy.N5B===this.values[F2y]&&this.keys.push(F2y);this.values[F2y]=Q2y;};J2y.prototype.addUniqueItem=function(u2y,Z2y){this.keys.push(u2y);this.values[u2y]=Z2y;};J2y.prototype.unshift=function(D2y,e2y){this.keys.unshift(D2y);this.values[D2y]=e2y;};J2y.prototype.setItemAt=function(P2y,B2y,O2y){this.keys[O2y]=P2y;this.values[P2y]=B2y;};J2y.prototype.addItemAt=function(j2y,k2y,y2y){T3yy.r0B!=this.getItem(j2y)&&this.removeItem(j2y);this.keys.splice(y2y,T3yy.N5B,j2y);this.values[j2y]=k2y;};J2y.prototype.removeItem=function(g2y){T3yy.r0B!=this.getItem(g2y)&&(this.keys.splice(this.indexOf(g2y),T3yy.I5B),delete this.values[g2y]);};J2y.prototype.removeItemAt=function(X2y){var a2y=this.getKeyAt(X2y);T3yy.r0B!=a2y&&(this.keys.splice(X2y,T3yy.I5B),delete this.values[a2y]);};function J2y(){this.values={};this.keys=[];}Object.defineProperty(J2y.prototype,C3yy.z2B,{get:function(){return this.keys.length;},set:function(b2y){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});J2y.prototype.indexOf=function(z2y){return this.keys.indexOf(z2y);};J2y.prototype.keyExists=function(S2y){return T3yy.r0B!=this.values[S2y];};J2y.prototype.getItem=function(m2y){return this.values[m2y];};J2y.prototype.getItemAt=function(R2y){return this.getItem(this.keys[R2y]);};J2y.prototype.getKeyAt=function(s2y){return this.keys[s2y];};J2y.prototype.moveItemAt=function(f2y,K2y){this.keys.splice(K2y,T3yy.N5B,this.keys.splice(f2y,T3yy.I5B)[T3yy.N5B]);};J2y.prototype.slice=function(E2y,Y2y){var i2a=T3yy;void i2a.N5B===E2y&&(E2y=i2a.N5B);void i2a.N5B===Y2y&&(Y2y=i2a.N5B);i2a.N5B==Y2y&&(Y2y=this.length-E2y);for(var W2y=new J2y(),v2y=i2a.N5B;v2y<Y2y;v2y++)this.length>v2y+E2y&&(T2y.nullOrUndefined(this.getItemAt(v2y+E2y))||W2y.addItem(this.getKeyAt(v2y+E2y),this.getItemAt(v2y+E2y)));return W2y;};J2y.prototype.concat=function(o2y,n2y){var T8a=T3yy;void T8a.N5B===n2y&&(n2y=!T8a.N5B);if(!n2y)return this._concat(o2y),T8a.r0B;var p2y,w2y=new J2y();for(p2y=T8a.N5B;p2y<this.length;p2y++)w2y.addItem(this.getKeyAt(p2y),this.getItemAt(p2y));for(p2y=T8a.N5B;p2y<o2y.length;p2y++)w2y.addItem(o2y.getKeyAt(p2y),o2y.getItemAt(p2y));return w2y;};J2y.prototype._concat=function(c2y){var d2y,A2y=c2y.length;for(d2y=T3yy.N5B;d2y<A2y;d2y++)this.addItem(c2y.getKeyAt(d2y),c2y.getItemAt(d2y));};J2y.prototype.splice=function(M2y,l2y){var J8a=T3yy;void J8a.N5B===l2y&&(l2y=J8a.N5B);var H2y=new J2y();M2y+l2y>this.length&&(l2y=this.length-M2y);J8a.I5B>l2y&&(l2y=this.length);for(var h2y=J8a.N5B;h2y<this.length;h2y++)(h2y<M2y||h2y>=M2y+l2y)&&H2y.addItem(this.getKeyAt(h2y),this.getItemAt(h2y));return H2y;};J2y.prototype.reverse=function(){var V2y,U2y=new J2y();for(V2y=this.length-T3yy.I5B;-T3yy.I5B<V2y;V2y--)U2y.addItem(this.getKeyAt(V2y),this.getItemAt(V2y));return U2y;};J2y.prototype.toArray=function(x2y){var Q8a=T3yy;void Q8a.N5B===x2y&&(x2y=!Q8a.I5B);if(x2y)return this.keys.slice(Q8a.N5B);x2y=[];for(var t2y=Q8a.N5B;t2y<this.length;t2y++)x2y.push(this.getItemAt(t2y));return x2y;};J2y.prototype.toKeyArray=function(G2y){var u8a=T3yy;void u8a.N5B===G2y&&(G2y=!u8a.I5B);if(G2y)return this.keys.slice(u8a.N5B);G2y=[];for(var r2y=u8a.N5B;r2y<this.length;r2y++)G2y.push(this.getKeyAt(r2y));return G2y;};J2y.fromArray=function(N2y){for(var L2y=new J2y(),q2y=T3yy.N5B;q2y<N2y.length;q2y++)L2y.addItem(q2y.toString(),N2y[q2y]);return L2y;};J2y.convert=function(i2y,C8y){for(var T8y=new J2y(),I2y=T3yy.N5B;I2y<i2y.length;I2y++)T8y.addItem(i2y[I2y][C8y],i2y[I2y]);return T8y;};J2y.prototype.toString=function(){var Y3J=": ";var J8y=[],F8y;for(F8y in this.keys){var Q8y=C3yy.v3J+F8y+Y3J+this.getItem(F8y)+C3yy.W3J;J8y.push(Q8y);}return J8y.join(C3yy.p3J);};return J2y;}();T2y.AssociativeArray=C2y;}(utils||(utils={})));(function(Z8y){var u8y=function(){var L3J="$";var A3J="@";D8y.prototype.parse=function(e8y){var B8a=C3yy;var P8a=T3yy;var n3J="  ";var l3J=/(\W)[\'|\"][^\'|^\"]*[\'|\"]/i;var t3J="value()";var G3J="updateDifference()";var c3J=/(\w\w\w\()[\'|\"][^\'|^\"]*[\'|\"]/i;var r3J="updatePercent()";var V3J="if(";var h3J="#value";var M3J="#updateDifference";var U3J="sum(@";var H3J="#updatePercent";try{this.quotes=[];for(var X8y=[],g8y=!P8a.I5B,a8y=P8a.o9B,P8y=P8a.N5B;P8y<e8y.length;P8y++){var k8y=e8y.charAt(P8y);B8a.o3J==k8y||B8a.w3J==k8y?(g8y&&(this.quotes.push(a8y),X8y.push(k8y),a8y=P8a.o9B),g8y=!g8y):g8y&&(a8y+=k8y);}e8y=n3J+e8y;for(var B8y,P8y=P8a.N5B;P8y<this.quotes.length;P8y++)if(B8a.d3J!=this.quotes[P8y].toLowerCase()){var j8y=X8y[P8y]+this.quotes[P8y]+X8y[P8y],O8y=e8y.substring(P8a.N5B,e8y.indexOf(j8y)+j8y.length+P8a.i5B);B8y=c3J;if(B8y.test(O8y))e8y=e8y.replace(j8y,A3J+P8y);else{B8y=l3J;var b8y=(-P8a.I5B!=O8y.indexOf(h3J)||-P8a.I5B!=O8y.indexOf(M3J)||-P8a.I5B!=O8y.indexOf(H3J))&&-P8a.I5B!=O8y.indexOf(V3J);B8y.test(O8y)&&!b8y?e8y=e8y.replace(j8y,U3J+P8y+B8a.x3J):(B8y=l3J,e8y=e8y.replace(j8y,A3J+P8y));}}B8y=/\#value/g;e8y=e8y.replace(B8y,t3J);B8y=/\#updateDifference/g;e8y=e8y.replace(B8y,G3J);B8y=/\#updatePercent/g;e8y=e8y.replace(B8y,r3J);e8y=e8y.toLocaleLowerCase();var y8y=this._parse(e8y),y8y=y8y[P8a.I5B][P8a.N5B];}catch(z8y){return T3yy.r0B;}return y8y;};function D8y(){this.quotes=[];}D8y.prototype._parse=function(m8y){var j8a=C3yy;var O8a=T3yy;for(var f8y=[],R8y=O8a.o9B,K8y=m8y.length,S8y=O8a.N5B;S8y<m8y.length;S8y++){var s8y=m8y.charAt(S8y);if(j8a.q3J==s8y)R8y+=L3J+f8y.length+j8a.N3J,s8y=this._parse(m8y.slice(S8y+O8a.I5B)),f8y.push(s8y[O8a.I5B]),S8y=S8y+s8y[O8a.N5B]+O8a.I5B;else if(j8a.x3J==s8y){K8y=S8y;break;}else R8y+=s8y;}m8y=[];R8y=R8y.split(j8a.y2B);for(S8y=O8a.N5B;S8y<R8y.length;S8y++)m8y.push(this._parseOperands(R8y[S8y],f8y));return[K8y,m8y];};D8y.prototype._parseOperands=function(o8y,n8y){var y8a=C3yy;var k8a=T3yy;var I3J=" or ";var i3J=" and ";var T7J="== != >= <= = > <";for(var Y8y=[[I3J,i3J],T7J.split(k8a.L0B),[k8a.P6B,y8a.G8B],[y8a.l2B,y8a.C7J],[y8a.J7J]],v8y=k8a.N5B;v8y<Y8y.length;v8y++){var E8y=Number.MIN_VALUE,p8y=Y8y[v8y][k8a.N5B];if(k8a.T1B==v8y){var E8y=o8y.indexOf(Y8y[v8y][k8a.N5B]),W8y=o8y.indexOf(Y8y[v8y][k8a.I5B]);-k8a.I5B!=E8y&&-k8a.I5B!=W8y?p8y=E8y<W8y?Y8y[v8y][k8a.N5B]:Y8y[v8y][k8a.I5B]:-k8a.I5B!=E8y?p8y=Y8y[v8y][k8a.N5B]:-k8a.I5B!=W8y&&(p8y=Y8y[v8y][k8a.I5B]);}else for(W8y=k8a.N5B;W8y<Y8y[v8y].length;W8y++){var w8y=o8y.indexOf(Y8y[v8y][W8y]);-k8a.I5B!=w8y&&w8y>=E8y&&(p8y=Y8y[v8y][W8y],E8y=w8y+p8y.length);}E8y=o8y.split(p8y);k8a.i5B<E8y.length&&(W8y=E8y[E8y.length-k8a.I5B],E8y.pop(),E8y=[E8y.join(p8y),W8y]);if(k8a.i5B==E8y.length)return[p8y.trim(),[this._parseOperands(E8y[k8a.N5B],n8y),this._parseOperands(E8y[k8a.I5B],n8y)],!k8a.N5B];}return this._parseElements(o8y,n8y);};D8y.prototype._parseElements=function(c8y,A8y){var a8a=C3yy;var g8a=T3yy;c8y=c8y.trim();if(-g8a.I5B!=c8y.indexOf(L3J)){var d8y=c8y.split(L3J),l8y=d8y[g8a.N5B],d8y=parseInt(d8y[g8a.I5B]);if(g8a.N5B<l8y.length){var h8y=g8a.q9B!=typeof A8y[d8y][g8a.N5B];(a8a.F7J==l8y||a8a.Q7J==l8y)&&g8a.I5B<A8y[d8y].length&&(h8y=!g8a.N5B,g8a.q9B==typeof A8y[d8y][g8a.N5B]&&(A8y[d8y][g8a.N5B]=[a8a.u7J,[A8y[d8y][g8a.N5B]],!g8a.I5B]),g8a.q9B==typeof A8y[d8y][g8a.I5B]&&(A8y[d8y][g8a.I5B]=[a8a.u7J,[A8y[d8y][g8a.I5B]],!g8a.I5B]));return[l8y,A8y[d8y],h8y];}return A8y[d8y][g8a.N5B];}if(-g8a.I5B!=c8y.indexOf(A3J))return l8y=parseInt(c8y.slice(g8a.I5B)),this.quotes[l8y];if(a8a.d3J==c8y.toLowerCase()||a8a.d3J==c8y.substring(g8a.I5B,c8y.length-g8a.I5B).toLowerCase())return a8a.d3J;l8y=parseFloat(c8y);return isNaN(l8y)?g8a.N5B:l8y;};return D8y;}();Z8y.Lexer=u8y;}(utils||(utils={})));(function(H8y){var M8y=function(){var a0a=T3yy;var e7J="isWin";var B7J="isIOS";var j7J="isAnd";var Z7J="isMac";Object.defineProperty(V8y,Z7J,{get:function(){var D7J=/Mac/i;return D7J.test(navigator.platform);},enumerable:!a0a.N5B,configurable:!a0a.N5B});Object.defineProperty(V8y,e7J,{get:function(){var P7J=/Win/i;return P7J.test(navigator.platform);},enumerable:!a0a.N5B,configurable:!a0a.N5B});function V8y(){}Object.defineProperty(V8y,B7J,{get:function(){var O7J=/(iPhone|iPod|iPad)/i;return O7J.test(navigator.platform)||O7J.test(navigator.userAgent);},enumerable:!a0a.N5B,configurable:!a0a.N5B});Object.defineProperty(V8y,j7J,{get:function(){var k7J=/Android/i;return k7J.test(navigator.userAgent);},enumerable:!a0a.N5B,configurable:!a0a.N5B});return V8y;}();H8y.OSUtil=M8y;}(utils||(utils={})));(function(U8y){var x8y=function(){var y7J="object";t8y.isEmptyObject=function(G8y){for(var r8y in G8y)if(!U8y.nullOrUndefined(G8y[r8y]))return!T3yy.I5B;return!T3yy.N5B;};t8y.deepCopy=function(q8y){if(q8y instanceof Array)return t8y.deepCopyArray(q8y);var N8y={},L8y;for(L8y in q8y)N8y[L8y]=y7J!=typeof q8y[L8y]?q8y[L8y]:t8y.deepCopy(q8y[L8y]);return N8y;};t8y.deepCopyArray=function(i8y){for(var T37=[],I8y=T3yy.N5B;I8y<i8y.length;I8y++)T37[I8y]=y7J!=typeof i8y[I8y]?i8y[I8y]:t8y.deepCopy(i8y[I8y]);return T37;};function t8y(){}return t8y;}();U8y.ObjectUtils=x8y;}(utils||(utils={})));(function(C37){var J37=function(){Q37.dispose=function(){Q37.queue=[];Q37.instance=T3yy.r0B;Q37.runningThread=T3yy.r0B;};Q37.addTask=function(D37,e37,u37,Z37){var m8a=T3yy;void m8a.N5B===u37&&(u37=m8a.r0B);void m8a.N5B===Z37&&(Z37=m8a.r0B);Q37.queue.push({taskFunction:D37,context:e37,args:u37,completeCallback:Z37});m8a.r0B==Q37.runningThread&&Q37.run();};function Q37(){throw Error(C3yy.m2B);}Q37.run=function(){Q37.runningThread=new F37(Q37.queue.shift(),function(){return Q37.onTaskComplete();});Q37.runningThread.run();};Q37.pause=function(){T3yy.r0B!=Q37.runningThread&&Q37.runningThread.stop();};Q37.resume=function(){T3yy.r0B!=Q37.runningThread?Q37.runningThread.run():T3yy.N5B<Q37.queue.length&&Q37.run();};Q37.onTaskComplete=function(){Q37.runningThread=T3yy.r0B;T3yy.N5B<Q37.queue.length&&this.run();};Q37.cancel=function(){T3yy.r0B!=Q37.runningThread&&(Q37.runningThread.stop(),Q37.runningThread=T3yy.r0B);Q37.queue=[];};Q37.isRunning=function(){return T3yy.r0B!=Q37.runningThread;};Q37.adjustTaskSize=function(B37,P37){var W8a=T3yy;var a7J=1.05;var g7J=0.95;W8a.D1B<B37-W8a.c1B?P37=Math.floor(g7J*P37):-W8a.D1B>B37-W8a.c1B&&(P37=Math.floor(a7J*P37));return Math.max(W8a.J1B,P37);};Q37.queue=[];return Q37;}();C37.ThreadManager=J37;var F37=function(){O37.prototype.run=function(){var y37=this;this.currentTimeout=C37.fmSetTimeout(function(){return y37.doTask();},this.delay);};O37.prototype.stop=function(){C37.fmClearTimeout(this.currentTimeout);};O37.prototype.doTask=function(){var g37=this;this.isComplete=this.task.taskFunction.call(this.task.context,this.task.args);if(!T3yy.N5B==this.isComplete)this.onComplete();else this.currentTimeout=C37.fmSetTimeout(function(){return g37.doTask();},this.delay);};O37.prototype.onComplete=function(){T3yy.r0B!=this.completeCallback&&this.completeCallback();T3yy.r0B!=this.task.completeCallback&&this.task.completeCallback();};O37.prototype.dispose=function(){this.stop();this.completeCallback=this.task=T3yy.r0B;};function O37(k37,j37){var U8a=T3yy;void U8a.N5B===j37&&(j37=U8a.r0B);this.delay=U8a.I5B;this.isComplete=!U8a.I5B;this.task=k37;this.completeCallback=j37;}return O37;}();}(utils||(utils={})));(function(a37){a37.browserVersion=function(){return X37();};a37.detectBrowser=X37;a37.isFullscreen=function(){var X0a=T3yy;return X0a.r0B!=document.fullscreenElement||X0a.r0B!=document.mozFullScreenElement||X0a.r0B!=document.webkitFullscreenElement||X0a.r0B!=document.msFullscreenElement;};a37.isHTML5Supported=function(){var b0a=T3yy;var X7J="Safari/";var z7J="Version/6.0";var b7J="Version/5.";try{var s37;if(s37=void b0a.N5B!==ArrayBuffer){var f37;if(f37=void b0a.N5B!==DataView){var K37;if(K37=void b0a.N5B!==Uint8Array){var E37;if(window.chrome&&navigator.userAgent.match(/chrome.\d*/gi)){var v37=navigator.userAgent.match(/chrome.\d*/gi)[b0a.N5B];E37=b0a.P1B<=parseInt(v37.replace(/[^\d]/g,b0a.o9B));}else E37=!b0a.N5B;K37=E37&&(window.opera?b0a.j1B<=window.opera.version():!b0a.N5B)&&(navigator.userAgent.match(X7J)?!navigator.userAgent.match(b7J)&&!navigator.userAgent.match(z7J):!b0a.N5B);}f37=K37;}s37=f37;}return s37;}catch(Y37){return!b0a.I5B;}};a37.getCookie=function(o37){var S0a=C3yy;var z0a=T3yy;var W37=document.cookie,p37=W37.indexOf(z0a.L0B+o37+S0a.B2B);-z0a.I5B==p37&&(p37=W37.indexOf(o37+S0a.B2B));-z0a.I5B==p37?W37=z0a.r0B:(p37=W37.indexOf(S0a.B2B,p37)+z0a.I5B,o37=W37.indexOf(S0a.N3J,p37),-z0a.I5B==o37&&(o37=W37.length),W37=decodeURI(W37.substring(p37,o37)));return W37;};a37.setCookie=function(d37,n37){var w0B=1825;var S7J="; expires=";var w37=new Date();w37.setDate(w37.getDate()+w0B);n37=encodeURI(n37)+S7J+w37.toUTCString();document.cookie=d37+C3yy.B2B+n37;};a37.isLandscapeOrientation=function(){return screen.orientation&&-T3yy.I5B<screen.orientation.type.indexOf(C3yy.m7J);};a37.isPortraitOrientation=function(){return screen.orientation&&-T3yy.I5B<screen.orientation.type.indexOf(C3yy.R7J);};a37.viewportWidth=function(){return Math.max(document.documentElement.clientWidth);};a37.viewportHeight=function(){return Math.max(document.documentElement.clientHeight);};function X37(){var E0a=T3yy;var H7J=")( |/)([0-9]+)";var s7J=/mozilla/;var K7J=/webkit/;var o7J=/msie/;var A7J="firefox";var v7J=/edge/;var c7J="chrome";var l7J="msie";var f7J=/firefox/;var w7J=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i;var n7J=/iPad|iPhone|iPod|BlackBerry/i;var Y7J=/applewebkit/;var E7J=/chrome/;var M7J="opera";var p7J=/opera/;var d7J=/trident/;var W7J=/safari/;var h7J="safari";var z37=navigator.userAgent.toLowerCase(),b37={};b37.isFirefox=s7J.test(z37)&&f7J.test(z37);b37.isChrome=K7J.test(z37)&&E7J.test(z37)&&!v7J.test(z37);b37.isEdge=v7J.test(z37);b37.isSafari=Y7J.test(z37)&&W7J.test(z37)&&!E7J.test(z37);b37.isOpera=p7J.test(z37);b37.isMsie=o7J.test(z37);b37.isMobile=w7J.test(z37)||n7J.test(navigator.platform);b37.version=NaN;b37.isMsie||b37.isFirefox||b37.isChrome||b37.isSafari||b37.isOpera||!d7J.test(z37)||(b37.isMsie=!E0a.N5B,b37.version=E0a.e1B);if(isNaN(b37.version))for(var m37=[c7J,A7J,l7J,h7J,M7J],S37=E0a.N5B;S37<m37.length;S37++)try{b37.version=parseInt(z37.match(RegExp(C3yy.q3J+m37[S37]+H7J))[E0a.T1B]);break;}catch(R37){}return b37;}}(utils||(utils={})));(function(c37){var l37=function(M37){var Y0a=T3yy;var x7J="repeatCount";var V7J="currentCount";var U7J="running";__extends(h37,M37);h37.prototype.onTimer=function(){this._currentCount++;this.dispatch(new events._Event(A37.TIMER));Y0a.N5B<this._repeatCount&&this._currentCount>=this._repeatCount&&(this.stop(),this.dispatch(new events._Event(A37.TIMER_COMPLETE)));};h37.prototype.start=function(){var x37=this;this._running||(this._intervalId=c37.fmSetInterval(function(){return x37.onTimer();},this._delay),this._running=!Y0a.N5B);};h37.prototype.stop=function(){this._running&&!c37.nullOrUndefined(this._intervalId)&&(c37.fmClearInterval(this._intervalId),this._running=!Y0a.I5B);};h37.prototype.reset=function(){this._currentCount=Y0a.N5B;this.stop();};function h37(U37,V37){void Y0a.N5B===V37&&(V37=Y0a.N5B);var H37=M37.call(this)||this;H37._currentCount=Y0a.N5B;H37._delay=Y0a.N5B;H37._repeatCount=Y0a.N5B;H37._running=!Y0a.I5B;H37._delay=U37;H37._repeatCount=V37;return H37;}Object.defineProperty(h37.prototype,V7J,{get:function(){return this._currentCount;},set:function(t37){},enumerable:!Y0a.N5B,configurable:!Y0a.N5B});Object.defineProperty(h37.prototype,U7J,{get:function(){return this._running;},set:function(G37){},enumerable:!Y0a.N5B,configurable:!Y0a.N5B});Object.defineProperty(h37.prototype,x7J,{get:function(){return this._repeatCount;},set:function(r37){this._repeatCount=r37;this._currentCount>=this._repeatCount&&this.stop();},enumerable:!Y0a.N5B,configurable:!Y0a.N5B});return h37;}(events.EventDispatcher);c37.Timer=l37;var A37=function(){var G7J="complete";var t7J="timer";q37.TIMER=t7J;function q37(){}q37.TIMER_COMPLETE=G7J;return q37;}();c37.TimerEvent=A37;c37.getTimer=function(){return T3yy.k6B!==typeof performance&&C3yy.r7J===typeof window.performance.now?performance.now():new Date().getTime();};}(utils||(utils={})));(function(L37){var I37=function(T77){var q7J="isFocused";__extends(i37,T77);i37.getInstance=function(){T3yy.r0B==i37._instance&&(i37._instance=new i37(pivot._view.PivotView.stage.container));return i37._instance;};Object.defineProperty(i37.prototype,q7J,{get:function(){return this._isFocused;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function i37(J77){var G8a=C3yy;var t8a=T3yy;var C5J="pivot-hiddenInput";var L7J="KeyboardListener is singleton";var i7J="fixed";var T5J="0px";var I7J="pivot-hiddenInputContainer";var C77=T77.call(this)||this;C77._isFocused=!t8a.I5B;C77._keydownHandler=function(F77){return C77.onKeyDown(F77);};C77.inputKeyUpHandler=function(Q77){return C77.onInputKeyUp(Q77);};if(t8a.r0B!=i37._instance)throw Error(L7J);C77.target=J77;L37.browserVersion().isMobile||(L37.fmdocument.addEventListener(G8a.N7J,C77._keydownHandler),C77._inputContainer=new uicontrols.UIElement(t8a.w9B),C77._inputContainer.attr(t8a.W9B,I7J),C77._inputContainer.css(t8a.N6B,i7J).css(t8a.i9B,T5J).css(t8a.T6B,T5J).css(t8a.b9B,G8a.I8B).css(t8a.L9B,T5J).css(t8a.I9B,T5J),C77._inputContainer.hide(),C77._input=new uicontrols.UITextArea(),C77._input.setId(C5J),C77._input.container.css(t8a.L9B,G8a.I2B).css(t8a.I9B,G8a.I2B).css(t8a.c9B,T5J),C77._input.addEventListener(t8a.l6B,function(){C77._isFocused=!T3yy.N5B;}),C77._input.addEventListener(t8a.h6B,function(){C77._isFocused=!T3yy.I5B;}),C77._inputContainer.append(C77._input.container),J77.append(C77._inputContainer));return C77;}i37.prototype.onKeyDown=function(Z77){var u77=new N37(N37.KEY_DOWN);u77.keyCode=Z77.keyCode;u77.altKey=Z77.altKey;u77.ctrlKey=Z77.ctrlKey;u77.metaKey=Z77.metaKey;u77.shiftKey=Z77.shiftKey;this.dispatch(u77);};i37.prototype.onInputKeyUp=function(D77){this._inputContainer.hide();this._input.setText(T3yy.o9B);this._input.container.blur();this._input.removeEventListener(T3yy.Y6B,this.inputKeyUpHandler);};i37.prototype.copy=function(e77){this._inputContainer.show();this._input.setText(e77);this._input.container.focus();this._input.selectAll();this._input.container.focus();this._input.addEventListener(T3yy.Y6B,this.inputKeyUpHandler);};return i37;}(events.EventDispatcher);L37.KeyboardListener=I37;var N37=function(B77){var J5J="event_keydown";__extends(P77,B77);P77.KEY_DOWN=J5J;function P77(O77){return B77.call(this,O77)||this;}return P77;}(events._Event);L37.KeyboardEvent=N37;}(utils||(utils={})));(function(j77){j77.debug=function(){var w0a=T3yy;for(var y77=[],k77=w0a.N5B;k77<arguments.length;k77++)y77[k77]=arguments[k77];if(w0a.r0B!=console&&w0a.r0B!=console.log)for(k77=utils.browserVersion().isFirefox&&utils.browserVersion().isMobile?w0a.N5B:w0a.I5B;k77<y77.length;k77++);};j77.stackTrace=function(){var I1B=77;var g77=Error();return g77&&g77.stack?g77.stack.substr(I1B):T3yy.o9B;};}(pivot||(pivot={})));(function(a77){a77.uialert=function(s77,b77,z77,S77,m77,R77){var A0a=T3yy;void A0a.N5B===b77&&(b77=A0a.o9B);void A0a.N5B===z77&&(z77=X77.ALERT);void A0a.N5B===S77&&(S77=A0a.r0B);void A0a.N5B===m77&&(m77=A0a.r0B);void A0a.N5B===R77&&(R77=!A0a.I5B);a77._view.AlertView.getInstance().openView(s77,b77,z77,S77,m77,R77);};var X77=function(){var Z5J="info";var Q5J="confirmation";var F5J="alert";var u5J="error";f77.ALERT=F5J;f77.CONFIRMATION=Q5J;function f77(){}f77.ERROR=u5J;f77.INFO=Z5J;return f77;}();a77.AlertType=X77;}(pivot||(pivot={})));(function(K77){K77.preloader=function(E77,v77,Y77,W77,p77){void T3yy.N5B===E77&&(E77=!T3yy.N5B);K77._view.Preloader.getInstance().show(E77,v77,Y77,W77,p77);};}(pivot||(pivot={})));(function(o77){(function(w77){var n77=function(c77){var P5J="(All)";var j5J="WebDataRocks";__extends(d77,c77);d77.getInstance=function(){T3yy.r0B==this.instance&&(this.instance=new d77());return this.instance;};d77.prototype.init=function(l77){d77.id=l77.id?l77.id:T3yy.o9B;w77.JavaScriptHandlers.setHandlers(l77);w77._labels.LabelsManager.getInstance().reset();o77._view.grid.vo.GridCell.customizeCellFunction=l77.customizeCell;this.state_.init(l77);};d77.prototype.open=function(){this.state_.open();};d77.prototype.load=function(h77){this.state_.load(h77);};d77.prototype.save=function(V77,M77,U77,x77,H77){var G0u=T3yy;void G0u.N5B===M77&&(M77=G0u.r0B);void G0u.N5B===H77&&(H77=!G0u.I5B);return this.state_.save(V77,M77,U77,x77,H77);};d77.prototype.setReport=function(t77){this.state_.setReport(t77);};d77.prototype.getReport=function(G77){void T3yy.N5B===G77&&(G77={});return this.state_.getReport(G77);};d77.prototype.clear=function(){this.state_.clear();};d77.prototype.checkDataObject=function(r77){var q77={};utils.nullOrUndefined(r77.dataSourceType)||(q77.dataSourceType=r77.dataSourceType);utils.nullOrUndefined(r77.filename)||(q77.filename=r77.filename);utils.nullOrUndefined(r77.requestHeader)||(q77.requestHeader=r77.requestHeader);utils.nullOrUndefined(r77.fieldSeparator)||(q77.fieldSeparator=r77.fieldSeparator);utils.nullOrUndefined(r77.recordsetDelimiter)||(q77.recordsetDelimiter=r77.recordsetDelimiter);utils.nullOrUndefined(r77.browseForFile)||(q77.browseForFile=r77.browseForFile);utils.nullOrUndefined(r77.data)||(q77.data=r77.data);utils.nullOrUndefined(r77.ignoreQuotedLineBreaks)||(q77.ignoreQuotedLineBreaks=r77.ignoreQuotedLineBreaks);utils.nullOrUndefined(r77.hash)||(q77.hash=r77.hash);utils.nullOrUndefined(r77.username)||(q77.username=r77.username);utils.nullOrUndefined(r77.password)||(q77.password=r77.password);return q77;};d77.prototype.connectTo=function(L77){this.state_.connectTo(this.checkDataObject(L77));};d77.prototype.updateData=function(I77,N77){N77.partial?this.state_.updateDataPartial(I77.data,N77):this.state_.updateData(this.checkDataObject(I77),N77);};d77.prototype.getData=function(i77,C57,J57){if(T3yy.r0B!=J57)o77.Pivot.instance.on(C3yy.D5J,function(){o77.Pivot.instance.getData(i77,J57);});if(T3yy.r0B!=i77&&T3yy.r0B!=i77.slice){var T57=i77.slice instanceof o77.data_._structure.Slice?i77.slice:o77.data_._structure.Slice.fromObject(w77.report.SliceValueObject.fromObject(i77.slice),this.cube_.structure_);w77.integration.IntegrationDataManager.getInstance().selectData(T57,C57);}else T57=w77.integration.IntegrationDataManager.getInstance().getData(),C57(T57.toObject());};d77.prototype.getAllConditions=function(){return w77.condition.ConditionManager.getObjects();};d77.prototype.getCondition=function(F57){return(F57=w77.condition.ConditionManager.get(F57))?F57.toObject():T3yy.r0B;};d77.prototype.addCondition=function(Q57){w77.condition.ConditionManager.add(w77.condition.vo.ConditionValueObject.fromObject(Q57));};d77.prototype.removeCondition=function(u57){w77.condition.ConditionManager.remove(u57);};d77.prototype.removeAllConditions=function(){w77.condition.ConditionManager.removeAll();};d77.prototype.addCalculatedMeasure=function(Z57){this.cube_.addCalculatedMeasure(Z57);};d77.prototype.removeCalculatedMeasure=function(D57){this.cube_.removeCalculatedMeasure(D57);};d77.prototype.removeAllCalculatedMeasures=function(){this.cube_.removeAllCalculatedMeasures();};d77.prototype.expandAllData=function(e57){void T3yy.N5B===e57&&(e57=!T3yy.N5B);this.cube_.slice_.expandAll=!T3yy.N5B;this.cube_.slice_.drillAll=e57;this.cube_.slice_.clearExpands();this.cube_.slice_.clearDrills();o77.data_.dataprovider_.DataProviderFactory.dispose();this.refresh();};d77.prototype.expandData=function(P57){this.dataProvider_.expandData(P57);};d77.prototype.collapseAllData=function(){this.cube_.slice_.expandAll=!T3yy.I5B;this.cube_.slice_.drillAll=!T3yy.I5B;this.cube_.slice_.columnAxis.expandedTuples=[];this.cube_.slice_.columnAxis.drilledTuples=[];this.cube_.slice_.rowAxis.expandedTuples=[];this.cube_.slice_.rowAxis.drilledTuples=[];o77.data_.dataprovider_.DataProviderFactory.dispose();this.refresh();};d77.prototype.collapseData=function(B57){this.dataProvider_.collapseData(B57);};d77.prototype.setOptions=function(O57){T3yy.r0B!=O57.localSettingsUrl&&delete O57.localSettingsUrl;T3yy.r0B!=O57.zoom&&delete O57.zoom;w77._options.OptionsManager.setOptions(O57,!T3yy.I5B);};d77.prototype.print=function(j57){w77.printing.PrintingManager.getInstance().print(j57);};d77.prototype.exportTo=function(g57,k57,y57){var C9u=T3yy;void C9u.N5B===k57&&(k57=C9u.r0B);void C9u.N5B===y57&&(y57=C9u.r0B);w77._export.ExportManager.exportTo(g57,k57,y57);};d77.prototype.getFilter=function(a57){var J9u=T3yy;if(J9u.r0B==this.cube_||J9u.r0B==this.cube_.structure_)return[];var z57=[];if((a57=this.cube_.structure_.allHierarchies(!J9u.I5B).getItem(a57))&&a57.hasFilter())for(var S57=a57.filter,X57=J9u.N5B;X57<S57.length;X57++){var b57=S57.getItemAt(X57);z57.push({caption:b57.caption,uniqueName:b57.uniqueName,hierarchyName:a57.uniqueName,parentMember:b57.parent.uniqueName});}return z57;};d77.prototype.getFilterProperties=function(m57){var F9u=T3yy;if(F9u.r0B==this.cube_||F9u.r0B==this.cube_.structure_)return[];var R57={};R57.type=o77.data_.consts.FilterType.NONE;R57.members=[];if((m57=this.cube_.structure_.allHierarchies(!F9u.I5B).getItem(m57))&&m57.hasFilter()){if(m57.hasMembersFilter()){R57.type=C3yy.e5J;for(var K57=m57.filterMembers,s57=F9u.N5B;s57<K57.length;s57++){var f57=K57.getItemAt(s57);R57.members.push({caption:f57.caption,uniqueName:f57.uniqueName,hierarchyName:m57.uniqueName,parentMember:f57.parent.uniqueName});}}m57.hasValuesFilter()&&(R57.type=m57.filterType,R57.quantity=m57.filterQuantity,R57.measure=m57.filterMeasureName,R57.measureName=m57.filterMeasureName);}return R57;};d77.prototype.setFilter=function(v57,W57,Y57){void T3yy.N5B===Y57&&(Y57=!T3yy.I5B);if(v57=this.cube_.structure_.allHierarchies(!T3yy.I5B).getItem(v57)){var E57={};E57.members=W57;E57.negation=Y57;o77.data_._structure.GenericHierarchy.filterFromObject(E57,v57);w77.JavaScriptHandlers.getInstance().dispatch(new w77.APIEvent(w77.JavaScriptHandlers.REPORT_CHANGE));this.cube_.filter();}};d77.prototype.clearFilter=function(p57){if(p57=this.cube_.structure_.allHierarchies(!T3yy.I5B).getItem(p57))p57.clearFilter(),this.cube_.select();};d77.prototype.getRows=function(){if(T3yy.r0B==this.cube_||T3yy.r0B==this.cube_.slice_)return[];for(var n57=this.cube_.slice_.rows,d57=[],w57=T3yy.N5B;w57<n57.length;w57++){var o57=n57.getItemAt(w57);d57.push({caption:o57.caption,uniqueName:o57.uniqueName,sort:o57.sortName,folder:o57.folder});}return d57;};d77.prototype.getColumns=function(){if(T3yy.r0B==this.cube_||T3yy.r0B==this.cube_.slice_)return[];for(var l57=this.cube_.slice_.columns,h57=[],A57=T3yy.N5B;A57<l57.length;A57++){var c57=l57.getItemAt(A57);h57.push({caption:c57.caption,uniqueName:c57.uniqueName,sort:c57.sortName,folder:c57.folder});}return h57;};d77.prototype.getPages=function(){if(T3yy.r0B==this.cube_||T3yy.r0B==this.cube_.slice_)return[];for(var V57=this.cube_.slice_.pages,U57=[],H57=T3yy.N5B;H57<V57.length;H57++){var M57=V57.getItemAt(H57);U57.push({caption:M57.caption,uniqueName:M57.uniqueName,sort:M57.sortName,folder:M57.folder});}return U57;};d77.prototype.getMeasures=function(){var k9u=T3yy;if(k9u.r0B==this.cube_||k9u.r0B==this.cube_.slice_)return[];var G57,x57,t57,q57=[];if(w77._options.OptionsManager.flatView){var r57=this.cube_.slice_.flatten();for(G57=k9u.N5B;G57<r57.length;G57++)if(x57=r57.getItemAt(G57),x57=this.cube_.structure_.hierarchyToMeasure(x57.uniqueName))t57=o77.data_._structure.GenericMeasure.toObject(x57),t57.availableAggregations=[],t57.availableAggregationsCaptions=[],t57.caption=t57.grandTotalCaption=x57.originalCaption,q57.push(t57);}else for(r57=this.cube_.slice_.measures_,G57=k9u.N5B;G57<r57.length;G57++){x57=r57.getItemAt(G57);t57=o77.data_._structure.GenericMeasure.toObject(x57);var L57=x57.availableAggregations;k9u.N5B!=x57.availableAggregations.length||x57.calculated||(L57=o77.data_.consts.AggregationName.ALL_AGGREGATIONS);t57.availableAggregations=L57;t57.availableAggregationsCaptions=o77.data_.consts.AggregationName.aggregationCaptions(L57);q57.push(t57);}return q57;};d77.prototype.getAllMeasures=function(){var g9u=T3yy;if(g9u.r0B==this.cube_||g9u.r0B==this.cube_.structure_)return[];for(var C17=this.cube_.structure_.measures_,J17=[],i57=g9u.N5B;i57<C17.length;i57++){var I57=C17.getItemAt(i57),N57=o77.data_._structure.GenericMeasure.toObject(I57);if(w77._options.OptionsManager.flatView)N57.availableAggregations=[],N57.availableAggregationsCaptions=[],N57.caption=N57.grandTotalCaption=I57.originalCaption;else{var T17=I57.availableAggregations;g9u.N5B!=I57.availableAggregations.length||I57.calculated||(T17=o77.data_.consts.AggregationName.ALL_AGGREGATIONS);N57.availableAggregations=T17;N57.availableAggregationsCaptions=o77.data_.consts.AggregationName.aggregationCaptions(T17);}J17.push(N57);}return J17;};d77.prototype.replaceHierarchyCaption=function(F17){this.cube_.structure_.allHierarchies(!T3yy.I5B).getItem(F17.name).label=F17.caption;};d77.prototype.getAllHierarchies=function(){var X9u=T3yy;if(X9u.r0B==this.cube_||X9u.r0B==this.cube_.structure_)return[];for(var Z17=this.cube_.structure_.allHierarchies(!X9u.I5B),D17=[],Q17=X9u.N5B;Q17<Z17.length;Q17++){var u17=Z17.getItemAt(Q17);D17.push({caption:u17.caption,uniqueName:u17.uniqueName,folder:u17.folder});}return D17;};d77.prototype.sortValues=function(e17,B17,O17,P17){e17=this.cube_.slice_.axes.getItem(e17);if(T3yy.r0B!=e17){if(P17=this.cube_.structure_.measures_.getItem(P17))e17.sortType=B17,e17.sortTuple=O17,e17.sortMeasure=P17;this.cube_.sort();}};d77.prototype.setSort=function(a17,g17){var j17=this.cube_.structure_.allHierarchies(!T3yy.I5B).getItem(a17);if(j17){var k17=this.cube_.slice_.axes.getItem(o77.data_.consts.AxisName.COLUMNS_AXIS),y17=this.cube_.slice_.axes.getItem(o77.data_.consts.AxisName.ROWS_AXIS);-T3yy.I5B!=k17.hierarchies.indexOf(j17.uniqueName)?this.cube_.clearSortValues(y17):-T3yy.I5B!=y17.hierarchies.indexOf(j17.uniqueName)&&this.cube_.clearSortValues(k17);j17.sortName=g17;w77._options.OptionsManager.flatView&&(this.dataProvider_.columnSortType=g17,this.dataProvider_.columnSortTuple=this.dataProvider_.getColumnTupleByName(j17.uniqueName),this.dataProvider_.columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(j17.uniqueName));}this.cube_.select();};function d77(){var A77=c77.call(this)||this;if(T3yy.r0B!=d77.instance)throw Error(C3yy.m2B);A77.cube_=o77.data_.Cube.getInstance();A77.state_=new w77._state.StateManager();return A77;}d77.prototype.getSort=function(X17){var R9u=T3yy;if(R9u.r0B==this.cube_||R9u.r0B==this.cube_.structure_)return R9u.o9B;X17=this.cube_.structure_.allHierarchies(!R9u.I5B).getItem(X17);return R9u.r0B!=X17?X17.sortName:R9u.o9B;};d77.prototype.setTopX=function(b17,S17,z17){b17=this.cube_.structure_.allHierarchies(!T3yy.I5B).getItem(b17);var m17=w77._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(z17):this.cube_.slice_.measures_.getItem(z17);b17&&m17&&!b17.isMeasures&&(b17.filterType=o77.data_.consts.FilterType.TOP,b17.filterQuantity=S17,b17.filterMeasureName=z17,b17.sortName=o77.data_.consts.SortType.UNSORTED,S17=this.cube_.slice_.findAxis(o77.data_.consts.AxisName.ROWS_AXIS),z17=this.cube_.slice_.findAxis(o77.data_.consts.AxisName.COLUMNS_AXIS),-T3yy.I5B!=S17.hierarchies.indexOf(b17.uniqueName)&&(z17.sortTuple=[],z17.sortType=o77.data_.consts.SortType.DESC,z17.sortMeasure=this.cube_.slice_.measures_.getItem(b17.filterMeasureName)),-T3yy.I5B!=z17.hierarchies.indexOf(b17.uniqueName)&&(S17.sortTuple=[],S17.sortType=o77.data_.consts.SortType.DESC,S17.sortMeasure=this.cube_.slice_.measures_.getItem(b17.filterMeasureName)));this.cube_.filter();};d77.prototype.setBottomX=function(R17,f17,s17){R17=this.cube_.structure_.allHierarchies(!T3yy.I5B).getItem(R17);var K17=w77._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(s17):this.cube_.slice_.measures_.getItem(s17);R17&&K17&&!R17.isMeasures&&(R17.filterType=o77.data_.consts.FilterType.BOTTOM,R17.filterQuantity=f17,R17.filterMeasureName=s17,R17.sortName=o77.data_.consts.SortType.UNSORTED,f17=this.cube_.slice_.findAxis(o77.data_.consts.AxisName.ROWS_AXIS),s17=this.cube_.slice_.findAxis(o77.data_.consts.AxisName.COLUMNS_AXIS),-T3yy.I5B!=f17.hierarchies.indexOf(R17.uniqueName)&&(s17.sortTuple=[],s17.sortType=o77.data_.consts.SortType.ASC,s17.sortMeasure=this.cube_.slice_.measures_.getItem(R17.filterMeasureName)),-T3yy.I5B!=s17.hierarchies.indexOf(R17.uniqueName)&&(f17.sortTuple=[],f17.sortType=o77.data_.consts.SortType.ASC,f17.sortMeasure=this.cube_.slice_.measures_.getItem(R17.filterMeasureName)));this.cube_.filter();};d77.prototype.getMembers=function(E17,v17,Y17){var x9u=T3yy;if(x9u.r0B==this.cube_||x9u.r0B==this.cube_.structure_)return[];E17=this.cube_.structure_.allHierarchies(!x9u.I5B).getItem(E17);v17=[];E17&&(v17=this.getAllChildren(E17.allMember),x9u.r0B!=Y17&&Y17(v17));return v17;};d77.prototype.getChildrenByMember=function(p17,d17){for(var w17=T3yy.o9B==d17?p17.allMember.children:p17.findMember(d17).children,n17=[],o17=T3yy.N5B;o17<w17.length;o17++){var W17=w17.getItemAt(o17),c17=W17.level.num==W17.hierarchy_.levels_.length-T3yy.I5B;W17.uniqueName!=p17.allMemberName&&n17.push({caption:W17.caption,uniqueName:W17.uniqueName,hierarchyName:p17.uniqueName,parentMember:W17.parent.isAll?P5J:W17.parent.uniqueName,isLeaf:c17});}return n17;};d77.prototype.getAllChildren=function(l17){var V9u=T3yy;l17=l17.hierarchy_.sortChildren(l17,!V9u.I5B);for(var M17=[],h17=V9u.N5B;h17<l17.length;h17++){var A17=l17.getItemAt(h17),V17=A17.level.num==A17.hierarchy_.levels_.length-V9u.I5B,H17=[];if(V9u.I5B!=A17.children.length||A17.children.getItemAt(V9u.N5B).caption!=w77._labels.Labels.MEMBER_BLANK)H17=this.getAllChildren(A17);M17.push({caption:A17.caption,uniqueName:A17.uniqueName,hierarchyName:A17.hierarchy_.uniqueName,children:H17,parentMember:A17.parent.isAll?P5J:A17.parent.uniqueName,isLeaf:V17});}return M17;};d77.prototype.runQuery=function(U17){this.state_.runQuery(U17);};d77.prototype.getOptions=function(){return w77._options.OptionsManager.getOptions(!T3yy.N5B,!T3yy.N5B).toObject();};d77.prototype.getFormat=function(x17){x17=this.cube_&&this.cube_.structure_?this.cube_.structure_.findMeasure(x17):T3yy.r0B;return(x17?x17.getFormat():w77.format.FormatManager.getFormat(T3yy.o9B)).toObject(!T3yy.N5B);};d77.prototype.setFormat=function(t17,q17){var h9u=T3yy;t17.hasOwnProperty(C3yy.N2B)||(t17.name=utils.StringUtils.generateID());try{w77.format.FormatManager.setFormat(t17);}catch(L17){var B5J="Can't add format. Component's configuration requires more parameters.";o77.uialert(B5J);return;}try{var G17=this.cube_.structure_.findMeasure(q17);G17&&(G17.format=t17.name);if(h9u.o9B!=t17.name&&(h9u.o9B==q17||h9u.r0B==q17))for(var r17=h9u.N5B;r17<this.cube_.structure_.measures_.length;r17++)G17=this.cube_.structure_.measures_.getItemAt(r17),G17.format=t17.name;}catch(N17){var O5J="List of measures is empty. There is nothing to format.";o77.uialert(O5J);}};d77.prototype.refresh=function(){this.cube_.filter();};d77.prototype.dispose=function(){o77.data_.dataprovider_.DataProviderFactory.dispose();this.cube_&&this.cube_.dispose();this.state_&&this.state_.dispose();this.dataProvider_=this.state_=this.cube_=T3yy.r0B;d77.instance=T3yy.r0B;};d77.id=j5J;return d77;}(events.EventDispatcher);w77.PivotModel=n77;}(o77.model||(o77.model={})));}(pivot||(pivot={})));(function(I17){(function(T07){var i17=function(){return function(J07,C07){void T3yy.N5B===C07&&(C07=T3yy.r0B);this.type=J07;this.data=C07;};}();T07.APIEvent=i17;i17=function(Q07){var L8a=C3yy;var X5J="reportfilecancelled";var f5J="querycomplete";var H5J="filteropen";var o5J="exportstart";var a5J="reportfileerror";var h5J="cellclick";var E5J="loadinglocalization";var y5J="loadingreportfile";var V5J="fieldslistopen";var b5J="loadingdata";var M5J="celldoubleclick";var c5J="ready";var U5J="fieldslistclose";var v5J="localizationloaded";var p5J="reportchange";var z5J="dataloaded";var W5J="reportcomplete";var Y5J="localizationerror";var K5J="queryerror";var R5J="datachanged";var m5J="datafilecancelled";var n5J="printstart";var x5J="beforetoolbarcreated";var s5J="runningquery";var S5J="dataerror";var g5J="reportfileloaded";var k5J="openingreportfile";__extends(F07,Q07);function F07(){var u07=this,u07=Q07.call(this)||this;if(T3yy.r0B!=F07.instance)throw Error(L8a.m2B);return u07;}F07.getInstance=function(){T3yy.r0B==F07.instance&&(F07.instance=new F07());return F07.instance;};F07.dispose=function(){F07.instance=T3yy.r0B;};F07.toTypes=function(Z07){return F07.isValidType(Z07)?Z07:T3yy.o9B;};F07.isValidType=function(D07){return-T3yy.I5B<F07.types.indexOf(D07);};F07.prototype.addEventListener=function(e07,B07,P07){void T3yy.N5B===P07&&(P07=T3yy.N5B);e07=F07.toTypes(e07);F07.isValidType(e07)&&Q07.prototype.addEventListener.call(this,e07,B07,P07);};F07.prototype.removeEventListener=function(O07,j07){O07=F07.toTypes(O07);F07.isValidType(O07)&&Q07.prototype.removeEventListener.call(this,O07,j07);};F07.setHandlers=function(k07){F07.setHandler(F07.READY,k07[F07.READY]);F07.setHandler(F07.OPENING_REPORT_FILE,k07[F07.OPENING_REPORT_FILE]);F07.setHandler(F07.LOADING_REPORT_FILE,k07[F07.LOADING_REPORT_FILE]);F07.setHandler(F07.REPORT_FILE_LOADED,k07[F07.REPORT_FILE_LOADED]);F07.setHandler(F07.REPORT_FILE_ERROR,k07[F07.REPORT_FILE_ERROR]);F07.setHandler(F07.REPORT_FILE_CANCELLED,k07[F07.REPORT_FILE_CANCELLED]);F07.setHandler(F07.REPORT_CHANGE,k07[F07.REPORT_CHANGE]);F07.setHandler(F07.LOADING_DATA,k07[F07.LOADING_DATA]);F07.setHandler(F07.DATA_LOADED,k07[F07.DATA_LOADED]);F07.setHandler(F07.DATA_ERROR,k07[F07.DATA_ERROR]);F07.setHandler(F07.DATA_FILE_CANCELLED,k07[F07.DATA_FILE_CANCELLED]);F07.setHandler(F07.DATA_CHANGED,k07[F07.DATA_CHANGED]);F07.setHandler(F07.RUNNING_QUERY,k07[F07.RUNNING_QUERY]);F07.setHandler(F07.QUERY_COMPLETE,k07[F07.QUERY_COMPLETE]);F07.setHandler(F07.QUERY_ERROR,k07[F07.QUERY_ERROR]);F07.setHandler(F07.LOADING_LOCALIZATION,k07[F07.LOADING_LOCALIZATION]);F07.setHandler(F07.LOCALIZATION_LOADED,k07[F07.LOCALIZATION_LOADED]);F07.setHandler(F07.LOCALIZATION_ERROR,k07[F07.LOCALIZATION_ERROR]);F07.setHandler(F07.REPORT_COMPLETE,k07[F07.REPORT_COMPLETE]);F07.setHandler(F07.PRINT_START,k07[F07.PRINT_START]);F07.setHandler(F07.PRINT_COMPLETE,k07[F07.PRINT_COMPLETE]);F07.setHandler(F07.EXPORT_START,k07[F07.EXPORT_START]);F07.setHandler(F07.EXPORT_COMPLETE,k07[F07.EXPORT_COMPLETE]);F07.setHandler(F07.UPDATE,k07[F07.UPDATE]);F07.setHandler(F07.BEFORE_GRID_DRAW,k07[F07.BEFORE_GRID_DRAW]);F07.setHandler(F07.AFTER_GRID_DRAW,k07[F07.AFTER_GRID_DRAW]);F07.setHandler(F07.CELL_CLICK,k07[F07.CELL_CLICK]);F07.setHandler(F07.CELL_DOUBLE_CLICK,k07[F07.CELL_DOUBLE_CLICK]);F07.setHandler(F07.FILTER_OPEN,k07[F07.FILTER_OPEN]);F07.setHandler(F07.FILDS_LIST_OPEN,k07[F07.FILDS_LIST_OPEN]);F07.setHandler(F07.FILDS_LIST_CLOSE,k07[F07.FILDS_LIST_CLOSE]);F07.setHandler(F07.BEFORE_TOOLBAR_CREATED,k07[F07.BEFORE_TOOLBAR_CREATED]);};F07.setHandler=function(g07,y07){if(y07){T3yy.q9B==typeof y07&&(y07=F07.getFunctionByName(y07));var a07=y07;g07!=F07.BEFORE_TOOLBAR_CREATED&&g07!=F07.BEFORE_GRID_DRAW&&g07!=F07.AFTER_GRID_DRAW&&(a07=function(){for(var b07=[],X07=T3yy.N5B;X07<arguments.length;X07++)b07[X07]=arguments[X07];utils.fmSetTimeout(function(){y07.apply(T3yy.r0B,b07);},T3yy.I5B);});F07.getInstance().addEventListener(g07,a07);}};F07.getFunctionByName=function(s07,z07){var E9u=T3yy;void E9u.N5B===z07&&(z07=window);for(var S07=s07.split(L8a.g3J),R07=S07.pop(),m07=E9u.N5B;m07<S07.length;m07++){if(E9u.r0B==z07)return E9u.r0B;z07=z07[S07[m07]];}return z07[R07];};F07.OPENING_REPORT_FILE=k5J;F07.LOADING_REPORT_FILE=y5J;F07.REPORT_FILE_LOADED=g5J;F07.REPORT_FILE_ERROR=a5J;F07.REPORT_FILE_CANCELLED=X5J;F07.LOADING_DATA=b5J;F07.DATA_LOADED=z5J;F07.DATA_ERROR=S5J;F07.DATA_FILE_CANCELLED=m5J;F07.DATA_CHANGED=R5J;F07.RUNNING_QUERY=s5J;F07.QUERY_COMPLETE=f5J;F07.QUERY_ERROR=K5J;F07.LOADING_LOCALIZATION=E5J;F07.LOCALIZATION_LOADED=v5J;F07.LOCALIZATION_ERROR=Y5J;F07.REPORT_COMPLETE=W5J;F07.REPORT_CHANGE=p5J;F07.EXPORT_START=o5J;F07.EXPORT_COMPLETE=L8a.w5J;F07.PRINT_START=n5J;F07.PRINT_COMPLETE=L8a.d5J;F07.READY=c5J;F07.UPDATE=L8a.D5J;F07.BEFORE_GRID_DRAW=L8a.A5J;F07.AFTER_GRID_DRAW=L8a.l5J;F07.CELL_CLICK=h5J;F07.CELL_DOUBLE_CLICK=M5J;F07.FILTER_OPEN=H5J;F07.FILDS_LIST_OPEN=V5J;F07.FILDS_LIST_CLOSE=U5J;F07.BEFORE_TOOLBAR_CREATED=x5J;F07.types=[F07.READY,F07.OPENING_REPORT_FILE,F07.LOADING_REPORT_FILE,F07.REPORT_FILE_LOADED,F07.REPORT_FILE_ERROR,F07.REPORT_FILE_CANCELLED,F07.LOADING_DATA,F07.DATA_LOADED,F07.DATA_ERROR,F07.DATA_FILE_CANCELLED,F07.DATA_CHANGED,F07.RUNNING_QUERY,F07.QUERY_COMPLETE,F07.QUERY_ERROR,F07.LOADING_LOCALIZATION,F07.LOCALIZATION_LOADED,F07.LOCALIZATION_ERROR,F07.REPORT_COMPLETE,F07.REPORT_CHANGE,F07.PRINT_START,F07.PRINT_COMPLETE,F07.EXPORT_START,F07.EXPORT_COMPLETE,F07.UPDATE,F07.BEFORE_GRID_DRAW,F07.AFTER_GRID_DRAW,F07.CELL_CLICK,F07.CELL_DOUBLE_CLICK,F07.FILTER_OPEN,F07.FILDS_LIST_OPEN,F07.FILDS_LIST_CLOSE,F07.BEFORE_TOOLBAR_CREATED];return F07;}(events.EventDispatcher);T07.JavaScriptHandlers=i17;}(I17.model||(I17.model={})));}(pivot||(pivot={})));(function(f07){(function(E07){var K07=function(){v07.valid=function(Y07){var f9u=T3yy;var G5J="javascript:";var q5J="<object";var t5J="<script";var N5J="onmouseover";var I5J="onerror";var L5J="expression(";var r5J="<iframe";if(void f9u.N5B==Y07)return!f9u.N5B;Y07=Y07.toLowerCase();return-f9u.I5B==Y07.indexOf(t5J)&&-f9u.I5B==Y07.indexOf(G5J)&&-f9u.I5B==Y07.indexOf(r5J)&&-f9u.I5B==Y07.indexOf(q5J)&&-f9u.I5B==Y07.indexOf(L5J)&&-f9u.I5B==Y07.indexOf(N5J)&&-f9u.I5B==Y07.indexOf(I5J);};function v07(){}v07.validate=function(p07,W07){void T3yy.N5B===W07&&(W07=!T3yy.I5B);return utils.StringUtils.escapeHtml(p07,W07);};return v07;}();E07.XSSCheck=K07;}(f07.model||(f07.model={})));}(pivot||(pivot={})));(function(o07){(function(w07){(function(n07){var d07=function(){c07.getInstance=function(){T3yy.r0B==c07.instance&&(c07.instance=new c07());return c07.instance;};function c07(){}c07.dispose=function(){c07.instance=T3yy.r0B;};c07.prototype.getData=function(){var A07=o07.data_.dataprovider_.DataProviderFactory.getDataProvider();return this.composeData(A07);};c07.prototype.selectData=function(M07,H07){var l07=o07.data_.Cube.getInstance(),h07=o07.data_.LocalDataStorage.clone(l07.localDataStorage);h07.slice_=M07;h07.filter();h07.select();l07=new o07.data_.dataprovider_.ChartDataProvider();l07.reset();l07.dataStorage=h07;l07.slice=M07;l07.load();h07=this.composeData(l07);H07(h07.toObject());l07.reset();};c07.prototype.composeData=function(x07){var u29=T3yy;var Q1J="c";var J1J="Name";var C1J="v";var F1J="r";var r07=new n07.OutputDataValueObject();if(void u29.N5B==x07.slice)return r07;r07.slice=x07.slice.toObject();r07.meta={vAmount:x07.slice.measures_.length,formats:[]};var J97=u29.N5B,C97=u29.N5B;if(x07.dataLoaded&&!x07.isEmpty){var Q97,F97;Q97=u29.y6B==w07._options.OptionsManager.showGrandTotals||C3yy.i5J==w07._options.OptionsManager.showGrandTotals?x07.dataWidth-u29.I5B:x07.dataWidth;F97=u29.y6B==w07._options.OptionsManager.showGrandTotals||C3yy.T1J==w07._options.OptionsManager.showGrandTotals?x07.dataHeight-u29.I5B:x07.dataHeight;var L07,I07,V07=NaN,t07=u29.o9B,t07=u29.o9B,q07;r07.data=[];L07=[];I07=[];q07={};for(var U07=u29.N5B;U07<x07.measures.length;U07++){V07=x07.measures.getItemAt(U07);r07.meta[C1J+U07+J1J]=V07.caption;var i07=w07.PivotModel.getInstance().getFormat(V07.uniqueName);r07.meta.formats.push(i07);V07=x07.getValue(L07,I07,V07);q07[C1J+U07]=V07;}r07.data.push(q07);for(i07=u29.N5B;i07<F97;i07++){q07={};L07=x07.getRowTuple(i07);J97=Math.max(J97,L07.length);I07=[];U07=x07.rowsOnly;for(V07=u29.N5B;V07<L07.length;V07++){var N07=V07,t07=U07.getItemAt(N07),G07=L07[V07],G07=t07.members.getItemAt(G07);r07.meta[F1J+N07+J1J]=t07.caption;t07=this.getDataFromMember(G07);q07[F1J+N07]=t07;}for(U07=u29.N5B;U07<x07.measures.length;U07++)V07=x07.measures.getItemAt(U07),V07=x07.getValue(L07,I07,V07),q07[C1J+U07]=V07;r07.data.push(q07);}for(var T97=u29.N5B;T97<Q97;T97++){q07={};L07=[];I07=x07.getColumnTuple(T97);C97=Math.max(C97,I07.length);U07=x07.columnsOnly;for(V07=u29.N5B;V07<I07.length;V07++)N07=V07,t07=U07.getItemAt(N07),G07=I07[V07],G07=t07.members.getItemAt(G07),r07.meta[Q1J+N07+J1J]=t07.caption,t07=this.getDataFromMember(G07),q07[Q1J+N07]=t07;for(U07=u29.N5B;U07<x07.measures.length;U07++)V07=x07.measures.getItemAt(U07),V07=x07.getValue(L07,I07,V07),q07[C1J+U07]=V07;r07.data.push(q07);}for(i07=u29.N5B;i07<F97;i07++)for(L07=x07.getRowTuple(i07),J97=Math.max(J97,L07.length),T97=u29.N5B;T97<Q97;T97++){I07=x07.getColumnTuple(T97);C97=Math.max(C97,I07.length);q07={};U07=x07.rowsOnly;for(V07=u29.N5B;V07<L07.length;V07++)N07=V07,t07=U07.getItemAt(N07),G07=L07[V07],G07=t07.members.getItemAt(G07),t07=this.getDataFromMember(G07),q07[F1J+N07]=t07;U07=x07.columnsOnly;for(V07=u29.N5B;V07<I07.length;V07++)N07=V07,t07=U07.getItemAt(N07),G07=I07[V07],G07=t07.members.getItemAt(G07),t07=this.getDataFromMember(G07),q07[Q1J+N07]=t07;for(U07=u29.N5B;U07<x07.measures.length;U07++)V07=x07.measures.getItemAt(U07),V07=x07.getValue(L07,I07,V07),q07[C1J+U07]=V07;r07.data.push(q07);}}r07.meta.rAmount=J97;r07.meta.cAmount=C97;return r07;};c07.prototype.getDataFromMember=function(u97){return u97.level.type==o07.data_.types.LevelType.NUMBER||u97.level.type==o07.data_.types.LevelType.TIME?u97.levelOrdinal:u97.level.type==o07.data_.types.LevelType.TIME_DATE?Date.parse(u97.caption):u97.level.type==o07.data_.types.LevelType.DAY?isNaN(parseFloat(u97.caption))?u97.caption:parseFloat(u97.caption):u97.caption;};return c07;}();n07.IntegrationDataManager=d07;}(w07.integration||(w07.integration={})));}(o07.model||(o07.model={})));}(pivot||(pivot={})));(function(Z97){(function(D97){(function(P97){var e97=function(){B97.prototype.toObject=function(){var j97={},O97;for(O97 in this)C3yy.u1J!=O97&&C3yy.r7J!==typeof this[O97]&&(j97[O97]=this[O97]);return j97;};function B97(){this.slice={};this.meta={};this.data=[];}return B97;}();P97.OutputDataValueObject=e97;}(D97.integration||(D97.integration={})));}(Z97.model||(Z97.model={})));}(pivot||(pivot={})));(function(k97){(function(y97){(function(a97){var g97=function(){var Z1J="WebDataRocks Reporting Tool";X97.DEFAULT_EXPORT_TITLE=Z1J;function X97(){}return X97;}();a97.Labels=g97;}(y97._labels||(y97._labels={})));}(k97.model||(k97.model={})));}(pivot||(pivot={})));(function(b97){(function(z97){(function(S97){var m97=function(){R97.prototype.load=function(f97,K97,E97){var s97=this;this.successHandler=K97;this.errorHandler=E97;this.xhr=new XMLHttpRequest();this.xhr.open(C3yy.i4B,f97,!T3yy.N5B);this.xhr.onerror=function(v97){return s97.onError(v97);};this.xhr.onreadystatechange=function(Y97){return s97.onReadyStateChange(Y97);};this.xhr.send();};R97.prototype.onReadyStateChange=function(W97){T3yy.r0B!=this.xhr&&T3yy.C1B===this.xhr.readyState&&(T3yy.j0B===this.xhr.status?this.success():this.errorHandler());};function R97(){}R97.prototype.success=function(){if(this.xhr.response&&T3yy.r0B==this.xhr.response.error){if(T3yy.r0B!=this.successHandler)this.onLoaded(this.xhr.response);}else this.errorHandler&&this.errorHandler();};R97.prototype.onError=function(p97){T3yy.r0B!=this.errorHandler&&this.errorHandler();};R97.prototype.onLoaded=function(w97){try{var o97=JSON.parse(w97);this.successHandler(S97.LabelsValueObject.fromObject(o97));}catch(n97){console.error(n97),this.errorHandler();}};return R97;}();S97.LabelsLoader=m97;}(z97._labels||(z97._labels={})));}(b97.model||(b97.model={})));}(pivot||(pivot={})));(function(d97){(function(c97){(function(A97){var l97=function(){h97.getInstance=function(){T3yy.r0B==h97.instance&&(h97.instance=new h97());return h97.instance;};h97.dispose=function(){var N49=T3yy;A97.Labels.MONTHS_LABELS=N49.r0B;A97.Labels.MONTHS_LABELS_SHORT=N49.r0B;A97.Labels.WEEKDAYS_LABELS=N49.r0B;A97.Labels.WEEKDAYS_LABELS_SHORT=N49.r0B;A97.Labels.QUARTER_LABELS=N49.r0B;h97.instance.defaults=N49.r0B;h97.instance.globals=N49.r0B;h97.instance.reports=N49.r0B;h97.instance=N49.r0B;};h97.prototype.getReportLocalization=function(){return this.reports;};h97.prototype.setReportLocalization=function(M97){this.reports!=M97&&(this.reports=M97,this.updateLabels());};h97.prototype.updateLabels=function(){var o9J="messages/progress";var u4J="months/september";var o0J="aggregations/difference/totalCaption";var d4J="weekdaysShort/seventh";var V9J="messages/loadingLevels";var q0J="aggregations/max/grandTotalCaption";var K4J="weekdays/fifth";var z1J="fieldsList/rows";var L0J="aggregations/percent/caption";var G6J="quarters/q1";var o4J="weekdaysShort/fourth";var p6J="buttons/yes";var H1J="drillThrough/row";var q1J="calculatedView/formulaPrompt";var c6J="contextMenu/expand";var h6J="contextMenu/sortColumnDesc";var i6J="months/march";var D4J="months/november";var m6J="messages/cantExpand";var L6J="quarters/q4";var F4J="months/july";var l9J="messages/loadingDimensions";var m0J="aggregations/sum/caption";var y1J="fieldsList/addCalculatedMeasure";var P9J="aggregations/median/caption";var f9J="messages/browse";var S4J="monthsShort/december";var B6J="messages/wrongFormulaFormat";var U0J="aggregations/min/caption";var J6J="messages/inputNewName";var N6J="months/january";var s4J="weekdays/third";var t0J="aggregations/min/grandTotalCaption";var m1J="fieldsList/filters";var x9J="messages/exportComplete";var Z6J="messages/unableToOpenFile";var N9J="messages/uploading";var B1J="fieldsList/rowBox";var w1J="filter/descSort";var D6J="messages/unableTwoFileBrowsingSessions";var j4J="monthsShort/april";var z0J="tooltips/sortedAscIcon";var G9J="messages/exportError";var N0J="aggregations/percent/totalCaption";var A6J="contextMenu/openFilter";var r6J="quarters/q2";var i1J="calculatedView/removeValueMessage";var r9J="messages/generatingPDF";var X4J="monthsShort/september";var Y9J="messages/loadingConfiguration";var g1J="fieldsList/expandAll";var X1J="fieldsList/formulasGroupName";var q9J="messages/pleaseWait";var g4J="monthsShort/july";var c0J="aggregations/percentDifference/grandTotalCaption";var f6J="buttons/ok";var U1J="drillThrough/value";var z4J="monthsShort/november";var y9J="aggregations/stdevp/grandTotalCaption";var t1J="calculatedView/measureBox";var e0J="tooltips/column";var G0J="aggregations/max/caption";var Q6J="messages/invalidDataSource";var I6J="months/february";var w4J="weekdaysShort/fifth";var b1J="fieldsList/allFields";var P0J="tooltips/headerResize";var O6J="messages/excelPdfExportLimitation";var f4J="weekdays/fourth";var b9J="aggregations/runningTotals/caption";var Q9J="aggregations/percentOfRow/grandTotalCaption";var H6J="contextMenu/sortRowDesc";var I9J="messages/cantSaveFile";var W9J="messages/loadingData";var K1J="filter/all";var i0J="aggregations/percentOfColumn/caption";var n9J="messages/analyzing";var c1J="filter/search";var h9J="messages/loadingHierarchies";var d6J="contextMenu/drillThrough";var m9J="messages/error";var z9J="aggregations/runningTotals/totalCaption";var K6J="buttons/apply";var c9J="messages/analyzingRecords";var a0J="tooltips/drillUp";var P1J="fieldsList/filterBox";var s9J="messages/limitation";var b0J="tooltips/sortedDescIcon";var L1J="calculatedView/calculateIndividualValues";var Z0J="grid/dateInvalidCaption";var V1J="drillThrough/column";var H0J="aggregations/product/totalCaption";var M6J="contextMenu/sortRowAsc";var b4J="monthsShort/october";var j9J="aggregations/stdevp/caption";var A1J="filter/amountSelected";var d1J="filter/clearTopX";var F9J="aggregations/percentOfRow/totalCaption";var n6J="contextMenu/collapse";var q6J="quarters/q3";var J0J="grid/total";var n0J="aggregations/percentDifference/caption";var W6J="buttons/select";var W0J="aggregations/distinctCount/grandTotalCaption";var K9J="messages/confirmation";var V6J="date/year";var s6J="messages/noGoogleClientKey";var C0J="calculatedView/allValues";var X6J="messages/unknownError";var Z4J="months/october";var f1J="fieldsList/subtitle";var e4J="months/december";var j6J="messages/excelExportLimitation";var E0J="aggregations/count/grandTotalCaption";var s0J="aggregations/sum/grandTotalCaption";var a1J="fieldsList/collapseAll";var o6J="buttons/no";var F6J="messages/inputReportName";var J4J="months/june";var n4J="weekdaysShort/sixth";var S0J="tooltips/close";var u0J="grid/blankMember";var J9J="aggregations/percentOfRow/caption";var i9J="messages/cantSaveToClipboard";var l0J="aggregations/average/totalCaption";var n1J="filter/topX";var g0J="tooltips/drillDown";var s1J="fieldsList/title";var t9J="messages/exportProgress";var O0J="tooltips/filterIcon";var U9J="messages/fullscreen";var H9J="messages/loadingMembers";var U6J="date/quarter";var A0J="aggregations/average/caption";var p1J="filter/bottom";var C9J="aggregations/percentOfColumn/grandTotalCaption";var R9J="messages/warning";var x0J="aggregations/min/totalCaption";var I0J="aggregations/percent/grandTotalCaption";var A9J="messages/saving";var M0J="aggregations/product/caption";var p9J="messages/waiting";var g6J="messages/dataWasUpdated";var y0J="tooltips/collapseIcon";var w9J="messages/progressUnknown";var v4J="weekdays/seventh";var v1J="filter/selectAll";var P4J="monthsShort/january";var C4J="months/may";var u9J="aggregations/index/caption";var x6J="date/month";var j0J="tooltips/filtered";var f0J="aggregations/count/caption";var D9J="aggregations/index/grandTotalCaption";var u6J="messages/dataStreamError";var k4J="monthsShort/may";var p0J="aggregations/difference/caption";var M9J="messages/loadingMeasures";var T9J="aggregations/percentOfColumn/totalCaption";var l1J="filter/amountFound";var h1J="filter/sort";var d0J="aggregations/percentDifference/totalCaption";var T4J="months/april";var v9J="messages/loading";var R6J="messages/cantExpandTitle";var a4J="monthsShort/august";var L9J="messages/pagesWereGenerated";var e6J="messages/inappropriateFileFormat";var a9J="aggregations/stdevs/totalCaption";var Y6J="buttons/clear";var o1J="filter/ascSort";var C6J="messages/loadReportFromFile";var Y0J="aggregations/distinctCount/totalCaption";var v6J="buttons/save";var w6J="contextMenu/clearSorting";var S1J="fieldsList/columns";var K0J="aggregations/count/totalCaption";var I1J="calculatedView/removeValueTitle";var h0J="aggregations/average/grandTotalCaption";var Q4J="months/august";var l6J="contextMenu/sortColumnAsc";var O9J="aggregations/median/grandTotalCaption";var p4J="weekdaysShort/third";var B4J="monthsShort/february";var y4J="monthsShort/june";var X0J="tooltips/sortIcon";var W1J="filter/top";var R4J="weekdays/second";var j1J="fieldsList/measureBox";var T0J="calculatedView/header";var D1J="fieldsList/flatHierarchyBox";var k6J="messages/noDataAvailable";var e9J="aggregations/none/caption";var P6J="messages/invalidJSONdata";var t6J="date/day";var Z9J="aggregations/index/totalCaption";var W4J="weekdaysShort/second";var R0J="aggregations/sum/totalCaption";var Q0J="grid/grandTotal";var Y4J="weekdaysShort/first";var b6J="messages/invalidReportFormat";var E4J="weekdays/sixth";var E9J="messages/reportFileType";var S6J="messages/tooManyColumnsInClassicMode";var y6J="messages/saveDataToFile";var B9J="aggregations/median/totalCaption";var V0J="aggregations/product/grandTotalCaption";var m4J="weekdays/first";var x1J="calculatedView/title";var X9J="aggregations/stdevs/grandTotalCaption";var D0J="tooltips/row";var k1J="fieldsList/values";var g9J="aggregations/stdevs/caption";var r1J="calculatedView/formula";var B0J="tooltips/headerFit";var F0J="grid/totals";var G1J="calculatedView/measureName";var z6J="messages/csvHeaderParsingError";var r0J="aggregations/max/totalCaption";var w0J="aggregations/difference/grandTotalCaption";var N1J="calculatedView/removeValue";var a6J="messages/ocsvIncompatible";var O4J="monthsShort/march";var T6J="messages/saveReportToFile";var R1J="fieldsList/dropField";var k0J="tooltips/expandIcon";var S9J="aggregations/runningTotals/grandTotalCaption";var k9J="aggregations/stdevp/totalCaption";var v0J="aggregations/distinctCount/caption";var E6J="buttons/cancel";var Y1J="filter/selectAllResults";var E1J="filter/multipleItems";var d9J="messages/analyzingProgress";var e1J="fieldsList/hierarchyBox";var O1J="fieldsList/columnBox";var M1J="drillThrough/title";A97.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX=this.getLabel(D1J);A97.Labels.FIELDS_LIST_HIERARCHY_BOX=this.getLabel(e1J);A97.Labels.FIELDS_LIST_FILTER_BOX=this.getLabel(P1J);A97.Labels.FIELDS_LIST_ROW_BOX=this.getLabel(B1J);A97.Labels.FIELDS_LIST_COLUMN_BOX=this.getLabel(O1J);A97.Labels.FIELDS_LIST_MEASURE_BOX=this.getLabel(j1J);A97.Labels.FIELDS_LIST_VALUES=this.getLabel(k1J);A97.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE=this.getLabel(y1J);A97.Labels.FIELDS_LIST_EXPAND_ALL=this.getLabel(g1J);A97.Labels.FIELDS_LIST_COLLAPSE_ALL=this.getLabel(a1J);A97.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME=this.getLabel(X1J);A97.Labels.FIELDS_LIST_ALL_FIELDS=this.getLabel(b1J);A97.Labels.FIELDS_LIST_ROWS=this.getLabel(z1J);A97.Labels.FIELDS_LIST_COLUMNS=this.getLabel(S1J);A97.Labels.FIELDS_LIST_FILTERS=this.getLabel(m1J);A97.Labels.FIELDS_LIST_DROP_FIELD=this.getLabel(R1J);A97.Labels.FIELDS_LIST_TITLE=this.getLabel(s1J);A97.Labels.FIELDS_LIST_SUBTITLE=this.getLabel(f1J);A97.Labels.FILTER_ALL=this.getLabel(K1J);A97.Labels.FILTER_MULTIPLE_ITEMS=this.getLabel(E1J);A97.Labels.FILTER_SELECT_ALL=this.getLabel(v1J);A97.Labels.FILTER_SELECT_ALL_RESULTS=this.getLabel(Y1J);A97.Labels.FILTER_TOP=this.getLabel(W1J);A97.Labels.FILTER_BOTTOM=this.getLabel(p1J);A97.Labels.FILTER_ASC_SORT=this.getLabel(o1J);A97.Labels.FILTER_DESC_SORT=this.getLabel(w1J);A97.Labels.FILTER_TOP_X=this.getLabel(n1J);A97.Labels.FILTER_TOP_X_CLEAR=this.getLabel(d1J);A97.Labels.FILTER_SEARCH=this.getLabel(c1J);A97.Labels.FILTER_AMOUNT_SELECTED=this.getLabel(A1J);A97.Labels.FILTER_AMOUNT_FOUND=this.getLabel(l1J);A97.Labels.FILTER_SORT=this.getLabel(h1J);A97.Labels.DRILL_THROUGH_TITLE=this.getLabel(M1J);A97.Labels.DRILL_THROUGH_ROW=this.getLabel(H1J);A97.Labels.DRILL_THROUGH_COLUMN=this.getLabel(V1J);A97.Labels.DRILL_THROUGH_VALUE=this.getLabel(U1J);A97.Labels.CALCULATED_VIEW_TITLE=this.getLabel(x1J);A97.Labels.CALCULATED_VIEW_MEASURE_BOX=this.getLabel(t1J);A97.Labels.CALCULATED_VIEW_MEASURE_NAME=this.getLabel(G1J);A97.Labels.CALCULATED_VIEW_FORMULA=this.getLabel(r1J);A97.Labels.CALCULATED_VIEW_FORMULA_PROMPT=this.getLabel(q1J);A97.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES=this.getLabel(L1J);A97.Labels.CALCULATED_VIEW_REMOVE_VALUE=this.getLabel(N1J);A97.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE=this.getLabel(I1J);A97.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE=this.getLabel(i1J);A97.Labels.CALCULATED_VIEW_HEADER=this.getLabel(T0J);A97.Labels.CALCULATED_VIEW_ALL_VALUES=this.getLabel(C0J);A97.Labels.GRID_TOTAL=this.getLabel(J0J);A97.Labels.GRID_TOTALS=this.getLabel(F0J);A97.Labels.GRID_GRAND_TOTAL=this.getLabel(Q0J);A97.Labels.MEMBER_BLANK=this.getLabel(u0J);A97.Labels.INVALID_DATE=this.getLabel(Z0J);A97.Labels.TOOLTIPS_ROW=this.getLabel(D0J);A97.Labels.TOOLTIPS_COLUMN=this.getLabel(e0J);A97.Labels.TOOLTIPS_HEADER_RESIZE=this.getLabel(P0J);A97.Labels.TOOLTIPS_HEADER_FIT=this.getLabel(B0J);A97.Labels.TOOLTIPS_FILTER_ICON=this.getLabel(O0J);A97.Labels.TOOLTIPS_FILTERED=this.getLabel(j0J);A97.Labels.TOOLTIPS_EXPAND_ICON=this.getLabel(k0J);A97.Labels.TOOLTIPS_COLLAPSE_ICON=this.getLabel(y0J);A97.Labels.TOOLTIPS_DRILL_DOWN=this.getLabel(g0J);A97.Labels.TOOLTIPS_DRILL_UP=this.getLabel(a0J);A97.Labels.TOOLTIPS_SORT_ICON=this.getLabel(X0J);A97.Labels.TOOLTIPS_SORTED_DESC=this.getLabel(b0J);A97.Labels.TOOLTIPS_SORTED_ASC=this.getLabel(z0J);A97.Labels.TOOLTIPS_CLOSE=this.getLabel(S0J);A97.Labels.SUM_CAPTION=this.getLabel(m0J);A97.Labels.SUM_TOTAL_CAPTION=this.getLabel(R0J);A97.Labels.SUM_GRAND_TOTAL_CAPTION=this.getLabel(s0J);A97.Labels.COUNT_CAPTION=this.getLabel(f0J);A97.Labels.COUNT_TOTAL_CAPTION=this.getLabel(K0J);A97.Labels.COUNT_GRAND_TOTAL_CAPTION=this.getLabel(E0J);A97.Labels.DISTINCT_COUNT_CAPTION=this.getLabel(v0J);A97.Labels.DISTINCT_COUNT_TOTAL_CAPTION=this.getLabel(Y0J);A97.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION=this.getLabel(W0J);A97.Labels.DIFFERENCE_CAPTION=this.getLabel(p0J);A97.Labels.DIFFERENCE_TOTAL_CAPTION=this.getLabel(o0J);A97.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel(w0J);A97.Labels.PERCENT_DIFFERENCE_CAPTION=this.getLabel(n0J);A97.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION=this.getLabel(d0J);A97.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel(c0J);A97.Labels.AVERAGE_CAPTION=this.getLabel(A0J);A97.Labels.AVERAGE_TOTAL_CAPTION=this.getLabel(l0J);A97.Labels.AVERAGE_GRAND_TOTAL_CAPTION=this.getLabel(h0J);A97.Labels.PRODUCT_CAPTION=this.getLabel(M0J);A97.Labels.PRODUCT_TOTAL_CAPTION=this.getLabel(H0J);A97.Labels.PRODUCT_GRAND_TOTAL_CAPTION=this.getLabel(V0J);A97.Labels.MIN_CAPTION=this.getLabel(U0J);A97.Labels.MIN_TOTAL_CAPTION=this.getLabel(x0J);A97.Labels.MIN_GRAND_TOTAL_CAPTION=this.getLabel(t0J);A97.Labels.MAX_CAPTION=this.getLabel(G0J);A97.Labels.MAX_TOTAL_CAPTION=this.getLabel(r0J);A97.Labels.MAX_GRAND_TOTAL_CAPTION=this.getLabel(q0J);A97.Labels.PERCENT_CAPTION=this.getLabel(L0J);A97.Labels.PERCENT_TOTAL_CAPTION=this.getLabel(N0J);A97.Labels.PERCENT_GRAND_TOTAL_CAPTION=this.getLabel(I0J);A97.Labels.PERCENT_COLUMN_CAPTION=this.getLabel(i0J);A97.Labels.PERCENT_COLUMN_TOTAL_CAPTION=this.getLabel(T9J);A97.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION=this.getLabel(C9J);A97.Labels.PERCENT_ROW_CAPTION=this.getLabel(J9J);A97.Labels.PERCENT_ROW_TOTAL_CAPTION=this.getLabel(F9J);A97.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION=this.getLabel(Q9J);A97.Labels.INDEX_CAPTION=this.getLabel(u9J);A97.Labels.INDEX_TOTAL_CAPTION=this.getLabel(Z9J);A97.Labels.INDEX_GRAND_TOTAL_CAPTION=this.getLabel(D9J);A97.Labels.NONE_CAPTION=this.getLabel(e9J);A97.Labels.MEDIAN_CAPTION=this.getLabel(P9J);A97.Labels.MEDIAN_TOTAL_CAPTION=this.getLabel(B9J);A97.Labels.MEDIAN_GRAND_TOTAL_CAPTION=this.getLabel(O9J);A97.Labels.STDEVP_CAPTION=this.getLabel(j9J);A97.Labels.STDEVP_TOTAL_CAPTION=this.getLabel(k9J);A97.Labels.STDEVP_GRAND_TOTAL_CAPTION=this.getLabel(y9J);A97.Labels.STDEVS_CAPTION=this.getLabel(g9J);A97.Labels.STDEVS_TOTAL_CAPTION=this.getLabel(a9J);A97.Labels.STDEVS_GRAND_TOTAL_CAPTION=this.getLabel(X9J);A97.Labels.RUNNING_TOTALS_CAPTION=this.getLabel(b9J);A97.Labels.RUNNING_TOTALS_TOTAL_CAPTION=this.getLabel(z9J);A97.Labels.RUNNING_TOTALS_GRAND_TOTAL_CAPTION=this.getLabel(S9J);A97.Labels.ERROR=this.getLabel(m9J);A97.Labels.WARNING=this.getLabel(R9J);A97.Labels.LIMITATION=this.getLabel(s9J);A97.Labels.BROWSE=this.getLabel(f9J);A97.Labels.CONFIRMATION=this.getLabel(K9J);A97.Labels.REPORT_FILE_TYPE=this.getLabel(E9J);A97.Labels.MESSAGE_LOADING=this.getLabel(v9J);A97.Labels.MESSAGE_LOADING_CONFIGURATION=this.getLabel(Y9J);A97.Labels.MESSAGE_LOADING_DATA=this.getLabel(W9J);A97.Labels.MESSAGE_LOADING_WAITING=this.getLabel(p9J);A97.Labels.MESSAGE_LOADING_PROGRESS=this.getLabel(o9J);A97.Labels.MESSAGE_LOADING_PROGRESS_UNKNOWN=this.getLabel(w9J);A97.Labels.MESSAGE_ANALYZING_DATA=this.getLabel(n9J);A97.Labels.MESSAGE_ANALYZING_PROGRESS=this.getLabel(d9J);A97.Labels.MESSAGE_ANALYZING_RECORDS=this.getLabel(c9J);A97.Labels.MESSAGE_SAVING=this.getLabel(A9J);A97.Labels.MESSAGE_LOADING_DIMENSIONS=this.getLabel(l9J);A97.Labels.MESSAGE_LOADING_HIERARCHIES=this.getLabel(h9J);A97.Labels.MESSAGE_LOADING_MEASURES=this.getLabel(M9J);A97.Labels.MESSAGE_LOADING_MEMBERS=this.getLabel(H9J);A97.Labels.MESSAGE_LOADING_LEVELS=this.getLabel(V9J);A97.Labels.MESSAGE_FULLSCREEN=this.getLabel(U9J);A97.Labels.MESSAGE_EXPORT_COMPLETE=this.getLabel(x9J);A97.Labels.MESSAGE_EXPORT_PROGRESS=this.getLabel(t9J);A97.Labels.MESSAGE_EXPORT_ERROR=this.getLabel(G9J);A97.Labels.MESSAGE_GENERATING_PDF=this.getLabel(r9J);A97.Labels.MESSAGE_PLEASE_WAIT=this.getLabel(q9J);A97.Labels.MESSAGE_PAGES_WERE_GENERATED=this.getLabel(L9J);A97.Labels.MESSAGE_UPLOADING=this.getLabel(N9J);A97.Labels.MESSAGE_CANT_SAVE_FILE=this.getLabel(I9J);A97.Labels.MESSAGE_CANT_WRITE_TO_CLIPBOARD=this.getLabel(i9J);A97.Labels.MESSAGE_SAVE_REPORT_TO_FILE=this.getLabel(T6J);A97.Labels.MESSAGE_LOAD_REPORT_FROM_FILE=this.getLabel(C6J);A97.Labels.MESSAGE_INPUT_NEW_NAME=this.getLabel(J6J);A97.Labels.MESSAGE_INPUT_REPORT_NAME=this.getLabel(F6J);A97.Labels.MESSAGE_INVALID_DATASOURCE=this.getLabel(Q6J);A97.Labels.MESSAGE_DATA_STREAM_ERROR=this.getLabel(u6J);A97.Labels.MESSAGE_UNABLE_TO_OPEN_FILE=this.getLabel(Z6J);A97.Labels.MESSAGE_DOUBLE_FILE_BROWSING_SESSION=this.getLabel(D6J);A97.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT=this.getLabel(e6J);A97.Labels.MESSAGE_INVALID_JSON_DATA=this.getLabel(P6J);A97.Labels.MESSAGE_WRONG_FORMULA_FORMAT=this.getLabel(B6J);A97.Labels.MESSAGE_EXCEL_PDF_EXPORT_LIMITATION=this.getLabel(O6J);A97.Labels.MESSAGE_EXPORT_LIMITATION=this.getLabel(j6J);A97.Labels.MESSAGE_NO_DATA_AVAILABLE=this.getLabel(k6J);A97.Labels.MESSAGE_SAVE_DATA_TO_FILE=this.getLabel(y6J);A97.Labels.MESSAGE_DATA_WAS_UPDATED=this.getLabel(g6J);A97.Labels.MESSAGE_OCSV_INCOMPATIBLE=this.getLabel(a6J);A97.Labels.MESSAGE_UNKNOWN_ERROR=this.getLabel(X6J);A97.Labels.MESSAGE_INVALID_REPORT_FORMAT=this.getLabel(b6J);A97.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR=this.getLabel(z6J);A97.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE=this.getLabel(S6J);A97.Labels.MESSAGE_CANT_EXPAND=this.getLabel(m6J);A97.Labels.MESSAGE_CANT_EXPAND_TITLE=this.getLabel(R6J);A97.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY=this.getLabel(s6J);A97.Labels.BUTTON_OK=this.getLabel(f6J);A97.Labels.BUTTON_APPLY=this.getLabel(K6J);A97.Labels.BUTTON_CANCEL=this.getLabel(E6J);A97.Labels.BUTTON_SAVE=this.getLabel(v6J);A97.Labels.BUTTON_CLEAR=this.getLabel(Y6J);A97.Labels.BUTTON_SELECT=this.getLabel(W6J);A97.Labels.BUTTON_YES=this.getLabel(p6J);A97.Labels.BUTTON_NO=this.getLabel(o6J);A97.Labels.CONTEXT_MENU_CLEAR_SORTING=this.getLabel(w6J);A97.Labels.CONTEXT_MENU_COLLAPSE=this.getLabel(n6J);A97.Labels.CONTEXT_MENU_DRILL_THROUGH=this.getLabel(d6J);A97.Labels.CONTEXT_MENU_EXPAND=this.getLabel(c6J);A97.Labels.CONTEXT_MENU_OPEN_FILTER=this.getLabel(A6J);A97.Labels.CONTEXT_MENU_SORT_COLUMN_ASC=this.getLabel(l6J);A97.Labels.CONTEXT_MENU_SORT_COLUMN_DESC=this.getLabel(h6J);A97.Labels.CONTEXT_MENU_SORT_ROW_ASC=this.getLabel(M6J);A97.Labels.CONTEXT_MENU_SORT_ROW_DESC=this.getLabel(H6J);A97.Labels.YEAR=this.getLabel(V6J);A97.Labels.QUARTER=this.getLabel(U6J);A97.Labels.MONTH=this.getLabel(x6J);A97.Labels.DAY=this.getLabel(t6J);A97.Labels.QUARTER_LABELS=[this.getLabel(G6J),this.getLabel(r6J),this.getLabel(q6J),this.getLabel(L6J)];A97.Labels.MONTHS_LABELS=[this.getLabel(N6J),this.getLabel(I6J),this.getLabel(i6J),this.getLabel(T4J),this.getLabel(C4J),this.getLabel(J4J),this.getLabel(F4J),this.getLabel(Q4J),this.getLabel(u4J),this.getLabel(Z4J),this.getLabel(D4J),this.getLabel(e4J)];A97.Labels.MONTHS_LABELS_SHORT=[this.getLabel(P4J),this.getLabel(B4J),this.getLabel(O4J),this.getLabel(j4J),this.getLabel(k4J),this.getLabel(y4J),this.getLabel(g4J),this.getLabel(a4J),this.getLabel(X4J),this.getLabel(b4J),this.getLabel(z4J),this.getLabel(S4J)];A97.Labels.WEEKDAYS_LABELS=[this.getLabel(m4J),this.getLabel(R4J),this.getLabel(s4J),this.getLabel(f4J),this.getLabel(K4J),this.getLabel(E4J),this.getLabel(v4J)];A97.Labels.WEEKDAYS_LABELS_SHORT=[this.getLabel(Y4J),this.getLabel(W4J),this.getLabel(p4J),this.getLabel(o4J),this.getLabel(w4J),this.getLabel(n4J),this.getLabel(d4J)];utils.DateFormat.setDayNames(A97.Labels.WEEKDAYS_LABELS,A97.Labels.WEEKDAYS_LABELS_SHORT);utils.DateFormat.setMonthNames(A97.Labels.MONTHS_LABELS,A97.Labels.MONTHS_LABELS_SHORT);};h97.prototype.getLabel=function(V97){var L49=T3yy;if(!L49.I5B==utils.nullOrUndefined(this.reports)){var H97=this.reports.getLabel(V97);if(!L49.I5B==utils.nullOrUndefined(H97))return H97;}return!L49.I5B==utils.nullOrUndefined(this.globals)&&(H97=this.globals.getLabel(V97),!L49.I5B==utils.nullOrUndefined(H97))?H97:this.defaults.getLabel(V97);};h97.prototype.reset=function(){this.reports=T3yy.r0B;this.updateLabels();};h97.prototype.load=function(x97,U97,t97){var r49=T3yy;var G97=this;void r49.N5B===t97&&(t97=!r49.I5B);try{if(r49.q9B==typeof x97&&!r49.I5B==utils.nullOrEmpty(x97))new A97.LabelsLoader().load(utils.URLUtils.getUrl(x97,!r49.N5B),function(r97){G97.onLoadingComplete(r97,t97);r49.r0B!=U97&&U97(!r49.N5B);},function(){r49.r0B!=U97&&U97(!r49.I5B);});else{if(x97 instanceof Object)this.onLoadingComplete(A97.LabelsValueObject.fromObject(x97),t97);else this.reset();r49.r0B!=U97&&U97(!r49.N5B);}}catch(q97){console.error(q97),r49.r0B!=U97&&U97(!r49.I5B);}};h97.prototype.onLoadingComplete=function(N97,L97){void T3yy.N5B===L97&&(L97=!T3yy.I5B);L97?this.globals=N97:this.reports=N97;this.updateLabels();};h97.prototype.generateLocalization=function(){var I97=new A97.LabelsValueObject();I97.setDefaults();I97.merge(this.globals);return I97.toObject();};h97.prototype.getCurrentLocalization=function(){var i97=new A97.LabelsValueObject();i97.setDefaults();i97.merge(this.globals);this.reports&&i97.merge(this.reports);return i97;};function h97(){if(T3yy.r0B!=h97.instance)throw Error(C3yy.m2B);this.defaults=new A97.LabelsValueObject();this.defaults.setDefaults();}return h97;}();A97.LabelsManager=l97;}(c97._labels||(c97._labels={})));}(d97.model||(d97.model={})));}(pivot||(pivot={})));(function(T67){(function(C67){(function(F67){var J67=function(){Q67.prototype.setDefaults=function(){var M49=C3yy;var m8J="% of Column of {0}";var X3t="pages were generated.";var y1t="Layout";var T5t="Connect";var X7t="March";var E2J="Remove";var O7t="Quarter 1";var I3t="Yes";var W2J="All values";var X1t="Flat form";var x7t="Friday";var z5t="Options";var d3t="Export to Microsoft Excel or PDF is not available in the current edition.";var O1t="Text";var x3t="Some fields cannot be expanded. Please narrow down the data set.";var T8J="Count of {0}";var C1t="Add condition";var z7t="May";var e3t="Loading dimensions...";var q2J="Click to close";var i7t="Sat";var q7t="Tue";var m5t="Minimize";var j2J="{0} of {1} found are selected";var W7t="Mar";var i5t="Format as percent";var h5t="credentials";var z2J="{0}: <b>{1}</b>";var r3t="Apply";var e1t="Between";var S5t="Fullscreen";var W3t="Browse file dialog is already opened.";var Q5t="To remote CSV";var B3t="Loading measures...";var I7t="Fri";var c7t="Oct";var k7t="Quarter 3";var p2J="Total";var w3t="The data file is of inappropriate format.";var v7t="Jan";var P5t="Report";var M4J="Drop & Arrange Columns";var k5t="Classic";var e7t="Sort column asc";var b2J="Column: <b>{0}</b>";var H8J="Sample StDev of {0}";var Z8J="Average of {0}";var t8J="Error!";var o8J="% Difference of {0}";var S2J="Calculated Value";var T3t="Uploading...";var K3t="Input new name";var F7t="Expand";var e8J="Product";var J8J="Distinct Count";var d7t="Sep";var u7t="Sort row asc";var u8J="Average";var f8J="% of Row of {0}";var n8J="Median";var j1t="Highlight";var q5t="Decimal places";var U7t="Thursday";var b1t="Grand totals";var j8J="Min of {0}";var H4J="Drop & Arrange Values";var z1t="Do not show grand totals";var H5t="Password";var N8J="WebDataRocks report file";var y5t="Compact";var n7t="Aug";var b7t="April";var q4J="Add calculated value";var F2J="Top 10";var t5t="(Space)";var P1t="Empty";var l2J="Drag to resize";var Y3t="Unable to open file {0}.<br/><br/>It seems that this file doesn't exist or 'Access-Control-Allow-Origin' header is absent in the resource requested.";var K2J="Calculate individual values";var g1t="Compact form";var s2J="Formula";var D3t="Saving...";var c4J="Select and arrange columns";var t2J="Click to drill up";var W1t="Landscape";var T7t="Drill through";var Y1t="Choose page orientation";var C8J="Total Count of {0}";var h4J="Drop & Arrange Rows";var L7t="Wed";var O5t="Grid";var Y2J="Are you sure you want to remove this calculated value?";var S7t="June";var I8J="Loading...";var f7t="October";var C7t="Open filter";var M5t="Username";var m3t="Error: Cannot write to the clipboard.";var J2J="zA";var R3t='Report is ready to be saved to file, please click "Save" button to save the report.';var K8J="Total % of Row of {0}";var B8J="Total Product of {0}";var z3t="Failed to export. An unexpected error occurred.";var x5t="None";var r8J="Limitation!";var v2J="Remove {0}?";var Y5t="To Image";var q8J="Browse";var D8J="Total Average of {0}";var Z5t="Open";var G4J="Report Filters";var k8J="Total Min of {0}";var X8J="% of Grand Total";var U2J="Click to collapse";var s3t='Data is ready to be saved to file, please click "Save" button to save the file.';var R1t="Show for columns only";var c2J="Row:";var j3t="Loading levels...";var C5t="To local CSV";var l8J="Population StDev of {0}";var W8J="Difference of {0}";var s5t="Export";var G2J="Click to sort Desc";var a8J="Total Max of {0}";var n5t="Delete";var S1t="Show grand totals";var w8J="No Calculation";var z8J="Total % of Grand Total of {0}";var i4J="Fields";var U3t="Too many columns for classic form. Switched layout to compact form.";var F8J="Distinct Count of {0}";var F3t="loaded {0}K";var r2J="Click to sort Asc";var L5t="Currency symbol";var V2J="Click to expand";var u3t="{0} records of {1} ({2}%)";var J5t="To local JSON";var W5t="To PDF";var Z1t="Equal to";var g3t="Generating PDF";var p3t="Please enter Google Client Key in index.html file.";var y7t="Quarter 4";var L4J="Expand All";var V5t="Open remote report";var w2J="Grand Total";var D5t="Local report";var d2J="Invalid date";var v3t="Stream error occurred while loading '{0}'";var I4J="Calculated Values";var E8J="Index";var h3t="Data source has been updated on the server. Refresh the report?";var o3t="Wrong formula format. Please check.";var j5t="Flat";var Q1t="Greater than";var I2J="Total Sum of {0}";var Q8J="Total Distinct Count of {0}";var e5t="Remote report";var A7t="Nov";var m7t="July";var l7t="Dec";var a3t="Please wait.";var Z2J="Bottom";var C3t="Waiting for the response {0} sec.";var d8J="Median of {0}";var x4J="Rows";var m2J="Drag values to formula";var t4J="Columns";var O2J="{0} of {1} selected";var m1t="Show for rows only";var c3t="Export is not available in the current edition.";var F1t="Less than or equal to";var X5t="Conditional formatting";var b8J="% of Grand Total of {0}";var a2J="Details";var g5t="Format";var J1t="Less than";var Z3t="{0} records";var N5t="Currency align";var B5t="JSON report";var Q7t="Sort row desc";var o7t="Jun";var I5t="Null value";var n3t="JSON data is invalid.";var r5t="Decimal separator";var J7t="Collapse";var K1t="Show subtotals";var c8J="Total Median of {0}";var h2J="Double click to fit";var f5t="Print";var V3t="Invalid report format or access to file is denied.";var M7t="Monday";var l4J="Drop & Arrange Report Filter";var Y7t="Feb";var P3t="Loading hierarchies...";var k2J="Multiple Items";var O8J="Min";var p8J="% Difference";var i8J="Loading data...";var B2J="Select All Results";var L2J="Sum";var U8J="Running Totals";var u5t="CSV";var s8J="% of Row";var l3t="CSV header parsing error.";var F5t="To Google Drive";var c5t="If";var G7t="Sun";var a7t="February";var a5t="Format cells";var r4J="Drop field here";var M3t="Unable to read data source. It seems that OCSV file was compressed with a newer version. Please update the component to version {0} or newer.";var v5t="To Excel";var S3t="Cannot save file.";var B7t="Quarter";var g7t="January";var e2J="Search";var Z7t="Clear sorting";var V4J="Values";var U4J="All Fields";var p7t="Apr";var R8J="Total % of Column of {0}";var E7t="December";var Q3t="Analyzing data...";var O3t="Loading members...";var o2J="Totals";var w7t="Jul";var g2J="Sort:";var R7t="August";var g8J="Max of {0}";var K5t="To HTML";var b5t="Conditional";var p1t="Portrait";var H2J="Filtered";var o5t="Value";var f2J="Drop values and edit formula here";var G8J="Warning!";var U5t="Text align";var A5t="Then";var Y8J="Difference";var i2J="Count";var n2J="(blank)";var G3t="OK";var u2J="Top";var J3t="{0}K";var h8J="Total Population StDev of {0}";var E5t="To CSV";var N4J="Collapse All";var t3t="Data set is too large";var l5t="Open remote CSV";var q3t="Cancel";var x2J="Click to drill down";var A2J="Column:";var v1t="Show subtotal columns only";var V8J="Total Sample StDev of {0}";var X2J="Row: <b>{0}</b>";var D7t="Sort column desc";var s1t="Subtotals";var E1t="Show subtotal rows only";var A4J="Drag Dimensions";var P2J="Select All";var a1t="Classic form";var Q2J="Clear";var E3t="Please input report name";var M8J="Sample StDev";var R2J="Value name";var D1t="Not equal to";var s7t="September";var S8J="% of Column";var t7t="Saturday";var y8J="Max";var u1t="Greater than or equal to";var k3t="Open report in full screen?";var A3t="Data source is empty. Please check the CSV file.";var T2J="Drag and drop fields to arrange";var x8J="Running Totals of {0}";var y3t='Export data is created, please click "Save" button to save the _data.';var b3t="Export in progress...";var v8J="Index of {0}";var N7t="Thu";var P8J="Product of {0}";var N3t="Select";var h7t="Sunday";var D2J="Choose value";var L3t="Save";var N2J="Sum of {0}";var H3t="Unknown error occurred.";var k1t="Layout options";var i3t="No";var G5t="Thousand separator";var r7t="Mon";var M2J="Click to filter";var f1t="Do not show subtotals";var K7t="November";var V7t="Wednesday";var L8J="Confirmation";var A8J="Population StDev";var j7t="Quarter 2";var C2J="Az";var f3t="Select report file to be loaded.";var p5t="Done";var H7t="Tuesday";this.fieldsList.flatHierarchyBox=c4J;this.fieldsList.hierarchyBox=A4J;this.fieldsList.filterBox=l4J;this.fieldsList.rowBox=h4J;this.fieldsList.columnBox=M4J;this.fieldsList.measureBox=H4J;this.fieldsList.values=V4J;this.fieldsList.allFields=U4J;this.fieldsList.rows=x4J;this.fieldsList.columns=t4J;this.fieldsList.filters=G4J;this.fieldsList.dropField=r4J;this.fieldsList.addCalculatedMeasure=q4J;this.fieldsList.expandAll=L4J;this.fieldsList.collapseAll=N4J;this.fieldsList.formulasGroupName=I4J;this.fieldsList.title=i4J;this.fieldsList.subtitle=T2J;this.filter.ascSort=C2J;this.filter.descSort=J2J;this.filter.topX=F2J;this.filter.clearTopX=Q2J;this.filter.top=u2J;this.filter.bottom=Z2J;this.filter.measuresPrompt=D2J;this.filter.search=e2J;this.filter.selectAll=P2J;this.filter.selectAllResults=B2J;this.filter.amountSelected=O2J;this.filter.amountFound=j2J;this.filter.multipleItems=k2J;this.filter.all=M49.y2J;this.filter.sort=g2J;this.drillThrough.title=a2J;this.drillThrough.row=X2J;this.drillThrough.column=b2J;this.drillThrough.value=z2J;this.calculatedView.title=S2J;this.calculatedView.measureBox=m2J;this.calculatedView.measureName=R2J;this.calculatedView.formula=s2J;this.calculatedView.formulaPrompt=f2J;this.calculatedView.calculateIndividualValues=K2J;this.calculatedView.removeValue=E2J;this.calculatedView.removeValueTitle=v2J;this.calculatedView.removeValueMessage=Y2J;this.calculatedView.header=q4J;this.calculatedView.allValues=W2J;this.grid.total=p2J;this.grid.totals=o2J;this.grid.grandTotal=w2J;this.grid.blankMember=n2J;this.grid.dateInvalidCaption=d2J;this.tooltips.row=c2J;this.tooltips.column=A2J;this.tooltips.headerResize=l2J;this.tooltips.headerFit=h2J;this.tooltips.filterIcon=M2J;this.tooltips.filtered=H2J;this.tooltips.expandIcon=V2J;this.tooltips.collapseIcon=U2J;this.tooltips.drillDown=x2J;this.tooltips.drillUp=t2J;this.tooltips.sortIcon=G2J;this.tooltips.sortedDescIcon=r2J;this.tooltips.sortedAscIcon=G2J;this.tooltips.close=q2J;this.aggregations.sum.caption=L2J;this.aggregations.sum.totalCaption=N2J;this.aggregations.sum.grandTotalCaption=I2J;this.aggregations.count.caption=i2J;this.aggregations.count.totalCaption=T8J;this.aggregations.count.grandTotalCaption=C8J;this.aggregations.distinctCount.caption=J8J;this.aggregations.distinctCount.totalCaption=F8J;this.aggregations.distinctCount.grandTotalCaption=Q8J;this.aggregations.average.caption=u8J;this.aggregations.average.totalCaption=Z8J;this.aggregations.average.grandTotalCaption=D8J;this.aggregations.product.caption=e8J;this.aggregations.product.totalCaption=P8J;this.aggregations.product.grandTotalCaption=B8J;this.aggregations.min.caption=O8J;this.aggregations.min.totalCaption=j8J;this.aggregations.min.grandTotalCaption=k8J;this.aggregations.max.caption=y8J;this.aggregations.max.totalCaption=g8J;this.aggregations.max.grandTotalCaption=a8J;this.aggregations.percent.caption=X8J;this.aggregations.percent.totalCaption=b8J;this.aggregations.percent.grandTotalCaption=z8J;this.aggregations.percentOfColumn.caption=S8J;this.aggregations.percentOfColumn.totalCaption=m8J;this.aggregations.percentOfColumn.grandTotalCaption=R8J;this.aggregations.percentOfRow.caption=s8J;this.aggregations.percentOfRow.totalCaption=f8J;this.aggregations.percentOfRow.grandTotalCaption=K8J;this.aggregations.index.caption=E8J;this.aggregations.index.totalCaption=v8J;this.aggregations.index.grandTotalCaption=v8J;this.aggregations.difference.caption=Y8J;this.aggregations.difference.totalCaption=W8J;this.aggregations.difference.grandTotalCaption=W8J;this.aggregations.percentDifference.caption=p8J;this.aggregations.percentDifference.totalCaption=o8J;this.aggregations.percentDifference.grandTotalCaption=o8J;this.aggregations.none.caption=w8J;this.aggregations.median.caption=n8J;this.aggregations.median.totalCaption=d8J;this.aggregations.median.grandTotalCaption=c8J;this.aggregations.stdevp.caption=A8J;this.aggregations.stdevp.totalCaption=l8J;this.aggregations.stdevp.grandTotalCaption=h8J;this.aggregations.stdevs.caption=M8J;this.aggregations.stdevs.totalCaption=H8J;this.aggregations.stdevs.grandTotalCaption=V8J;this.aggregations.runningTotals.caption=U8J;this.aggregations.runningTotals.totalCaption=x8J;this.aggregations.runningTotals.grandTotalCaption=x8J;this.messages.error=t8J;this.messages.warning=G8J;this.messages.limitation=r8J;this.messages.browse=q8J;this.messages.confirmation=L8J;this.messages.reportFileType=N8J;this.messages.loading=I8J;this.messages.loadingConfiguration=T3yy.o9B;this.messages.loadingData=i8J;this.messages.uploading=T3t;this.messages.waiting=C3t;this.messages.progress=J3t;this.messages.progressUnknown=F3t;this.messages.analyzing=Q3t;this.messages.analyzingProgress=u3t;this.messages.analyzingRecords=Z3t;this.messages.saving=D3t;this.messages.loadingDimensions=e3t;this.messages.loadingHierarchies=P3t;this.messages.loadingMeasures=B3t;this.messages.loadingMembers=O3t;this.messages.loadingLevels=j3t;this.messages.fullscreen=k3t;this.messages.exportComplete=y3t;this.messages.generatingPDF=g3t;this.messages.pleaseWait=a3t;this.messages.pagesWereGenerated=X3t;this.messages.exportProgress=b3t;this.messages.exportError=z3t;this.messages.cantSaveFile=S3t;this.messages.cantSaveToClipboard=m3t;this.messages.saveReportToFile=R3t;this.messages.saveDataToFile=s3t;this.messages.loadReportFromFile=f3t;this.messages.inputNewName=K3t;this.messages.inputReportName=E3t;this.messages.dataStreamError=v3t;this.messages.unableToOpenFile=Y3t;this.messages.unableTwoFileBrowsingSessions=W3t;this.messages.noGoogleClientKey=p3t;this.messages.wrongFormulaFormat=o3t;this.messages.inappropriateFileFormat=w3t;this.messages.invalidJSONdata=n3t;this.messages.excelPdfExportLimitation=d3t;this.messages.excelExportLimitation=c3t;this.messages.noDataAvailable=A3t;this.messages.csvHeaderParsingError=l3t;this.messages.dataWasUpdated=h3t;this.messages.ocsvIncompatible=M3t;this.messages.unknownError=H3t;this.messages.invalidReportFormat=V3t;this.messages.tooManyColumnsInClassicMode=U3t;this.messages.cantExpand=x3t;this.messages.cantExpandTitle=t3t;this.buttons.ok=G3t;this.buttons.apply=r3t;this.buttons.cancel=q3t;this.buttons.save=L3t;this.buttons.clear=Q2J;this.buttons.select=N3t;this.buttons.yes=I3t;this.buttons.no=i3t;this.contextMenu.drillThrough=T7t;this.contextMenu.openFilter=C7t;this.contextMenu.collapse=J7t;this.contextMenu.expand=F7t;this.contextMenu.sortRowDesc=Q7t;this.contextMenu.sortRowAsc=u7t;this.contextMenu.clearSorting=Z7t;this.contextMenu.sortColumnDesc=D7t;this.contextMenu.sortColumnAsc=e7t;this.date.year=M49.P7t;this.date.quarter=B7t;this.date.month=M49.o8B;this.date.day=M49.p8B;this.quarters.q1=O7t;this.quarters.q2=j7t;this.quarters.q3=k7t;this.quarters.q4=y7t;this.months.january=g7t;this.months.february=a7t;this.months.march=X7t;this.months.april=b7t;this.months.may=z7t;this.months.june=S7t;this.months.july=m7t;this.months.august=R7t;this.months.september=s7t;this.months.october=f7t;this.months.november=K7t;this.months.december=E7t;this.monthsShort.january=v7t;this.monthsShort.february=Y7t;this.monthsShort.march=W7t;this.monthsShort.april=p7t;this.monthsShort.may=z7t;this.monthsShort.june=o7t;this.monthsShort.july=w7t;this.monthsShort.august=n7t;this.monthsShort.september=d7t;this.monthsShort.october=c7t;this.monthsShort.november=A7t;this.monthsShort.december=l7t;this.weekdays.first=h7t;this.weekdays.second=M7t;this.weekdays.third=H7t;this.weekdays.fourth=V7t;this.weekdays.fifth=U7t;this.weekdays.sixth=x7t;this.weekdays.seventh=t7t;this.weekdaysShort.first=G7t;this.weekdaysShort.second=r7t;this.weekdaysShort.third=q7t;this.weekdaysShort.fourth=L7t;this.weekdaysShort.fifth=N7t;this.weekdaysShort.sixth=I7t;this.weekdaysShort.seventh=i7t;this.toolbar.connect=T5t;this.toolbar.connect_local_csv=C5t;this.toolbar.connect_local_json=J5t;this.toolbar.connect_google_drive=F5t;this.toolbar.connect_remote_csv=Q5t;this.toolbar.connect_remote_csv_mobile=u5t;this.toolbar.open=Z5t;this.toolbar.local_report=D5t;this.toolbar.remote_report=e5t;this.toolbar.remote_report_mobile=P5t;this.toolbar.save=L3t;this.toolbar.load_json=B5t;this.toolbar.grid=O5t;this.toolbar.grid_flat=j5t;this.toolbar.grid_classic=k5t;this.toolbar.grid_compact=y5t;this.toolbar.format=g5t;this.toolbar.format_cells=a5t;this.toolbar.format_cells_mobile=g5t;this.toolbar.conditional_formatting=X5t;this.toolbar.conditional_formatting_mobile=b5t;this.toolbar.options=z5t;this.toolbar.fullscreen=S5t;this.toolbar.minimize=m5t;this.toolbar[M49.R5t]=s5t;this.toolbar.export_print=f5t;this.toolbar.export_html=K5t;this.toolbar.export_csv=E5t;this.toolbar.export_excel=v5t;this.toolbar.export_image=Y5t;this.toolbar.export_pdf=W5t;this.toolbar.fields=i4J;this.toolbar.ok=G3t;this.toolbar.apply=r3t;this.toolbar.done=p5t;this.toolbar.cancel=q3t;this.toolbar.value=o5t;this.toolbar[M49.w5t]=n5t;this.toolbar[M49.d5t]=c5t;this.toolbar.then=A5t;this.toolbar.open_remote_csv=l5t;this.toolbar.csv=u5t;this.toolbar.credentials=h5t;this.toolbar.username=M5t;this.toolbar.password=H5t;this.toolbar.open_remote_report=V5t;this.toolbar.choose_value=D2J;this.toolbar.text_align=U5t;this.toolbar.align_left=T3yy.i9B;this.toolbar.align_right=T3yy.C6B;this.toolbar.none=x5t;this.toolbar.space=t5t;this.toolbar.thousand_separator=G5t;this.toolbar.decimal_separator=r5t;this.toolbar.decimal_places=q5t;this.toolbar.currency_symbol=L5t;this.toolbar.currency_align=N5t;this.toolbar.null_value=I5t;this.toolbar.is_percent=i5t;this.toolbar.true_value=M49.C3J;this.toolbar.false_value=M49.T1t;this.toolbar.conditional=b5t;this.toolbar.add_condition=C1t;this.toolbar.less_than=J1t;this.toolbar.less_than_or_equal=F1t;this.toolbar.greater_than=Q1t;this.toolbar.greater_than_or_equal=u1t;this.toolbar.equal_to=Z1t;this.toolbar.not_equal_to=D1t;this.toolbar.between=e1t;this.toolbar.is_empty=P1t;this.toolbar.all_values=W2J;this.toolbar.and=M49.B1t;this.toolbar.and_symbole=M49.O2B;this.toolbar.cp_text=O1t;this.toolbar.cp_highlight=j1t;this.toolbar.layout_options=k1t;this.toolbar.layout=y1t;this.toolbar.compact_view=g1t;this.toolbar.classic_view=a1t;this.toolbar.flat_view=X1t;this.toolbar.grand_totals=b1t;this.toolbar.grand_totals_off=z1t;this.toolbar.grand_totals_on=S1t;this.toolbar.grand_totals_on_rows=m1t;this.toolbar.grand_totals_on_columns=R1t;this.toolbar.subtotals=s1t;this.toolbar.subtotals_off=f1t;this.toolbar.subtotals_on=K1t;this.toolbar.subtotals_on_rows=E1t;this.toolbar.subtotals_on_columns=v1t;this.toolbar.choose_page_orientation=Y1t;this.toolbar.landscape=W1t;this.toolbar.portrait=p1t;this.toolbar.message_error=this.messages.error;this.toolbar.message_no_google_client_id=this.messages.noGoogleClientKey;};Q67.prototype.getLabel=function(u67){var h49=T3yy;u67=u67.split(C3yy.l2B);return h49.I5B==u67.length?this[u67[h49.N5B]]:h49.i5B!=u67.length||utils.nullOrUndefined(this[u67[h49.N5B]])||utils.nullOrUndefined(this[u67[h49.N5B]][u67[h49.I5B]])?h49.T1B!=u67.length||utils.nullOrUndefined(this[u67[h49.N5B]])||utils.nullOrUndefined(this[u67[h49.N5B]][u67[h49.I5B]])||utils.nullOrUndefined(this[u67[h49.N5B]][u67[h49.I5B]][u67[h49.i5B]])?h49.r0B:this[u67[h49.N5B]][u67[h49.I5B]][u67[h49.i5B]]:this[u67[h49.N5B]][u67[h49.I5B]];};Q67.prototype.merge=function(Z67){Q67.nodeFromObject(Z67,this);};function Q67(){var A49=T3yy;this.fieldsList={flatHierarchyBox:A49.r0B,hierarchyBox:A49.r0B,filterBox:A49.r0B,rowBox:A49.r0B,columnBox:A49.r0B,measureBox:A49.r0B,values:A49.r0B,addCalculatedMeasure:A49.r0B,expandAll:A49.r0B,collapseAll:A49.r0B,formulasGroupName:A49.r0B,allFields:A49.r0B,rows:A49.r0B,columns:A49.r0B,filters:A49.r0B,dropField:A49.r0B,title:A49.r0B,subtitle:A49.r0B};this.filter={all:A49.r0B,multipleItems:A49.r0B,selectAll:A49.r0B,selectAllResults:A49.r0B,top:A49.r0B,bottom:A49.r0B,ascSort:A49.r0B,descSort:A49.r0B,topX:A49.r0B,clearTopX:A49.r0B,measuresPrompt:A49.r0B,search:A49.r0B,amountSelected:A49.r0B,amountFound:A49.r0B,sort:A49.r0B};this.drillThrough={title:A49.r0B,row:A49.r0B,column:A49.r0B,value:A49.r0B};this.calculatedView={title:A49.r0B,measureBox:A49.r0B,measureName:A49.r0B,formula:A49.r0B,formulaPrompt:A49.r0B,calculateIndividualValues:A49.r0B,removeValue:A49.r0B,removeValueTitle:A49.r0B,removeValueMessage:A49.r0B,header:A49.r0B,allValues:A49.r0B};this.grid={total:A49.r0B,totals:A49.r0B,grandTotal:A49.r0B,blankMember:A49.r0B,dateInvalidCaption:A49.r0B};this.tooltips={row:A49.r0B,column:A49.r0B,headerResize:A49.r0B,headerFit:A49.r0B,filterIcon:A49.r0B,filtered:A49.r0B,expandIcon:A49.r0B,collapseIcon:A49.r0B,drillDown:A49.r0B,drillUp:A49.r0B,sortIcon:A49.r0B,sortedDescIcon:A49.r0B,sortedAscIcon:A49.r0B,close:A49.r0B};this.aggregations={sum:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},count:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},distinctCount:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},difference:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},percentDifference:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},average:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},product:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},min:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},max:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},percent:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},percentOfColumn:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},percentOfRow:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},index:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},none:{caption:A49.r0B},median:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},stdevp:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},stdevs:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B},runningTotals:{caption:A49.r0B,totalCaption:A49.r0B,grandTotalCaption:A49.r0B}};this.messages={error:A49.r0B,warning:A49.r0B,limitation:A49.r0B,browse:A49.r0B,confirmation:A49.r0B,reportFileType:A49.r0B,loading:A49.r0B,loadingConfiguration:A49.r0B,loadingData:A49.r0B,waiting:A49.r0B,progress:A49.r0B,progressUnknown:A49.r0B,analyzing:A49.r0B,analyzingProgress:A49.r0B,analyzingRecords:A49.r0B,saving:A49.r0B,loadingDimensions:A49.r0B,loadingHierarchies:A49.r0B,loadingMeasures:A49.r0B,loadingMembers:A49.r0B,loadingLevels:A49.r0B,loadingProperties:A49.r0B,fullscreen:A49.r0B,exportComplete:A49.r0B,exportProgress:A49.r0B,exportError:A49.r0B,generatingPDF:A49.r0B,pleaseWait:A49.r0B,pagesWereGenerated:A49.r0B,uploading:A49.r0B,cantSaveFile:A49.r0B,cantSaveToClipboard:A49.r0B,saveReportToFile:A49.r0B,loadReportFromFile:A49.r0B,inputNewName:A49.r0B,inputReportName:A49.r0B,invalidDataSource:A49.r0B,dataStreamError:A49.r0B,unableToOpenFile:A49.r0B,unableTwoFileBrowsingSessions:A49.r0B,noGoogleClientKey:A49.r0B,inappropriateFileFormat:A49.r0B,invalidJSONdata:A49.r0B,wrongFormulaFormat:A49.r0B,excelPdfExportLimitation:A49.r0B,excelExportLimitation:A49.r0B,noDataAvailable:A49.r0B,saveDataToFile:A49.r0B,dataWasUpdated:A49.r0B,ocsvIncompatible:A49.r0B,unknownError:A49.r0B,invalidReportFormat:A49.r0B,csvHeaderParsingError:A49.r0B,tooManyColumnsInClassicMode:A49.r0B,cantExpand:A49.r0B,cantExpandTitle:A49.r0B};this.buttons={ok:A49.r0B,apply:A49.r0B,cancel:A49.r0B,save:A49.r0B,clear:A49.r0B,select:A49.r0B,yes:A49.r0B,no:A49.r0B};this.contextMenu={clearSorting:A49.r0B,collapse:A49.r0B,drillThrough:A49.r0B,expand:A49.r0B,openFilter:A49.r0B,sortColumnAsc:A49.r0B,sortColumnDesc:A49.r0B,sortRowAsc:A49.r0B,sortRowDesc:A49.r0B};this.date={year:A49.r0B,quarter:A49.r0B,month:A49.r0B,day:A49.r0B};this.quarters={q1:A49.r0B,q2:A49.r0B,q3:A49.r0B,q4:A49.r0B};this.months={january:A49.r0B,february:A49.r0B,march:A49.r0B,april:A49.r0B,may:A49.r0B,june:A49.r0B,july:A49.r0B,august:A49.r0B,september:A49.r0B,october:A49.r0B,november:A49.r0B,december:A49.r0B};this.monthsShort={january:A49.r0B,february:A49.r0B,march:A49.r0B,april:A49.r0B,may:A49.r0B,june:A49.r0B,july:A49.r0B,august:A49.r0B,september:A49.r0B,october:A49.r0B,november:A49.r0B,december:A49.r0B};this.weekdays={first:A49.r0B,second:A49.r0B,third:A49.r0B,fourth:A49.r0B,fifth:A49.r0B,sixth:A49.r0B,seventh:A49.r0B};this.weekdaysShort={first:A49.r0B,second:A49.r0B,third:A49.r0B,fourth:A49.r0B,fifth:A49.r0B,sixth:A49.r0B,seventh:A49.r0B};this.toolbar={connect:A49.r0B,connect_local_csv:A49.r0B,connect_local_json:A49.r0B,connect_remote_csv:A49.r0B,connect_remote_csv_mobile:A49.r0B,connect_google_drive:A49.r0B,open:A49.r0B,local_report:A49.r0B,remote_report:A49.r0B,remote_report_mobile:A49.r0B,save:A49.r0B,save_json:A49.r0B,load_json:A49.r0B,grid:A49.r0B,grid_flat:A49.r0B,grid_classic:A49.r0B,grid_compact:A49.r0B,format:A49.r0B,format_cells:A49.r0B,format_cells_mobile:A49.r0B,conditional_formatting:A49.r0B,conditional_formatting_mobile:A49.r0B,options:A49.r0B,fullscreen:A49.r0B,minimize:A49.r0B,"export":A49.r0B,export_print:A49.r0B,export_html:A49.r0B,export_csv:A49.r0B,export_excel:A49.r0B,export_image:A49.r0B,export_pdf:A49.r0B,fields:A49.r0B,ok:A49.r0B,apply:A49.r0B,done:A49.r0B,cancel:A49.r0B,value:A49.r0B,"delete":A49.r0B,"if":A49.r0B,then:A49.r0B,open_remote_csv:A49.r0B,csv:A49.r0B,open_remote_report:A49.r0B,choose_value:A49.r0B,text_align:A49.r0B,align_left:A49.r0B,align_right:A49.r0B,none:A49.r0B,space:A49.r0B,thousand_separator:A49.r0B,decimal_separator:A49.r0B,decimal_places:A49.r0B,currency_symbol:A49.r0B,currency_align:A49.r0B,null_value:A49.r0B,is_percent:A49.r0B,true_value:A49.r0B,false_value:A49.r0B,conditional:A49.r0B,add_condition:A49.r0B,less_than:A49.r0B,less_than_or_equal:A49.r0B,greater_than:A49.r0B,greater_than_or_equal:A49.r0B,equal_to:A49.r0B,not_equal_to:A49.r0B,between:A49.r0B,is_empty:A49.r0B,all_values:A49.r0B,and:A49.r0B,and_symbole:A49.r0B,cp_text:A49.r0B,cp_highlight:A49.r0B,layout_options:A49.r0B,layout:A49.r0B,compact_view:A49.r0B,classic_view:A49.r0B,flat_view:A49.r0B,grand_totals:A49.r0B,grand_totals_off:A49.r0B,grand_totals_on:A49.r0B,grand_totals_on_rows:A49.r0B,grand_totals_on_columns:A49.r0B,subtotals:A49.r0B,subtotals_off:A49.r0B,subtotals_on:A49.r0B,subtotals_on_rows:A49.r0B,subtotals_on_columns:A49.r0B,choose_page_orientation:A49.r0B,landscape:A49.r0B,portrait:A49.r0B,message_error:A49.r0B,message_no_google_client_id:A49.r0B};}Q67.prototype.toObject=function(){var e67={},D67;for(D67 in this)this[D67]instanceof Function||utils.nullOrUndefined(this[D67])||(e67[D67]=this[D67]);return JSON.stringify(e67,T3yy.r0B,T3yy.i5B);};Q67.fromObject=function(B67){var P67=new Q67();Q67.nodeFromObject(B67,P67);return P67;};Q67.nodeFromObject=function(j67,y67){if(!utils.nullOrUndefined(j67)&&!utils.nullOrUndefined(y67)&&j67 instanceof Object)for(var k67 in j67){var O67=j67[k67];utils.nullOrUndefined(O67)||(T3yy.q9B==typeof O67?y67[k67]=O67:O67 instanceof Object&&Q67.nodeFromObject(O67,y67[k67]));}};return Q67;}();F67.LabelsValueObject=J67;}(C67._labels||(C67._labels={})));}(T67.model||(T67.model={})));}(pivot||(pivot={})));(function(g67){(function(a67){(function(z67){var X67=function(){var w1t="fail";var o1t="load";var n1t="cancel";S67.REPORT_FILE_LOADED=o1t;function S67(){}S67.REPORT_FILE_FAILED=w1t;S67.REPORT_FILE_CANCELLED=n1t;return S67;}();z67.ReportEvent=X67;var b67=function(m67){__extends(R67,m67);function R67(f67){var s67=m67.call(this,X67.REPORT_FILE_LOADED)||this;s67.report=f67;return s67;}return R67;}(events._Event);z67.ReportFileLoadedEvent=b67;b67=function(K67){__extends(E67,K67);function E67(Y67){var v67=K67.call(this,X67.REPORT_FILE_FAILED)||this;v67.message=Y67;return v67;}return E67;}(events._Event);z67.ReportFileFailedEvent=b67;}(a67.report||(a67.report={})));}(g67.model||(g67.model={})));}(pivot||(pivot={})));(function(W67){(function(p67){(function(o67){var w67=function(d67){__extends(n67,d67);n67.prototype.open=function(){var A67=this;this.localReportLoader=new o67.LocalReportLoader();this.localReportLoader.addEventListener(o67.ReportEvent.REPORT_FILE_LOADED,function(l67){return A67.onReportFileLoaded(l67);});this.localReportLoader.addEventListener(o67.ReportEvent.REPORT_FILE_FAILED,function(h67){return A67.onReportFileFailed(h67);});this.localReportLoader.addEventListener(o67.ReportEvent.REPORT_FILE_CANCELLED,function(){return A67.onReportFileCancelled();});this.localReportLoader.load();};n67.prototype.load=function(H67){var M67=this;W67.preloader(!T3yy.N5B,p67._labels.Labels.MESSAGE_LOADING);this.urlReportLoader=new o67.UrlReportLoader();this.urlReportLoader.addEventListener(o67.ReportEvent.REPORT_FILE_LOADED,function(V67){return M67.onReportFileLoaded(V67);});this.urlReportLoader.addEventListener(o67.ReportEvent.REPORT_FILE_FAILED,function(U67){return M67.onReportFileFailed(U67);});this.urlReportLoader.load(utils.URLUtils.addTimestamp(H67));};n67.prototype.cancel=function(){this.localReportLoader&&(this.localReportLoader.removeAllEventListeners(o67.ReportEvent.REPORT_FILE_LOADED),this.localReportLoader.removeAllEventListeners(o67.ReportEvent.REPORT_FILE_FAILED),this.localReportLoader=T3yy.r0B);this.urlReportLoader&&(this.urlReportLoader.removeAllEventListeners(o67.ReportEvent.REPORT_FILE_LOADED),this.urlReportLoader.removeAllEventListeners(o67.ReportEvent.REPORT_FILE_FAILED),this.urlReportLoader=T3yy.r0B);this.removeAllEventListeners(o67.ReportEvent.REPORT_FILE_LOADED);this.removeAllEventListeners(o67.ReportEvent.REPORT_FILE_FAILED);};n67.prototype.onReportFileLoaded=function(x67){this.dispatch(new o67.ReportFileLoadedEvent(x67.report));};n67.prototype.onReportFileFailed=function(t67){W67.uialert(t67.message,p67._labels.Labels.ERROR,W67.AlertType.ERROR);this.dispatchWith(o67.ReportEvent.REPORT_FILE_FAILED);};n67.prototype.onReportFileCancelled=function(){this.dispatchWith(o67.ReportEvent.REPORT_FILE_CANCELLED);};function n67(){var c67=d67.call(this)||this;c67.defaultFilename=C3yy.d1t;return c67;}n67.prototype.save=function(G67,L67,N67,I67,C47,r67){var W49=T3yy;var A1t="destination";var h1t="embedData";var i67=this;void W49.N5B===L67&&(L67=W49.r0B);void W49.N5B===C47&&(C47=!W49.I5B);this.saveCallbackHandler=N67;N67=!W49.I5B;var q67=W49.q9B==typeof G67?G67:W49.r0B,T47=I67;I67=C47;G67 instanceof Object&&(G67.hasOwnProperty(C3yy.c1t)&&(q67=G67.filename),G67.hasOwnProperty(A1t)&&(L67=G67.destination),G67.hasOwnProperty(C3yy.l1t)&&(T47=G67.url),G67.hasOwnProperty(h1t)&&(I67=G67.embedData));if(W49.r0B==q67||W49.o9B==q67)q67=this.defaultFilename;r67.connectionInfo.dataSourceType==W67.data_.consts.DataSourceType.CSV&&r67.options.gridType!=W67._view.grid.GridType.FLAT&&(r67.connectionInfo instanceof W67.data_.vo.FileConnectionInfo&&r67.connectionInfo.browseForFile||r67.connectionInfo.embedded||I67)&&(G67=new W67.data_.vo.CSVConnectionInfo(),G67.embedded=!W49.N5B,r67.connectionInfo=G67,N67=!W49.N5B);L67=W49.r0B==L67?o67.DestinationType.FILE:L67.toLowerCase();switch(L67){case o67.DestinationType.SERVER:N67?new W67.data_.csv.CSVSaver().getData(function(J47){return i67.saveToServer(T47,q67,r67,J47);}):this.saveToServer(T47,q67,r67);break;case o67.DestinationType.FILE:N67?new W67.data_.csv.CSVSaver().getData(function(F47){return i67.saveToFile(q67,r67,F47);}):this.saveToFile(q67,r67);break;default:N67?new W67.data_.csv.CSVSaver().getData(function(Q47){return i67.saveToFile(q67,r67,Q47);}):this.saveToFile(q67,r67);}return W49.r0B;};n67.prototype.dispatchReportSaved=function(u47){if(T3yy.r0B!=this.saveCallbackHandler)try{this.saveCallbackHandler(u47);}catch(Z47){var M1t="Error! ";this.saveCallbackHandler(M1t+Z47);}};n67.prototype.defineReportType=function(D47){return JSON.stringify(D47.toObject(),T3yy.r0B,T3yy.C1B);};n67.prototype.saveToFile=function(O47,j47,e47){void T3yy.N5B===e47&&(e47=T3yy.r0B);var P47=[this.defineReportType(j47)];T3yy.r0B!=e47&&(P47.push(C3yy.v2B),P47.push(e47));try{var B47=this;W67.uialert(p67._labels.Labels.MESSAGE_SAVE_REPORT_TO_FILE,p67._labels.Labels.CONFIRMATION,W67.AlertType.CONFIRMATION,[p67._labels.Labels.BUTTON_SAVE,p67._labels.Labels.BUTTON_CANCEL],[function(){var H1t="text/js;charset=utf-8";var k47=new Blob(P47,{type:H1t});savingAs(k47,O47);B47.dispatchReportSaved(!T3yy.N5B);},function(){B47.dispatchReportSaved(!T3yy.I5B);}]);}catch(y47){W67.uialert(p67._labels.Labels.MESSAGE_CANT_SAVE_FILE,p67._labels.Labels.ERROR,W67.AlertType.ERROR),this.dispatchReportSaved(!T3yy.I5B);}};n67.prototype.saveToServer=function(z47,m47,S47,X47){var b49=T3yy;var V1t="Report cannot be saved. Save report url is empty.";var b47=this;void b49.N5B===X47&&(X47=b49.r0B);utils.nullOrEmpty(z47)&&W67.uialert(V1t,p67._labels.Labels.WARNING,W67.AlertType.ERROR);var a47=new misc.URLVariables();a47.data.name=m47;a47.data.report=b49.r0B==X47?this.defineReportType(S47):this.defineReportType(S47)+C3yy.v2B+X47;a47.data.type=C3yy.Q2B;var g47=new misc.URLStream();g47.data=a47.toString();g47.contentType=misc.ContentType.APPLICATION_URLENCODED;g47.requestMethod=misc.URLRequestMethod.POST;g47.addEventListener(events._Event.COMPLETE,function(){return b47.onSaveComplete(g47);});g47.addEventListener(events._Event.ERROR,function(){return b47.onError(g47);});g47.load(z47);W67.preloader(!b49.N5B,p67._labels.Labels.MESSAGE_UPLOADING);return b49.r0B;};n67.prototype.onSaveComplete=function(R47){W67.preloader(!T3yy.I5B);this.dispatchReportSaved(R47.response);};n67.prototype.onError=function(s47){var U1t=' (<a href="{0}">{0}</a>)';W67.preloader(!T3yy.I5B);this.dispatchReportSaved(!T3yy.I5B);s47=p67.XSSCheck.valid(s47.url)?s47.url:p67.XSSCheck.validate(s47.url);W67.uialert(p67._labels.Labels.MESSAGE_CANT_SAVE_FILE+utils.StringUtils.bind(U1t,s47),p67._labels.Labels.ERROR,W67.AlertType.ERROR);};return n67;}(events.EventDispatcher);o67.ReportManager=w67;}(p67.report||(p67.report={})));}(W67.model||(W67.model={})));}(pivot||(pivot={})));(function(f47){(function(K47){(function(E47){var v47=function(){Y47.fromObject=function(W47){var g49=T3yy;if(g49.r0B==W47)return g49.r0B;W47 instanceof Y47||(W47=Y47.toPlainObject(W47));var p47=new Y47();p47.connectionInfo=f47.data_.vo.ConnectionInfo.fromObject(g49.r0B!=W47.connectionInfo?W47.connectionInfo:W47);p47.options=K47._options.vo.OptionsValueObject.fromObject(g49.r0B!=W47.options?W47.options:W47);p47.slice=E47.SliceValueObject.fromObject(g49.r0B!=W47.slice?W47.slice:W47,p47.connectionInfo,p47.options.gridType==f47._view.grid.GridType.FLAT);g49.r0B!=W47.formats&&W47.formats.length&&(p47.formats=W47.formats);g49.r0B!=W47.conditions&&W47.conditions.length&&(p47.conditions=W47.conditions);g49.r0B!=W47.columnSizes&&g49.q9B!=typeof W47.columnSizes&&(p47.columnSizes=W47.columnSizes);g49.r0B!=W47.rowSizes&&g49.q9B!=typeof W47.rowSizes&&(p47.rowSizes=W47.rowSizes);g49.r0B!=W47.columnHeaderSizes&&g49.q9B!=typeof W47.columnHeaderSizes&&(p47.columnHeaderSizes=W47.columnHeaderSizes);g49.r0B!=W47.rowHeaderSizes&&g49.q9B!=typeof W47.rowHeaderSizes&&(p47.rowHeaderSizes=W47.rowHeaderSizes);g49.r0B!=W47.rowFilterSizes&&g49.q9B!=typeof W47.rowFilterSizes&&(p47.rowFilterSizes=W47.rowFilterSizes);g49.r0B!=W47.columnSizesByIdx&&(p47.columnSizesByIdx=W47.columnSizesByIdx);g49.r0B!=W47.rowSizesByIdx&&(p47.rowSizesByIdx=W47.rowSizesByIdx);g49.r0B!=W47.customFields&&(p47.customFields=W47.customFields);g49.r0B!=W47.localization&&(p47.localization=W47.localization);return p47;};Y47.prototype.toObject=function(){var y49=T3yy;var w47={},o47=this.connectionInfo.toObject(this.withDefaults);utils.ObjectUtils.isEmptyObject(o47)||(w47.dataSource=o47);o47=this.slice.toObject(this.withDefaults);utils.ObjectUtils.isEmptyObject(o47)||(w47.slice=o47);o47=this.options.toObject();utils.ObjectUtils.isEmptyObject(o47)||(w47.options=o47);o47=this.composeConditionsObject();y49.N5B<o47.length&&(w47.conditions=o47);if(y49.r0B!=this.formats&&y49.N5B!=this.formats.length){for(var o47=[],c47=!this.options.saveAllFormats&&y49.J1B<this.formats.length,d47=y49.N5B;d47<this.formats.length;d47++){var n47=this.formats[d47];y49.o9B!=n47.name&&(y49.r0B==this.slice.formatsInUse[n47.name]||c47&&!this.slice.formatsInUse[n47.name])||o47.push(n47);}w47.formats=o47;}o47=this.composeTableSizesObject();utils.ObjectUtils.isEmptyObject(o47)||(w47.tableSizes=o47);y49.r0B!=this.customFields&&y49.N5B!=this.customFields.length&&(w47.customFields=this.customFields);y49.r0B!=this.localization&&y49.o9B!=this.localization&&(w47.localization=this.localization);return w47;};Y47.prototype.composeConditionsObject=function(){var k49=T3yy;for(var M47=[],h47=k49.N5B;h47<this.conditions.length;h47++){var A47=this.conditions[h47],l47={};l47.formula=A47.formula;-k49.I5B<A47.row&&(l47.row=A47.row);-k49.I5B<A47.column&&(l47.column=A47.column);-k49.I5B<A47.isTotal&&(l47.isTotal=k49.I5B==A47.isTotal?!k49.N5B:!k49.I5B);A47.measure&&k49.N5B<A47.measure.length&&(l47.measure=A47.measure);A47.hierarchy&&k49.N5B<A47.hierarchy.length&&(l47.hierarchy=A47.hierarchy);A47.member&&k49.N5B<A47.member.length&&(l47.member=A47.member);A47.format&&!utils.ObjectUtils.isEmptyObject(A47.format)&&(l47.format=A47.format);M47.push(l47);}return M47;};Y47.prototype.composeTableSizesObject=function(){var O49=T3yy;var V47={},U47,H47,x47,t47;if(O49.r0B!=this.columnHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.columnHeaderSizes)||O49.r0B!=this.columnSizes&&!utils.ObjectUtils.isEmptyObject(this.columnSizes)){V47.columns=[];if(O49.r0B!=this.columnHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.columnHeaderSizes))for(H47=O49.N5B;H47<this.columnHeaderSizes.length;H47++)O49.r0B!=this.columnHeaderSizes[H47]&&V47.columns.push({idx:H47,width:this.columnHeaderSizes[H47]});H47=E47.SliceValueObject.findMeasure(this.slice.columns);if(O49.r0B!=this.columnSizes&&!utils.ObjectUtils.isEmptyObject(this.columnSizes))for(U47 in this.columnSizes)x47=U47.split(C3yy.y2B),O49.N5B<=H47?(t47=x47.pop(),V47.columns.push({tuple:x47,measure:t47,width:this.columnSizes[U47]})):V47.columns.push({tuple:x47,width:this.columnSizes[U47]});}if(O49.r0B!=this.rowFilterSizes&&!utils.ObjectUtils.isEmptyObject(this.rowFilterSizes)||O49.r0B!=this.rowHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.rowHeaderSizes)||O49.r0B!=this.rowSizes&&!utils.ObjectUtils.isEmptyObject(this.rowSizes)){V47.rows=[];if(O49.r0B!=this.rowFilterSizes&&!utils.ObjectUtils.isEmptyObject(this.rowFilterSizes))for(H47=O49.N5B;H47<this.rowFilterSizes.length;H47++)O49.r0B!=this.rowFilterSizes[H47]&&V47.rows.push({idx:H47,height:this.rowFilterSizes[H47]});if(O49.r0B!=this.rowHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.rowHeaderSizes))for(H47=O49.N5B;H47<this.rowHeaderSizes.length;H47++)O49.r0B!=this.rowHeaderSizes[H47]&&V47.rows.push({idx:H47,height:this.rowHeaderSizes[H47]});H47=E47.SliceValueObject.findMeasure(this.slice.rows);if(O49.r0B!=this.rowSizes&&!utils.ObjectUtils.isEmptyObject(this.rowSizes))for(U47 in this.rowSizes)x47=U47.split(C3yy.y2B),O49.N5B<=H47?(t47=x47.pop(),V47.rows.push({tuple:x47,measure:t47,height:this.rowSizes[U47]})):V47.rows.push({tuple:x47,height:this.rowSizes[U47]});}return V47;};Y47.toPlainObject=function(G47){var P49=T3yy;var r47={};if(void P49.N5B==G47)return r47;P49.r0B!=G47.columnSizes&&(r47.columnSizes=G47.columnSizes);P49.r0B!=G47.rowSizes&&(r47.rowSizes=G47.rowSizes);P49.r0B!=G47.columnHeaderSizes&&(r47.columnHeaderSizes=G47.columnHeaderSizes);P49.r0B!=G47.rowHeaderSizes&&(r47.rowHeaderSizes=G47.rowHeaderSizes);P49.r0B!=G47.rowFilterSizes&&(r47.rowFilterSizes=G47.rowFilterSizes);P49.r0B!=G47.rowSizesByIdx&&(r47.rowSizesByIdx=G47.rowSizesByIdx);P49.r0B!=G47.columnSizesByIdx&&(r47.columnSizesByIdx=G47.columnSizesByIdx);P49.r0B!=G47.customFields&&(r47.customFields=G47.customFields);P49.r0B!=G47.labels&&(r47.labels=G47.labels);r47.connectionInfo=P49.r0B!=G47.connectionInfo?f47.data_.vo.ConnectionInfo.toPlainObject(G47.connectionInfo):f47.data_.vo.ConnectionInfo.toPlainObject(G47);r47.slice=P49.r0B!=G47.slice?E47.SliceValueObject.toPlainObject(G47.slice):E47.SliceValueObject.toPlainObject(G47);r47.options=P49.r0B!=G47.options?K47._options.vo.OptionsValueObject.toPlainObject(G47.options):K47._options.vo.OptionsValueObject.toPlainObject(G47);P49.r0B!=G47.formats&&P49.N5B<G47.formats.length&&(r47.formats=G47.formats);P49.r0B!=G47.conditions&&P49.N5B<G47.conditions.length&&(r47.conditions=G47.conditions);if(P49.r0B!=G47.tableSizes){var q47,N47;if(P49.r0B!=G47.tableSizes.columns){var L47=G47.tableSizes.columns;for(q47=P49.N5B;q47<L47.length;q47++)if(P49.r0B!=L47[q47].idx&&(P49.r0B==r47.columnSizesByIdx&&(r47.columnSizesByIdx={}),r47.columnSizesByIdx[parseInt(L47[q47].idx)]=parseInt(L47[q47].width)),P49.r0B!=L47[q47].tuple||P49.r0B!=L47[q47].measure)P49.r0B==r47.columnSizes&&(r47.columnSizes={}),N47=P49.r0B==L47[q47].tuple?[]:L47[q47].tuple.slice(),P49.r0B!=L47[q47].measure&&N47.push(L47[q47].measure),r47.columnSizes[N47.join(C3yy.y2B)]=parseInt(L47[q47].width);}if(P49.r0B!=G47.tableSizes.rows)for(L47=G47.tableSizes.rows,q47=P49.N5B;q47<L47.length;q47++)if(P49.r0B!=L47[q47].idx&&(P49.r0B==r47.rowSizesByIdx&&(r47.rowSizesByIdx={}),r47.rowSizesByIdx[parseInt(L47[q47].idx)]=parseInt(L47[q47].height)),P49.r0B!=L47[q47].tuple||P49.r0B!=L47[q47].measure)P49.r0B==r47.rowSizes&&(r47.rowSizes={}),N47=P49.r0B==L47[q47].tuple?[]:L47[q47].tuple.slice(),P49.r0B!=L47[q47].measure&&N47.push(L47[q47].measure),r47.rowSizes[N47.join(C3yy.y2B)]=parseInt(L47[q47].height);}P49.r0B!=G47.localization&&(r47.localization=G47.localization);return r47;};function Y47(){this.withDefaults=!T3yy.I5B;this.connectionInfo=new f47.data_.vo.ConnectionInfo();this.slice=new E47.SliceValueObject();this.options=new K47._options.vo.OptionsValueObject();this.formats=[];this.conditions=[];this.columnSizes={};this.rowSizes={};this.columnHeaderSizes=[];this.rowHeaderSizes=[];this.rowFilterSizes=[];this.columnSizesByIdx={};this.rowSizesByIdx={};this.customFields=[];this.labels={};this.localization=T3yy.r0B;}Y47.prototype.merge=function(i47){var t1t="options";var x1t="connectionInfo";if(utils.nullOrUndefined(i47))return this;i47=Y47.toPlainObject(i47);var T27=Y47.toPlainObject(this),I47;for(I47 in i47)i47.hasOwnProperty(I47)&&(x1t==I47?f47.data_.vo.ConnectionInfo.fromObject(i47.connectionInfo).isEmpty||(T27[I47]=i47[I47]):t1t==I47?(this.options.mergeWith(i47[I47]),T27[I47]=K47._options.vo.OptionsValueObject.toPlainObject(this.options)):T27[I47]=i47[I47]);return Y47.fromObject(T27);};return Y47;}();E47.ReportValueObject=v47;}(K47.report||(K47.report={})));}(f47.model||(f47.model={})));}(pivot||(pivot={})));(function(C27){(function(J27){(function(F27){var Q27=function(Z27){__extends(u27,Z27);u27.prototype.dispatchReportLoaded=function(D27){D27?this.dispatch(new F27.ReportFileLoadedEvent(D27)):this.dispatch(new F27.ReportFileFailedEvent(J27._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT));};u27.prototype.parseReport=function(P27){try{var e27=-T3yy.I5B,e27=P27.indexOf(C3yy.G1t);return JSON.parse(-T3yy.I5B<e27?P27.substring(T3yy.N5B,e27):P27);}catch(B27){return console.error(B27),T3yy.r0B;}};u27.prototype.getStringByteLength=function(j27){var O27=new C27.DataStream(new ArrayBuffer(T3yy.N5B),T3yy.N5B,C27.DataStream.BIG_ENDIAN);O27.writeString(j27);return O27.byteLength;};function u27(){return T3yy.r0B!==Z27&&Z27.apply(this,arguments)||this;}return u27;}(events.EventDispatcher);F27.ReportLoader=Q27;}(J27.report||(J27.report={})));}(C27.model||(C27.model={})));}(pivot||(pivot={})));(function(k27){(function(y27){(function(g27){var a27=function(b27){__extends(X27,b27);function X27(){var z27=b27.call(this)||this;z27.counter=T3yy.N5B;z27.embeddedStartDataSign=C3yy.r1t;z27.embeddedDataJSONStartSign=C3yy.G1t;return z27;}X27.prototype.load=function(m27){var S27=this;this.url=m27;this.bytesLoaded=T3yy.N5B;this.loader=new misc.URLStream();this.loader.dataType=misc.DataType.TEXT;this.loader.addEventListener(events._Event.PROGRESS,function(R27){return S27.onProgress(R27);});this.loader.addEventListener(events._Event.COMPLETE,function(){return S27.onLoaded();});this.loader.addEventListener(events._Event.ERROR,function(){return S27.onError();});this.loader.load(m27);};X27.prototype.onProgress=function(s27){var N69=T3yy;s27=N69.N5B;if(N69.r0B!=this.loader&&-N69.I5B<(s27=this.loader.response.indexOf(C3yy.q1t))&&s27+this.embeddedDataJSONStartSign.length+N69.I5B<this.loader.response.length)this.onLoaded();};X27.prototype.onLoaded=function(){var q69=T3yy;if(q69.r0B!=this.loader){this.loader.removeAllEventListeners(events._Event.COMPLETE);var f27=this.parseReport(this.loader.response);if(f27 instanceof g27.ReportValueObject){if(f27.connectionInfo instanceof k27.data_.vo.CSVConnectionInfo&&!q69.N5B==f27.connectionInfo.embedded){var K27=f27.connectionInfo;K27.filename=this.loader.url;K27.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(q69.N5B,this.loader.response.indexOf(C3yy.q1t)+q69.Z1B)+C3yy.v2B);this.loader.response.indexOf(this.embeddedStartDataSign);f27.connectionInfo=K27;}}else utils.nullOrUndefined(f27)||utils.nullOrUndefined(f27.dataSource)||!q69.N5B!=f27.dataSource.embedded||(f27.dataSource.filename=this.loader.url,f27.dataSource.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(q69.N5B,this.loader.response.indexOf(this.embeddedDataJSONStartSign))));this.dispatchReportLoaded(f27);this.dispose();}};X27.prototype.onError=function(){this.loader.removeAllEventListeners(events._Event.PROGRESS);this.loader.removeAllEventListeners(events._Event.COMPLETE);this.loader.removeAllEventListeners(events._Event.ERROR);var E27=y27.XSSCheck.valid(this.url)?this.url:y27.XSSCheck.validate(this.url),E27=utils.StringUtils.bind(y27._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,E27);this.dispatch(new g27.ReportFileFailedEvent(E27));this.dispose();};X27.prototype.dispose=function(){T3yy.r0B!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=T3yy.r0B);};return X27;}(g27.ReportLoader);g27.UrlReportLoader=a27;}(y27.report||(y27.report={})));}(k27.model||(k27.model={})));}(pivot||(pivot={})));(function(v27){(function(Y27){(function(W27){var p27=function(w27){__extends(o27,w27);o27.prototype.load=function(){var n27=this;this.file=new misc.FileReference();this.file.addEventListener(events._Event.SELECT,function(){return n27.onSelected();});this.file.addEventListener(events._Event.COMPLETE,function(){return n27.onLoaded();});this.file.addEventListener(events._Event.CANCEL,function(){return n27.onCancel();});this.file.addEventListener(events._Event.ERROR,function(){return n27.onError();});this.file.browse([C3yy.L1t,C3yy.N1t]);};o27.prototype.onSelected=function(){T3yy.r0B!=this.file&&this.file.load(misc.ReadMethod.ARRAY_BUFFER);};function o27(){return w27.call(this)||this;}o27.prototype.onLoaded=function(){var U69=T3yy;try{var l27=new v27.DataStream(this.file.response,U69.N5B,v27.DataStream.BIG_ENDIAN),c27=l27.readString(l27.byteLength),d27=this.parseReport(c27);if(d27 instanceof W27.ReportValueObject){if(d27.connectionInfo instanceof v27.data_.vo.CSVConnectionInfo&&!U69.N5B==d27.connectionInfo.embedded){var A27=d27.connectionInfo;A27.embeddedDataToLoad=this.file.response;A27.embeddedDataOffset=this.getStringByteLength(c27.substring(U69.N5B,c27.indexOf(C3yy.q1t)+U69.Z1B)+C3yy.v2B);d27.connectionInfo=A27;}}else utils.nullOrUndefined(d27)||utils.nullOrUndefined(d27.dataSource)||!U69.N5B!=d27.dataSource.embedded||(d27.dataSource.embeddedDataToLoad=this.file.response,d27.dataSource.embeddedDataOffset=this.getStringByteLength(c27.substring(U69.N5B,c27.indexOf(C3yy.G1t))));this.dispatchReportLoaded(d27);this.dispose();}catch(h27){console.error(h27),this.onError();}};o27.prototype.onError=function(){var M27=utils.StringUtils.bind(Y27._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,T3yy.o9B);this.dispatch(new W27.ReportFileFailedEvent(M27));this.dispose();};o27.prototype.onCancel=function(){this.dispatchWith(W27.ReportEvent.REPORT_FILE_CANCELLED);this.dispose();};o27.prototype.dispose=function(){T3yy.r0B!=this.file&&(this.file.removeAllEventListeners(),this.file.dispose(),this.file=T3yy.r0B);};return o27;}(W27.ReportLoader);W27.LocalReportLoader=p27;}(Y27.report||(Y27.report={})));}(v27.model||(v27.model={})));}(pivot||(pivot={})));(function(H27){(function(V27){(function(x27){var U27=function(){var I1t="server";var T0t="plain";var i1t="binary";t27.validType=function(G27){return G27==t27.FILE||G27==t27.SERVER||G27==t27.BINARY||G27==t27.PLAIN;};t27.FILE=C3yy.j2B;t27.SERVER=I1t;t27.BINARY=i1t;function t27(){}t27.PLAIN=T0t;return t27;}();x27.DestinationType=U27;}(V27.report||(V27.report={})));}(H27.model||(H27.model={})));}(pivot||(pivot={})));(function(r27){(function(q27){(function(N27){var L27=function(){I27.customFields=[];function I27(){}return I27;}();N27.CustomFieldsManager=L27;}(q27.report||(q27.report={})));}(r27.model||(r27.model={})));}(pivot||(pivot={})));(function(i27){(function(T87){(function(J87){var C87=function(){F87.prototype.normalizeSlice=function(Q87){if(T3yy.N5B<=F87.findMeasure(Q87.rows)){var u87=F87.findMeasure(Q87.columns);T3yy.N5B<=u87&&(Q87.columns[u87]=Q87.columns[T3yy.N5B],Q87.columns.shift());}};F87.findMeasure=function(D87){for(var e87=i27.data_.Cube.MEASURES_NAME,Z87=T3yy.N5B;Z87<D87.length;Z87++)if(D87[Z87].uniqueName==e87)return Z87;return-T3yy.I5B;};F87.readExpandedFromObject=function(B87){var A69=T3yy;for(var k87=[],O87,P87=A69.N5B;P87<B87.length;P87++){O87=[];O87.push(A69.r0B!=B87[P87].measure?B87[P87].measure:A69.o9B);if(A69.r0B!=B87[P87].tuple)for(var j87=A69.N5B;j87<B87[P87].tuple.length;j87++)O87.push(B87[P87].tuple[j87]);k87.push(O87);}return k87;};F87.readDrilledFromObject=function(g87){var c69=T3yy;for(var b87=[],a87,y87=c69.N5B;y87<g87.length;y87++){a87=[];a87.push(c69.r0B!=g87[y87].level?g87[y87].level:c69.o9B);a87.push(c69.r0B!=g87[y87].measure?g87[y87].measure:-c69.I5B);if(c69.r0B!=g87[y87].tuple){a87.push(g87[y87].tuple[g87[y87].tuple.length-c69.I5B]);for(var X87=c69.N5B;X87<g87[y87].tuple.length;X87++)a87.push(g87[y87].tuple[X87]);}b87.push(a87);}return b87;};F87.fromObject=function(z87,R87,m87){var d69=T3yy;void d69.N5B===R87&&(R87=d69.r0B);void d69.N5B===m87&&(m87=!d69.I5B);if(d69.r0B==z87)return d69.r0B;z87 instanceof F87||(z87=F87.toPlainObject(z87));var S87=new F87();d69.r0B!=z87.measures&&z87.measures.length&&(S87.measures=z87.measures);d69.r0B==R87&&T87.PivotModel.getInstance();d69.r0B!=z87.pages&&z87.pages.length&&(S87.pages=F87.hierarchiesFromObject(z87.pages));d69.r0B!=z87.columns&&z87.columns.length&&(S87.columns=F87.hierarchiesFromObject(z87.columns,m87));d69.r0B!=z87.rows&&z87.rows.length&&(S87.rows=F87.hierarchiesFromObject(z87.rows,m87));d69.r0B!=z87.flatOrder&&z87.flatOrder.length&&(S87.flatOrder=z87.flatOrder);S87.normalizeSlice(S87);d69.r0B!=z87.rowSorting&&(S87.rowSorting=z87.rowSorting);d69.r0B!=z87.columnSorting&&(S87.columnSorting=z87.columnSorting);d69.r0B!=z87.expandAll&&(S87.expandAll=z87.expandAll);d69.r0B!=z87.expandedRows&&z87.expandedRows.length&&(S87.expandedRows=z87.expandedRows);d69.r0B!=z87.expandedColumns&&z87.expandedColumns.length&&(S87.expandedColumns=z87.expandedColumns);d69.r0B!=z87.drillAll&&(S87.drillAll=z87.drillAll);d69.r0B!=z87.drilledRows&&z87.drilledRows.length&&(S87.drilledRows=z87.drilledRows);d69.r0B!=z87.drilledColumns&&z87.drilledColumns.length&&(S87.drilledColumns=z87.drilledColumns);return S87;};F87.hierarchiesFromObject=function(f87,v87){var C0t="sort";void T3yy.N5B===v87&&(v87=!T3yy.I5B);for(var K87=[],s87=T3yy.N5B;s87<f87.length;s87++){K87[s87]={};v87&&!f87[s87].sort&&(f87[s87].sort=i27.data_.consts.SortType.UNSORTED);for(var E87 in f87[s87])C0t==E87?K87[s87].sortName=f87[s87].sort:K87[s87][E87]=f87[s87][E87];}return K87;};F87.prototype.toObject=function(o87){var w69=T3yy;void w69.N5B===o87&&(o87=!w69.I5B);var p87={},Y87,W87=[];for(Y87=w69.N5B;Y87<this.pages.length;Y87++)W87.push(this.hierarchyToJSON(this.pages[Y87],o87));w69.N5B<W87.length&&(p87.reportFilters=W87);W87=[];for(Y87=w69.N5B;Y87<this.rows.length;Y87++)W87.push(this.hierarchyToJSON(this.rows[Y87],o87));w69.N5B<W87.length&&(p87.rows=W87);W87=[];for(Y87=w69.N5B;Y87<this.columns.length;Y87++)W87.push(this.hierarchyToJSON(this.columns[Y87],o87));w69.N5B<W87.length&&(p87.columns=W87);W87=[];for(Y87=w69.N5B;Y87<this.measures.length;Y87++)W87.push(this.measureToJSON(this.measures[Y87],o87));w69.N5B<W87.length&&(p87.measures=W87);if(w69.r0B!=this.rowSorting&&w69.r0B!=this.rowSorting.type&&this.rowSorting.type!=i27.data_.consts.SortType.UNSORTED||w69.r0B!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=i27.data_.consts.SortType.UNSORTED)p87.sorting={},w69.r0B!=this.rowSorting&&w69.r0B!=this.rowSorting.type&&this.rowSorting.type!=i27.data_.consts.SortType.UNSORTED&&(p87.sorting.row=this.rowSorting),w69.r0B!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=i27.data_.consts.SortType.UNSORTED&&(p87.sorting.column=this.columnSorting);Y87={};if(o87||this.expandAll)Y87.expandAll=this.expandAll;w69.N5B<this.expandedRows.length&&(Y87.rows=this.expandedElementsToJSON(this.expandedRows));w69.N5B<this.expandedColumns.length&&(Y87.columns=this.expandedElementsToJSON(this.expandedColumns));utils.ObjectUtils.isEmptyObject(Y87)||(p87.expands=Y87);Y87={};if(o87||this.drillAll)Y87.drillAll=this.drillAll;w69.N5B<this.drilledRows.length&&(Y87.rows=this.drilledElementsToJSON(this.drilledRows));w69.N5B<this.drilledColumns.length&&(Y87.columns=this.drilledElementsToJSON(this.drilledColumns));utils.ObjectUtils.isEmptyObject(Y87)||(p87.drills=Y87);w69.N5B<this.flatOrder.length&&(p87.flatOrder=this.flatOrder);return p87;};function F87(){this.rows=[];this.columns=[];this.pages=[];this.measures=[];this.rowSorting={};this.columnSorting={};this.expandedRows=[];this.expandedColumns=[];this.drilledRows=[];this.drilledColumns=[];this.drillAll=this.expandAll=!T3yy.I5B;this.flatOrder=[];this.formatsInUse={};}F87.prototype.expandedElementsToJSON=function(l87){var p69=T3yy;for(var c87=[],w87,n87,A87,d87=p69.N5B;d87<l87.length;d87++)w87={},n87=l87[d87].slice(p69.N5B),A87=n87.shift(),p69.N5B!=n87.length&&(w87.tuple=n87,p69.o9B!=A87&&(w87.measure=A87),c87.push(w87));return c87;};F87.prototype.drilledElementsToJSON=function(t87){var W69=T3yy;for(var V87=[],M87,U87,x87,h87,H87=W69.N5B;H87<t87.length;H87++)M87={},h87=t87[H87].slice(W69.N5B),U87=h87.shift(),x87=h87.shift(),h87.shift(),W69.N5B!=h87.length&&(M87.tuple=h87,W69.o9B!=x87&&(M87.measure=x87),W69.o9B!=U87&&(M87.level=U87),V87.push(M87));return V87;};F87.prototype.measureToJSON=function(G87,q87){var Y69=T3yy;var r87={};r87.uniqueName=G87.uniqueName;if(Y69.r0B!=G87.formula&&Y69.o9B!=G87.formula)r87.formula=G87.formula,G87.individual&&(r87.individual=!Y69.N5B),r87.caption=G87.caption;else if(q87||G87.aggregation!=i27.data_.consts.AggregationName.NONE)r87.aggregation=G87.aggregation;if(q87||!Y69.I5B==G87.active)r87.active=G87.active;Y69.r0B!=G87.format&&Y69.o9B!=G87.format&&(r87.format=G87.format,this.formatsInUse[G87.format]=G87.active);Y69.r0B!=G87.availableAggregations&&Y69.N5B<G87.availableAggregations.length&&(r87.availableAggregations=G87.availableAggregations);return r87;};F87.prototype.hierarchyToJSON=function(L87,i87){var E69=T3yy;var N87={};N87.uniqueName=L87.uniqueName;E69.r0B!=L87.activeLevelName&&(N87.levelName=L87.activeLevelName);if(E69.r0B!=L87.filter&&(N87.filter={},E69.r0B!=L87.filter.type&&L87.filter.type!=i27.data_.consts.FilterType.NONE&&(N87.filter={type:L87.filter.type,quantity:L87.filter.quantity,measure:L87.filter.measure}),E69.r0B!=L87.filter.members)){var I87=E69.q9B==typeof L87.filter.members?L87.filter.members.split(C3yy.y2B):L87.filter.members;E69.N5B<I87.length&&(N87.filter.members=I87,!E69.N5B===L87.filter.negation&&(N87.filter.negation=L87.filter.negation));}L87.filterEnabled||(N87.filterEnabled=!E69.N5B);L87.uniqueName!=i27.data_.Cube.MEASURES_NAME&&L87.sortName&&(i87||L87.sortName!=i27.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME)&&(N87.sort=L87.sortName);L87.uniqueName!=i27.data_.Cube.MEASURES_NAME&&L87.sortAs&&(N87.sortAs=L87.sortAs);return N87;};F87.toPlainObject=function(T3b){var f69=T3yy;var C3b={};if(void f69.N5B==T3b)return C3b;f69.r0B!=T3b.pages&&(C3b.pages=T3b.pages);f69.r0B!=T3b.reportFilters&&(C3b.pages=T3b.reportFilters);f69.r0B!=T3b.rows&&(C3b.rows=T3b.rows);f69.r0B!=T3b.columns&&(C3b.columns=T3b.columns);f69.r0B!=T3b.measures&&(C3b.measures=T3b.measures);f69.r0B!=T3b.rowSorting&&(C3b.rowSorting=T3b.rowSorting,f69.r0B!=C3b.rowSorting.tuple&&f69.q9B==typeof C3b.rowSorting.tuple&&(C3b.rowSorting.tuple=C3b.rowSorting.tuple.split(C3yy.y2B)));f69.r0B!=T3b.sorting&&f69.r0B!=T3b.sorting.row&&(C3b.rowSorting=T3b.sorting.row);f69.r0B!=T3b.columnSorting&&(C3b.columnSorting=T3b.columnSorting,f69.r0B!=C3b.columnSorting.tuple&&f69.q9B==typeof C3b.columnSorting.tuple&&(C3b.columnSorting.tuple=C3b.columnSorting.tuple.split(C3yy.y2B)));f69.r0B!=T3b.sorting&&f69.r0B!=T3b.sorting.column&&(C3b.columnSorting=T3b.sorting.column);f69.r0B!=T3b.expandAll&&(C3b.expandAll=T3b.expandAll);f69.r0B!=T3b.expandedRows&&(C3b.expandedRows=T3b.expandedRows);f69.r0B!=T3b.expandedColumns&&(C3b.expandedColumns=T3b.expandedColumns);f69.r0B!=T3b.expands&&(f69.r0B!=T3b.expands.expandAll&&(C3b.expandAll=T3b.expands.expandAll),f69.r0B!=T3b.expands.rows&&(C3b.expandedRows=F87.readExpandedFromObject(T3b.expands.rows)),f69.r0B!=T3b.expands.columns&&(C3b.expandedColumns=F87.readExpandedFromObject(T3b.expands.columns)));f69.r0B!=T3b.drillAll&&(C3b.drillAll=T3b.drillAll);f69.r0B!=T3b.drilledRows&&(C3b.drilledRows=T3b.drilledRows);f69.r0B!=T3b.drilledColumns&&(C3b.drilledColumns=T3b.drilledColumns);f69.r0B!=T3b.drills&&(f69.r0B!=T3b.drills.drillAll&&(C3b.drillAll=T3b.drills.drillAll),f69.r0B!=T3b.drills.rows&&(C3b.drilledRows=F87.readDrilledFromObject(T3b.drills.rows)),f69.r0B!=T3b.drills.columns&&(C3b.drilledColumns=F87.readDrilledFromObject(T3b.drills.columns)));f69.r0B!=T3b.flatOrder&&(C3b.flatOrder=T3b.flatOrder);f69.r0B!=T3b.slice&&(T3b=T3b.slice,f69.r0B!=T3b.pages&&T3b.pages.length&&(C3b.pages=T3b.pages),f69.r0B!=T3b.reportFilters&&T3b.reportFilters.length&&(C3b.pages=T3b.reportFilters),f69.r0B!=T3b.rows&&T3b.rows.length&&(C3b.rows=T3b.rows),f69.r0B!=T3b.columns&&T3b.columns.length&&(C3b.columns=T3b.columns),f69.r0B!=T3b.measures&&T3b.measures.length&&(C3b.measures=T3b.measures),f69.r0B!=T3b.sorting&&f69.r0B!=T3b.sorting.row&&(C3b.rowSorting=T3b.sorting.row),f69.r0B!=T3b.sorting&&f69.r0B!=T3b.sorting.column&&(C3b.columnSorting=T3b.sorting.column),f69.r0B!=T3b.expands&&(f69.r0B!=T3b.expands.expandAll&&(C3b.expandAll=T3b.expands.expandAll),f69.r0B!=T3b.expands.rows&&(C3b.expandedRows=F87.readExpandedFromObject(T3b.expands.rows)),f69.r0B!=T3b.expands.columns&&(C3b.expandedColumns=F87.readExpandedFromObject(T3b.expands.columns))),f69.r0B!=T3b.drills&&(f69.r0B!=T3b.drills.drillAll&&(C3b.drillAll=T3b.drills.drillAll),f69.r0B!=T3b.drills.rows&&(C3b.drilledRows=F87.readDrilledFromObject(T3b.drills.rows)),f69.r0B!=T3b.drills.columns&&(C3b.drilledColumns=F87.readDrilledFromObject(T3b.drills.columns))),f69.r0B!=T3b.flatOrder&&T3b.flatOrder.length&&(C3b.flatOrder=T3b.flatOrder));return C3b;};return F87;}();J87.SliceValueObject=C87;}(T87.report||(T87.report={})));}(i27.model||(i27.model={})));}(pivot||(pivot={})));(function(J3b){(function(F3b){(function(Q3b){(function(Z3b){var u3b=function(){D3b.toReport=function(e3b){var d29=T3yy;var P3b,B3b=new F3b.report.ReportValueObject();B3b.withDefaults=e3b.withDefaults;B3b.connectionInfo=e3b._connectionInfo;if(e3b._slice){var O3b=J3b.data_._structure.Axis.toObject(e3b._slice.findAxis(J3b.data_.consts.AxisName.ROWS_AXIS)),y3b=J3b.data_._structure.Axis.toObject(e3b._slice.findAxis(J3b.data_.consts.AxisName.COLUMNS_AXIS));P3b=J3b.data_._structure.Axis.toObject(e3b._slice.findAxis(J3b.data_.consts.AxisName.PAGES_AXIS));B3b.slice=new F3b.report.SliceValueObject();B3b.slice.rows=O3b.hierarchies;B3b.slice.columns=y3b.hierarchies;B3b.slice.pages=P3b.hierarchies;B3b.slice.measures=[];var k3b;for(P3b=d29.N5B;P3b<e3b._slice.measures_.length;P3b++)k3b=e3b._slice.measures_.getItemAt(P3b),k3b=J3b.data_._structure.GenericMeasure.toObject(k3b),k3b.active=!d29.N5B,B3b.slice.measures.push(k3b);for(P3b=d29.N5B;P3b<e3b._structure.measures_.length;P3b++)k3b=e3b._structure.measures_.getItemAt(P3b),e3b._slice.measures_.keyExists(k3b.uniqueName)||k3b.hasDefaultParams()||(k3b=J3b.data_._structure.GenericMeasure.toObject(k3b),k3b.active=!d29.I5B,B3b.slice.measures.push(k3b));B3b.slice.rowSorting=O3b.sort;B3b.slice.columnSorting=y3b.sort;B3b.slice.expandAll=e3b._slice.expandAll;B3b.slice.expandedRows=e3b.expandedRows;B3b.slice.expandedColumns=e3b.expandedColumns;B3b.slice.drillAll=e3b._slice.drillAll;B3b.slice.drilledRows=e3b.drilledRows;B3b.slice.drilledColumns=e3b.drilledColumns;B3b.slice.flatOrder=e3b._slice.flatOrder;}B3b.options=e3b._options;O3b=[];for(P3b=d29.N5B;P3b<e3b.formats.length;P3b++)O3b[P3b]=e3b.formats.getItemAt(P3b).toObject();B3b.formats=O3b;O3b=[];for(P3b=d29.N5B;P3b<e3b.conditions.length;P3b++)O3b[P3b]=F3b.condition.vo.ConditionValueObject.toObject(e3b.conditions.getItemAt(P3b));B3b.conditions=O3b;B3b.customFields=e3b.customFields;B3b.labels=e3b.labels;var j3b;P3b={};for(j3b in e3b.columnSizes)P3b[j3b]=e3b.columnSizes[j3b];B3b.columnSizes=P3b;O3b=[];for(j3b in e3b.columnHeaderSizes)P3b=parseInt(j3b),O3b[P3b]=e3b.columnHeaderSizes[j3b];B3b.columnHeaderSizes=O3b;P3b={};for(j3b in e3b.rowSizes)P3b[j3b]=e3b.rowSizes[j3b];B3b.rowSizes=P3b;O3b=[];for(j3b in e3b.rowHeaderSizes)P3b=parseInt(j3b),O3b[P3b+e3b.startTableRow]=e3b.rowHeaderSizes[j3b];B3b.rowHeaderSizes=O3b;O3b=[];if(d29.N5B!=e3b.startTableRow)for(j3b in e3b.rowFilterSizes)P3b=parseInt(j3b),O3b[P3b]=e3b.rowFilterSizes[j3b];B3b.rowFilterSizes=O3b;B3b.localization=e3b.localization;return B3b;};function D3b(){this.formats=new utils.AssociativeArray();this.conditions=new utils.AssociativeArray();this.customFields=[];this.rowSizes={};this.columnSizes={};this.startTableRow=T3yy.N5B;this.rowHeaderSizes={};this.columnHeaderSizes={};this.rowFilterSizes={};this.expandedRows=[];this.expandedColumns=[];this.drilledRows=[];this.drilledColumns=[];this.localization=T3yy.r0B;this.labels={};this.withGlobals=this.withDefaults=!T3yy.I5B;}return D3b;}();Z3b.StateValueObject=u3b;}(Q3b.vo||(Q3b.vo={})));}(F3b._state||(F3b._state={})));}(J3b.model||(J3b.model={})));}(pivot||(pivot={})));(function(g3b){(function(a3b){(function(b3b){var X3b=function(){var J0t="table";z3b.getInstance=function(){T3yy.r0B==z3b._instance&&(z3b._instance=new z3b());return z3b._instance;};z3b.dispose=function(){z3b._instance=T3yy.r0B;};z3b.prototype.print=function(m3b){void T3yy.N5B===m3b&&(m3b=T3yy.r0B);this._printInProgress||(this._printInProgress=!T3yy.N5B,this._options=m3b||new a3b.printing.PrintOptions(),a3b.PivotModel.getInstance().addEventListener(g3b.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler),a3b.PivotModel.getInstance().dispatchWith(g3b.PivotEvent.PRINT));};z3b.prototype.onPrintCompleted=function(){a3b.PivotModel.getInstance().removeEventListener(g3b.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler);this._printInProgress=!T3yy.I5B;};function z3b(){var S3b=this;this.MARGINS=T3yy.m1B;this._printInProgress=!T3yy.I5B;this.printCompletedHandler=function(){return S3b.onPrintCompleted();};this.footerHeight=this.headerHeight=T3yy.N5B;}z3b.prototype.run=function(R3b,s3b){this.grid=R3b;this.dataProvider=s3b;this.gridLayout=T3yy.r0B!=R3b?R3b.gridLayout:T3yy.r0B;this.start();};z3b.prototype.start=function(){var y69=T3yy;var W0B=756;var v0B=576;var f3b=this;this.pageNumber=y69.N5B;this._pageWidth=v0B-y69.i5B*this.MARGINS;this._pageHeight=W0B-y69.i5B*this.MARGINS;this.pages=new uicontrols.UIElement(y69.w9B);this.stylesList=[];this.rowsShift=this.columnsShift=y69.N5B;utils.ThreadManager.addTask(this.generatePageColumn,this,y69.r0B,function(){return f3b.finish();});};z3b.prototype.clear=function(){var k69=T3yy;this._printInProgress=!k69.I5B;this.columnsShift=this.pageNumber=this.rowsShift=this.columnsShift=k69.N5B;this.pages=this.printSprite=k69.r0B;this.footerHeight=this.headerHeight=k69.N5B;};z3b.prototype.generatePageColumn=function(){return this.addColumn();};z3b.prototype.addColumn=function(){var j69=T3yy;var F0t="td:last-child";if(j69.r0B==this.printSprite)this.printSprite=this.createPage(),this.printTable=this.printSprite.find(J0t);else if(!(this.printSprite.getWidth(!j69.N5B)<=this._pageWidth&&j69.N5B!=this.columnsShift)&&(this.printSprite.getWidth(!j69.N5B)>this._pageWidth&&(this.columnsShift--,this.printSprite.find(F0t).remove()),this.addPageToPJ(),this.printSprite=this.createPage(),this.printTable=this.printSprite.find(J0t),!j69.I5B==this.grid.isFlatTable)){var K3b=this.columnsShift;j69.N5B!=this.columnsShift&&(this.columnsShift=j69.N5B,this.addColumnOnPage(),this.columnsShift=K3b,this.columnsShift+j69.I5B<=this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?j69.I5B:j69.N5B)&&(this.columnsShift+=j69.I5B));}this.addColumnOnPage();if(!(!j69.N5B==this.shift()))return!j69.I5B;this.addPageToPJ();return!j69.N5B;};z3b.prototype.createPage=function(){var B69=T3yy;var Q0t="page";var E3b=new uicontrols.UIElement(B69.w9B).addClass(Q0t);E3b.css(B69.N6B,B69.I6B).css(B69.i9B,C3yy.i2B);if(B69.r0B!=this._options.header){var v3b=this.createHeaderFooter(this._options.header);E3b.append(v3b);}var W3b=new uicontrols.UIElement(J0t);B69.N5B==this.pageNumber&&B69.N5B<a3b._options.OptionsManager.gridTitle.length&&W3b.append(new uicontrols.UIElement(C3yy.u0t).text(a3b._options.OptionsManager.gridTitle));E3b.append(W3b);if(B69.r0B!=this._options.footer){var Y3b=this.createHeaderFooter(this._options.footer);E3b.append(Y3b);}this.grid.container.append(E3b);this.headerHeight=B69.r0B!=v3b?v3b.getHeight():B69.N5B;this.footerHeight=B69.r0B!=Y3b?Y3b.getHeight():B69.N5B;return E3b;};z3b.prototype.createHeaderFooter=function(p3b){var o3b=new uicontrols.UIElement(T3yy.w9B);p3b=p3b.replace(/##PAGE-NUMBER##/gi,(this.pageNumber+T3yy.I5B).toString());p3b=p3b.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());o3b.html(p3b);return o3b;};z3b.prototype.addPageToPJ=function(){var e69=T3yy;var Z0t="tr:last-child";this.pageNumber++;g3b.preloader(!e69.N5B,a3b._labels.Labels.MESSAGE_PLEASE_WAIT,this.pageNumber+e69.L0B+a3b._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!e69.N5B);this.rowHeightSum>this._pageHeight&&(this._rowIdx--,this.printSprite.find(Z0t).remove());this.printSprite.detach();this.printSprite.css(e69.N6B,e69.o9B).css(e69.i9B,e69.o9B);this.pages.append(this.printSprite);return!e69.I5B;};z3b.prototype.shift=function(){var Z69=T3yy;++this.columnsShift;this.columnsShift>this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?Z69.I5B:Z69.N5B)&&(this.columnsShift=Z69.N5B,this.rowsShift+=this._rowIdx-this.grid.FIRST_DATA_ROW);return C3yy.t4B<=this.pageNumber||this.rowsShift>=this.dataProvider.extendedDataHeight?!Z69.N5B:!Z69.I5B;};z3b.prototype.addColumnOnPage=function(){this.rowHeightSum=T3yy.N5B;var n3b=this.grid.START_HEADERS_COLUMN+this.columnsShift,w3b=this._pageHeight-this.headerHeight-this.footerHeight;for(this._rowIdx=this.grid.START_TABLE_ROW;this.rowHeightSum<=w3b&&this._rowIdx<this.dataProvider.extendedDataHeight+this.grid.FIRST_DATA_ROW-this.rowsShift;this._rowIdx++){this.rowIndex=this._rowIdx<this.grid.FIRST_DATA_ROW?this._rowIdx:this._rowIdx+this.rowsShift;var d3b=this.gridLayout.getCell(this.rowIndex,n3b,!T3yy.N5B,!T3yy.N5B);this.rowHeightSum+=this.addCell(this._rowIdx,this.columnsShift,d3b);if(this.rowHeightSum>=w3b)break;}};z3b.prototype.addCell=function(l3b,h3b,c3b){var Q69=J3yy;var F69=C3yy;var J69=T3yy;var D0t="tr";var b0t="maxWidth:400px'";h3b=this.printTable.find(D0t,!J69.N5B);for(h3b=J69.N5B<h3b.length?h3b[l3b]:J69.r0B;J69.r0B==h3b;)this.printTable.append(new uicontrols.UIElement(D0t)),h3b=this.printTable.find(D0t,!J69.N5B)[l3b];l3b=F69.e0t+(c3b?c3b.getLabel():J69.o9B)+F69.P0t;if(J69.r0B==c3b)l3b=utils.StringUtils.bind(l3b,F69.B0t);else{var A3b=J69.o9B,M3b=J69.o9B;c3b.isCustomized&&(M3b=c3b.style.getStyleString(),A3b=c3b.style.getCustomClassString(),this.appendStylesList(c3b.style.customStyleNames));A3b=c3b.isRowHeader?A3b+(F69.O0t+c3b.level):c3b.isColumnHeader?A3b+F69.j0t:c3b.isFilterHeader?A3b+F69.k0t:c3b.isTotal&&J69.o9B!=c3b.getLabel()?A3b+Q69.y0t:A3b+Q69.g0t;J69.o9B!=A3b.trim()&&(A3b=Q69.a0t+A3b.trim()+F69.w3J);J69.o9B!=M3b.trim()&&(M3b=Q69.X0t+M3b.trim()+b0t);l3b=utils.StringUtils.bind(l3b,A3b+J69.L0B+M3b);}h3b.element.innerHTML+=l3b;return h3b.getHeight(!J69.N5B)+J69.C1B;};z3b.prototype.appendStylesList=function(V3b){for(var H3b=T3yy.N5B;H3b<V3b.length;H3b++)T3yy.N5B>this.stylesList.indexOf(V3b[H3b])&&this.stylesList.push(V3b[H3b]);};z3b.prototype.finish=function(){var T69=T3yy;var z0t="Sending pages to printer...";g3b.preloader(!T69.N5B,a3b._labels.Labels.MESSAGE_PLEASE_WAIT,z0t,!T69.I5B,!T69.N5B);misc.PrintJob.print(this.pages.html(),this.generateStyle(),a3b._options.OptionsManager.gridTitle);g3b.preloader(!T69.I5B);a3b.PivotModel.getInstance().dispatchWith(g3b.PivotEvent.PRINT_COMPLETE);this.clear();};z3b.prototype.generateStyle=function(){var i99=J3yy;var I99=T3yy;var m0t="table{width:100%;border-collapse:collapse;{0}}\n";var l0t="background-color:rgb(247, 247, 247)";var f0t="caption{{0}}\n";var A0t="background-color:rgb(255, 255, 255)";var K0t="td{white-space:nowrap;{0}}\n";var c0t=".page:not(:last-child), svg { page-break-after: always; }";var E0t="border: 1px solid #eee;";for(var U3b=I99.o9B,t3b=uicontrols.UIElement.convert(this.gridLayout.element),x3b=t3b.find(i99.S0t),U3b=U3b+utils.StringUtils.bind(m0t,g3b._view.grid.vo.StyleValueObject.fromItemToString(t3b,[i99.R0t,i99.s0t])),U3b=U3b+utils.StringUtils.bind(f0t,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.TITLE,t3b)),U3b=U3b+utils.StringUtils.bind(K0t,utils.browserVersion().isChrome?I99.o9B:E0t),U3b=U3b+utils.StringUtils.bind(i99.v0t,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.CELL,x3b)),U3b=U3b+utils.StringUtils.bind(i99.Y0t,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.CELL+I99.L0B+g3b._view.grid.vo.GridStyleName.TOTAL,x3b)),U3b=U3b+utils.StringUtils.bind(i99.W0t,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.CELL+I99.L0B+g3b._view.grid.vo.GridStyleName.HEADER+I99.L0B+g3b._view.grid.vo.GridStyleName.HEADER_ROW,t3b)),U3b=U3b+utils.StringUtils.bind(i99.p0t,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.CELL+I99.L0B+g3b._view.grid.vo.GridStyleName.HEADER+I99.L0B+g3b._view.grid.vo.GridStyleName.HEADER_COLUMN,t3b)),U3b=U3b+utils.StringUtils.bind(i99.o0t,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.CELL+I99.L0B+g3b._view.grid.vo.GridStyleName.HEADER+I99.L0B+g3b._view.grid.vo.GridStyleName.FILTER_HEADER,t3b)),x3b=I99.I5B;I99.X1B>=x3b;x3b++)U3b+=utils.StringUtils.bind(i99.w0t,x3b,g3b._view.grid.vo.StyleValueObject.fromClassToString(g3b._view.grid.vo.GridStyleName.HEADER_ROW+I99.L0B+g3b._view.grid.vo.GridStyleName.LEVEL+x3b,t3b,[i99.n0t]));for(x3b=I99.N5B;x3b<this.stylesList.length;x3b++)U3b+=utils.StringUtils.bind(i99.d0t,this.stylesList[x3b],g3b._view.grid.vo.StyleValueObject.fromClassToString(this.stylesList[x3b],t3b));U3b=(U3b+c0t).replace(/background-color:rgb\(33, 33, 33\)/g,A0t);return U3b=U3b.replace(/background-color:rgb\(66, 66, 66\)/g,l0t);};return z3b;}();b3b.PrintingManager=X3b;}(a3b.printing||(a3b.printing={})));}(g3b.model||(g3b.model={})));}(pivot||(pivot={})));(function(G3b){(function(r3b){(function(L3b){var q3b=function(){N3b.fromObject=function(I3b){var i3b=new N3b();T3yy.r0B!=I3b&&(T3yy.r0B!=I3b.header&&(i3b.header=I3b.header),T3yy.r0B!=I3b.footer&&(i3b.footer=I3b.footer));return i3b;};function N3b(){}return N3b;}();L3b.PrintOptions=q3b;}(r3b.printing||(r3b.printing={})));}(G3b.model||(G3b.model={})));}(pivot||(pivot={})));(function(T7b){(function(C7b){(function(J7b){var F7b=function(u7b){var P9u=T3yy;var U0t="gridType";var H0t="configuratorButton";var y9t="showReportFiltersArea";var x0t="flatView";var t0t="gridTitle";var M0t="configuratorActive";var u9t="showTotals";var T9t="sorting";var D9t="datePattern";var k9t="grandTotalsPosition";var B9t="selectEmptyCells";var I0t="showExtraTotalLabels";var h0t="configuratorOpened";var N0t="showHierarchyCaptions";var O9t="defaultHierarchySortName";var F9t="showHierarchies";var Z9t="showGrandTotals";var r0t="showDefaultSlice";var J9t="showDrillThroughConfigurator";var q0t="showEmptyData";var e9t="dateTimePattern";var j9t="showAggregationLabels";var V0t="classicView";var G0t="showFilter";var Q9t="saveAllFormats";var P9t="showCalculatedValuesButton";__extends(Q7b,u7b);Q7b.getInstance=function(){utils.nullOrUndefined(Q7b.instance)&&(Q7b.instance=new Q7b());return Q7b.instance;};Q7b.dispose=function(){Q7b._globals._defaults=P9u.r0B;Q7b._globals=P9u.r0B;Q7b._options=P9u.r0B;Q7b._defaults=P9u.r0B;Q7b.instance=P9u.r0B;};Q7b.setGlobalOptions=function(D7b){Q7b._globals=D7b;};Q7b.getOptions=function(P7b,B7b){void P9u.N5B===P7b&&(P7b=!P9u.I5B);void P9u.N5B===B7b&&(B7b=!P9u.I5B);var e7b=new J7b.vo.OptionsValueObject();P7b&&e7b.mergeWith(Q7b._defaults);B7b&&e7b.mergeWith(Q7b._globals);e7b.mergeWith(Q7b._options);P7b||e7b.cleanFromDefaults();return e7b;};Q7b.clear=function(){this._options=new J7b.vo.OptionsValueObject();};Q7b.setOptions=function(a7b,k7b){void P9u.N5B===k7b&&(k7b=!P9u.N5B);if(utils.nullOrUndefined(Q7b._options)||k7b){var O7b=Q7b.configuratorOpened;Q7b._options=new J7b.vo.OptionsValueObject();Q7b._options.configuratorOpened=O7b;}var O7b=J7b.vo.OptionsValueObject.toPlainObject(a7b),y7b=!P9u.I5B;Q7b.dispatchSuspended=!P9u.N5B;var g7b=Q7b.getOptions(!P9u.N5B,!P9u.N5B),j7b;for(j7b in O7b)if(void P9u.N5B!=g7b[j7b]&&O7b[j7b]!=g7b[j7b]&&(y7b=!P9u.N5B,Q7b.optionAffectDataProvider(j7b))){Q7b.optionAffectedDataProvider=!P9u.N5B;break;}Q7b._options.mergeWith(O7b);T7b.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME=Q7b.defaultHierarchySortName;Q7b.dispatchSuspended=!P9u.I5B;y7b&&Q7b.dispatchReportChange();};Q7b.optionAffectDataProvider=function(X7b){return-P9u.I5B<Q7b._optionsAffectDataProvider.indexOf(X7b);};Q7b.getOption=function(b7b){return P9u.r0B!=Q7b._options[b7b]?Q7b._options[b7b]:Q7b._globals&&P9u.r0B!=Q7b._globals[b7b]?Q7b._globals[b7b]:Q7b._defaults[b7b];};function Q7b(){var Z7b=u7b.call(this)||this;Q7b._defaults=new J7b.vo.OptionsValueObject();Q7b._defaults.setDefaults();Q7b._options=new J7b.vo.OptionsValueObject();if(Q7b.instance)throw Error(C3yy.m2B);return Z7b;}Object.defineProperty(Q7b,h0t,{get:function(){return Q7b._options.configuratorOpened;},set:function(z7b){Q7b._options.configuratorOpened=z7b;},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,M0t,{get:function(){return Q7b.getOption(M0t);},set:function(S7b){Q7b._options.configuratorActive!=S7b&&(Q7b.configuratorOpened=Q7b._options.configuratorActive=S7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,H0t,{get:function(){return Q7b.getOption(H0t);},set:function(m7b){Q7b._options.configuratorButton!=m7b&&(Q7b._options.configuratorButton=m7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,V0t,{get:function(){return Q7b.getOption(U0t)==T7b._view.grid.GridType.CLASSIC;},set:function(R7b){Q7b._options.gridType!=T7b._view.grid.GridType.CLASSIC&&(Q7b._options.gridType=T7b._view.grid.GridType.CLASSIC,Q7b.optionAffectedDataProvider=Q7b.optionAffectDataProvider(U0t),Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,x0t,{get:function(){return Q7b.getOption(U0t)==T7b._view.grid.GridType.FLAT;},set:function(s7b){Q7b._options.gridType!=T7b._view.grid.GridType.FLAT&&(Q7b._options.gridType=T7b._view.grid.GridType.FLAT,Q7b.optionAffectedDataProvider=Q7b.optionAffectDataProvider(U0t),Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,U0t,{get:function(){return Q7b.getOption(U0t);},set:function(f7b){Q7b._options.gridType!=f7b&&(Q7b._options.gridType=f7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,t0t,{get:function(){return Q7b.getOption(t0t);},set:function(K7b){Q7b._options.gridTitle!=K7b&&(Q7b._options.gridTitle=K7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,G0t,{get:function(){return Q7b.getOption(G0t);},set:function(E7b){Q7b._options.showFilter!=E7b&&(Q7b._options.showFilter=E7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,r0t,{get:function(){return Q7b.getOption(r0t);},set:function(v7b){Q7b._options.showDefaultSlice!=v7b&&(Q7b._options.showDefaultSlice=v7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,q0t,{get:function(){return Q7b.getOption(q0t);},set:function(Y7b){Q7b._options.showEmptyData!=Y7b&&(Q7b._options.showEmptyData=Y7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,J3yy.L0t,{get:function(){return Q7b.getOption(J3yy.L0t);},set:function(W7b){Q7b._options.showAggregations!=W7b&&(Q7b._options.showAggregations=W7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,N0t,{get:function(){return Q7b.getOption(N0t);},set:function(p7b){Q7b._options.showHierarchyCaptions!=p7b&&(Q7b._options.showHierarchyCaptions=p7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,I0t,{get:function(){return Q7b.getOption(I0t);},set:function(o7b){Q7b._options.showExtraTotalLabels!=o7b&&(Q7b._options.showExtraTotalLabels=o7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,J3yy.i0t,{get:function(){return Q7b.getOption(J3yy.i0t);},set:function(w7b){Q7b._options.showHeaders!=w7b&&(Q7b._options.showHeaders=w7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,T9t,{get:function(){return Q7b.getOption(T9t);},set:function(n7b){Q7b._options.sorting!=n7b&&(Q7b._options.sorting=n7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,J3yy.C9t,{get:function(){return Q7b.getOption(J3yy.C9t);},set:function(d7b){Q7b._options.drillThrough!=d7b&&(Q7b._options.drillThrough=d7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,J9t,{get:function(){return Q7b.getOption(J9t);},set:function(c7b){Q7b._options.showDrillThroughConfigurator!=c7b&&(Q7b._options.showDrillThroughConfigurator=c7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,F9t,{get:function(){return Q7b.getOption(F9t);},set:function(A7b){Q7b._options.showHierarchies!=A7b&&(Q7b._options.showHierarchies=A7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,Q9t,{get:function(){return Q7b.getOption(Q9t);},set:function(l7b){Q7b._options.saveAllFormats!=l7b&&(Q7b._options.saveAllFormats=l7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,u9t,{get:function(){return Q7b.getOption(u9t);},set:function(h7b){Q7b._options.showTotals!=h7b&&(Q7b._options.showTotals=h7b,Q7b.optionAffectedDataProvider=Q7b.optionAffectDataProvider(u9t),Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,Z9t,{get:function(){return Q7b.getOption(Z9t);},set:function(M7b){Q7b._options.showGrandTotals!=M7b&&(Q7b._options.showGrandTotals=M7b,Q7b.optionAffectedDataProvider=Q7b.optionAffectDataProvider(Z9t),Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,D9t,{get:function(){return Q7b.getOption(D9t);},set:function(H7b){Q7b._options.datePattern!=H7b&&(Q7b._options.datePattern=H7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,e9t,{get:function(){return Q7b.getOption(e9t);},set:function(V7b){Q7b._options.dateTimePattern!=V7b&&(Q7b._options.dateTimePattern=V7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,P9t,{get:function(){return Q7b.getOption(P9t);},set:function(U7b){Q7b._options.showCalculatedValuesButton!=U7b&&(Q7b._options.showCalculatedValuesButton=U7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,B9t,{get:function(){return Q7b.getOption(B9t);},set:function(x7b){Q7b._options.selectEmptyCells!=x7b&&(Q7b._options.selectEmptyCells=x7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,O9t,{get:function(){return Q7b.getOption(O9t);},set:function(t7b){Q7b._options.defaultHierarchySortName!=t7b&&(Q7b._options.defaultHierarchySortName=t7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,j9t,{get:function(){return Q7b.getOption(j9t);},set:function(G7b){Q7b._options.showAggregationLabels!=G7b&&(Q7b._options.showAggregationLabels=G7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,k9t,{get:function(){return Q7b.getOption(k9t);},set:function(r7b){Q7b._options.grandTotalsPosition!=r7b&&(Q7b._options.grandTotalsPosition=r7b,Q7b.optionAffectedDataProvider=Q7b.optionAffectDataProvider(k9t),Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Object.defineProperty(Q7b,y9t,{get:function(){return Q7b.getOption(y9t);},set:function(q7b){Q7b._options.showReportFiltersArea!=q7b&&(Q7b._options.showReportFiltersArea=q7b,Q7b.dispatchReportChange());},enumerable:!P9u.N5B,configurable:!P9u.N5B});Q7b.dispatchReportChange=function(){Q7b.dispatchSuspended||Q7b.getInstance().dispatch(new events._Event(C7b._state.StateEvent.REPORT_CHANGED));};Q7b.optionAffectedDataProvider=!P9u.I5B;Q7b.dispatchSuspended=!P9u.I5B;Q7b._optionsAffectDataProvider=[U0t,u9t,Z9t,k9t];Q7b.defaultDatePattern=C3yy.D3J;Q7b.defaultDateTimePattern=C3yy.e3J;return Q7b;}(events.EventDispatcher);J7b.OptionsManager=F7b;}(C7b._options||(C7b._options={})));}(T7b.model||(T7b.model={})));}(pivot||(pivot={})));(function(L7b){(function(N7b){(function(I7b){(function(T5b){var i7b=function(){C5b.prototype.setDefaults=function(){for(var J5b in this._defaults)this[J5b]=this._defaults[J5b];};function C5b(){var A29=T3yy;this._defaults={configuratorActive:!A29.I5B,configuratorOpened:!A29.I5B,configuratorButton:!A29.N5B,gridType:L7b._view.grid.GridType.COMPACT,gridTitle:A29.o9B,showFilter:!A29.N5B,showDefaultSlice:!A29.N5B,showEmptyData:!A29.N5B,showAggregations:!A29.N5B,showHierarchyCaptions:!A29.N5B,drillthroughMaxRows:C3yy.t4B,showHeaders:!A29.N5B,showReportFiltersArea:!A29.N5B,showExtraTotalLabels:!A29.I5B,drillThrough:!A29.N5B,showDrillThroughConfigurator:!A29.N5B,sorting:A29.y6B,showHierarchies:!A29.N5B,saveAllFormats:!A29.I5B,showTotals:A29.y6B,showGrandTotals:A29.y6B,datePattern:C3yy.D3J,dateTimePattern:C3yy.e3J,showCalculatedValuesButton:!A29.N5B,selectEmptyCells:!A29.N5B,defaultHierarchySortName:L7b.data_.consts.SortType.ASC,showAggregationLabels:!A29.N5B,grandTotalsPosition:A29.T6B};}C5b.prototype.cleanFromDefaults=function(){for(var F5b in this._defaults)this[F5b]==this._defaults[F5b]&&(this[F5b]=void T3yy.N5B);};C5b.fromObject=function(Q5b){var H29=C3yy;var M29=T3yy;var u5b=new C5b();if(void M29.N5B==Q5b)return u5b;M29.r0B!=Q5b.options&&(Q5b=Q5b.options);Q5b instanceof C5b||(Q5b=C5b.toPlainObject(Q5b));M29.r0B!=Q5b.configuratorActive&&(u5b.configuratorActive=Q5b.configuratorActive);M29.r0B!=Q5b.configuratorButton&&(u5b.configuratorButton=Q5b.configuratorButton);M29.r0B!=Q5b.gridTitle&&(u5b.gridTitle=Q5b.gridTitle);M29.r0B!=Q5b.gridType&&(u5b.gridType=Q5b.gridType);M29.r0B!=Q5b.showFilter&&(u5b.showFilter=Q5b.showFilter);M29.r0B!=Q5b.showDefaultSlice&&(u5b.showDefaultSlice=Q5b.showDefaultSlice);M29.r0B!=Q5b.showEmptyData&&(u5b.showEmptyData=Q5b.showEmptyData);M29.r0B!=Q5b.showAggregations&&(u5b.showAggregations=Q5b.showAggregations);M29.r0B!=Q5b.showHierarchyCaptions&&(u5b.showHierarchyCaptions=Q5b.showHierarchyCaptions);M29.r0B!=Q5b.showHeaders&&(u5b.showHeaders=Q5b.showHeaders);M29.r0B!=Q5b.showReportFiltersArea&&(u5b.showReportFiltersArea=Q5b.showReportFiltersArea);M29.r0B!=Q5b.showExtraTotalLabels&&(u5b.showExtraTotalLabels=Q5b.showExtraTotalLabels);M29.r0B!=Q5b.drillThrough&&(u5b.drillThrough=Q5b.drillThrough);M29.r0B!=Q5b.showDrillThroughConfigurator&&(u5b.showDrillThroughConfigurator=Q5b.showDrillThroughConfigurator);M29.r0B!=Q5b.sorting&&(u5b.sorting=Q5b.sorting,H29.C3J==u5b.sorting.toString().toLowerCase()&&(u5b.sorting=M29.y6B),H29.T1t==u5b.sorting.toString().toLowerCase()&&(u5b.sorting=J3yy.g9t));M29.r0B!=Q5b.showHierarchies&&(u5b.showHierarchies=Q5b.showHierarchies);M29.r0B!=Q5b.saveAllFormats&&(u5b.saveAllFormats=Q5b.saveAllFormats);M29.r0B!=Q5b.showTotals&&(u5b.showTotals=Q5b.showTotals,H29.C3J==u5b.showTotals.toString().toLowerCase()&&(u5b.showTotals=M29.y6B),H29.T1t==u5b.showTotals.toString().toLowerCase()&&(u5b.showTotals=J3yy.g9t));M29.r0B!=Q5b.showGrandTotals&&(u5b.showGrandTotals=Q5b.showGrandTotals,H29.C3J==u5b.showGrandTotals.toString().toLowerCase()&&(u5b.showGrandTotals=M29.y6B),H29.T1t==u5b.showGrandTotals.toString().toLowerCase()&&(u5b.showGrandTotals=J3yy.g9t));M29.r0B!=Q5b.datePattern&&(u5b.datePattern=Q5b.datePattern);M29.r0B!=Q5b.dateTimePattern&&(u5b.dateTimePattern=Q5b.dateTimePattern);M29.r0B!=Q5b.showCalculatedValuesButton&&(u5b.showCalculatedValuesButton=Q5b.showCalculatedValuesButton);M29.r0B!=Q5b.selectEmptyCells&&(u5b.selectEmptyCells=Q5b.selectEmptyCells);M29.r0B!=Q5b.defaultHierarchySortName&&(u5b.defaultHierarchySortName=Q5b.defaultHierarchySortName);M29.r0B!=Q5b.showAggregationLabels&&(u5b.showAggregationLabels=Q5b.showAggregationLabels);M29.r0B!=Q5b.grandTotalsPosition&&(u5b.grandTotalsPosition=Q5b.grandTotalsPosition);return u5b;};C5b.toPlainObject=function(Z5b){var x29=C3yy;var U29=T3yy;var D5b={};if(void U29.N5B==Z5b)return D5b;U29.r0B!=Z5b.configuratorActive&&(D5b.configuratorActive=Z5b.configuratorActive);U29.r0B!=Z5b.configuratorButton&&(D5b.configuratorButton=Z5b.configuratorButton);U29.r0B!=Z5b.showAggregations&&(D5b.showAggregations=Z5b.showAggregations);U29.r0B!=Z5b.showCalculatedValuesButton&&(D5b.showCalculatedValuesButton=Z5b.showCalculatedValuesButton);U29.r0B!=Z5b.drillThrough&&(D5b.drillThrough=Z5b.drillThrough);U29.r0B!=Z5b.showDrillThroughConfigurator&&(D5b.showDrillThroughConfigurator=Z5b.showDrillThroughConfigurator);U29.r0B!=Z5b.sorting&&(D5b.sorting=Z5b.sorting);U29.r0B!=Z5b.datePattern&&(D5b.datePattern=Z5b.datePattern);U29.r0B!=Z5b.dateTimePattern&&(D5b.dateTimePattern=Z5b.dateTimePattern);U29.r0B!=Z5b.saveAllFormats&&(D5b.saveAllFormats=Z5b.saveAllFormats);U29.r0B!=Z5b.showDefaultSlice&&(D5b.showDefaultSlice=Z5b.showDefaultSlice);U29.r0B!=Z5b.showEmptyData&&(D5b.showEmptyData=Z5b.showEmptyData);U29.r0B!=Z5b.defaultHierarchySortName&&(D5b.defaultHierarchySortName=Z5b.defaultHierarchySortName);U29.r0B!=Z5b.selectEmptyCells&&(D5b.selectEmptyCells=Z5b.selectEmptyCells);U29.r0B!=Z5b.showAggregationLabels&&(D5b.showAggregationLabels=Z5b.showAggregationLabels);U29.r0B!=Z5b.classicView&&(D5b.classicView=Z5b.classicView);U29.r0B!=Z5b.flatView&&(D5b.flatView=Z5b.flatView);U29.r0B!=Z5b.gridType&&(D5b.gridType=Z5b.gridType);U29.r0B!=Z5b.gridTitle&&(D5b.gridTitle=Z5b.gridTitle);U29.r0B!=Z5b.showFilter&&(D5b.showFilter=Z5b.showFilter);U29.r0B!=Z5b.showHeaders&&(D5b.showHeaders=Z5b.showHeaders);U29.r0B!=Z5b.showTotals&&(D5b.showTotals=Z5b.showTotals);U29.r0B!=Z5b.showGrandTotals&&(D5b.showGrandTotals=Z5b.showGrandTotals);U29.r0B!=Z5b.grandTotalsPosition&&(D5b.grandTotalsPosition=Z5b.grandTotalsPosition);U29.r0B!=Z5b.showExtraTotalLabels&&(D5b.showExtraTotalLabels=Z5b.showExtraTotalLabels);U29.r0B!=Z5b.showHierarchies&&(D5b.showHierarchies=Z5b.showHierarchies);U29.r0B!=Z5b.showHierarchyCaptions&&(D5b.showHierarchyCaptions=Z5b.showHierarchyCaptions);U29.r0B!=Z5b.drillthroughMaxRows&&(D5b.drillthroughMaxRows=Z5b.drillthroughMaxRows);U29.r0B!=Z5b.showReportFiltersArea&&(D5b.showReportFiltersArea=Z5b.showReportFiltersArea);U29.r0B!=Z5b.grid&&(Z5b=Z5b.grid,U29.r0B!=Z5b.type&&(D5b.gridType=Z5b.type),U29.r0B!=Z5b.title&&(D5b.gridTitle=Z5b.title),U29.r0B!=Z5b.showFilter&&(D5b.showFilter=Z5b.showFilter),U29.r0B!=Z5b.showHeaders&&(D5b.showHeaders=Z5b.showHeaders),U29.r0B!=Z5b.showTotals&&(D5b.showTotals=Z5b.showTotals,x29.C3J==D5b.showTotals.toString().toLowerCase()&&(D5b.showTotals=U29.y6B),x29.T1t==D5b.showTotals.toString().toLowerCase()&&(D5b.showTotals=J3yy.g9t)),U29.r0B!=Z5b.showGrandTotals&&(D5b.showGrandTotals=Z5b.showGrandTotals,x29.C3J==D5b.showGrandTotals.toString().toLowerCase()&&(D5b.showGrandTotals=U29.y6B),x29.T1t==D5b.showGrandTotals.toString().toLowerCase()&&(D5b.showGrandTotals=J3yy.g9t)),U29.r0B!=Z5b.grandTotalsPosition&&(D5b.grandTotalsPosition=Z5b.grandTotalsPosition),U29.r0B!=Z5b.showExtraTotalLabels&&(D5b.showExtraTotalLabels=Z5b.showExtraTotalLabels),U29.r0B!=Z5b.showHierarchies&&(D5b.showHierarchies=Z5b.showHierarchies),U29.r0B!=Z5b.showHierarchyCaptions&&(D5b.showHierarchyCaptions=Z5b.showHierarchyCaptions),U29.r0B!=Z5b.drillthroughMaxRows&&(D5b.drillthroughMaxRows=Z5b.drillthroughMaxRows),U29.r0B!=Z5b.showReportFiltersArea&&(D5b.showReportFiltersArea=Z5b.showReportFiltersArea));return D5b;};C5b.prototype.toObject=function(){var G29=T3yy;var e5b={},P5b={};this.gridType===L7b._view.grid.GridType.COMPACT?P5b.type=L7b._view.grid.GridType.COMPACT:this.gridType===L7b._view.grid.GridType.CLASSIC?P5b.type=L7b._view.grid.GridType.CLASSIC:this.gridType===L7b._view.grid.GridType.FLAT&&(P5b.type=L7b._view.grid.GridType.FLAT);G29.r0B!=this.gridTitle&&(P5b.title=this.gridTitle);G29.r0B!=this.showFilter&&(P5b.showFilter=this.showFilter);G29.r0B!=this.showHeaders&&(P5b.showHeaders=this.showHeaders);G29.r0B!=this.showTotals&&(P5b.showTotals=this.showTotals);G29.r0B!=this.showGrandTotals&&(P5b.showGrandTotals=this.showGrandTotals);G29.r0B!=this.grandTotalsPosition&&(P5b.grandTotalsPosition=this.grandTotalsPosition);G29.r0B!=this.showExtraTotalLabels&&(P5b.showExtraTotalLabels=this.showExtraTotalLabels);G29.r0B!=this.showHierarchies&&(P5b.showHierarchies=this.showHierarchies);G29.r0B!=this.showHierarchyCaptions&&(P5b.showHierarchyCaptions=this.showHierarchyCaptions);G29.r0B!=this.drillthroughMaxRows&&(P5b.drillthroughMaxRows=this.drillthroughMaxRows);G29.r0B!=this.showReportFiltersArea&&(P5b.showReportFiltersArea=this.showReportFiltersArea);utils.ObjectUtils.isEmptyObject(P5b)||(e5b.grid=P5b);G29.r0B!=this.configuratorActive&&(e5b.configuratorActive=this.configuratorActive);G29.r0B!=this.configuratorButton&&(e5b.configuratorButton=this.configuratorButton);G29.r0B!=this.showAggregations&&(e5b.showAggregations=this.showAggregations);G29.r0B!=this.showCalculatedValuesButton&&(e5b.showCalculatedValuesButton=this.showCalculatedValuesButton);G29.r0B!=this.drillThrough&&(e5b.drillThrough=this.drillThrough);G29.r0B!=this.showDrillThroughConfigurator&&(e5b.showDrillThroughConfigurator=this.showDrillThroughConfigurator);G29.r0B!=this.sorting&&(e5b.sorting=this.sorting);G29.r0B!=this.datePattern&&(e5b.datePattern=this.datePattern);G29.r0B!=this.dateTimePattern&&(e5b.dateTimePattern=this.dateTimePattern);G29.r0B!=this.saveAllFormats&&(e5b.saveAllFormats=this.saveAllFormats);G29.r0B!=this.showDefaultSlice&&(e5b.showDefaultSlice=this.showDefaultSlice);G29.r0B!=this.showEmptyData&&(e5b.showEmptyData=this.showEmptyData);G29.r0B!=this.defaultHierarchySortName&&(e5b.defaultHierarchySortName=this.defaultHierarchySortName);G29.r0B!=this.selectEmptyCells&&(e5b.selectEmptyCells=this.selectEmptyCells);G29.r0B!=this.showAggregationLabels&&(e5b.showAggregationLabels=this.showAggregationLabels);return e5b;};C5b.prototype.mergeWith=function(O5b){for(var B5b in O5b)this._defaults.hasOwnProperty(B5b)&&void T3yy.N5B!=O5b[B5b]&&(this[B5b]=O5b[B5b]);};return C5b;}();T5b.OptionsValueObject=i7b;}(I7b.vo||(I7b.vo={})));}(N7b._options||(N7b._options={})));}(L7b.model||(L7b.model={})));}(pivot||(pivot={})));(function(j5b){(function(k5b){(function(g5b){var y5b=function(X5b){__extends(a5b,X5b);a5b.getInstance=function(){T3yy.r0B==a5b.instance&&(a5b.instance=new a5b());return a5b.instance;};a5b.dispose=function(){a5b.conditions=T3yy.r0B;a5b.instance=T3yy.r0B;};a5b.add=function(z5b){T3yy.r0B!=z5b&&(a5b.conditions.addItem(z5b.id,z5b),this.dispatchReportChange());};a5b.get=function(S5b){return a5b.conditions.getItem(S5b);};a5b.remove=function(m5b){a5b.conditions.removeItem(m5b);this.dispatchReportChange();};a5b.removeAll=function(){a5b.conditions=new utils.AssociativeArray();this.dispatchReportChange();};a5b.getObjects=function(){for(var s5b=[],R5b=T3yy.N5B;R5b<a5b.conditions.length;R5b++){var f5b=a5b.conditions.getItemAt(R5b);f5b.isUpdate||s5b.push(f5b.toObject());}return s5b;};function a5b(){var b5b=X5b.call(this)||this;if(T3yy.r0B!=a5b.instance)throw Error(C3yy.m2B);return b5b;}a5b.dispatchReportChange=function(){a5b.getInstance().dispatchWith(k5b._state.StateEvent.REPORT_CHANGED);};a5b.conditions=new utils.AssociativeArray();return a5b;}(events.EventDispatcher);g5b.ConditionManager=y5b;}(k5b.condition||(k5b.condition={})));}(j5b.model||(j5b.model={})));}(pivot||(pivot={})));(function(K5b){(function(E5b){(function(v5b){(function(W5b){var p5b=function(){var a9t="isUpdate";Object.defineProperty(o5b.prototype,a9t,{get:function(){return-T3yy.I5B<this.formula.toLowerCase().indexOf(K5b.data_.consts.FunctionName.UPDATE_DIFFERENCE)||-T3yy.I5B<this.formula.toLowerCase().indexOf(K5b.data_.consts.FunctionName.UPDATE_PERCENT);},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});o5b.prototype.toObject=function(){var w5b={};w5b.id=this.id;w5b.row=this.row;w5b.column=this.column;void T3yy.N5B!==this.isTotal&&(w5b.isTotal=this.isTotal);w5b.measure=this.measure;w5b.member=this.member;w5b.hierarchy=this.hierarchy;w5b.formula=this.formula;T3yy.r0B!=this.format&&(w5b.format=this.format.toObject(),w5b.formatCSS=this.format.toString());return w5b;};o5b.toObject=function(n5b){return n5b.toObject();};function o5b(){this.id=T3yy.o9B;this.column=this.row=-T3yy.I5B;this.formula=this.hierarchy=this.member=this.measure=T3yy.o9B;this.params=[];}o5b.fromObject=function(d5b){var I29=T3yy;var c5b=new o5b();c5b.id=I29.r0B!=d5b.id?d5b.id:utils.StringUtils.generateID();I29.r0B!=d5b.row&&(c5b.row=d5b.row);I29.r0B!=d5b.column&&(c5b.column=d5b.column);if(I29.r0B!=d5b.isTotal){if(!I29.N5B==d5b.isTotal||I29.I5B==d5b.isTotal)c5b.isTotal=!I29.N5B;if(!I29.I5B==d5b.isTotal||I29.N5B==d5b.isTotal)c5b.isTotal=!I29.I5B;}I29.r0B!=d5b.measure&&(c5b.measure=d5b.measure);c5b.formula=d5b.formula;I29.r0B!=d5b.trueStyle&&I29.r0B==d5b.format&&(d5b.format=d5b.trueStyle);I29.r0B!=d5b.format&&(c5b.format=I29.q9B===typeof d5b.format?Y5b.fromString(d5b.format):Y5b.fromObject(d5b.format));d5b=new utils.Lexer();c5b.params=d5b.parse(c5b.formula);return I29.r0B==c5b.params?I29.r0B:c5b;};return o5b;}();W5b.ConditionValueObject=p5b;var Y5b=function(){A5b.fromObject=function(l5b){var i29=T3yy;var z9t=1.5;var h5b=new A5b();if(i29.r0B==l5b)return h5b;i29.r0B!=l5b.backgroundColor&&(h5b.backgroundColor=A5b.color(l5b.backgroundColor));i29.r0B!=l5b.color&&(h5b.color=A5b.color(l5b.color));i29.r0B!=l5b.fontFamily&&(h5b.fontFamily=l5b.fontFamily);i29.r0B!=l5b.fontSize&&(h5b.fontSize=A5b.size(l5b.fontSize));i29.r0B!=l5b.italic&&l5b.italic&&(h5b.fontStyle=J3yy.X9t);i29.r0B!=l5b.fontStyle&&(h5b.fontStyle=l5b.fontStyle);i29.r0B!=l5b.bold&&l5b.bold&&(h5b.fontWeight=J3yy.b9t);i29.r0B!=l5b.fontWeight&&(h5b.fontWeight=l5b.fontWeight);i29.r0B!=l5b.padding&&(h5b.padding=A5b.size(Math.round(z9t*l5b.padding)));i29.r0B!=l5b.textAlign&&(h5b.textAlign=l5b.textAlign);i29.r0B!=l5b.textIndent&&(h5b.textIndent=A5b.size(l5b.textIndent));return h5b;};A5b.fromString=function(M5b){var J89=T3yy;var V5b={};M5b=M5b.split(C3yy.N3J);if(J89.r0B!=M5b)for(var H5b=J89.N5B;H5b<M5b.length;H5b++){var U5b=M5b[H5b].split(C3yy.u3J)[J89.N5B],x5b=M5b[H5b].split(C3yy.u3J)[J89.I5B];J89.o9B!=U5b&&(V5b[U5b]=x5b);}return A5b.fromObject(V5b);};A5b.prototype.toObject=function(){var F89=T3yy;var t5b={};F89.r0B!=this.backgroundColor&&(t5b.backgroundColor=this.backgroundColor);F89.r0B!=this.color&&(t5b.color=this.color);F89.r0B!=this.fontFamily&&(t5b.fontFamily=this.fontFamily);F89.r0B!=this.fontSize&&(t5b.fontSize=this.fontSize);F89.r0B!=this.fontStyle&&(t5b.fontStyle=this.fontStyle);F89.r0B!=this.fontWeight&&(t5b.fontWeight=this.fontWeight);F89.r0B!=this.padding&&(t5b.padding=this.padding);F89.r0B!=this.textAlign&&(t5b.textAlign=this.textAlign);F89.r0B!=this.textIndent&&(t5b.textIndent=this.textIndent);return t5b;};function A5b(){}A5b.prototype.toCSSObject=function(){var u89=J3yy;var Q89=T3yy;var f9t="text-indent";var m9t="font-style";var G5b={};Q89.r0B!=this.backgroundColor&&(G5b[u89.S9t]=this.backgroundColor);Q89.r0B!=this.color&&(G5b.color=this.color);Q89.r0B!=this.fontFamily&&(G5b[u89.R0t]=this.fontFamily);Q89.r0B!=this.fontSize&&(G5b[u89.s0t]=this.fontSize);Q89.r0B!=this.fontStyle&&(G5b[m9t]=this.fontStyle);Q89.r0B!=this.fontWeight&&(G5b[u89.R9t]=this.fontWeight);Q89.r0B!=this.padding&&(G5b.padding=this.padding);Q89.r0B!=this.textAlign&&(G5b[u89.s9t]=this.textAlign);Q89.r0B!=this.textIndent&&(G5b[f9t]=this.textIndent);return G5b;};A5b.prototype.toString=function(){var r5b=T3yy.o9B,q5b=this.toCSSObject(),L5b;for(L5b in q5b)r5b+=L5b+C3yy.u3J+q5b[L5b]+C3yy.N3J;return r5b;};A5b.color=function(N5b){var K9t="0x";return N5b.replace(K9t,C3yy.O3J);};A5b.size=function(I5b){var P89=T3yy;return P89.r9B==typeof I5b?I5b+P89.m9B:P89.q9B==typeof I5b&&P89.N5B>I5b.indexOf(P89.m9B)?I5b.trim()+P89.m9B:I5b;};return A5b;}();W5b.CSSValueObject=Y5b;}(v5b.vo||(v5b.vo={})));}(E5b.condition||(E5b.condition={})));}(K5b.model||(K5b.model={})));}(pivot||(pivot={})));(function(i5b){(function(T1b){(function(J1b){var C1b=function(Q1b){var V0u=T3yy;var E9t="rowSizesNamed";var v9t="columnSizesNamed";var Y9t=/[A-Za-z]+/;__extends(F1b,Q1b);F1b.getInstance=function(){V0u.r0B==F1b.instance&&(F1b.instance=new F1b());return F1b.instance;};F1b.dispose=function(){F1b.rowFilterSizes=V0u.r0B;F1b.rowHeaderSizes=V0u.r0B;F1b.rowSizes=V0u.r0B;F1b.rowSizesByIdx=V0u.r0B;F1b._rowSizesNamed=V0u.r0B;F1b._rowSizesNamedToApply=V0u.r0B;F1b.columnHeaderSizes=V0u.r0B;F1b.columnSizes=V0u.r0B;F1b.columnSizesByIdx=V0u.r0B;F1b._columnSizesNamed=V0u.r0B;F1b._columnSizesNamedToApply=V0u.r0B;F1b.instance=V0u.r0B;};Object.defineProperty(F1b,E9t,{get:function(){return this._rowSizesNamed=F1b.toNamedSizes(i5b.data_.consts.AxisName.ROWS_AXIS);},enumerable:!V0u.N5B,configurable:!V0u.N5B});Object.defineProperty(F1b,v9t,{get:function(){return this._columnSizesNamed=F1b.toNamedSizes(i5b.data_.consts.AxisName.COLUMNS_AXIS);},enumerable:!V0u.N5B,configurable:!V0u.N5B});F1b.clear=function(){F1b.rowSizes={};F1b.columnSizes={};F1b._rowSizesNamedToApply={};F1b._rowSizesNamed={};F1b._columnSizesNamedToApply={};F1b._columnSizesNamed={};F1b.rowSizesByIdx={};F1b.columnSizesByIdx={};F1b.rowHeaderSizes={};F1b.columnHeaderSizes={};F1b.rowFilterSizes={};};F1b.applySizes=function(Z1b,D1b,e1b,P1b,B1b,O1b,j1b){if(F1b.basedOnNamesArray(Z1b)||F1b.basedOnNamesArray(D1b))F1b._rowSizesNamedToApply=F1b.convertSizes(Z1b),F1b._columnSizesNamedToApply=F1b.convertSizes(D1b),F1b.processSizes();else if(F1b.basedOnNamesObject(Z1b)||F1b.basedOnNamesObject(D1b))F1b._rowSizesNamedToApply=Z1b,F1b._columnSizesNamedToApply=D1b,F1b.processSizes();F1b.rowSizesByIdx=e1b;F1b.columnSizesByIdx=P1b;F1b.rowHeaderSizes=B1b;F1b.columnHeaderSizes=O1b;F1b.rowFilterSizes=j1b;};F1b.processSizes=function(){if(T1b.PivotModel.getInstance().state_.reportState==T1b._state.StateEvent.REPORT_COMPLETE)this.onDataLoaded();else i5b.data_.Cube.getInstance().addEventListener(i5b.data_.DataEvent.QUERY_COMPLETE,F1b.onDataLoaded,V0u.I5B);};F1b.basedOnNamesArray=function(k1b){var y1b=Y9t,g1b;for(g1b in k1b)if(-V0u.I5B<k1b[g1b].toString().search(y1b))return!V0u.N5B;return!V0u.I5B;};F1b.basedOnNamesObject=function(b1b){var a1b=Y9t,X1b;for(X1b in b1b)if(-V0u.I5B<X1b.toString().search(a1b))return!V0u.N5B;return!V0u.I5B;};F1b.convertSizes=function(S1b){var m1b={};if(V0u.r0B!=S1b)for(var R1b in S1b){var z1b=S1b[R1b];if(z1b instanceof Array&&V0u.N5B<z1b.length){var s1b=parseInt(z1b.pop());m1b[z1b.toString()]=s1b;}}return m1b;};function F1b(){var u1b=Q1b.call(this)||this;if(V0u.r0B!=F1b.instance)throw Error(C3yy.m2B);return u1b;}F1b.onDataLoaded=function(){i5b.data_.Cube.getInstance().removeEventListener(i5b.data_.DataEvent.QUERY_COMPLETE,F1b.onDataLoaded);F1b.rowSizes=F1b.fromNamedSizes(i5b.data_.consts.AxisName.ROWS_AXIS);F1b._rowSizesNamedToApply={};F1b.columnSizes=F1b.fromNamedSizes(i5b.data_.consts.AxisName.COLUMNS_AXIS);F1b._columnSizesNamedToApply={};};F1b.fromNamedSizes=function(W1b){var w1b={},o1b=W1b==i5b.data_.consts.AxisName.ROWS_AXIS?F1b._rowSizesNamedToApply:F1b._columnSizesNamedToApply,p1b;for(p1b in o1b){var K1b=p1b.split(C3yy.y2B),c1b=o1b[p1b],n1b=i5b.data_.Cube.getInstance().slice_.axes.getItem(W1b).hasMeasures,d1b;n1b&&!T1b._options.OptionsManager.flatView&&(d1b=K1b[K1b.length-V0u.I5B],K1b.splice(K1b.length-V0u.I5B,V0u.I5B));for(var Y1b=!V0u.I5B,v1b=[],E1b=V0u.N5B;E1b<K1b.length;E1b++)if(T1b._options.OptionsManager.flatView)if(W1b==i5b.data_.consts.AxisName.ROWS_AXIS)v1b.push(K1b[E1b]);else{var f1b=K1b[E1b],f1b=i5b.data_.Cube.getInstance().localDataStorage.keys.indexOf(f1b);if(-V0u.I5B==f1b){Y1b=!V0u.N5B;break;}v1b.push(f1b);}else{f1b=K1b[E1b];f1b=(W1b==i5b.data_.consts.AxisName.ROWS_AXIS?i5b.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(E1b):i5b.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(E1b)).members.getItem(f1b);if(V0u.r0B==f1b){Y1b=!V0u.N5B;break;}f1b.isAll?v1b.push(V0u.o9B):v1b.push(f1b.ordinal.toString());}if(!Y1b){if(n1b&&!T1b._options.OptionsManager.flatView){K1b=i5b.data_.Cube.getInstance().slice_.measures_.indexOf(d1b);if(V0u.o9B!=d1b&&-V0u.I5B==K1b)continue;v1b.push(K1b);}w1b[v1b.toString()]=c1b;}}return w1b;};F1b.toNamedSizes=function(U1b){var r1b={},q1b=U1b==i5b.data_.consts.AxisName.ROWS_AXIS?F1b.rowSizes:F1b.columnSizes,t1b;for(t1b in q1b){var l1b=t1b.split(C3yy.y2B),L1b=q1b[t1b],x1b=i5b.data_.Cube.getInstance().slice_.axes.getItem(U1b).hasMeasures,H1b;x1b&&!T1b._options.OptionsManager.flatView&&(H1b=parseInt(l1b[l1b.length-V0u.I5B]),l1b.splice(l1b.length-V0u.I5B,V0u.I5B));for(var V1b=!V0u.I5B,M1b=[],h1b=V0u.N5B;h1b<l1b.length;h1b++)if(T1b._options.OptionsManager.flatView)if(U1b==i5b.data_.consts.AxisName.ROWS_AXIS)M1b.push(l1b[h1b]);else{var A1b=V0u.o9B===l1b[h1b]?V0u.N5B:parseInt(l1b[h1b]),A1b=i5b.data_.Cube.getInstance().localDataStorage.keys[A1b];if(V0u.r0B==A1b){V1b=!V0u.N5B;break;}M1b.push(A1b);}else{var A1b=V0u.o9B===l1b[h1b]?V0u.N5B:parseInt(l1b[h1b]),G1b=U1b==i5b.data_.consts.AxisName.ROWS_AXIS?i5b.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(h1b):i5b.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(h1b);if(V0u.r0B==G1b){V1b=!V0u.N5B;break;}A1b=G1b.members.getItemAt(A1b);if(V0u.r0B==A1b){V1b=!V0u.N5B;break;}M1b.push(A1b.uniqueName);}if(!V1b){if(x1b&&!T1b._options.OptionsManager.flatView){if(H1b>=i5b.data_.Cube.getInstance().slice_.measures_.length)continue;-V0u.I5B==H1b&&V0u.I5B==i5b.data_.Cube.getInstance().slice_.measures_.length&&(H1b=V0u.N5B);M1b.push(i5b.data_.Cube.getInstance().slice_.measures_.getKeyAt(H1b));}r1b[M1b.toString()]=L1b;}}return r1b;};F1b.rowSizes={};F1b.columnSizes={};F1b._rowSizesNamedToApply={};F1b._rowSizesNamed={};F1b._columnSizesNamedToApply={};F1b._columnSizesNamed={};F1b.startTableRow=V0u.N5B;F1b.rowSizesByIdx={};F1b.columnSizesByIdx={};F1b.rowHeaderSizes={};F1b.columnHeaderSizes={};F1b.rowFilterSizes={};return F1b;}(events.EventDispatcher);J1b.SizesManager=C1b;}(T1b.sizes||(T1b.sizes={})));}(i5b.model||(i5b.model={})));}(pivot||(pivot={})));(function(N1b){(function(I1b){(function(i1b){var T0b=function(){var A0u=T3yy;var A9t="JPEG";var C6t="Helvetica";var k0B=210;var h9t="fullPageWidth";var l9t="fullPageHeight";var R0B=297;var T6t=3.779;var M9t=0.9;C0b.run=function(J0b,F0b,Q0b,u0b){var o9t="a4";var p9t="mm";var Z0b=this;N1b.preloader(!A0u.N5B,I1b._labels.Labels.MESSAGE_PLEASE_WAIT,J3yy.W9t,!A0u.N5B,!A0u.N5B);C0b.clear();C0b.grid=J0b;C0b.dataHeight=u0b;C0b.dataWidth=Q0b;C0b.coords=J0b.gridLayout.coords;C0b.exportOptions=F0b;C0b.pdf=new jsPDF(F0b.pageOrientation,p9t,o9t,!utils.browserVersion().isMsie);C0b.pageHeight=C0b.fullPageHeight-A0u.i5B*C0b.PAGE_MARGIN;C0b.pageWidth=C0b.fullPageWidth-A0u.i5B*C0b.PAGE_MARGIN;C0b.totalColumnCount=C0b.grid.FIRST_DATA_COLUMN+Q0b;C0b.totalRowCount=C0b.grid.FIRST_DATA_ROW+u0b;C0b.widthSize={};C0b.currentYPos=C0b.PAGE_MARGIN;try{C0b.calculateColumnCount(),C0b.getStyles(),C0b.createHeaderAndFooter(C0b.exportOptions.header,C0b.exportOptions.footer,function(){return Z0b.onHeaderAndFooterCreated();});}catch(D0b){var w9t="Export PDF error:";console.error(w9t,D0b),N1b.uialert(I1b._labels.Labels.MESSAGE_EXPORT_ERROR,I1b._labels.Labels.ERROR,N1b.AlertType.ERROR),N1b.preloader(!A0u.I5B),I1b.PivotModel.getInstance().dispatch(new events._Event(N1b.PivotEvent.EXPORT_COMPLETE)),C0b.clear();}};C0b.createHeaderAndFooter=function(B0b,O0b,y0b){var d9t="white";var z1B=23;var n9t="background";var c9t="image/jpeg";try{C0b.headerHeight=A0u.N5B;C0b.footerHeight=A0u.N5B;var j0b=A0u.r0B==B0b,k0b=A0u.r0B==O0b;if(j0b&&k0b)y0b();else{if(!j0b){B0b=B0b.replace(/##PAGE-NUMBER##/gi,(C0b.pageNumber+A0u.I5B).toString());B0b=B0b.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());var e0b=new uicontrols.UIElement(A0u.w9B);e0b.css(A0u.N6B,A0u.I6B);e0b.css(n9t,d9t);e0b.setWidth(C0b.mm2px(C0b.fullPageWidth-A0u.i5B*C0b.HEADER_FOOTER_MARGIN));e0b.html(B0b);N1b._view.PivotView.stage.container.prepend(e0b);html2canvas(e0b.element,{onrendered:function(g0b){e0b.remove();var a0b=g0b.toDataURL(c9t).slice(z1B);C0b.headerImage=atob(a0b);C0b.headerHeight=C0b.px2mm(g0b.height);j0b=!A0u.N5B;k0b&&y0b();},async:!A0u.N5B});}if(!k0b){O0b=O0b.replace(/##PAGE-NUMBER##/gi,(C0b.pageNumber+A0u.I5B).toString());O0b=O0b.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());var P0b=new uicontrols.UIElement(A0u.w9B);P0b.css(A0u.N6B,A0u.I6B);P0b.css(n9t,d9t);P0b.setWidth(C0b.mm2px(C0b.fullPageWidth-A0u.i5B*C0b.HEADER_FOOTER_MARGIN));P0b.html(O0b);N1b._view.PivotView.stage.container.prepend(P0b);html2canvas(P0b.element,{onrendered:function(X0b){P0b.remove();var b0b=X0b.toDataURL(c9t).slice(z1B);C0b.footerImage=atob(b0b);C0b.footerHeight=C0b.px2mm(X0b.height);k0b=!A0u.N5B;j0b&&y0b();},async:!A0u.N5B});}}}catch(z0b){C0b.headerImage=A0u.r0B,C0b.headerHeight=A0u.N5B,C0b.footerImage=A0u.r0B,C0b.footerHeight=A0u.N5B,y0b();}};C0b.addHeader=function(S0b,m0b){S0b.addImage(m0b,A9t,C0b.HEADER_FOOTER_MARGIN,C0b.HEADER_FOOTER_MARGIN);};C0b.addFooter=function(R0b,s0b){R0b.addImage(s0b,A9t,C0b.HEADER_FOOTER_MARGIN,C0b.fullPageHeight-C0b.footerHeight-C0b.HEADER_FOOTER_MARGIN);};C0b.addHeaderAndFooter=function(){A0u.r0B!=C0b.headerImage&&C0b.addHeader(C0b.pdf,C0b.headerImage);A0u.r0B!=C0b.footerImage&&C0b.addFooter(C0b.pdf,C0b.footerImage);C0b.pageHeight=C0b.fullPageHeight;C0b.pageHeight-=A0u.N5B==C0b.headerHeight?C0b.PAGE_MARGIN:C0b.headerHeight+A0u.i5B*C0b.HEADER_FOOTER_MARGIN;C0b.pageHeight-=A0u.N5B==C0b.footerHeight?C0b.PAGE_MARGIN:C0b.footerHeight+A0u.i5B*C0b.HEADER_FOOTER_MARGIN;C0b.currentYPos=A0u.N5B==C0b.headerHeight?C0b.PAGE_MARGIN:C0b.headerHeight+A0u.i5B*C0b.HEADER_FOOTER_MARGIN;};Object.defineProperty(C0b,l9t,{get:function(){return C3yy.R7J===C0b.exportOptions.pageOrientation?R0B:k0B;},enumerable:!A0u.N5B,configurable:!A0u.N5B});Object.defineProperty(C0b,h9t,{get:function(){return C3yy.R7J===C0b.exportOptions.pageOrientation?k0B:R0B;},enumerable:!A0u.N5B,configurable:!A0u.N5B});C0b.onHeaderAndFooterCreated=function(){C0b.addHeaderAndFooter();C0b.addTitle(I1b._options.OptionsManager.gridTitle,C0b.pdf);utils.nullOrEmpty(I1b._options.OptionsManager.gridTitle)||A0u.N5B!=C0b.pageNumber||(C0b.currentYPos+=A0u.J1B);C0b.preprocessData();utils.ThreadManager.addTask(C0b.generateRow,A0u.r0B,A0u.r0B,function(){return C0b.onPdfGenerated();});};C0b.addTitle=function(K0b,f0b){if(!utils.nullOrEmpty(K0b)){f0b.setTextColor(A0u.N5B,A0u.N5B,A0u.N5B);f0b.setFontStyle(J3yy.b9t);f0b.setFontSize(A0u.P1B);var E0b=A0u.P1B*f0b.getStringUnitWidth(K0b)/f0b.internal.scaleFactor;f0b.text(K0b,(f0b.internal.pageSize.width-E0b)/A0u.i5B,C0b.currentYPos);}};C0b.getStyles=function(){var v0b=C0b.grid.gridLayout,Y0b=v0b.find(J3yy.S0t);C0b.cellStyle=N1b._view.grid.vo.StyleValueObject.fromClass(N1b._view.grid.vo.GridStyleName.CELL,Y0b);C0b.totalCellStyle=N1b._view.grid.vo.StyleValueObject.fromClass(N1b._view.grid.vo.GridStyleName.CELL+A0u.L0B+N1b._view.grid.vo.GridStyleName.TOTAL,Y0b);C0b.rowHeaderCellStyle=N1b._view.grid.vo.StyleValueObject.fromClass(N1b._view.grid.vo.GridStyleName.CELL+A0u.L0B+N1b._view.grid.vo.GridStyleName.HEADER+A0u.L0B+N1b._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(v0b.element));C0b.columnHeaderCellStyle=N1b._view.grid.vo.StyleValueObject.fromClass(N1b._view.grid.vo.GridStyleName.CELL+A0u.L0B+N1b._view.grid.vo.GridStyleName.HEADER+A0u.L0B+N1b._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(v0b.element));C0b.filterHeaderCellStyle=N1b._view.grid.vo.StyleValueObject.fromClass(N1b._view.grid.vo.GridStyleName.CELL+A0u.L0B+N1b._view.grid.vo.GridStyleName.HEADER+A0u.L0B+N1b._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(v0b.element));};C0b.getColumnWidth=function(W0b){W0b=C0b.pixel2mm(C0b.grid.gridLayout.coords.getColWidth(W0b));W0b=W0b<C0b.pageWidth?W0b:C0b.pageWidth-A0u.I5B;return M9t*W0b;};C0b.setDefaultCellStyle=function(o0b,p0b){var x9t="rgb(0,0,0,0)";var t9t="rgb(222,222,222)";if(A0u.r0B!=o0b&&o0b.isCustomized){var w0b=A0u.N5B<o0b.style.customStyleNames.length?N1b._view.grid.vo.StyleValueObject.fromClass(o0b.style.getCustomClassString()):N1b._view.grid.vo.StyleValueObject.fromString(o0b.style.getStyleString());w0b.merge(p0b);p0b=w0b;}p0b.color=p0b.color||J3yy.H9t;J3yy.V9t==p0b.backgroundColor&&(p0b.color=J3yy.U9t);p0b.backgroundColor=p0b.backgroundColor||x9t;p0b.borderColor=p0b.borderColor||t9t;p0b.fontSize=p0b.fontSize||A0u.e1B;return p0b;};C0b.getOptionsForCell=function(n0b){var G9t=0.85;return{fontSize:G9t*n0b.fontSize,fontName:A0u.r0B==n0b.fontFamily?C0b.FONT_NAME:n0b.fontFamily,fontStyle:N1b._view.grid.vo.FontStylePDFType.getFontStyle(parseFloat(n0b.fontWeight))};};C0b.preprocessData=function(){var r9t=0.8;C0b.heigthSize=Array(C0b.totalRowCount);for(var c0b=A0u.N5B,M0b=A0u.N5B,l0b=A0u.N5B,A0b;M0b<C0b.totalRowCount;){for(var l0b=c0b=A0u.N5B,H0b=r9t*Math.max(C0b.px2mm(C0b.coords.getRowHeight(M0b)),A0u.F1B);c0b<C0b.totalColumnCount;){A0b=C0b.grid.gridLayout.getCell(M0b,c0b,!A0u.N5B,!A0u.N5B);var d0b=new N1b._view.grid.vo.StyleValueObject(),d0b=C0b.cellStyle.clone(),d0b=C0b.setDefaultCellStyle(A0b,d0b);if(A0u.r0B!=A0b){var h0b=A0b.getLabel();A0u.r9B===typeof h0b&&(A0b.value=h0b,h0b+=A0u.o9B,A0b.numeric=!A0u.N5B);h0b=h0b.replace(/<(?:.|\n)*?>/gi,A0u.o9B);A0b=A0u.r0B!=C0b.widthSize&&A0u.r0B!=C0b.widthSize[c0b]?C0b.widthSize[c0b]:C0b.getColumnWidth(c0b);d0b=C0b.pdf.splitTextToSize(h0b,A0b,C0b.getOptionsForCell(d0b));d0b=(A0u.I5B<d0b.length?C0b.px2mm(d0b.length*(A0u.e1B+A0u.i5B*C0b.PADDING)-A0u.i5B*C0b.PADDING):C0b.px2mm(A0u.e1B*d0b.length-C0b.PADDING))/H0b;d0b=A0u.I5B>d0b?H0b:(d0b+A0u.I5B)*H0b;d0b=d0b>C0b.pageHeight/A0u.i5B?(C0b.pageHeight-A0u.I5B)/A0u.i5B:d0b;l0b=d0b>l0b?d0b:l0b;}c0b++;}C0b.heigthSize[M0b]=l0b;M0b++;}};C0b.generateRow=function(){var N9t="FD";var L9t="normal";var q9t=0.7;if(C0b._addingHeaderFooter)return!A0u.I5B;for(var C9b=utils.getTimer(),L0b=A0u.N5B;L0b<C0b.BLOCK_SIZE;L0b++){if(C0b.pageIsFilled&&(C0b.addNewPage(),C0b._addingHeaderFooter))return!A0u.I5B;var r0b=A0u.N5B,N0b=C0b.PAGE_MARGIN,U0b,r0b=!A0u.I5B,t0b=A0u.o9B,T9b=C0b.currentRowIdx-C0b.currentStartRowIdx<C0b.grid.FIRST_DATA_ROW&&C0b.currentRowIdx>C0b.grid.START_HEADERS_COLUMN?C0b.currentRowIdx-C0b.currentStartRowIdx:C0b.currentRowIdx,i0b=C0b.heigthSize[T9b];for(C0b.currentColIdx=C0b.currentStartColIdx;C0b.currentColIdx<C0b.currentColumnCount+C0b.currentStartColIdx;)if(U0b=(r0b=I1b._options.OptionsManager.flatView?!A0u.I5B:C0b.currentColIdx==C0b.currentStartColIdx&&C0b.currentColIdx>C0b.grid.START_HEADERS_COLUMN)?C0b.grid.START_HEADERS_COLUMN:C0b.currentColIdx,!C0b.allRowsGenerated()&&C0b.rowsHeightSum+i0b<=C0b.pageHeight){r0b=A0u.r0B!=C0b.widthSize&&A0u.r0B!=C0b.widthSize[U0b]?C0b.widthSize[U0b]:C0b.getColumnWidth(U0b);if(M9t*(N0b+r0b)>C0b.pageWidth)break;U0b=C0b.grid.gridLayout.getCell(T9b,U0b,!A0u.N5B,!A0u.N5B);t0b=utils.nullOrUndefined(U0b)?A0u.o9B:U0b.getLabel();A0u.r9B===typeof t0b&&(U0b.value=t0b,t0b+=A0u.o9B,U0b.numeric=!A0u.N5B);var t0b=t0b.replace(/<(?:.|\n)*?>/gi,A0u.o9B),x0b=t0b.match(/&#(\d{3,4});/gi);if(x0b)for(var I0b,V0b=A0u.N5B;V0b<x0b.length;V0b++)I0b=parseInt(x0b[V0b].substring(A0u.i5B,x0b[V0b].length-A0u.I5B)),t0b=t0b.replace(x0b[V0b],String.fromCharCode(I0b));x0b=[t0b];V0b=new N1b._view.grid.vo.StyleValueObject();A0u.r0B!=U0b&&U0b.isRowHeader?(V0b=C0b.rowHeaderCellStyle.clone(),V0b=C0b.setDefaultCellStyle(U0b,V0b),x0b=C0b.pdf.splitTextToSize(t0b,r0b,C0b.getOptionsForCell(V0b))):A0u.r0B!=U0b&&U0b.isColumnHeader?(V0b=C0b.columnHeaderCellStyle.clone(),V0b=C0b.setDefaultCellStyle(U0b,V0b),x0b=C0b.pdf.splitTextToSize(t0b,r0b,C0b.getOptionsForCell(V0b))):A0u.r0B!=U0b&&U0b.isFilterHeader?(V0b=C0b.filterHeaderCellStyle.clone(),V0b=C0b.setDefaultCellStyle(U0b,V0b)):A0u.r0B!=U0b&&U0b.isTotal&&A0u.o9B!=U0b.getLabel()?(V0b=C0b.totalCellStyle.clone(),V0b=C0b.setDefaultCellStyle(U0b,V0b)):(V0b=C0b.cellStyle.clone(),V0b=C0b.setDefaultCellStyle(U0b,V0b),x0b=C0b.pdf.splitTextToSize(t0b,r0b,C0b.getOptionsForCell(V0b)));I0b=x0b.length;var q0b=A0u.I5B<I0b?C0b.px2mm(x0b.length*(V0b.fontSize+A0u.i5B*C0b.PADDING)-A0u.i5B*C0b.PADDING):C0b.px2mm(x0b.length*V0b.fontSize-C0b.PADDING);q0b>C0b.pageHeight/A0u.i5B&&(q0b=(C0b.pageHeight-A0u.X1B)/A0u.i5B,I0b=Math.floor(C0b.mm2px(q0b)/(V0b.fontSize+A0u.i5B*C0b.PADDING)));V0b.fontSize*=q9t;var G0b=N1b._view.grid.vo.StyleValueObject.parseRGB(V0b.backgroundColor);C0b.pdf.setFillColor(G0b[A0u.N5B],G0b[A0u.I5B],G0b[A0u.i5B],A0u.N5B!=G0b[A0u.T1B]?void A0u.N5B:A0u.N5B);G0b=N1b._view.grid.vo.StyleValueObject.parseRGB(V0b.borderColor);C0b.pdf.setDrawColor(G0b[A0u.N5B],G0b[A0u.I5B],G0b[A0u.i5B],A0u.N5B!=G0b[A0u.T1B]?void A0u.N5B:A0u.N5B);G0b=N1b._view.grid.vo.StyleValueObject.parseRGB(V0b.color);C0b.pdf.setTextColor(G0b[A0u.N5B],G0b[A0u.I5B],G0b[A0u.i5B]);C0b.pdf.setFontStyle(J3yy.b9t==V0b.fontWeight?J3yy.b9t:L9t);C0b.pdf.setFontSize(V0b.fontSize);C0b.pdf.rect(N0b,C0b.currentYPos,r0b,i0b,N9t);q0b=C0b.currentYPos+(i0b-q0b)/A0u.i5B+C0b.PADDING;if(A0u.C6B==V0b.textAlign)if(A0u.I5B<x0b.length)for(L0b=A0u.N5B;L0b<I0b;L0b++)C0b.pdf.text(x0b[L0b],N0b+r0b-C0b.PADDING,q0b,A0u.r0B,A0u.r0B,A0u.C6B),q0b+=A0u.i5B*C0b.PADDING;else C0b.pdf.text(t0b,N0b+r0b-C0b.PADDING,q0b,A0u.r0B,A0u.r0B,A0u.C6B);else if(A0u.I5B<x0b.length)for(L0b=A0u.N5B;L0b<I0b;L0b++)V0b=!I1b._options.OptionsManager.classicView&&A0u.r0B!=U0b&&A0u.N5B<U0b.level?(U0b.level+A0u.I5B)*C0b.PADDING:C0b.PADDING,C0b.pdf.text(x0b[L0b],N0b+V0b,q0b),q0b+=A0u.i5B*C0b.PADDING;else V0b=!I1b._options.OptionsManager.classicView&&A0u.r0B!=U0b&&A0u.N5B<U0b.level?(U0b.level+A0u.I5B)*C0b.PADDING:C0b.PADDING,C0b.pdf.text(t0b,N0b+V0b,q0b);C0b.currentColIdx++;N0b+=r0b;}else{C0b.pageIsFilled=!A0u.N5B;break;}C0b.pageIsFilled||(C0b.currentYPos+=i0b,C0b.rowsHeightSum+=i0b,C0b.currentRowIdx++);if(C0b.allColumnsGenerated()&&C0b.allRowsGenerated())break;}C0b.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-C9b,C0b.BLOCK_SIZE);return C0b.allColumnsGenerated()&&C0b.allRowsGenerated();};C0b.allColumnsGenerated=function(){return C0b.currentStartColIdx+C0b.currentColumnCount>=C0b.dataWidth+C0b.grid.FIRST_DATA_COLUMN;};function C0b(){}C0b.allRowsGenerated=function(){return C0b.currentRowIdx>=C0b.dataHeight+C0b.grid.FIRST_DATA_ROW;};C0b.addNewPage=function(){C0b.pdf.addPage();C0b.pageNumber++;C0b.pageIsFilled=!A0u.I5B;C0b._addingHeaderFooter=!A0u.N5B;C0b.createHeaderAndFooter(C0b.exportOptions.header,C0b.exportOptions.footer,function(){C0b._addingHeaderFooter=!A0u.I5B;C0b.addHeaderAndFooter();});C0b.rowsHeightSum=A0u.N5B;A0u.I5B<C0b.pageNumber&&(C0b.shiftRows(),C0b.shiftColumns());N1b.preloader(!A0u.N5B,I1b._labels.Labels.MESSAGE_PLEASE_WAIT,C0b.pageNumber+A0u.I5B+A0u.L0B+I1b._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!A0u.N5B);};C0b.shiftRows=function(){C0b.allColumnsGenerated()&&!C0b.allRowsGenerated()?(C0b.currentRowIdx-=C0b.grid.FIRST_DATA_ROW,C0b.currentStartRowIdx=C0b.currentRowIdx):C0b.currentRowIdx=C0b.currentStartRowIdx;};C0b.shiftColumns=function(){C0b.allColumnsGenerated()?C0b.allRowsGenerated()||(C0b.currentStartColIdx=A0u.N5B,C0b.currentColIdx=A0u.N5B):(C0b.currentStartColIdx+=C0b.currentColumnCount,C0b.currentColIdx=C0b.currentStartColIdx);C0b.calculateColumnCount();};C0b.calculateColumnCount=function(){C0b.currentColumnCount=A0u.N5B;var F9b=C0b.currentStartColIdx,J9b=A0u.N5B,Q9b=A0u.N5B;if(I1b._options.OptionsManager.flatView?A0u.N5B:C0b.currentStartColIdx>=C0b.grid.FIRST_DATA_COLUMN)J9b=C0b.getColumnWidth(C0b.grid.START_HEADERS_COLUMN),Q9b+=J9b,C0b.currentColumnCount++,C0b.currentStartColIdx--,C0b.currentColIdx--;for(;F9b<C0b.totalColumnCount;)if(J9b=C0b.getColumnWidth(F9b),J9b>C0b.pageWidth/A0u.i5B-C0b.PAGE_MARGIN&&(J9b=(C0b.pageWidth+C0b.PAGE_MARGIN)/A0u.i5B,C0b.widthSize[F9b]=J9b),Q9b+=J9b,Q9b<=C0b.pageWidth)C0b.currentColumnCount++,F9b++;else{A0u.N5B==C0b.currentColumnCount&&(C0b.currentColumnCount=A0u.I5B);break;}};C0b.onPdfGenerated=function(){var I9t="pivot.pdf";A0u.N5B==C0b.exportOptions.filename.length&&(C0b.exportOptions.filename=I9t);var u9b=C0b.pdf.output(),u9b=utils.StringUtils.strToUint8Arr(u9b);i1b.ExportManager.save(u9b,C0b.exportOptions);C0b.clear();I1b.PivotModel.getInstance().dispatch(new events._Event(N1b.PivotEvent.EXPORT_COMPLETE));};C0b.clear=function(){C0b.grid=A0u.r0B;C0b.exportOptions=A0u.r0B;C0b.pdf=A0u.r0B;C0b.dataWidth=A0u.N5B;C0b.dataHeight=A0u.N5B;C0b.totalColumnCount=A0u.N5B;C0b.totalRowCount=A0u.N5B;C0b.currentColumnCount=A0u.N5B;C0b.currentColIdx=A0u.N5B;C0b.currentStartColIdx=A0u.N5B;C0b.currentRowIdx=A0u.N5B;C0b.currentStartRowIdx=A0u.N5B;C0b.rowsHeightSum=A0u.N5B;C0b.currentYPos=A0u.N5B;C0b.pageIsFilled=!A0u.I5B;C0b.pageNumber=A0u.N5B;C0b.pageHeight=A0u.N5B;C0b.pageWidth=A0u.N5B;C0b.headerHeight=A0u.N5B;C0b.headerImage=A0u.r0B;C0b.footerHeight=A0u.N5B;C0b.footerImage=A0u.r0B;};C0b.pixel2mm=function(Z9b){var i9t=0.264;return i9t*Z9b;};C0b.mm2px=function(D9b){return T6t*D9b;};C0b.px2mm=function(e9b){return e9b/T6t;};C0b.FONT_NAME=C6t;C0b.PAGE_MARGIN=A0u.j1B;C0b.pageIsFilled=!A0u.I5B;C0b.pageNumber=A0u.N5B;C0b.HEADER_FOOTER_MARGIN=A0u.J1B;C0b.headerHeight=A0u.N5B;C0b.footerHeight=A0u.N5B;C0b._addingHeaderFooter=!A0u.I5B;C0b.BLOCK_SIZE=A0u.X1B;C0b.PADDING=C0b.pixel2mm(A0u.u1B);return C0b;}();i1b.ExportPDF=T0b;}(I1b._export||(I1b._export={})));}(N1b.model||(N1b.model={})));}(pivot||(pivot={})));(function(P9b){(function(B9b){(function(O9b){var j9b=function(){var n0u=T3yy;k9b.run=function(y9b,g9b,a9b,X9b){k9b.grid=y9b;k9b.dataWidth=a9b;k9b.dataHeight=X9b;k9b.exportOptions=g9b;try{k9b.exportToHTML();}catch(b9b){var J6t="Export HTML error:";console.error(J6t,b9b),P9b.uialert(B9b._labels.Labels.MESSAGE_EXPORT_ERROR,B9b._labels.Labels.ERROR,P9b.AlertType.ERROR),P9b.preloader(!n0u.I5B),B9b.PivotModel.getInstance().dispatch(new events._Event(P9b.PivotEvent.EXPORT_COMPLETE)),k9b.clear();}};k9b.exportToHTML=function(){P9b.preloader(!n0u.N5B,B9b._labels.Labels.MESSAGE_EXPORT_PROGRESS);k9b.htmlString=n0u.o9B;k9b.rowIdx=k9b.grid.START_TABLE_ROW;k9b.stylesList=[];utils.ThreadManager.addTask(k9b.generateRow,n0u.r0B,n0u.r0B,k9b.onHTMLExportComplete);};k9b.generateStyle=function(){var F99=J3yy;var Q6t=".grid{border-collapse:collapse;{0}border-top:1px solid #e9e9e9;border-left:1px solid #e9e9e9;}\n";var F6t="body{{0}}\n";var Z6t=".title{{0}}\n";for(var z9b=n0u.o9B,m9b=k9b.grid.gridLayout,S9b=m9b.find(F99.S0t),z9b=z9b+utils.StringUtils.bind(F6t,P9b._view.grid.vo.StyleValueObject.fromItemToString(uicontrols.UIElement.convert(m9b.element),[F99.R0t])),z9b=z9b+utils.StringUtils.bind(Q6t,P9b._view.grid.vo.StyleValueObject.fromItemToString(uicontrols.UIElement.convert(m9b.element),[F99.R0t,F99.s0t,F99.u6t])),z9b=z9b+utils.StringUtils.bind(Z6t,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.TITLE,uicontrols.UIElement.convert(m9b.element))),z9b=z9b+utils.StringUtils.bind(F99.v0t,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.CELL,S9b)),z9b=z9b+utils.StringUtils.bind(F99.Y0t,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.CELL+n0u.L0B+P9b._view.grid.vo.GridStyleName.TOTAL,S9b)),z9b=z9b+utils.StringUtils.bind(F99.W0t,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.CELL+n0u.L0B+P9b._view.grid.vo.GridStyleName.HEADER+n0u.L0B+P9b._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(m9b.element))),z9b=z9b+utils.StringUtils.bind(F99.p0t,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.CELL+n0u.L0B+P9b._view.grid.vo.GridStyleName.HEADER+n0u.L0B+P9b._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(m9b.element))),z9b=z9b+utils.StringUtils.bind(F99.o0t,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.CELL+n0u.L0B+P9b._view.grid.vo.GridStyleName.HEADER+n0u.L0B+P9b._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(m9b.element))),S9b=n0u.I5B;n0u.X1B>=S9b;S9b++)z9b+=utils.StringUtils.bind(F99.w0t,S9b,P9b._view.grid.vo.StyleValueObject.fromClassToString(P9b._view.grid.vo.GridStyleName.HEADER_ROW+n0u.L0B+P9b._view.grid.vo.GridStyleName.LEVEL+S9b,uicontrols.UIElement.convert(m9b.element),[F99.n0t]));for(S9b=n0u.N5B;S9b<k9b.stylesList.length;S9b++)z9b+=utils.StringUtils.bind(F99.d0t,k9b.stylesList[S9b],P9b._view.grid.vo.StyleValueObject.fromClassToString(k9b.stylesList[S9b],uicontrols.UIElement.convert(m9b.element)));return z9b;};k9b.appendStylesList=function(s9b){for(var R9b=n0u.N5B;R9b<s9b.length;R9b++)n0u.N5B>k9b.stylesList.indexOf(s9b[R9b])&&k9b.stylesList.push(s9b[R9b]);};k9b.generateRow=function(){var J99=J3yy;var C99=C3yy;var P6t="px;";var B6t="<tr>";var e6t="width:";var O6t="</tr>";var D6t=" level";for(var W9b=utils.getTimer(),p9b=Math.min(k9b.rowIdx+k9b.BLOCK_SIZE,k9b.dataHeight+k9b.grid.FIRST_DATA_ROW),f9b,E9b=n0u.o9B;k9b.rowIdx<p9b;k9b.rowIdx++){for(var E9b=n0u.o9B,Y9b=k9b.grid.START_HEADERS_COLUMN;Y9b<k9b.dataWidth+k9b.grid.FIRST_DATA_COLUMN;Y9b++)if(f9b=k9b.grid.gridLayout.getCell(k9b.rowIdx,Y9b,!n0u.N5B,!n0u.N5B),E9b+=C99.e0t+(f9b?f9b.getLabel():n0u.o9B)+C99.P0t,n0u.r0B==f9b)E9b=utils.StringUtils.bind(E9b,C99.B0t);else{var K9b=n0u.o9B,v9b=n0u.o9B;f9b.isCustomized&&(v9b=f9b.style.getStyleString(),K9b=f9b.style.getCustomClassString(),k9b.appendStylesList(f9b.style.customStyleNames));K9b=f9b.isRowHeader?K9b+(C99.O0t+f9b.level):f9b.isColumnHeader?K9b+C99.j0t:f9b.isFilterHeader?K9b+C99.k0t:f9b.isTotal&&n0u.o9B!=f9b.getLabel()?K9b+J99.y0t:K9b+J99.g0t;n0u.r0B!=f9b&&f9b.isFilterHeader&&(K9b+=D6t+f9b.level);n0u.o9B!=K9b.trim()&&(K9b=J99.a0t+K9b.trim()+C99.w3J);v9b+=e6t+k9b.grid.gridLayout.coords.getColWidth(Y9b)+P6t;n0u.o9B!=v9b.trim()&&(v9b=J99.X0t+v9b.trim()+C99.w3J);E9b=utils.StringUtils.bind(E9b,K9b+n0u.L0B+v9b);}k9b.rowsString+=B6t+E9b+O6t;}k9b.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-W9b,k9b.BLOCK_SIZE);k9b.showProgress(k9b.rowIdx);return k9b.rowIdx>=k9b.dataHeight+k9b.grid.FIRST_DATA_ROW;};k9b.showProgress=function(o9b){var j6t="{0}%";P9b.preloader(!n0u.N5B,B9b._labels.Labels.MESSAGE_EXPORT_PROGRESS,utils.StringUtils.bind(j6t,(o9b/(k9b.dataHeight+k9b.grid.FIRST_DATA_ROW)*n0u.F0B).toFixed(n0u.N5B)));};k9b.onHTMLExportComplete=function(){P9b.preloader(!n0u.I5B);k9b.saveHTMLExport();k9b.clear();};k9b.saveHTMLExport=function(){var T99=C3yy;var g6t="</div>";var S6t="</body></html>";var X6t="</table>";var a6t="<table class='grid'>";var y6t="<div class='title'>";var z6t="</style></head>";var k6t="pivotgrid.html";var b6t="<!DOCTYPE html><html><head><meta charset='UTF-8'/>";n0u.N5B==k9b.exportOptions.filename.length&&(k9b.exportOptions.filename=k6t);var n9b=n0u.o9B;if(!utils.nullOrEmpty(k9b.exportOptions.header))var w9b=k9b.exportOptions.header,w9b=w9b.replace(/##PAGE-NUMBER##/gi,n0u.o9B),w9b=w9b.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString()),n9b=n9b+w9b;n9b+=y6t+B9b._options.OptionsManager.gridTitle+g6t;n9b+=a6t+k9b.rowsString+X6t;utils.nullOrEmpty(k9b.exportOptions.footer)||(w9b=k9b.exportOptions.footer,w9b=w9b.replace(/##PAGE-NUMBER##/gi,n0u.o9B),w9b=w9b.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString()),n9b+=w9b);k9b.htmlString=b6t;k9b.htmlString+=T99.F8B+(utils.nullOrEmpty(B9b._options.OptionsManager.gridTitle)?B9b._labels.Labels.DEFAULT_EXPORT_TITLE:B9b._options.OptionsManager.gridTitle)+T99.Q8B;k9b.htmlString+=T99.u8B+k9b.generateStyle()+z6t;k9b.htmlString+=T99.P8B+n9b+S6t;O9b.ExportManager.save(k9b.htmlString,k9b.exportOptions);B9b.PivotModel.getInstance().dispatch(new events._Event(P9b.PivotEvent.EXPORT_COMPLETE));};k9b.clear=function(){k9b.rowIdx=n0u.N5B;k9b.htmlString=n0u.o9B;k9b.rowsString=n0u.o9B;k9b.dataWidth=n0u.N5B;k9b.dataHeight=n0u.N5B;k9b.grid=n0u.r0B;k9b.exportOptions=n0u.r0B;};k9b.rowIdx=n0u.N5B;function k9b(){throw Error(C3yy.m2B);}k9b.htmlString=n0u.o9B;k9b.rowsString=n0u.o9B;k9b.BLOCK_SIZE=n0u.X1B;return k9b;}();O9b.ExportHTML=j9b;}(B9b._export||(B9b._export={})));}(P9b.model||(P9b.model={})));}(pivot||(pivot={})));(function(d9b){(function(c9b){(function(A9b){var l9b=function(){var o0u=T3yy;var v6t=6E4;var W6t=864E5;var Y6t="1899-12-30";var c6t=14.3;h9b.run=function(M9b,H9b,V9b,U9b){h9b.grid=M9b;h9b.dataWidth=V9b;h9b.dataHeight=U9b;h9b.exportOptions=H9b;try{h9b.exportToXLS();}catch(x9b){var m6t="Export XLS error:";console.error(m6t,x9b),d9b.uialert(c9b._labels.Labels.MESSAGE_EXPORT_ERROR,c9b._labels.Labels.ERROR,d9b.AlertType.ERROR),d9b.preloader(!o0u.I5B),c9b.PivotModel.getInstance().dispatch(new events._Event(d9b.PivotEvent.EXPORT_COMPLETE));}};h9b.exportToXLS=function(){d9b.preloader(!o0u.N5B,c9b._labels.Labels.MESSAGE_EXPORT_PROGRESS);h9b.rowIdx=h9b.grid.START_TABLE_ROW;h9b.xlsPadding=o0u.N5B;h9b.xlsDocument=new xls.XLS();var t9b=utils.nullOrEmpty(c9b._options.OptionsManager.gridTitle)?c9b._labels.Labels.DEFAULT_EXPORT_TITLE:c9b._options.OptionsManager.gridTitle.replace(/[^a-zA-Z\d\s\-|+@#$^&()_,.!]/g,o0u.o9B),t9b=o0u.N5B<h9b.exportOptions.excelSheetName.length?h9b.exportOptions.excelSheetName:t9b;o0u.f1B<t9b.length&&(t9b=t9b.substr(o0u.N5B,o0u.s1B)+J3yy.W9t);t9b=new xls.XLSSheet(t9b);h9b.xlsDocument.sheets.push(t9b);h9b.getStyles();h9b.addTitle();h9b.addXLSCustomFields();h9b.addFilters();utils.ThreadManager.addTask(h9b.generateXLSRow,o0u.r0B,o0u.r0B,function(){return h9b.onXLSExportComplete();});};h9b.getStyles=function(){var G9b=h9b.grid.gridLayout.element;h9b.cellStyle=d9b._view.grid.vo.StyleValueObject.fromClass(d9b._view.grid.vo.GridStyleName.CELL,uicontrols.UIElement.convert(G9b));h9b.totalCellStyle=d9b._view.grid.vo.StyleValueObject.fromClass(d9b._view.grid.vo.GridStyleName.CELL+o0u.L0B+d9b._view.grid.vo.GridStyleName.TOTAL,uicontrols.UIElement.convert(G9b));h9b.rowHeaderCellStyle=d9b._view.grid.vo.StyleValueObject.fromClass(d9b._view.grid.vo.GridStyleName.CELL+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(G9b));h9b.columnHeaderCellStyle=d9b._view.grid.vo.StyleValueObject.fromClass(d9b._view.grid.vo.GridStyleName.CELL+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(G9b));h9b.filterHeaderCellStyle=d9b._view.grid.vo.StyleValueObject.fromClass(d9b._view.grid.vo.GridStyleName.CELL+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER+o0u.L0B+d9b._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(G9b));for(var r9b=o0u.I5B;o0u.X1B>=r9b;r9b++)h9b.rowHeaderLevelsCellStyle[r9b]=d9b._view.grid.vo.StyleValueObject.fromClass(d9b._view.grid.vo.GridStyleName.CELL+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER+o0u.L0B+d9b._view.grid.vo.GridStyleName.HEADER_ROW+o0u.L0B+d9b._view.grid.vo.GridStyleName.LEVEL+r9b,uicontrols.UIElement.convert(G9b));};h9b.onXLSExportComplete=function(){h9b.mergeTitleCells();d9b.preloader(!o0u.I5B);h9b.saveXLSExport();};h9b.saveXLSExport=function(){var R6t="pivot.xlsx";h9b.rowIdx=h9b.grid.START_TABLE_ROW;o0u.N5B==h9b.exportOptions.filename.length&&(h9b.exportOptions.filename=R6t);A9b.ExportManager.save(h9b.xlsDocument.toUint8Array(),h9b.exportOptions);h9b.xlsDocument=o0u.r0B;h9b.exportOptions=o0u.r0B;c9b.PivotModel.getInstance().dispatch(new events._Event(d9b.PivotEvent.EXPORT_COMPLETE));};h9b.generateXLSRow=function(){var G09=J3yy;var f6t="Tahoma";var s6t="{0}% ({1} rows)";for(var F6b=utils.getTimer(),u6b=h9b.dataHeight+h9b.grid.FIRST_DATA_ROW;h9b.rowIdx<u6b;h9b.rowIdx++){if(o0u.F0B<utils.getTimer()-F6b){F6b=h9b.rowIdx/u6b*o0u.F0B;if(o0u.F0B<F6b)return!o0u.I5B;d9b.preloader(!o0u.N5B,c9b._labels.Labels.MESSAGE_EXPORT_PROGRESS,utils.StringUtils.bind(s6t,F6b.toFixed(o0u.N5B),h9b.rowIdx.toString()));break;}for(var I9b=h9b.grid.START_HEADERS_COLUMN;I9b<h9b.dataWidth+h9b.grid.FIRST_DATA_COLUMN;I9b++){var q9b=h9b.grid.gridLayout.getCell(h9b.rowIdx,I9b,!o0u.N5B,!o0u.N5B),T6b=utils.nullOrUndefined(q9b)?o0u.o9B:q9b.getLabel(),J6b;utils.nullOrUndefined(q9b)||o0u.r0B!=q9b.measure&&(q9b.measure.type==d9b.data_.types.MeasureType.DATE?isNaN(q9b.value)||(J6b=h9b.convertToExcelDate(q9b.value)):q9b.measure.type==d9b.data_.types.MeasureType.DATETIME&&(isNaN(q9b.value)||(J6b=h9b.convertToExcelDateTime(q9b.value))));o0u.r9B===typeof T6b&&(q9b.value=T6b,T6b+=o0u.o9B,q9b.numeric=!o0u.N5B);var N9b=o0u.r0B!=q9b&&(q9b.isRowHeader||q9b.isColumnHeader);h9b.exportOptions.excelExportAll&&o0u.o9B==T6b&&o0u.r0B!=q9b&&o0u.r0B!=q9b.member&&(T6b=q9b.member.caption);if(o0u.o9B!=T6b.trim()||N9b){N9b=new d9b._view.grid.vo.StyleValueObject();N9b=o0u.r0B!=q9b&&q9b.isRowHeader?o0u.N5B<q9b.level&&h9b.rowHeaderLevelsCellStyle[q9b.level]?h9b.rowHeaderLevelsCellStyle[q9b.level].clone():h9b.rowHeaderCellStyle.clone():o0u.r0B!=q9b&&q9b.isColumnHeader?h9b.columnHeaderCellStyle.clone():o0u.r0B!=q9b&&q9b.isFilterHeader?h9b.filterHeaderCellStyle.clone():o0u.r0B!=q9b&&q9b.isTotal&&o0u.o9B!=q9b.getLabel()?h9b.totalCellStyle.clone():h9b.cellStyle.clone();if(o0u.r0B!=q9b&&q9b.isCustomized){var C6b=o0u.N5B<q9b.style.customStyleNames.length?d9b._view.grid.vo.StyleValueObject.fromClass(q9b.style.getCustomClassString()):d9b._view.grid.vo.StyleValueObject.fromString(q9b.style.getStyleString());C6b.merge(N9b);N9b=C6b;}N9b.color=N9b.color||G09.H9t;G09.V9t==N9b.backgroundColor&&(N9b.color=G09.U9t);N9b.backgroundColor=N9b.backgroundColor||C3yy.k3J;N9b.fontSize=N9b.fontSize?h9b.px2pt(N9b.fontSize):o0u.u1B;var i9b=new xls.styles.fonts.XLSStyleFont(f6t,N9b.fontSize,utils.StringUtils.fromRgbToHex(N9b.color));i9b.bold=G09.b9t==N9b.fontWeight;i9b.italic=!o0u.I5B;var L9b=o0u.r0B,Q6b=C6b=!o0u.I5B;if(q9b.numeric){if(o0u.r0B!=q9b.measure){var L9b=q9b.measure.getFormat(),Q6b=o0u.o9B!=L9b.nullValue?!o0u.N5B:Q6b,C6b=q9b.measure.aggregation==d9b.data_.consts.AggregationName.PERCENT||q9b.measure.aggregation==d9b.data_.consts.AggregationName.PERCENT_COLUMN||q9b.measure.aggregation==d9b.data_.consts.AggregationName.PERCENT_ROW||q9b.measure.aggregation==d9b.data_.consts.AggregationName.PERCENT_DIFFERENCE||q9b.measure.calculated&&-o0u.I5B<q9b.measure.formula.indexOf(G09.K6t),Z6b=L9b.toXLSFormatCode();if(C6b||L9b.isPercent)L9b=L9b.clone(),L9b.currencySymbol=o0u.o9B==L9b.currencySymbol?G09.E6t:L9b.currencySymbol,Z6b=L9b.toXLSFormatCode();L9b=new xls.styles.format.XLSStyleFormat(o0u.o9B==Z6b?o0u.N5B:-o0u.I5B,Z6b);}}else o0u.r0B==q9b.measure||q9b.measure.type!=d9b.data_.types.MeasureType.DATE&&q9b.measure.type!=d9b.data_.types.MeasureType.DATETIME||(L9b=new xls.styles.format.XLSStyleFormat(o0u.O1B,o0u.o9B));L9b&&h9b.xlsDocument.styleSheet.addFormat(L9b);i9b=new xls.styles.XLSStyle(i9b,utils.StringUtils.fromRgbToHex(N9b.backgroundColor),L9b,N9b.textAlign);!c9b._options.OptionsManager.classicView&&q9b&&q9b.isRowHeader&&o0u.N5B<q9b.level&&(i9b.textIndent=q9b.level);h9b.xlsDocument.styleSheet.addStyle(i9b);L9b=o0u.r0B!=q9b.measure?q9b.measure.getFormat():o0u.r0B;q9b.numeric?o0u.r0B==L9b||q9b.label!=L9b.infinityValue&&q9b.label!=L9b.divideByZeroValue?(J6b=o0u.r0B==L9b||!C6b&&G09.E6t!=L9b.currencySymbol?q9b.value:q9b.value/o0u.F0B,h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.rowIdx-h9b.grid.START_TABLE_ROW+h9b.xlsPadding,I9b,isNaN(q9b.value)&&Q6b?q9b.getLabel():J6b,i9b)):h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.rowIdx-h9b.grid.START_TABLE_ROW+h9b.xlsPadding,I9b,q9b.getLabel(),i9b):!q9b.isValue||o0u.r0B==q9b.measure||q9b.measure.type!=d9b.data_.types.MeasureType.DATE&&q9b.measure.type!=d9b.data_.types.MeasureType.DATETIME?q9b.isValue&&o0u.r0B!=q9b.measure&&q9b.measure.aggregation==d9b.data_.consts.AggregationName.NONE?h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.rowIdx-h9b.grid.START_TABLE_ROW+h9b.xlsPadding,I9b,q9b.value,i9b):h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.rowIdx-h9b.grid.START_TABLE_ROW+h9b.xlsPadding,I9b,T6b,i9b):h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.rowIdx-h9b.grid.START_TABLE_ROW+h9b.xlsPadding,I9b,J6b,i9b);o0u.r0B!=q9b&&(o0u.N5B==h9b.xlsDocument.sheets[o0u.N5B].getColumnWidth(I9b)&&(q9b=h9b.convertPixelsToWidth(h9b.grid.gridLayout.coords.getColWidth(I9b)),h9b.xlsDocument.sheets[o0u.N5B].setColumnWidth(I9b,q9b)),I9b!=h9b.grid.START_HEADERS_COLUMN||h9b.grid.gridLayout.coords.isRowHeightDefault(h9b.rowIdx)||(q9b=h9b.convertPixelsToPoints(h9b.grid.gridLayout.coords.getRowHeight(h9b.rowIdx)),h9b.xlsDocument.sheets[o0u.N5B].setRowHeight(h9b.rowIdx+h9b.xlsPadding,q9b)),T6b.length>N9b.width&&h9b.xlsDocument.sheets[o0u.N5B].setColumnWidth(I9b,h9b.convertPixelsToPoints(T6b.length+h9b.cellPadding)>h9b.convertPixelsToPoints(h9b.DEFAULT_CELL_WIDTH)?h9b.convertPixelsToPoints(h9b.DEFAULT_CELL_WIDTH):h9b.convertPixelsToPoints(T6b.length+h9b.cellPadding)));}}}return h9b.rowIdx>=u6b;};h9b.convertToExcelDate=function(D6b){if(!utils.DateFormat.isUTCFormat(c9b._options.OptionsManager.datePattern)){var e6b=new Date(D6b).getTimezoneOffset();D6b-=v6t*e6b;}D6b=-Date.parse(Y6t)+D6b;return Math.floor(D6b/W6t);};h9b.convertToExcelDateTime=function(P6b){if(!utils.DateFormat.isUTCFormat(c9b._options.OptionsManager.dateTimePattern)){var B6b=new Date(P6b).getTimezoneOffset();P6b-=v6t*B6b;}return(-Date.parse(Y6t)+P6b)/W6t;};h9b.px2pt=function(O6b){var p6t=0.75;return p6t*O6b;};h9b.convertPixelsToPoints=function(j6b){return o0u.N5B>=j6b?o0u.N5B:h9b.defaultExcelCellHeightPoints/h9b.defaultExcelCellHeightPixels*j6b*(h9b.defaultExcelCellHeightPixels/d9b._view.grid.sheet.GridCoords.CELL_HEIGHT);};h9b.convertPixelsToWidth=function(k6b){var o6t=0.5;return o0u.N5B>=k6b?o0u.N5B:((k6b-o0u.J1B)/o0u.Q1B*o0u.F0B+o6t)/o0u.F0B;};h9b.addXLSCustomFields=function(){var t09=J3yy;var w6t="Report Information";var a6b=c9b.report.CustomFieldsManager.customFields;if(o0u.N5B<a6b.length){var y6b=getComputedStyle(d9b._view.PivotView.stage.container.find(C3yy.g3J+d9b._view.grid.vo.GridStyleName.HEADER_COLUMN).element),g6b=new xls.styles.fonts.XLSStyleFont(y6b.fontFamily,parseInt(y6b.fontSize)-o0u.i5B,utils.StringUtils.fromRgbToHex(y6b.color));g6b.bold=t09.b9t===y6b.fontWeight;g6b.italic=t09.X9t===y6b.fontStyle;g6b=new xls.styles.XLSStyle(g6b,utils.StringUtils.fromRgbToHex(y6b.backgroundColor));g6b.textAlign=y6b.textAlign;h9b.xlsDocument.styleSheet.addStyle(g6b);h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.xlsPadding,o0u.N5B,w6t,g6b);h9b.xlsDocument.sheets[o0u.N5B].setCell(h9b.xlsPadding,o0u.I5B,o0u.o9B,g6b);var y6b=getComputedStyle(d9b._view.PivotView.stage.container.find(C3yy.g3J+d9b._view.grid.vo.GridStyleName.CELL).element),X6b=new xls.styles.fonts.XLSStyleFont(y6b.fontFamily,parseInt(y6b.fontSize)-o0u.i5B,utils.StringUtils.fromRgbToHex(y6b.color));X6b.bold=t09.b9t===y6b.fontWeight;X6b.italic=t09.X9t===y6b.fontStyle;X6b=new xls.styles.XLSStyle(X6b,utils.StringUtils.fromRgbToHex(y6b.backgroundColor));X6b.textAlign=y6b.textAlign;h9b.xlsDocument.styleSheet.addStyle(X6b);for(y6b=o0u.N5B;y6b<a6b.length;y6b++)h9b.xlsDocument.sheets[o0u.N5B].setCell(y6b+o0u.I5B+h9b.xlsPadding,o0u.N5B,String(a6b[y6b].name),g6b),h9b.xlsDocument.sheets[o0u.N5B].setCell(y6b+o0u.I5B+h9b.xlsPadding,o0u.I5B,String(a6b[y6b].value),g6b);}h9b.xlsPadding+=o0u.N5B==a6b.length?o0u.N5B:a6b.length+o0u.i5B;};h9b.addTitle=function(){var n6t="center";var S6b=c9b._options.OptionsManager.gridTitle;if(o0u.N5B!=S6b.length){var b6b=getComputedStyle(d9b._view.PivotView.stage.container.find(C3yy.g3J+d9b._view.grid.vo.GridStyleName.TITLE).element),z6b=new xls.styles.fonts.XLSStyleFont(b6b.fontFamily,parseInt(b6b.fontSize)-o0u.i5B,utils.StringUtils.fromRgbToHex(b6b.color));z6b.bold=J3yy.b9t===b6b.fontWeight;z6b.italic=J3yy.X9t===b6b.fontStyle;b6b=new xls.styles.XLSStyle(z6b,utils.StringUtils.fromRgbToHex(b6b.backgroundColor));b6b.textAlign=n6t;h9b.xlsDocument.styleSheet.addStyle(b6b);h9b.xlsDocument.sheets[o0u.N5B].setCell(o0u.N5B,o0u.N5B,S6b,b6b);h9b.xlsPadding=o0u.I5B;}};h9b.mergeTitleCells=function(){if(o0u.N5B<c9b._options.OptionsManager.gridTitle.length){var m6b=h9b.xlsDocument.sheets[o0u.N5B];m6b.mergeCells(o0u.N5B,o0u.N5B,Math.min(m6b.columnsCount,o0u.D1B));}};function h9b(){throw Error(C3yy.m2B);}h9b.addFilters=function(){var M09=J3yy;var h09=C3yy;var d6t="Filters";if(h9b.exportOptions.showFilters){var o6b=c9b.PivotModel.getInstance().cube_.slice_.allHierarchies(),p6b=[],f6b=o0u.o9B,v6b,w6b=!o0u.N5B,R6b=getComputedStyle(d9b._view.PivotView.stage.container.find(h09.g3J+d9b._view.grid.vo.GridStyleName.HEADER).element),E6b=new xls.styles.fonts.XLSStyleFont(R6b.fontFamily,parseInt(R6b.fontSize)-o0u.i5B,utils.StringUtils.fromRgbToHex(R6b.color));E6b.bold=M09.b9t===R6b.fontWeight;E6b.italic=M09.X9t===R6b.fontStyle;E6b=new xls.styles.XLSStyle(E6b,utils.StringUtils.fromRgbToHex(R6b.backgroundColor));E6b.textAlign=R6b.textAlign;h9b.xlsDocument.styleSheet.addStyle(E6b);var s6b=getComputedStyle(d9b._view.PivotView.stage.container.find(h09.g3J+d9b._view.grid.vo.GridStyleName.CELL).element),R6b=new xls.styles.fonts.XLSStyleFont(s6b.fontFamily,parseInt(s6b.fontSize)-o0u.i5B,utils.StringUtils.fromRgbToHex(s6b.color));R6b.bold=M09.b9t===s6b.fontWeight;R6b.italic=M09.X9t===s6b.fontStyle;R6b=new xls.styles.XLSStyle(R6b,utils.StringUtils.fromRgbToHex(s6b.backgroundColor));R6b.textAlign=s6b.textAlign;h9b.xlsDocument.styleSheet.addStyle(R6b);for(var s6b=h9b.xlsDocument.sheets[o0u.N5B],f6b=!o0u.I5B,K6b=o0u.N5B,Y6b=o0u.N5B;Y6b<o6b.length;Y6b++)if(v6b=o6b.getItemAt(Y6b),f6b=v6b.dimension.type==d9b.data_.types.DimensionType.MD_DIMTYPE_TIME,v6b.hasFilter()){p6b.length=o0u.N5B;if(f6b)f6b=h9b.composeDateRange(v6b);else{for(var W6b=o0u.N5B;W6b<v6b.filterMembers.length;W6b++)f6b=v6b.filterMembers.getItemAt(W6b),p6b.push(f6b.caption);f6b=p6b.join(h09.p3J);}w6b&&(s6b.setCell(K6b+h9b.xlsPadding,o0u.N5B,o0u.o9B,E6b),s6b.setCell(K6b+h9b.xlsPadding,o0u.I5B,d6t,E6b),K6b++);s6b.setCell(K6b+h9b.xlsPadding,o0u.N5B,v6b.caption,E6b);s6b.setCell(K6b+h9b.xlsPadding,o0u.I5B,f6b,R6b);K6b++;w6b=!o0u.I5B;}if(c9b._options.OptionsManager.gridType==d9b._view.grid.GridType.FLAT)for(o6b=c9b.PivotModel.getInstance().cube_.slice_.measuresAll,Y6b=o0u.N5B;Y6b<o6b.length;Y6b++)if(v6b=c9b.PivotModel.getInstance().cube_.slice_.measureToHierarchy(o6b.getItemAt(Y6b)),v6b.hasFilter()){for(W6b=p6b.length=o0u.N5B;W6b<v6b.filterMembers.length;W6b++)f6b=v6b.filterMembers.getItemAt(W6b),p6b.push(f6b.caption);f6b=p6b.join(h09.p3J);w6b&&(s6b.setCell(K6b+h9b.xlsPadding,o0u.N5B,o0u.o9B,E6b),s6b.setCell(K6b+h9b.xlsPadding,o0u.I5B,d6t,E6b),K6b++);s6b.setCell(K6b+h9b.xlsPadding,o0u.N5B,v6b.caption,E6b);s6b.setCell(K6b+h9b.xlsPadding,o0u.I5B,f6b,R6b);K6b++;w6b=!o0u.I5B;}h9b.xlsPadding+=w6b?o0u.N5B:K6b+o0u.I5B;}};h9b.composeDateRange=function(M6b){var A6b,n6b,d6b,c6b=!o0u.I5B,H6b=[],c6b=n6b=o0u.o9B;o0u.r0B!=h9b.sortedMembers&&(h9b.sortedMembers.length=o0u.N5B);h9b.sortMembers(M6b.allMember);for(var V6b=h9b.composeFilteredMembers(M6b),l6b=!o0u.I5B,h6b=o0u.N5B;h6b<h9b.sortedMembers.length;h6b++)n6b=h9b.sortedMembers[h6b],c6b=h6b==h9b.sortedMembers.length-o0u.I5B,!l6b&&M6b.filterMembers.keyExists(n6b.uniqueName)&&(l6b=!o0u.N5B,A6b=n6b),l6b&&(M6b.filterMembers.keyExists(n6b.uniqueName)&&(d6b=n6b),-o0u.I5B<V6b.indexOf(n6b)&&!c6b||(d6b=o0u.r0B!=d6b?d6b:A6b,n6b=h9b.composeDate(A6b),c6b=d6b.uniqueName!=A6b.uniqueName?C3yy.u3J+h9b.composeDate(d6b,!o0u.N5B):o0u.o9B,d6b=A6b=o0u.r0B,l6b=!o0u.I5B,H6b.push(n6b+c6b)));return H6b.join(C3yy.p3J);};h9b.sortMembers=function(U6b){o0u.r0B==h9b.sortedMembers&&(h9b.sortedMembers=[]);U6b.isAll||h9b.sortedMembers.push(U6b);U6b=U6b.hierarchy_.sortChildren(U6b,!o0u.I5B,d9b.data_.consts.SortType.ASC);for(var G6b=U6b.length,x6b,t6b=o0u.N5B;t6b<G6b;t6b++)x6b=U6b.getItemAt(t6b),o0u.N5B<x6b.children.length?h9b.sortMembers(x6b):h9b.sortedMembers.push(x6b);};h9b.composeDate=function(L6b,N6b){void o0u.N5B===N6b&&(N6b=!o0u.I5B);var r6b=L6b,q6b=[];for(q6b.push(L6b.caption);r6b&&r6b.uniqueName!=L6b.uniqueName&&!r6b.level.isLast&&o0u.N5B<r6b.children.length;)q6b.push(r6b.caption),r6b=r6b.hierarchy_.sortChildren(r6b,!o0u.I5B,d9b.data_.consts.SortType.ASC),r6b=r6b.getItemAt(N6b?r6b.length-o0u.I5B:o0u.N5B);for(r6b=L6b.parent;r6b&&!r6b.isAll;)q6b.unshift(r6b.caption),r6b=r6b.parent;return q6b.join(o0u.P6B);};h9b.composeFilteredMembers=function(T4b){var i6b=[];T4b=T4b.filterMembers;for(var I6b,F4b,C4b=o0u.N5B;C4b<T4b.length;C4b++){I6b=T4b.getItemAt(C4b);i6b.push(I6b);F4b=I6b.descendants;for(var J4b=o0u.N5B;J4b<F4b.length;J4b++)i6b.push(F4b.getItemAt(J4b));if(!(I6b.parent&&!I6b.parent.isAll&&-o0u.I5B<i6b.indexOf(I6b.parent)))for(;I6b.parent&&!I6b.parent.isAll;)I6b=I6b.parent,i6b.push(I6b);}return i6b;};h9b.rowIdx=o0u.N5B;h9b.xlsPadding=o0u.N5B;h9b.cellPadding=o0u.T1B;h9b.DEFAULT_CELL_WIDTH=o0u.F0B;h9b.rowHeaderLevelsCellStyle=[];h9b.defaultExcelCellHeightPoints=c6t;h9b.defaultExcelCellHeightPixels=o0u.p1B;return h9b;}();A9b.ExportXLS=l9b;}(c9b._export||(c9b._export={})));}(d9b.model||(d9b.model={})));}(pivot||(pivot={})));(function(Q4b){(function(u4b){(function(D4b){var P4b=function(){B4b.exportTo=function(O4b,j4b,k4b){var A09=T3yy;void A09.N5B===j4b&&(j4b=A09.r0B);void A09.N5B===k4b&&(k4b=A09.r0B);B4b._exportInProgress?this.delayedExports.push({type:O4b,options:j4b,callback:k4b}):(O4b=O4b.toLowerCase(),O4b=Z4b.validType(O4b)?O4b:Z4b.PDF,u4b.PivotModel.getInstance().addEventListener(Q4b.PivotEvent.EXPORT_COMPLETE,B4b.exportCompleteHandler),B4b._exportInProgress=!A09.N5B,B4b.callbackHandler=k4b,utils.nullOrUndefined(j4b)&&(j4b=new D4b.ExportOptions()),j4b.type=O4b,O4b=new e4b(O4b,j4b,k4b),u4b.PivotModel.getInstance().dispatch(O4b));};B4b.stopExport=function(){Q4b.preloader(!T3yy.I5B);u4b.PivotModel.getInstance().removeEventListener(Q4b.PivotEvent.EXPORT_COMPLETE,B4b.exportCompleteHandler);B4b._exportInProgress=!T3yy.I5B;};B4b.onExportCompleted=function(y4b){B4b.stopExport();T3yy.N5B<B4b.delayedExports.length&&(y4b=B4b.delayedExports.shift(),this.exportTo(y4b.type,y4b.options,y4b.callback));};B4b.save=function(a4b,g4b){switch(g4b.destinationType.toLowerCase()){case u4b.report.DestinationType.FILE:B4b.saveToFile(a4b,g4b);break;case u4b.report.DestinationType.SERVER:B4b.saveToServer(a4b,g4b);break;case u4b.report.DestinationType.BINARY:B4b.saveToBinary(a4b,g4b);break;case u4b.report.DestinationType.PLAIN:B4b.saveToPlain(a4b,g4b);break;default:B4b.saveToFile(a4b,g4b);}};B4b.saveToServer=function(z4b,X4b){var A6t="Unknown type of export: '";switch(X4b.type){case Z4b.HTML:case Z4b.EXCEL:case Z4b.PDF:B4b.saveToServerAsBinary(z4b,X4b);break;default:var b4b=u4b.XSSCheck.validate(X4b.type);Q4b.uialert(A6t+b4b+C3yy.w3J,u4b._labels.Labels.ERROR);}};B4b.saveToFile=function(R4b,S4b){var U6t=".pdf";var H6t=".xlsx";var V6t="application/pdf";var h6t=".html";var M6t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";var x6t="text/plain;charset=utf-8";var l6t="text/html;charset=utf-8";var m4b;switch(S4b.type){case Z4b.HTML:m4b=l6t;S4b.filename=B4b.appendFileExtension(S4b.filename,h6t);break;case Z4b.EXCEL:m4b=M6t;S4b.filename=B4b.appendFileExtension(S4b.filename,H6t);break;case Z4b.PDF:m4b=V6t;S4b.filename=B4b.appendFileExtension(S4b.filename,U6t);break;default:m4b=x6t;}var s4b=[R4b];try{var f4b=new Blob(s4b,{type:m4b});savingAs(f4b,S4b.filename);B4b.triggerCallback({data:R4b,fielname:S4b.filename,type:S4b.type});}catch(K4b){Q4b.uialert(u4b._labels.Labels.MESSAGE_CANT_SAVE_FILE,u4b._labels.Labels.ERROR,Q4b.AlertType.ERROR),B4b.triggerCallback(T3yy.r0B,{message:u4b._labels.Labels.MESSAGE_CANT_SAVE_FILE});}};B4b.appendFileExtension=function(E4b,v4b){E4b.indexOf(v4b)!=E4b.length-v4b.length&&(E4b+=v4b);return E4b;};B4b.saveToServerAsBinary=function(n4b,W4b){var G6t="application/octet-binary";var r6t="filedata";var p4b=new utils.Timer(T3yy.E0B);p4b.addEventListener(utils.TimerEvent.TIMER,function(c4b){var t6t=" sec";Q4b.preloader(!T3yy.N5B,u4b._labels.Labels.MESSAGE_UPLOADING,(p4b.currentCount/T3yy.D1B).toString()+t6t);});var Y4b=new misc.URLStream();Y4b.addEventListener(events._Event.ERROR,function(A4b){Q4b.uialert(u4b._labels.Labels.MESSAGE_CANT_SAVE_FILE,u4b._labels.Labels.ERROR);p4b.stop();Q4b.preloader(!T3yy.I5B);B4b.triggerCallback(T3yy.r0B,{message:u4b._labels.Labels.MESSAGE_CANT_SAVE_FILE});});Y4b.addEventListener(events._Event.COMPLETE,function(){p4b.stop();Q4b.preloader(!T3yy.I5B);B4b.triggerCallback({data:n4b,fielname:W4b.filename,type:W4b.type,response:Y4b.response});});var d4b=new Blob([n4b],{type:G6t}),o4b=new FormData();o4b.append(r6t,d4b,W4b.filename);for(var w4b in W4b.extendedParameters)o4b.append(w4b,W4b.extendedParameters[w4b]);Y4b.requestMethod=misc.URLRequestMethod.POST;Y4b.data=o4b;Y4b.contentType=!T3yy.I5B;Y4b.load(W4b.url);p4b.start();};B4b.saveToBinary=function(l4b,h4b){};B4b.saveToPlain=function(M4b,H4b){};B4b.triggerCallback=function(V4b,U4b){var v09=T3yy;void v09.N5B===V4b&&(V4b=v09.r0B);void v09.N5B===U4b&&(U4b=v09.r0B);v09.r0B!=B4b.callbackHandler&&B4b.callbackHandler.call(v09.r0B,V4b,U4b);};B4b._exportInProgress=!T3yy.I5B;B4b.delayedExports=[];function B4b(){}B4b.exportCompleteHandler=function(x4b){return B4b.onExportCompleted(x4b);};return B4b;}();D4b.ExportManager=P4b;var e4b=function(t4b){__extends(G4b,t4b);function G4b(q4b,L4b,N4b){var r4b=t4b.call(this,Q4b.PivotEvent.EXPORT)||this;r4b.exportType=q4b;r4b.exportOptions=L4b;r4b.callbackHandler=N4b;return r4b;}return G4b;}(events._Event);D4b.ExportEvent=e4b;var Z4b=function(){var L6t="pdf";var q6t="excel";I4b.validType=function(i4b){return i4b===I4b.EXCEL||i4b===I4b.HTML||i4b===I4b.PDF;};I4b.EXCEL=q6t;I4b.HTML=C3yy.F2B;I4b.PDF=L6t;function I4b(){}return I4b;}();D4b.ExportType=Z4b;}(u4b._export||(u4b._export={})));}(Q4b.model||(Q4b.model={})));}(pivot||(pivot={})));(function(T2b){(function(C2b){(function(J2b){var F2b=function(){Q2b.fromObject=function(Z2b){var f09=T3yy;var s09=C3yy;var T4t="destinationType";var I6t="excelExportAll";var i6t="pageOrientation";var N6t="excelSheetName";var D2b=new Q2b();if(utils.nullOrUndefined(Z2b))return D2b;Z2b.hasOwnProperty(J3yy.i0t)&&(D2b.showHeaders=s09.C3J===Z2b.showHeaders||!f09.N5B===Z2b.showHeaders);Z2b.hasOwnProperty(s09.c1t)&&(D2b.filename=Z2b.filename);Z2b.hasOwnProperty(s09.l1t)&&(D2b.url=Z2b.url);Z2b.hasOwnProperty(N6t)&&(D2b.excelSheetName=Z2b.excelSheetName);Z2b.hasOwnProperty(I6t)&&(D2b.excelExportAll=Z2b.excelExportAll);!Z2b.hasOwnProperty(i6t)||s09.R7J!==Z2b.pageOrientation&&s09.m7J!==Z2b.pageOrientation||(D2b.pageOrientation=Z2b.pageOrientation.toLowerCase());Z2b.hasOwnProperty(T4t)&&T2b.model.report.DestinationType.validType(Z2b.destinationType.toString().toLowerCase())&&(D2b.destinationType=Z2b.destinationType.toString().toLowerCase());void f09.N5B!=Z2b.showFilters&&(D2b.showFilters=Z2b.showFilters);void f09.N5B!=Z2b.extendedParameters&&(D2b.extendedParameters=Z2b.extendedParameters);void f09.N5B!=Z2b.header&&(D2b.header=Z2b.header);void f09.N5B!=Z2b.footer&&(D2b.footer=Z2b.footer);return D2b;};function Q2b(u2b){var S09=T3yy;void S09.N5B===u2b&&(u2b=C3yy.j2B);this.showHeaders=!S09.N5B;this.destinationType=T2b.model.report.DestinationType.FILE;this.filename=S09.o9B;this.url=C3yy.s8B;this.type=J2b.ExportType.HTML;this.pageOrientation=C3yy.R7J;this.excelSheetName=S09.o9B;this.showFilters=this.excelExportAll=!S09.I5B;this.extendedParameters={};this.destinationType=u2b;}return Q2b;}();J2b.ExportOptions=F2b;}(C2b._export||(C2b._export={})));}(T2b.model||(T2b.model={})));}(pivot||(pivot={})));(function(e2b){(function(P2b){(function(B2b){var O2b=function(){j2b.getFormat=function(k2b){return j2b.formats.keyExists(k2b)?j2b.formats.getItem(k2b):T3yy.o9B!=k2b&&j2b.formats.keyExists(T3yy.o9B)?j2b.formats.getItem(T3yy.o9B):j2b.getDefaultFormat();};j2b.setFormat=function(g2b){var y2b=B2b.vo.FormatValueObject.fromObject(g2b);j2b.cleanFormats.addItem(y2b.name,y2b);if(T3yy.r0B!=j2b.defaultFormat)y2b.mergeDefaults(j2b.defaultFormat);else if(T3yy.o9B==y2b.name)for(j2b.defaultFormat=g2b,g2b=T3yy.N5B;g2b<j2b.formats.length;g2b++)j2b.formats.getItemAt(g2b).mergeDefaults(j2b.defaultFormat);j2b.formats.addItem(y2b.name,y2b);};j2b.getAllFormats=function(){return j2b.cleanFormats.slice();};j2b.clear=function(){j2b.formats=new utils.AssociativeArray();j2b.cleanFormats=new utils.AssociativeArray();j2b.defaultFormat=T3yy.r0B;};j2b.getDefaultFormat=function(){return new B2b.vo.FormatValueObject();};function j2b(){}j2b.formatExists=function(a2b){return j2b.formats.keyExists(a2b);};j2b.dispose=function(){j2b.formats=T3yy.r0B;j2b.cleanFormats=T3yy.r0B;j2b.defaultFormat=T3yy.r0B;};j2b.formats=new utils.AssociativeArray();j2b.cleanFormats=new utils.AssociativeArray();j2b.defaultFormat=T3yy.r0B;return j2b;}();B2b.FormatManager=O2b;}(P2b.format||(P2b.format={})));}(e2b.model||(e2b.model={})));}(pivot||(pivot={})));(function(X2b){(function(b2b){(function(z2b){(function(m2b){var S2b=function(){var g09=T3yy;var k4t="isPercent";var y4t="isCount";var j4t="textAlign";var Q4t="decimalPlaces";var g4t="currencySymbolLength";var J4t="thousandsSeparator";var F4t="decimalSeparator";var D4t="currencySymbol";var P4t="nullValue";var B4t="infinityValue";var Z4t="maxSymbols";var u4t="maxDecimalPlaces";var e4t="currencySymbolAlign";var O4t="divideByZeroValue";Object.defineProperty(R2b.prototype,J3yy.C4t,{get:function(){return this._params;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,J4t,{get:function(){return void g09.N5B!=this._params.thousandsSeparator?this._params.thousandsSeparator:this._defaults.thousandsSeparator;},set:function(f2b){this._params.thousandsSeparator=f2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,F4t,{get:function(){return void g09.N5B!=this._params.decimalSeparator?this._params.decimalSeparator:this._defaults.decimalSeparator;},set:function(K2b){this._params.decimalSeparator=K2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,Q4t,{get:function(){return void g09.N5B!=this._params.decimalPlaces?this._params.decimalPlaces:this._defaults.decimalPlaces;},set:function(E2b){this._params.decimalPlaces=E2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,u4t,{get:function(){return void g09.N5B!=this._params.maxDecimalPlaces?this._params.maxDecimalPlaces:this._defaults.maxDecimalPlaces;},set:function(v2b){this._params.maxDecimalPlaces=v2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,Z4t,{get:function(){return void g09.N5B!=this._params.maxSymbols?this._params.maxSymbols:this._defaults.maxSymbols;},set:function(Y2b){this._params.maxSymbols=Y2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,D4t,{get:function(){return void g09.N5B!=this._params.currencySymbol?this._params.currencySymbol:this._defaults.currencySymbol;},set:function(W2b){this._params.currencySymbol=W2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,e4t,{get:function(){return void g09.N5B!=this._params.currencySymbolAlign?this._params.currencySymbolAlign:this._defaults.currencySymbolAlign;},set:function(p2b){this._params.currencySymbolAlign=p2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,P4t,{get:function(){return void g09.N5B!=this._params.nullValue?this._params.nullValue:this._defaults.nullValue;},set:function(o2b){this._params.nullValue=o2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,B4t,{get:function(){return void g09.N5B!=this._params.infinityValue?this._params.infinityValue:this._defaults.infinityValue;},set:function(w2b){this._params.infinityValue=w2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,O4t,{get:function(){return void g09.N5B!=this._params.divideByZeroValue?this._params.divideByZeroValue:this._defaults.divideByZeroValue;},set:function(n2b){this._params.divideByZeroValue=n2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,j4t,{get:function(){return void g09.N5B!=this._params.textAlign?this._params.textAlign:this._defaults.textAlign;},set:function(d2b){this._params.textAlign=d2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,k4t,{get:function(){return void g09.N5B!=this._params.isPercent?this._params.isPercent:this._defaults.isPercent;},set:function(c2b){this._params.isPercent=c2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,y4t,{get:function(){return void g09.N5B!=this._params.isCount?this._params.isCount:this._defaults.isCount;},set:function(A2b){this._params.isCount=A2b;},enumerable:!g09.N5B,configurable:!g09.N5B});Object.defineProperty(R2b.prototype,g4t,{get:function(){return g09.I5B<this.currencySymbol.length&&C3yy.O2B==this.currencySymbol.charAt(g09.N5B)&&C3yy.N3J==this.currencySymbol.charAt(this.currencySymbol.length-g09.I5B)?g09.I5B:this.currencySymbol.length;},set:function(l2b){},enumerable:!g09.N5B,configurable:!g09.N5B});function R2b(s2b){var a4t="Infinity";void g09.N5B===s2b&&(s2b=g09.o9B);this.name=g09.o9B;this._params={};this._defaults={thousandsSeparator:g09.L0B,decimalSeparator:C3yy.g3J,decimalPlaces:-g09.I5B,maxDecimalPlaces:-g09.I5B,maxSymbols:g09.X1B,currencySymbol:g09.o9B,currencySymbolAlign:g09.i9B,nullValue:g09.o9B,infinityValue:a4t,divideByZeroValue:a4t,textAlign:g09.o9B,isPercent:!g09.I5B,isCount:!g09.I5B};this.name=s2b;}R2b.prototype.applyFormat=function(h2b){return utils.NumberFormatter.format(h2b,this);};R2b.prototype.toXLSFormatCode=function(){var X89=C3yy;var z4t="###0";var b4t="#,##0";var X4t="0.";var H2b,M2b=g09.o9B;if(-g09.I5B==this.decimalPlaces&&g09.o9B==this.currencySymbol)return g09.o9B;if(J3yy.E6t==this.currencySymbol){var V2b=-g09.I5B==this.decimalPlaces?g09.N5B:this.decimalPlaces,M2b=g09.N5B<V2b?X4t:X89.I8B;for(H2b=g09.N5B;H2b<V2b;H2b++)M2b+=X89.I8B;return M2b+=this.currencySymbol;}M2b=g09.o9B!=this.thousandsSeparator?b4t:z4t;if(g09.N5B<this.decimalPlaces)for(M2b+=X89.g3J,H2b=g09.N5B;H2b<this.decimalPlaces;H2b++)M2b+=X89.I8B;g09.o9B!=this.currencySymbol&&(M2b=g09.i9B==this.currencySymbolAlign?J3yy.S4t+this.currencySymbol+M2b:M2b+J3yy.S4t+this.currencySymbol);return M2b;};R2b.prototype.toObject=function(t2b){void g09.N5B===t2b&&(t2b=!g09.I5B);var U2b={};U2b.name=this.name;if(t2b)U2b.thousandsSeparator=this.thousandsSeparator,U2b.decimalSeparator=this.decimalSeparator,U2b.decimalPlaces=this.decimalPlaces,U2b.maxDecimalPlaces=this.maxDecimalPlaces,U2b.maxSymbols=this.maxSymbols,U2b.currencySymbol=this.currencySymbol,U2b.currencySymbolAlign=this.currencySymbolAlign,U2b.nullValue=this.nullValue,U2b.infinityValue=this.infinityValue,U2b.divideByZeroValue=this.divideByZeroValue,U2b.textAlign=g09.o9B!=this.textAlign?this.textAlign:g09.C6B,U2b.isPercent=this.isPercent,U2b.isCount=this.isCount;else for(var x2b in this._params)U2b[x2b]=j4t==x2b?g09.o9B==this.textAlign?g09.C6B:this.textAlign:this._params[x2b];return U2b;};R2b.fromObject=function(G2b){var r2b=new R2b();g09.r0B!=G2b.name&&(r2b.name=G2b.name);g09.r0B!=G2b.thousandsSeparator&&b2b.XSSCheck.valid(G2b.thousandsSeparator)&&(r2b.thousandsSeparator=b2b.XSSCheck.validate(G2b.thousandsSeparator,!g09.N5B));g09.r0B!=G2b.decimalSeparator&&b2b.XSSCheck.valid(G2b.decimalSeparator)&&(r2b.decimalSeparator=b2b.XSSCheck.validate(G2b.decimalSeparator));g09.r0B!=G2b.decimalPlaces&&-g09.I5B<parseInt(G2b.decimalPlaces)&&(r2b.decimalPlaces=isNaN(parseInt(G2b.decimalPlaces))?-g09.I5B:parseInt(G2b.decimalPlaces));g09.r0B!=G2b.maxDecimalPlaces&&-g09.I5B<parseInt(G2b.maxDecimalPlaces)&&(r2b.maxDecimalPlaces=G2b.maxDecimalPlaces);g09.r0B!=G2b.maxSymbols&&g09.I5B<parseInt(G2b.maxSymbols)&&(r2b.maxSymbols=G2b.maxSymbols);g09.r0B!=G2b.currencySymbol&&b2b.XSSCheck.valid(G2b.currencySymbol)&&(r2b.currencySymbol=b2b.XSSCheck.validate(G2b.currencySymbol,!g09.N5B));g09.r0B!=G2b.currencySymbolAlign&&b2b.XSSCheck.valid(G2b.currencySymbolAlign)&&(r2b.currencySymbolAlign=b2b.XSSCheck.validate(G2b.currencySymbolAlign));g09.r0B!=G2b.nullValue&&b2b.XSSCheck.valid(G2b.nullValue)&&(r2b.nullValue=b2b.XSSCheck.validate(G2b.nullValue));g09.r0B!=G2b.infinityValue&&b2b.XSSCheck.valid(G2b.infinityValue)&&(r2b.infinityValue=b2b.XSSCheck.validate(G2b.infinityValue));g09.r0B!=G2b.divideByZeroValue&&b2b.XSSCheck.valid(G2b.divideByZeroValue)&&(r2b.divideByZeroValue=b2b.XSSCheck.validate(G2b.divideByZeroValue));g09.r0B!=G2b.textAlign&&b2b.XSSCheck.valid(G2b.textAlign)&&(r2b.textAlign=b2b.XSSCheck.validate(G2b.textAlign));g09.r0B!=G2b.isPercent&&(r2b.isPercent=!g09.N5B==G2b.isPercent);g09.r0B!=G2b.isCount&&(r2b.isCount=!g09.N5B==G2b.isCount);return r2b;};R2b.prototype.clone=function(){var q2b=new R2b();q2b.name=this.name;this._params.hasOwnProperty(J4t)&&(q2b.thousandsSeparator=this.thousandsSeparator);this._params.hasOwnProperty(F4t)&&(q2b.decimalSeparator=this.decimalSeparator);this._params.hasOwnProperty(Q4t)&&(q2b.decimalPlaces=this.decimalPlaces);this._params.hasOwnProperty(u4t)&&(q2b.maxDecimalPlaces=this.maxDecimalPlaces);this._params.hasOwnProperty(Z4t)&&(q2b.maxSymbols=this.maxSymbols);this._params.hasOwnProperty(D4t)&&(q2b.currencySymbol=this.currencySymbol);this._params.hasOwnProperty(e4t)&&(q2b.currencySymbolAlign=this.currencySymbolAlign);this._params.hasOwnProperty(P4t)&&(q2b.nullValue=this.nullValue);this._params.hasOwnProperty(B4t)&&(q2b.infinityValue=this.infinityValue);this._params.hasOwnProperty(O4t)&&(q2b.divideByZeroValue=this.divideByZeroValue);this._params.hasOwnProperty(j4t)&&(q2b.textAlign=this.textAlign);this._params.hasOwnProperty(k4t)&&(q2b.isPercent=this.isPercent);this._params.hasOwnProperty(k4t)&&(q2b.isCount=this.isCount);var L2b={},N2b;for(N2b in this._defaults)L2b[N2b]=this._defaults[N2b];q2b._defaults=L2b;return q2b;};R2b.prototype.mergeDefaults=function(i2b){for(var I2b in i2b)this._defaults[I2b]=i2b[I2b];};return R2b;}();m2b.FormatValueObject=S2b;}(z2b.vo||(z2b.vo={})));}(b2b.format||(b2b.format={})));}(X2b.model||(X2b.model={})));}(pivot||(pivot={})));(function(T8b){var C8b=function(){J8b.format=function(u8b,Q8b,B8b,k8b,Z8b){var h8a=C3yy;var l8a=J3yy;var A8a=T3yy;var m4t="9";var R4t="e";void A8a.N5B===Q8b&&(Q8b=A8a.r0B);void A8a.N5B===B8b&&(B8b=!A8a.I5B);void A8a.N5B===k8b&&(k8b=!A8a.I5B);void A8a.N5B===Z8b&&(Z8b=-A8a.I5B);A8a.r0B==Q8b&&(Q8b=J8b.defaultFormatVO);if(isNaN(u8b)||T8b.nullOrUndefined(u8b))return Q8b.nullValue;if(Infinity==u8b)return Q8b.infinityValue;if(u8b==pivot.data_.consts.DataConsts.DIVIDE_BY_ZERO)return Q8b.divideByZeroValue;B8b||(B8b=Q8b.isCount);u8b=Q8b.isPercent&&l8a.E6t!=Q8b.currencySymbol?A8a.F0B*u8b:u8b;var P8b=k8b?l8a.E6t:Q8b.currencySymbol,P8b=!k8b&&Q8b.isPercent&&l8a.E6t!=Q8b.currencySymbol?l8a.E6t:P8b;Q8b.currencySymbolAlign=Q8b.isPercent?A8a.C6B:Q8b.currencySymbolAlign;var e8b=B8b?A8a.N5B:Q8b.decimalPlaces,F8b=A8a.o9B;if(A8a.N5B==u8b&&A8a.N5B>e8b)return F8b=h8a.I8B,!B8b&&A8a.N5B<P8b.length&&(F8b=J8b.formatCurrency(F8b,P8b,Q8b.currencySymbolAlign,k8b)),F8b;F8b=A8a.N5B>u8b?Q8b.maxSymbols-A8a.I5B:Q8b.maxSymbols;A8a.I5B<Q8b.thousandsSeparator.length&&!T8b.StringUtils.isEntity(Q8b.thousandsSeparator)&&(F8b-=Math.floor(F8b/A8a.T1B)*Q8b.thousandsSeparator.length);!B8b&&A8a.N5B<Q8b.currencySymbolLength&&(F8b-=Q8b.currencySymbolLength);Q8b.thousandsSeparator=h8a.s3J==Q8b.thousandsSeparator?h8a.w3J:Q8b.thousandsSeparator;var D8b=u8b.toString().split(h8a.g3J);if(A8a.I5B<D8b.length&&A8a.D1B<=D8b[A8a.I5B].length){for(var D8b=D8b[A8a.I5B],j8b=A8a.N5B,y8b=A8a.N5B,O8b=D8b.length-A8a.i5B;A8a.N5B<=O8b;O8b--)if(m4t!=D8b.charAt(O8b)&&h8a.I8B!=D8b.charAt(O8b)||D8b.charAt(O8b)!=D8b.charAt(O8b+A8a.I5B))if(A8a.C1B>j8b)j8b=A8a.N5B;else{y8b=O8b+A8a.I5B;break;}else j8b++;A8a.C1B<=j8b&&(D8b=Math.pow(A8a.D1B,y8b),u8b=Math.round(u8b*D8b)/D8b);}D8b=A8a.C1B<e8b?Math.pow(A8a.D1B,F8b-e8b-A8a.I5B):Math.pow(A8a.D1B,F8b-A8a.C1B);j8b=Math.pow(A8a.D1B,-(F8b-A8a.C1B));-A8a.I5B<Z8b&&(e8b=Z8b);Math.abs(u8b)>D8b?(Z8b=Math.round(Math.log(u8b)/Math.LN10),Z8b=Math.round(Math.log(Z8b)/Math.LN10+A8a.I5B),F8b=A8a.N5B>u8b?Q8b.maxSymbols-Z8b-A8a.J1B:Q8b.maxSymbols-Z8b-A8a.C1B,A8a.X1B<F8b&&(F8b=A8a.X1B),A8a.I5B>F8b&&(F8b=A8a.I5B),F8b=u8b.toExponential(F8b)):Math.abs(u8b)<j8b&&A8a.N5B>e8b?(Z8b=Math.round(Math.log(u8b)/Math.LN10),Z8b=Math.round(Math.log(-Z8b)/Math.LN10+A8a.I5B),F8b=F8b-A8a.C1B-Z8b,A8a.X1B<F8b&&(F8b=A8a.X1B),A8a.I5B>F8b&&(F8b=A8a.I5B),F8b=u8b.toExponential(F8b)):A8a.N5B>e8b?(Z8b=A8a.I5B,A8a.I5B<Math.abs(u8b)?(Z8b=Math.round(Math.log(Math.abs(u8b))/Math.LN10),Z8b=Math.pow(A8a.D1B,F8b-Z8b-A8a.i5B)):Z8b=Math.pow(A8a.D1B,F8b-A8a.i5B),F8b=(Math.round(Math.abs(u8b)*Z8b)/Z8b).toString(),A8a.N5B>u8b&&(F8b=A8a.P6B+F8b)):F8b=A8a.N5B==e8b?Math.round(u8b).toString():u8b.toFixed(e8b);-A8a.I5B==F8b.indexOf(R4t)&&(F8b=F8b.split(h8a.g3J),Z8b=J8b.formatThousands(F8b[A8a.N5B],Q8b),D8b=A8a.I5B<F8b.length?F8b[A8a.I5B]:A8a.o9B,(A8a.I5B<F8b.length||A8a.N5B<e8b)&&A8a.N5B!=Q8b.maxDecimalPlaces?(-A8a.I5B<Q8b.maxDecimalPlaces&&D8b.length>Q8b.maxDecimalPlaces&&(D8b=D8b.substr(A8a.N5B,Q8b.maxDecimalPlaces)),F8b=Z8b+Q8b.decimalSeparator+D8b):F8b=Z8b);!B8b&&A8a.N5B<P8b.length&&(F8b=J8b.formatCurrency(F8b,P8b,Q8b.currencySymbolAlign,k8b));return F8b=J8b.checkNegativeZero(F8b,u8b);};function J8b(){}J8b.formatThousands=function(g8b,X8b){var c8a=T3yy;void c8a.N5B===X8b&&(X8b=c8a.r0B);var m8b=c8a.N5B>parseFloat(g8b);m8b&&(g8b=g8b.substr(c8a.I5B));var a8b=g8b;if(c8a.T1B<g8b.length){c8a.r0B==X8b&&(c8a.r0B==J8b.defaultFormatVO&&(J8b.defaultFormatVO=new pivot.model.format.vo.FormatValueObject(c8a.o9B)),X8b=J8b.defaultFormatVO);var a8b=Math.floor(g8b.length/c8a.T1B),b8b=[],z8b=g8b.length%c8a.T1B;c8a.N5B<z8b&&b8b.push(g8b.substr(c8a.N5B,z8b));for(var S8b=c8a.N5B;S8b<a8b;S8b++)b8b.push(g8b.substr(z8b+c8a.T1B*S8b,c8a.T1B));a8b=b8b.join(X8b.thousandsSeparator);}m8b&&(a8b=c8a.P6B+a8b);return a8b;};J8b.formatCurrency=function(R8b,s8b,f8b,K8b){var d8a=T3yy;return R8b=d8a.i9B!=f8b||K8b?R8b+s8b:d8a.N5B==R8b.indexOf(d8a.P6B)?d8a.P6B+s8b+R8b.substr(d8a.I5B):s8b+R8b;};J8b.checkNegativeZero=function(E8b,v8b){var n8a=T3yy;var s4t="[1-9]+";return n8a.N5B<=v8b||-n8a.I5B==E8b.indexOf(n8a.P6B)||-n8a.I5B<E8b.search(s4t)?E8b:E8b.replace(n8a.P6B,n8a.o9B);};J8b.defaultFormatVO=new pivot.model.format.vo.FormatValueObject();return J8b;}();T8b.NumberFormatter=C8b;}(utils||(utils={})));(function(Y8b){(function(W8b){var p8b=function(){o8b.getStructureLoader=function(n8b){var w8b=T3yy.r0B;switch(n8b.dataSourceType){case W8b.consts.DataSourceType.CSV:w8b=!T3yy.N5B==n8b.embedded?new W8b.csv.CSVEmbeddedLoader():new W8b.csv.CSVLoader();break;case W8b.consts.DataSourceType.JSON:w8b=new W8b.json.JSONLoader();}return w8b;};function o8b(){}return o8b;}();W8b.StructureLoaderFactory=p8b;}(Y8b.data_||(Y8b.data_={})));}(pivot||(pivot={})));(function(d8b){(function(c8b){var A8b=function(){return function(){this.mdx=this.type=T3yy.o9B;this.axisName=c8b.consts.AxisName.ROWS_AXIS;this.tuple=[];};}();c8b.Query=A8b;}(d8b.data_||(d8b.data_={})));}(pivot||(pivot={})));(function(l8b){(function(M8b){var h8b=function(){var f4t="ascendants";var E4t="siblings";H8b.MEMBERS=C3yy.e5J;function H8b(){}H8b.ASCENDANTS=f4t;H8b.DESCENDANTS=J3yy.K4t;H8b.SIBLINGS=E4t;H8b.SEARCH=J3yy.v4t;return H8b;}();M8b.MembersLoaderState=h8b;}(l8b.data_||(l8b.data_={})));}(pivot||(pivot={})));(function(V8b){(function(U8b){var x8b=function(){var W4t="STRUCTURE_CONNECTED";var w4t="STRUCTURE_LOADING_FAILED";var n4t="BEFORE_QUERY";var o4t="STRUCTURE_CANCELLED";var p4t="STRUCTURE_LOADED";var Y4t="BEFORE_STRUCTURE_LOADING";G8b.BEFORE_STRUCTURE_LOADING=Y4t;G8b.STRUCTURE_CONNECTED=W4t;G8b.STRUCTURE_LOADED=p4t;G8b.STRUCTURE_CANCELLED=o4t;G8b.STRUCTURE_LOADING_FAILED=w4t;G8b.BEFORE_QUERY=n4t;G8b.QUERY_COMPLETE=J3yy.d4t;G8b.QUERY_ERROR=J3yy.c4t;function G8b(){}return G8b;}();U8b.DataEvent=x8b;var t8b=function(r8b){__extends(q8b,r8b);function q8b(N8b){var L8b=r8b.call(this,x8b.BEFORE_QUERY)||this;L8b.queryType=N8b;return L8b;}return q8b;}(events._Event);U8b.BeforeQueryEvent=t8b;t8b=function(I8b){__extends(i8b,I8b);function i8b(C3p){var T3p=I8b.call(this,x8b.QUERY_COMPLETE)||this;T3p.queryType=U8b.consts.QueryType.SELECT;T3p.queryType=C3p;return T3p;}return i8b;}(events._Event);U8b.QueryCompleteEvent=t8b;}(V8b.data_||(V8b.data_={})));}(pivot||(pivot={})));(function(J3p){(function(F3p){(function(u3p){var Q3p=function(D3p){var g0u=T3yy;var y0u=J3yy;var b2t=9E3;__extends(Z3p,D3p);Z3p.getInstance=function(){var A4t="grid";g0u.r0B==Z3p.instance&&(Z3p.instance=new Z3p(),Z3p.instance._name=A4t+Z3p.counter);return Z3p.instance;};Z3p.prototype.addEventListeners=function(){this.cube_.addEventListener(F3p.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,g0u.I5B);this.cube_.addEventListener(F3p.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.addEventListener(F3p.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler,g0u.I5B);};Z3p.prototype.removeEventListeners=function(){this.cube_.removeEventListener(F3p.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.removeEventListener(F3p.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.removeEventListener(F3p.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);};Object.defineProperty(Z3p.prototype,y0u.l4t,{get:function(){return g0u.r0B!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage;},set:function(O3p){this._dataStorage=O3p;},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,C3yy.u1J,{get:function(){return g0u.r0B!=this._slice?this._slice:this.cube_.slice_;},set:function(j3p){this._slice=j3p;},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.h4t,{get:function(){return J3p.model._options.OptionsManager.classicView;},set:function(k3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,C3yy.i5J,{get:function(){return this._rows;},set:function(y3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.M4t,{get:function(){return this.slice.rowsOnly;},set:function(g3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.H4t,{get:function(){return this._rowLevels;},set:function(a3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.V4t,{get:function(){return this._columnLevels;},set:function(X3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,C3yy.T1J,{get:function(){return this._columns;},set:function(b3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.U4t,{get:function(){return this.slice.columnsOnly;},set:function(z3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.x4t,{get:function(){return this._pages;},set:function(S3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.t4t,{get:function(){return this._measures;},set:function(m3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.G4t,{get:function(){return this._measuresPosition;},set:function(R3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.r4t,{get:function(){return this.slice&&this._dataLoaded;},set:function(s3p){this._dataLoaded=s3p;},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.q4t,{get:function(){return this._rowMaxDepth;},set:function(f3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.L4t,{get:function(){return this._columnMaxDepth;},set:function(K3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.N4t,{get:function(){return this._measureDepth;},set:function(E3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.I4t,{get:function(){return this._rowAxis;},set:function(v3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.i4t,{get:function(){return this._columnAxis;},set:function(Y3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.T2t,{get:function(){return this._rowAxis?this._rowAxis.hasMeasures?this._rowAxis.hierarchies.length-g0u.I5B:this._rowAxis.hierarchies.length:g0u.N5B;},set:function(W3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.C2t,{get:function(){return this._columnAxis?this._columnAxis.hasMeasures?this._columnAxis.hierarchies.length-g0u.I5B:this._columnAxis.hierarchies.length:g0u.N5B;},set:function(p3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.J2t,{get:function(){return g0u.I5B<this._measures.length||this._columnAxis.hasMeasures&&J3p.model._options.OptionsManager.showExtraTotalLabels;},set:function(o3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Z3p.prototype.getExpandedRows=function(){return this._rowAxis&&!this.isAllExpanded()?this._rowAxis.expandedTuples:[];};Z3p.prototype.setExpandedRows=function(w3p){this._rowAxis&&!this.isAllExpanded()&&(this._rowAxis.expandedTuples=w3p);};Z3p.prototype.getExpandedColumns=function(){return this._columnAxis&&!this.isAllExpanded()?this._columnAxis.expandedTuples:[];};Z3p.prototype.setExpandedColumns=function(n3p){this._columnAxis&&!this.isAllExpanded()&&(this._columnAxis.expandedTuples=n3p);};Z3p.prototype.getCollapsedRows=function(){return this._rowAxis&&this.isAllExpanded()?this._rowAxis.expandedTuples:[];};Z3p.prototype.setCollapsedRows=function(d3p){this._rowAxis&&this.isAllExpanded()&&(this._rowAxis.expandedTuples=d3p);};Z3p.prototype.getCollapsedColumns=function(){return this._columnAxis&&this.isAllExpanded()?this._columnAxis.expandedTuples:[];};Z3p.prototype.setCollapsedColumns=function(c3p){this._columnAxis&&this.isAllExpanded()&&(this._columnAxis.expandedTuples=c3p);};Z3p.prototype.getDrilledDownRows=function(){return this._rowAxis&&!this.isAllDrilled()?this._rowAxis.drilledTuples:[];};Z3p.prototype.setDrilledDownRows=function(A3p){this._rowAxis&&!this.isAllDrilled()&&(this._rowAxis.drilledTuples=A3p);};Z3p.prototype.getDrilledDownColumns=function(){return this._columnAxis&&!this.isAllDrilled()?this._columnAxis.drilledTuples:[];};Z3p.prototype.setDrilledDownColumns=function(l3p){this._columnAxis&&!this.isAllDrilled()&&(this._columnAxis.drilledTuples=l3p);};Z3p.prototype.getDrilledUpRows=function(){return this._rowAxis&&this.isAllDrilled()?this._rowAxis.drilledTuples:[];};Z3p.prototype.setDrilledUpRows=function(h3p){this._rowAxis&&this.isAllDrilled()&&(this._rowAxis.drilledTuples=h3p);};Z3p.prototype.getDrilledUpColumns=function(){return this._columnAxis&&this.isAllDrilled()?this._columnAxis.drilledTuples:[];};Z3p.prototype.setDrilledUpColumns=function(M3p){this._columnAxis&&this.isAllDrilled()&&(this._columnAxis.drilledTuples=M3p);};Z3p.prototype.isAllDrilled=function(){return this.slice.drillAll;};Z3p.prototype.isAllExpanded=function(){return this.slice.expandAll;};Object.defineProperty(Z3p.prototype,y0u.F2t,{get:function(){var H3p=F3p.consts.SortType.UNSORTED;this._rowAxis&&(H3p=this._rowAxis.sortType,H3p==F3p.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=F3p.consts.SortType.UNSORTED&&(H3p=this._rowAxis.totalSortType));return H3p;},set:function(V3p){this._rowAxis&&(this._rowAxis.sortType=V3p);},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.Q2t,{get:function(){var U3p;this._rowAxis&&(U3p=this._rowAxis.sortTuple,this._rowAxis.sortType==F3p.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=F3p.consts.SortType.UNSORTED&&(U3p=[]));return U3p;},set:function(x3p){this._rowAxis&&(this._rowAxis.sortTuple=x3p);},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.u2t,{get:function(){var t3p;this._rowAxis&&(t3p=this._rowAxis.sortMeasure,this._rowAxis.sortType==F3p.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=F3p.consts.SortType.UNSORTED&&(t3p=this._rowAxis.totalSortMeasure));return t3p;},set:function(G3p){this._rowAxis&&(this._rowAxis.sortMeasure=G3p);},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.Z2t,{get:function(){if(this.rowSortType==F3p.consts.SortType.UNSORTED||g0u.r0B==this.rowSortTuple)return!g0u.I5B;if(g0u.I5B>this.rowSortTuple.length)return!g0u.N5B;var r3p=!g0u.I5B;try{r3p=this.isRowExpanded(this.rowSortTuple.slice(g0u.N5B,this.rowSortTuple.length-g0u.I5B));}catch(q3p){}return r3p;},set:function(L3p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.D2t,{get:function(){var N3p=F3p.consts.SortType.UNSORTED;this._columnAxis&&(N3p=this._columnAxis.sortType,N3p==F3p.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=F3p.consts.SortType.UNSORTED&&(N3p=this._columnAxis.totalSortType));return N3p;},set:function(I3p){this._columnAxis&&(this._columnAxis.sortType=I3p);},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.e2t,{get:function(){var i3p;this._columnAxis&&(i3p=this._columnAxis.sortTuple,this._columnAxis.sortType==F3p.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=F3p.consts.SortType.UNSORTED&&(i3p=[]));return i3p;},set:function(T7p){this._columnAxis&&(this._columnAxis.sortTuple=T7p);},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.P2t,{get:function(){var C7p;this._columnAxis&&(C7p=this._columnAxis.sortMeasure,this._columnAxis.sortType==F3p.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=F3p.consts.SortType.UNSORTED&&(C7p=this._columnAxis.totalSortMeasure));return C7p;},set:function(J7p){this._columnAxis&&(this._columnAxis.sortMeasure=J7p);},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.B2t,{get:function(){if(this.columnSortType==F3p.consts.SortType.UNSORTED||g0u.r0B==this.columnSortTuple)return!g0u.I5B;if(g0u.I5B>this.columnSortTuple.length)return!g0u.N5B;var F7p=!g0u.I5B;try{F7p=this.isColumnExpanded(this.columnSortTuple.slice(g0u.N5B,this.columnSortTuple.length-g0u.I5B));}catch(Q7p){}return F7p;},set:function(u7p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Z3p.prototype.reset=function(Z7p){void g0u.N5B===Z7p&&(Z7p=!g0u.N5B);this.dataLoaded=!g0u.I5B;this._measures=new utils.AssociativeArray();this._rows=new utils.AssociativeArray();this._columns=new utils.AssociativeArray();this._pages=new utils.AssociativeArray();this._rowLevels=[];this._columnLevels=[];this._rowTuples=[];this._columnTuples=[];this.rowTuples=[];this.columnTuples=[];this.rowDepths=[];this.columnDepths=[];this._columnMaxDepth=this._rowMaxDepth=g0u.N5B;this.rowType=[];Z7p&&(this._columnAxis&&(this._columnAxis.expandedTuples=[]),this._rowAxis&&(this._rowAxis.expandedTuples=[]),this._columnAxis&&(this._columnAxis.drilledTuples=[]),this._rowAxis&&(this._rowAxis.drilledTuples=[]));};Z3p.prototype.onBeforeQuery=function(D7p){this.queryType=D7p.queryType;this.dataLoaded=!g0u.I5B;D7p.queryType==F3p.consts.QueryType.SELECT&&this.reset();D7p.queryType!=F3p.consts.QueryType.DRILL_UP&&D7p.queryType!=F3p.consts.QueryType.DRILL_DOWN||this.reset(!g0u.I5B);};Z3p.prototype.onQueryComplete=function(){this.load();};Z3p.prototype.onStructureLoaded=function(){this.dataLoaded=!g0u.I5B;this.reset();};Z3p.prototype.load=function(){if(g0u.r0B==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,g0u.r0B==this.dataStorage))return;if(this.slice){this._columnAxis=this.slice.findAxis(F3p.consts.AxisName.COLUMNS_AXIS);this._rowAxis=this.slice.findAxis(F3p.consts.AxisName.ROWS_AXIS);if(g0u.N5B==this.columnTuples.length&&g0u.N5B==this.rowTuples.length||this.queryType==F3p.consts.QueryType.FILTER){this.isAllExpanded()?this.dataStorage.expandAll(this.slice.drillAll):(this.dataStorage.expand([],F3p.consts.AxisName.ROWS_AXIS,g0u.r0B),this.dataStorage.expand([],F3p.consts.AxisName.COLUMNS_AXIS,g0u.r0B));var e7p,B7p,O7p;(g0u.N5B<this.getDrilledDownRows().length||g0u.N5B<this.getDrilledUpRows().length)&&this._drillRows();(g0u.N5B<this.getDrilledDownColumns().length||g0u.N5B<this.getDrilledUpColumns().length)&&this._drillColumns();if(this.queryType==F3p.consts.QueryType.FILTER)if(this.slice.expandAll){var P7p=this.getCollapsedRows();if(g0u.N5B<P7p.length)for(e7p=g0u.N5B;e7p<P7p.length;e7p++)try{B7p=this.slice.measures_.getItemAt(P7p[e7p][g0u.N5B]),O7p=P7p[e7p].slice(g0u.I5B),this.dataStorage.collapse(O7p,F3p.consts.AxisName.ROWS_AXIS,B7p);}catch(j7p){}P7p=this.getCollapsedColumns();if(g0u.N5B<this.getCollapsedColumns().length)for(e7p=g0u.N5B;e7p<this.getCollapsedColumns().length;e7p++)try{B7p=this.slice.measures_.getItemAt(P7p[e7p][g0u.N5B]),O7p=P7p[e7p].slice(g0u.I5B),this.dataStorage.collapse(O7p,F3p.consts.AxisName.COLUMNS_AXIS,B7p);}catch(k7p){}}else{P7p=this.getExpandedRows();if(g0u.N5B<P7p.length)for(e7p=g0u.N5B;e7p<P7p.length;e7p++)try{B7p=this.slice.measures_.getItemAt(P7p[e7p][g0u.N5B]),O7p=P7p[e7p].slice(g0u.I5B),this.dataStorage.expand(O7p,F3p.consts.AxisName.ROWS_AXIS,B7p);}catch(y7p){}P7p=this.getExpandedColumns();if(g0u.N5B<P7p.length)for(e7p=g0u.N5B;e7p<P7p.length;e7p++)try{B7p=this.slice.measures_.getItemAt(P7p[e7p][g0u.N5B]),O7p=P7p[e7p].slice(g0u.I5B),this.dataStorage.expand(O7p,F3p.consts.AxisName.COLUMNS_AXIS,B7p);}catch(g7p){}}(g0u.N5B<this.getDrilledDownRows().length||g0u.N5B<this.getDrilledUpRows().length)&&this._drillRows();(g0u.N5B<this.getDrilledDownColumns().length||g0u.N5B<this.getDrilledUpColumns().length)&&this._drillColumns();}this.prepare();this.dataLoaded=!g0u.N5B;}else this._rowAxis=this._columnAxis=g0u.r0B;};Z3p.prototype._drillRows=function(){var S7p,R7p,X7p,m7p,z7p,s7p=this.rowAxis.hierarchies.slice();s7p.removeItem(F3p.Cube.MEASURES_NAME);if(this.isAllDrilled())for(var b7p=this.getDrilledUpRows(),a7p=g0u.N5B;a7p<b7p.length;a7p++)try{S7p=this.slice.measures_.getItemAt(b7p[a7p][g0u.N5B]),X7p=b7p[a7p].slice(g0u.i5B),m7p=s7p.getItemAt(X7p.length-g0u.I5B),z7p=m7p.members.getItem(b7p[a7p][g0u.I5B]),this.dataStorage.isRowDrilledDown(X7p,z7p,S7p)&&this.dataStorage.drillUp(X7p,z7p,F3p.consts.AxisName.ROWS_AXIS,S7p);}catch(K7p){}else for(b7p=this.getDrilledDownRows(),a7p=g0u.N5B;a7p<b7p.length;a7p++)try{if(g0u.q9B==typeof b7p[a7p][g0u.N5B]?(R7p=b7p[a7p][g0u.N5B],S7p=this.slice.measures_.getItemAt(b7p[a7p][g0u.I5B]),X7p=b7p[a7p].slice(g0u.T1B),m7p=s7p.getItemAt(X7p.length-g0u.I5B),z7p=m7p.members.getItem(b7p[a7p][g0u.i5B])):(S7p=this.slice.measures_.getItemAt(b7p[a7p][g0u.N5B]),X7p=b7p[a7p].slice(g0u.i5B),m7p=s7p.getItemAt(X7p.length-g0u.I5B),z7p=m7p.members.getItem(b7p[a7p][g0u.I5B])),void g0u.N5B!==R7p)if(m7p.findLevel(R7p).num<z7p.level.num){var f7p=this.ascendantByLevel(z7p,R7p);X7p[X7p.length-g0u.I5B]=f7p.ordinal;m7p.drillUpMember(f7p);this.dataStorage.drillUp(X7p,f7p,F3p.consts.AxisName.ROWS_AXIS,S7p);}else this.dataStorage.drillDownTo(X7p,z7p,F3p.consts.AxisName.ROWS_AXIS,R7p);else this.dataStorage.isRowDrilledDown(X7p,z7p,S7p)||(this.dataStorage.hierarchize(X7p,z7p,F3p.consts.AxisName.ROWS_AXIS),this.dataStorage.drillDown(X7p,z7p,F3p.consts.AxisName.ROWS_AXIS,S7p));}catch(E7p){}};Z3p.prototype._drillColumns=function(){var o7p,W7p,w7p,p7p,n7p=this.columnAxis.hierarchies.slice();n7p.removeItem(F3p.Cube.MEASURES_NAME);if(this.isAllDrilled())for(var Y7p=this.getDrilledUpColumns(),v7p=g0u.N5B;v7p<Y7p.length;v7p++)try{o7p=this.slice.measures_.getItemAt(Y7p[v7p][g0u.N5B]),W7p=Y7p[v7p].slice(g0u.i5B),w7p=n7p.getItemAt(W7p.length-g0u.I5B),p7p=w7p.members.getItem(Y7p[v7p][g0u.I5B]),this.dataStorage.isColumnDrilledDown(W7p,p7p,o7p)&&this.dataStorage.drillUp(W7p,p7p,F3p.consts.AxisName.COLUMNS_AXIS,o7p);}catch(d7p){}else for(Y7p=this.getDrilledDownColumns(),v7p=g0u.N5B;v7p<Y7p.length;v7p++)try{o7p=this.slice.measures_.getItemAt(Y7p[v7p][g0u.N5B]),W7p=Y7p[v7p].slice(g0u.i5B),w7p=n7p.getItemAt(W7p.length-g0u.I5B),p7p=w7p.members.getItem(Y7p[v7p][g0u.I5B]),this.dataStorage.isColumnDrilledDown(W7p,p7p,o7p)||(this.dataStorage.hierarchize(W7p,p7p,F3p.consts.AxisName.COLUMNS_AXIS),this.dataStorage.drillDown(W7p,p7p,F3p.consts.AxisName.COLUMNS_AXIS,o7p));}catch(c7p){}};Z3p.prototype.prepare=function(){var H19=C3yy;this._showUnexpandedDataAlert=!g0u.I5B;this.slice?(this._measures=this.slice.measures_,this._measuresPosition=this._rowAxis.hasMeasures?this._rowAxis.measuresPosition:this._columnAxis.measuresPosition,this._rows=this.slice.rows,this._columns=this.slice.columns,this._pages=this.slice.pages):(this._measures=new utils.AssociativeArray(),this._measuresPosition=g0u.N5B,this._rows=new utils.AssociativeArray(),this._columns=new utils.AssociativeArray(),this._pages=new utils.AssociativeArray());this._rowLevels=[];this._columnLevels=[];this._rowTuples=[];this._columnTuples=[];this.rowTuples=[];this.columnTuples=[];this.rowDepths=[];this.columnDepths=[];this.rowType=[];this._columnMaxDepth=this._rowMaxDepth=g0u.N5B;var l7p=this.dataStorage.result[g0u.N5B],h7p=this.dataStorage.result[g0u.I5B],A7p;if(!utils.nullOrUndefined(this.slice)&&!this.slice.isEmpty){(!this._rowAxis.hasMeasures||g0u.I5B<this._rows.length||this.isClassic)&&this.fillRowTuples(l7p,[],g0u.N5B);if(g0u.y6B==J3p.model._options.OptionsManager.showGrandTotals||H19.T1J==J3p.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&g0u.I5B==this._rows.length)this.rowTuples.push([]),this.rowDepths.push(g0u.N5B);if(!this.isClassic)if(this._rowAxis.hasMeasures&&this.multiMeasures){this.rowDepths=[];this.rowType=[];if(g0u.I5B<this._rows.length)for(g0u.N5B!=this.measuresPosition&&this.fillRowTuples1(l7p,[],-g0u.I5B,g0u.N5B),A7p=g0u.N5B;A7p<this._measures.length;A7p++)g0u.y6B==J3p.model._options.OptionsManager.showGrandTotals||H19.T1J==J3p.model._options.OptionsManager.showGrandTotals?(this._rowTuples.push([[],A7p]),this.rowDepths.push(g0u.N5B)):g0u.N5B!=this._measuresPosition||J3yy.g9t!=J3p.model._options.OptionsManager.showGrandTotals&&H19.i5J!=J3p.model._options.OptionsManager.showGrandTotals||(this._rowTuples.push([[],A7p]),this.rowDepths.push(g0u.N5B)),g0u.N5B==this.measuresPosition&&this.fillRowTuples1(l7p,[],A7p,g0u.I5B);if(g0u.N5B==this.measuresPosition&&(g0u.y6B==J3p.model._options.OptionsManager.showGrandTotals||H19.T1J==J3p.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&g0u.I5B==this._rows.length))for(A7p=g0u.N5B;A7p<this._measures.length;A7p++)this._rowTuples.push([[],A7p]),this.rowDepths.push(g0u.N5B);}else this._rowTuples=this.rowTuples;(!this._columnAxis.hasMeasures||g0u.I5B<this._columns.length)&&this.fillColumnTuples(h7p,[],g0u.N5B);this._measureDepth=-g0u.I5B;if(g0u.y6B==J3p.model._options.OptionsManager.showGrandTotals||H19.i5J==J3p.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&g0u.I5B==this._columns.length)this.columnTuples.push([]),this.columnDepths.push(g0u.N5B);if(this._columnAxis.hasMeasures&&this.multiMeasures){this.columnDepths=[];if(g0u.I5B<this._columns.length)for(g0u.N5B!=this._measuresPosition&&this.fillColumnTuples1(h7p,[],-g0u.I5B,g0u.N5B),A7p=g0u.N5B;A7p<this._measures.length;A7p++)g0u.y6B==J3p.model._options.OptionsManager.showGrandTotals||H19.i5J==J3p.model._options.OptionsManager.showGrandTotals?(this._columnTuples.push([[],A7p]),this.columnDepths.push(g0u.N5B)):g0u.N5B!=this._measuresPosition||J3yy.g9t!=J3p.model._options.OptionsManager.showGrandTotals&&H19.T1J!=J3p.model._options.OptionsManager.showGrandTotals||(this._columnTuples.push([[],A7p]),this.columnDepths.push(g0u.N5B)),g0u.N5B==this._measuresPosition&&this.fillColumnTuples1(h7p,[],A7p,g0u.N5B);if(g0u.N5B==this._measuresPosition&&(g0u.y6B==J3p.model._options.OptionsManager.showGrandTotals||H19.i5J==J3p.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&g0u.I5B==this._columns.length))for(A7p=g0u.N5B;A7p<this._measures.length;A7p++)this._columnTuples.push([[],A7p]),this.columnDepths.push(g0u.N5B);}else this._columnTuples=this.columnTuples;for(l7p=g0u.N5B;l7p<this.rowDepths.length;l7p++)this.rowDepths[l7p]>this._rowMaxDepth&&(this._rowMaxDepth=this.rowDepths[l7p]);this._rowMaxDepth++;for(l7p=g0u.N5B;l7p<this.columnDepths.length;l7p++)this.columnDepths[l7p]>this._columnMaxDepth&&(this._columnMaxDepth=this.columnDepths[l7p]);this._columnMaxDepth++;g0u.N5B<this.slice.columnsOnly.length&&this._columnAxis.hasMeasures&&this.multiMeasures&&this._columnMaxDepth++;-g0u.I5B==this._measureDepth?this._measureDepth=g0u.N5B==this.measuresPosition?g0u.N5B:this._columnMaxDepth:this._measureDepth++;this._showUnexpandedDataAlert&&J3p.uialert(J3p.model._labels.Labels.MESSAGE_CANT_EXPAND,J3p.model._labels.Labels.MESSAGE_CANT_EXPAND_TITLE,J3p.AlertType.ALERT);}};Z3p.prototype.showRowTuples=function(){for(var M7p=g0u.N5B;M7p<this.rowTuples.length;M7p++);};Z3p.prototype.showRowTuples1=function(){for(var H7p=g0u.N5B;H7p<this._rowTuples.length;H7p++)this.getRowTuple(H7p,!g0u.N5B),this.getRowMeasure(H7p);};Z3p.prototype.showColumnTuples=function(){for(var V7p=g0u.N5B;V7p<this.columnTuples.length;V7p++);};Z3p.prototype.showColumnTuples1=function(){for(var U7p=g0u.N5B;U7p<this._columnTuples.length;U7p++)this.getColumnTuple(U7p,!g0u.N5B),this.getColumnMeasure(U7p);};function Z3p(){var e3p=D3p.call(this)||this;e3p.rowTuples=[];e3p._rowTuples=[];e3p.columnTuples=[];e3p._columnTuples=[];e3p.rowDepths=[];e3p.rowType=[];e3p.columnDepths=[];e3p._name=g0u.o9B;e3p.queryCompleteHandler=function(){return e3p.onQueryComplete();};e3p.beforeQueryHandler=function(P3p){return e3p.onBeforeQuery(P3p);};e3p.structureLoadedHandler=function(B3p){return e3p.onStructureLoaded();};e3p._rows=new utils.AssociativeArray();e3p._rowLevels=[];e3p._columnLevels=[];e3p._columns=new utils.AssociativeArray();e3p._pages=new utils.AssociativeArray();e3p._measures=new utils.AssociativeArray();e3p._measuresPosition=g0u.N5B;e3p._dataLoaded=!g0u.I5B;e3p._rowMaxDepth=g0u.N5B;e3p._columnMaxDepth=g0u.N5B;e3p._measureDepth=g0u.N5B;e3p.queryType=F3p.consts.QueryType.SELECT;e3p._showUnexpandedDataAlert=!g0u.I5B;e3p._fillRowTuplesStart=g0u.N5B;Z3p.counter++;e3p.cube_=F3p.Cube.getInstance();return e3p;}Z3p.prototype.fillRowTuples=function(r7p,t7p,G7p){var x7p=t7p.length;if(x7p=this._rowAxis.hasMeasures&&t7p.length>=this._measuresPosition?this._rows.getItemAt(x7p+g0u.I5B):this._rows.getItemAt(x7p))g0u.N5B==G7p&&(this._fillRowTuplesStart=Date.now()),this.isClassic?this._fillRowChildren(x7p.allMember,r7p,t7p,G7p):this.fillRowChildren(x7p.allMember,r7p,t7p,G7p);};Z3p.prototype.isEmptyOnRows=function(L7p){for(var q7p=g0u.N5B;q7p<this.measures.length;q7p++)if(!isNaN(this.getValue(L7p,[],this.measures.getItemAt(q7p))))return!g0u.I5B;return!g0u.N5B;};Z3p.prototype.isEmptyOnColumns=function(I7p){for(var N7p=g0u.N5B;N7p<this.measures.length;N7p++)if(!isNaN(this.getValue([],I7p,this.measures.getItemAt(N7p))))return!g0u.I5B;return!g0u.N5B;};Z3p.prototype.fillRowChildren=function(C5p,Q5p,u5p,Z5p){if(g0u.r0B!=C5p){var J5p;J5p=C5p.hierarchy_.sortChildren(C5p,!g0u.I5B,g0u.o9B);J5p=this.sortRowsByValue(J5p,Q5p,u5p);C5p=this.rowsOnly.indexOf(C5p.hierarchy_.uniqueName)<this.rowsOnly.length-g0u.I5B;for(var F5p=g0u.N5B;F5p<J5p.length;F5p++){var i7p=J5p.getItemAt(F5p);g0u.N5B==F5p&&this.fillRowLevels(i7p);if(g0u.r0B!=Q5p[i7p.ordinal]&&!i7p.isAll){var T5p=u5p.slice(g0u.N5B);T5p.push(i7p.ordinal);if(!this.isEmptyOnRows(T5p)){var e5p=!i7p.isLeaf&&this.dataStorage.isRowDrilledDown(T5p,i7p),D5p=C5p&&this.dataStorage.isRowExpanded(T5p);this.rowTuples.push(T5p);this.rowDepths.push(Z5p);Date.now()-this._fillRowTuplesStart<Z3p.SCRIPT_EXECUTION_TIMEOUT&&(e5p?this.fillRowChildren(i7p,Q5p,u5p,Z5p+g0u.I5B):D5p&&this.fillRowTuples(Q5p[i7p.ordinal],T5p,Z5p+g0u.I5B));}}}}};Z3p.prototype.fillRowTuples1=function(O5p,B5p,j5p,k5p){if(!this.isClassic){var P5p=B5p.length;(P5p=this._rowAxis.hasMeasures&&B5p.length>=this._measuresPosition?this._rows.getItemAt(P5p+g0u.I5B):this._rows.getItemAt(P5p))&&this.fillRowChildren1(P5p.allMember,O5p,B5p,j5p,k5p);}};Z3p.prototype.fillRowChildren1=function(z5p,S5p,m5p,b5p,X5p){if(g0u.r0B!=z5p){var s5p=m5p.length;z5p=z5p.hierarchy_.sortChildren(z5p,!g0u.I5B,g0u.o9B);z5p=this.sortRowsByValue(z5p,S5p,m5p);for(var a5p,R5p=g0u.N5B;R5p<z5p.length;R5p++){var g5p=z5p.getItemAt(R5p);if(g0u.r0B!=S5p[g5p.ordinal]&&!g5p.isAll){var y5p=m5p.slice(g0u.N5B);y5p.push(g5p.ordinal);if(!this.isEmptyOnRows(y5p))if(s5p<this._measuresPosition)if(this._rowTuples.push([y5p,-g0u.I5B]),this.rowDepths.push(X5p),s5p==this._measuresPosition-g0u.I5B&&this.dataStorage.isRowExpanded(y5p,b5p))for(a5p=g0u.N5B;a5p<this._measures.length;a5p++)this.dataStorage.isRowDrilledDown(y5p,g5p,a5p)?this.fillRowChildren1(g5p,S5p,m5p,a5p,X5p+g0u.i5B):(this._rowTuples.push([y5p,a5p]),this.rowDepths.push(X5p+g0u.I5B),this.dataStorage.isRowExpanded(y5p)&&this.fillRowTuples1(S5p[g5p.ordinal],y5p,a5p,X5p+g0u.i5B));else{for(a5p=g0u.N5B;a5p<this._measures.length;a5p++)this._rowTuples.push([y5p,a5p]),this.rowDepths.push(X5p+g0u.I5B);this.dataStorage.isRowDrilledDown(y5p,g5p,b5p)?this.fillRowChildren1(g5p,S5p,m5p,b5p,X5p+g0u.i5B):this.dataStorage.isRowExpanded(y5p,b5p)&&this.fillRowTuples1(S5p[g5p.ordinal],y5p,b5p,X5p+g0u.i5B);}else this._rowTuples.push([y5p,b5p]),this.rowDepths.push(X5p),this.dataStorage.isRowDrilledDown(y5p,g5p,b5p)?this.fillRowChildren1(g5p,S5p,m5p,b5p,X5p+g0u.I5B):this.dataStorage.isRowExpanded(y5p,b5p)&&this.fillRowTuples1(S5p[g5p.ordinal],y5p,b5p,X5p+g0u.I5B);}}}};Z3p.prototype._fillRowChildren=function(K5p,o5p,n5p,Y5p){if(g0u.r0B!=K5p){K5p=K5p.hierarchy_.sortChildren(K5p,!g0u.I5B,g0u.o9B);K5p=this.sortRowsByValue(K5p,o5p,n5p);for(var W5p=g0u.N5B;W5p<K5p.length;W5p++){var E5p=K5p.getItemAt(W5p);g0u.N5B==W5p&&this.fillRowLevels(E5p);if(g0u.r0B!=o5p[E5p.ordinal]&&!E5p.isAll){var f5p=n5p.slice(g0u.N5B);f5p.push(E5p.ordinal);if(!this.isEmptyOnRows(f5p)){var p5p=this.dataStorage.isRowDrilledDown(f5p,E5p),w5p=this.dataStorage.isRowExpanded(f5p),v5p=this.rowTuples.length;this.rowCount>f5p.length&&(this.rowType[v5p]=g0u.I5B,void g0u.N5B==this.rowDepths[v5p]&&(this.rowDepths[v5p]=Y5p));if(Date.now()-this._fillRowTuplesStart<Z3p.SCRIPT_EXECUTION_TIMEOUT)p5p?this._fillRowChildren(E5p,o5p,n5p,Y5p+g0u.I5B):w5p&&this.fillRowTuples(o5p[E5p.ordinal],f5p,Y5p+g0u.I5B);else if(p5p||w5p)this._showUnexpandedDataAlert=!g0u.N5B;if(p5p||w5p){if(g0u.y6B==J3p.model._options.OptionsManager.showTotals||C3yy.i5J==J3p.model._options.OptionsManager.showTotals)this.rowTuples.push(f5p),this.rowType[this.rowTuples.length-g0u.I5B]=g0u.i5B,this.rowDepths[this.rowTuples.length-g0u.I5B]=Y5p;p5p&&this.rowDepths[v5p]>Y5p&&(this.rowDepths[v5p]=Y5p,this.rowType[v5p]=g0u.N5B);}else this.rowTuples.push(f5p),void g0u.N5B==this.rowType[this.rowTuples.length-g0u.I5B]&&(this.rowType[this.rowTuples.length-g0u.I5B]=g0u.N5B,this.rowDepths[this.rowTuples.length-g0u.I5B]=Y5p);}}}}};Z3p.prototype.fillRowLevels=function(d5p){this.fillLevels(this._rowLevels,d5p);};Z3p.prototype.fillColumnLevels=function(c5p){this.fillLevels(this._columnLevels,c5p);};Z3p.prototype.fillLevels=function(l5p,A5p){if(-g0u.I5B==l5p.indexOf(A5p.level.uniqueName))if(g0u.I5B>=A5p.level.num)l5p.push(A5p.level.uniqueName);else{var h5p=l5p.indexOf(A5p.parent.level.uniqueName);l5p.splice(h5p+g0u.I5B,g0u.N5B,A5p.level.uniqueName);}};Z3p.prototype.isValidSortTuple=function(V5p,x5p){for(var M5p=g0u.N5B;M5p<V5p.length;M5p++){var H5p=x5p.getItemAt(M5p);if(H5p.hasFilter()){var U5p=H5p.members.getItemAt(V5p[M5p]);if(!H5p.filter.keyExists(U5p.uniqueName))return!g0u.I5B;}}return!g0u.N5B;};Z3p.prototype.sortRowsByValue=function(r5p,J1p,C1p){if(!this.hasColumnSorting)return r5p;var T1p=this.columnSortTuple;if(!this.isValidSortTuple(T1p,this.columnsOnly))return r5p;for(var N5p=[],i5p=[],I5p=[],L5p=new utils.AssociativeArray(),t5p,G5p=g0u.N5B;G5p<r5p.length;G5p++)if(t5p=r5p.getItemAt(G5p),g0u.r0B!=J1p[t5p.ordinal]&&!t5p.isAll){var q5p=C1p.slice(g0u.N5B);q5p.push(t5p.ordinal);q5p=this.getValue(q5p,T1p,this.columnSortMeasure);isNaN(q5p)?I5p.push(t5p):(N5p.push(q5p),i5p.push(t5p));}r5p=this.columnSortType!=F3p.consts.SortType.DESC?utils.ArrayUtils.sort(N5p,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(N5p,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);for(G5p=g0u.N5B;G5p<r5p.length;G5p++)t5p=i5p[r5p[G5p]],g0u.r0B!=t5p&&L5p.addItem(t5p.uniqueName,t5p);for(G5p=g0u.N5B;G5p<I5p.length;G5p++)t5p=I5p[G5p],this.columnSortType==F3p.consts.SortType.DESC?L5p.addItem(t5p.uniqueName,t5p):L5p.addItemAt(t5p.uniqueName,t5p,G5p);return L5p;};Z3p.prototype.sortColumnsByValue=function(u1p,k1p,j1p){if(!this.hasRowSorting)return u1p;var O1p=this.rowSortTuple;if(!this.isValidSortTuple(O1p,this.rowsOnly))return u1p;for(var e1p=[],B1p=[],P1p=[],F1p,D1p=new utils.AssociativeArray(),Q1p=g0u.N5B;Q1p<u1p.length;Q1p++)if(F1p=u1p.getItemAt(Q1p),g0u.r0B!=k1p[F1p.ordinal]&&!F1p.isAll){var Z1p=j1p.slice(g0u.N5B);Z1p.push(F1p.ordinal);Z1p=this.getValue(O1p,Z1p,this.rowSortMeasure);isNaN(Z1p)?P1p.push(F1p):(e1p.push(Z1p),B1p.push(F1p));}u1p=this.rowSortType!=F3p.consts.SortType.DESC?utils.ArrayUtils.sort(e1p,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(e1p,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);for(Q1p=g0u.N5B;Q1p<u1p.length;Q1p++)F1p=B1p[u1p[Q1p]],g0u.r0B!=F1p&&D1p.addItem(F1p.uniqueName,F1p);for(Q1p=g0u.N5B;Q1p<P1p.length;Q1p++)F1p=P1p[Q1p],this.rowSortType==F3p.consts.SortType.DESC?D1p.addItem(F1p.uniqueName,F1p):D1p.addItemAt(F1p.uniqueName,F1p,Q1p);return D1p;};Z3p.prototype.fillColumnTuples=function(a1p,g1p,X1p){var y1p=g1p.length;(y1p=this._columnAxis.hasMeasures&&g1p.length>=this._measuresPosition?this._columns.getItemAt(y1p+g0u.I5B):this._columns.getItemAt(y1p))&&this.fillColumnChildren(y1p.allMember,a1p,g1p,X1p);};Z3p.prototype.fillColumnChildren=function(z1p,R1p,s1p,f1p){z1p=z1p.hierarchy_.sortChildren(z1p,!g0u.I5B,g0u.o9B);z1p=this.sortColumnsByValue(z1p,R1p,s1p);for(var m1p=g0u.N5B;m1p<z1p.length;m1p++){var b1p=z1p.getItemAt(m1p);g0u.N5B==m1p&&this.fillColumnLevels(b1p);if(g0u.r0B!=R1p[b1p.ordinal]&&!b1p.isAll){var S1p=s1p.slice(g0u.N5B);S1p.push(b1p.ordinal);if(!this.isEmptyOnColumns(S1p)){var K1p=this.dataStorage.isColumnExpanded(S1p);this.columnTuples.push(S1p);this.columnDepths.push(f1p);this.dataStorage.isColumnDrilledDown(S1p,b1p)?this.fillColumnChildren(b1p,R1p,s1p,f1p+g0u.I5B):K1p&&this.fillColumnTuples(R1p[b1p.ordinal],S1p,f1p+g0u.I5B);}}}};Z3p.prototype.fillColumnTuples1=function(Y1p,v1p,W1p,p1p){var E1p=v1p.length;(E1p=this._columnAxis.hasMeasures&&v1p.length>=this._measuresPosition?this._columns.getItemAt(E1p+g0u.I5B):this._columns.getItemAt(E1p))&&this.fillColumnChildren1(E1p.allMember,Y1p,v1p,W1p,p1p);};Z3p.prototype.fillColumnChildren1=function(l1p,A1p,h1p,c1p,d1p){var V1p=h1p.length;l1p=l1p.hierarchy_.sortChildren(l1p,!g0u.I5B,g0u.o9B);l1p=this.sortColumnsByValue(l1p,A1p,h1p);for(var w1p,H1p=g0u.N5B;H1p<l1p.length;H1p++){var n1p=l1p.getItemAt(H1p);if(g0u.r0B!=A1p[n1p.ordinal]&&!n1p.isAll){var o1p=h1p.slice(g0u.N5B);o1p.push(n1p.ordinal);if(!this.isEmptyOnColumns(o1p)){var M1p=this.dataStorage.isColumnExpanded(o1p,c1p);if(V1p<this._measuresPosition)if(this._columnAxis.hasMeasures&&this._measureDepth<d1p+g0u.I5B&&(this._measureDepth=d1p+g0u.I5B),V1p==this._measuresPosition-g0u.I5B&&M1p)if(this.dataStorage.isColumnDrilledDown(o1p,n1p)){for(w1p=g0u.N5B;w1p<this._measures.length;w1p++)this._columnTuples.push([o1p,w1p]),this.columnDepths.push(d1p);this.fillColumnChildren1(n1p,A1p,h1p,c1p,d1p+g0u.I5B);}else for(w1p=g0u.N5B;w1p<this._measures.length;w1p++)this._columnTuples.push([o1p,w1p]),this.columnDepths.push(d1p),this.dataStorage.isColumnExpanded(o1p,w1p)&&this.fillColumnTuples1(A1p[n1p.ordinal],o1p,w1p,d1p+g0u.I5B);else{for(w1p=g0u.N5B;w1p<this._measures.length;w1p++)this._columnTuples.push([o1p,w1p]),this.columnDepths.push(d1p);this.dataStorage.isColumnDrilledDown(o1p,n1p,c1p)?this.fillColumnChildren1(n1p,A1p,h1p,c1p,d1p+g0u.I5B):M1p&&this.fillColumnTuples1(A1p[n1p.ordinal],o1p,c1p,d1p+g0u.I5B);}else this._columnTuples.push([o1p,c1p]),this.columnDepths.push(d1p),this.dataStorage.isColumnDrilledDown(o1p,n1p,c1p)?this.fillColumnChildren1(n1p,A1p,h1p,c1p,d1p+g0u.I5B):M1p&&this.fillColumnTuples1(A1p[n1p.ordinal],o1p,c1p,d1p+g0u.I5B);}}}};Object.defineProperty(Z3p.prototype,y0u.O2t,{get:function(){return g0u.N5B==this.columnTuples.length&&g0u.N5B==this.rowTuples.length;},set:function(U1p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Z3p.prototype.getRowDepth=function(x1p){return this.isClassic?this.rowDepths[this._rowAxis.hasMeasures?Math.floor(x1p/this._measures.length):x1p]:this.rowDepths[x1p];};Z3p.prototype.getRowType=function(t1p){return this.isClassic?this.rowType[this._rowAxis.hasMeasures?Math.floor(t1p/this._measures.length):t1p]:this.rowType[t1p];};Z3p.prototype.getColumnType=function(G1p){return g0u.I5B;};Z3p.prototype.getColumnDepth=function(r1p){return this.columnDepths[r1p];};Z3p.prototype.getRowHierarchyIdx=function(q1p){return this._rowAxis.hasMeasures&&(q1p.length>this._measuresPosition||g0u.N5B==this._measuresPosition)?q1p.length:q1p.length-g0u.I5B;};Z3p.prototype.getRowHierarchy=function(L1p){L1p=this.getRowHierarchyIdx(L1p);return this._rows.getItemAt(L1p);};Z3p.prototype.getColumnHierarchyIdx=function(N1p){return this._columnAxis.hasMeasures&&(N1p.length>this._measuresPosition||g0u.N5B==this._measuresPosition)?N1p.length:N1p.length-g0u.I5B;};Z3p.prototype.getColumnHierarchy=function(I1p){I1p=this.getColumnHierarchyIdx(I1p);return this._columns.getItemAt(I1p);};Object.defineProperty(Z3p.prototype,y0u.j2t,{get:function(){return this.columnTuples.length;},set:function(i1p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.k2t,{get:function(){return this.rowTuples.length;},set:function(T0p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.y2t,{get:function(){return this._columnTuples.length;},set:function(C0p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.g2t,{get:function(){return this.isClassic?(this.rowAxis&&this.rowAxis.hasMeasures?this._measures.length:g0u.I5B)*this.rowTuples.length:this._rowTuples.length;},set:function(J0p){},enumerable:!g0u.N5B,configurable:!g0u.N5B});Z3p.prototype.isRowExpanded=function(Q0p,F0p){void g0u.N5B===F0p&&(F0p=g0u.r0B);return this.dataStorage.isRowExpanded(Q0p,F0p);};Z3p.prototype.isColumnExpanded=function(Z0p,u0p){void g0u.N5B===u0p&&(u0p=g0u.r0B);return this.dataStorage.isColumnExpanded(Z0p,u0p);};Z3p.prototype.isRowDrilledDown=function(e0p,P0p,D0p){void g0u.N5B===D0p&&(D0p=g0u.r0B);return this.dataStorage.isRowDrilledDown(e0p,P0p,D0p);};Z3p.prototype.isColumnDrilledDown=function(O0p,j0p,B0p){void g0u.N5B===B0p&&(B0p=g0u.r0B);return this.dataStorage.isColumnDrilledDown(O0p,j0p,B0p);};Z3p.prototype.isAggregated=function(k0p,y0p){return this.dataStorage.isAggregated(k0p,y0p);};Z3p.prototype.getColumnTupleIndex=function(a0p){a0p=a0p.slice(g0u.N5B);for(var S0p=this._columnAxis.hasMeasures,R0p=S0p?a0p.pop():-g0u.I5B,X0p=this._columnTuples,g0p=g0u.N5B;g0p<X0p.length;g0p++){var m0p=!g0u.N5B,b0p;if(S0p&&this.multiMeasures){if(R0p!=X0p[g0p][g0u.I5B])continue;b0p=X0p[g0p][g0u.N5B];}else b0p=X0p[g0p];if(b0p.length==a0p.length){for(var z0p=g0u.N5B;z0p<b0p.length;z0p++)if(b0p[z0p]!=a0p[z0p]){m0p=!g0u.I5B;break;}if(m0p)return g0p;}}return-g0u.I5B;};Z3p.prototype.getRowTupleIndex=function(f0p){f0p=f0p.slice(g0u.N5B);for(var Y0p=this._rowAxis.hasMeasures,p0p=Y0p?f0p.pop():-g0u.I5B,K0p=this.isClassic?this.rowTuples:this._rowTuples,s0p=g0u.N5B;s0p<K0p.length;s0p++){var W0p=!g0u.N5B,E0p;if(Y0p&&this.multiMeasures){if(p0p!=K0p[s0p][g0u.I5B])continue;E0p=K0p[s0p][g0u.N5B];}else E0p=K0p[s0p];if(E0p.length==f0p.length){for(var v0p=g0u.N5B;v0p<E0p.length;v0p++)if(E0p[v0p]!=f0p[v0p]){W0p=!g0u.I5B;break;}if(W0p)return s0p;}}return-g0u.I5B;};Z3p.prototype.getRowTuple=function(o0p,w0p){void g0u.N5B===w0p&&(w0p=!g0u.I5B);if(g0u.N5B>o0p||g0u.r0B==this._rowAxis||g0u.r0B==this._measures)return g0u.r0B;if(w0p&&this._rowAxis.hasMeasures&&this.multiMeasures){if(this.isClassic){var n0p=Math.floor(o0p/this._measures.length);return g0u.r0B==this.rowTuples[n0p]?g0u.r0B:this.rowTuples[n0p].slice(g0u.N5B);}return g0u.r0B==this._rowTuples[o0p]?g0u.r0B:this._rowTuples[o0p][g0u.N5B].slice(g0u.N5B);}return g0u.r0B==this.rowTuples[o0p]?g0u.r0B:this.rowTuples[o0p].slice(g0u.N5B);};Z3p.prototype.getColumnTuple=function(d0p,c0p){void g0u.N5B===c0p&&(c0p=!g0u.I5B);return g0u.N5B>d0p||g0u.r0B==this._columnAxis||g0u.r0B==this._measures?g0u.r0B:c0p&&this._columnAxis.hasMeasures&&this.multiMeasures?g0u.r0B==this._columnTuples[d0p]?g0u.r0B:this._columnTuples[d0p][g0u.N5B].slice():g0u.r0B==this.columnTuples[d0p]?g0u.r0B:this.columnTuples[d0p].slice();};Z3p.prototype.getColumnTupleByName=function(A0p,l0p){return g0u.r0B;};Z3p.prototype.getColumnTupleForExport=function(h0p){return this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[h0p]:this.columnTuples[h0p];};Z3p.prototype.getRowMeasure=function(M0p){return g0u.r0B==this._rowTuples[M0p]?g0u.r0B:this._rowAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._rowTuples[M0p][g0u.I5B]):g0u.r0B;};Z3p.prototype.getRowMeasureIndex=function(H0p){return g0u.r0B==this._rowTuples[H0p]?-g0u.I5B:this._rowAxis.hasMeasures&&this.multiMeasures?this._rowTuples[H0p][g0u.I5B]:-g0u.I5B;};Z3p.prototype.getColumnMeasure=function(V0p){return g0u.r0B==this._columnTuples[V0p]?g0u.r0B:this._columnAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._columnTuples[V0p][g0u.I5B]):g0u.r0B;};Z3p.prototype.getColumnMeasureIndex=function(U0p){return g0u.r0B==this._columnTuples[U0p]?-g0u.I5B:this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[U0p][g0u.I5B]:-g0u.I5B;};Z3p.prototype.getMeasure=function(x0p,t0p){if(g0u.r0B==this._measures||g0u.r0B==this._rowAxis||g0u.r0B==this._columnAxis)return g0u.r0B;if(this.multiMeasures){if(this._rowAxis.hasMeasures){if(this.isClassic){var G0p=x0p%this._measures.length;return g0u.r0B==this.rowTuples[Math.floor(x0p/this.measures.length)]?this._measures.getItemAt(g0u.N5B):this._measures.getItemAt(G0p);}return g0u.r0B==this._rowTuples[x0p]?this._measures.getItemAt(g0u.N5B):this._measures.getItemAt(this._rowTuples[x0p][g0u.I5B]);}return g0u.r0B==this._columnTuples[t0p]?this._measures.getItemAt(g0u.N5B):this._measures.getItemAt(this._columnTuples[t0p][g0u.I5B]);}return this._measures.getItemAt(g0u.N5B);};Z3p.prototype.drillThrough=function(r0p,q0p,L0p){return this.dataStorage.drillThrough(r0p,q0p,L0p);};Z3p.prototype.save=function(N0p,I0p,i0p,T9p,C9p){this.dataStorage.save(N0p,I0p,i0p,T9p,C9p);};Z3p.prototype.getUpdatedValue=function(J9p,F9p,Q9p){return this.dataStorage.getUpdatedValue(J9p,F9p,Q9p);};Z3p.prototype.getRecordId=function(u9p,Z9p,D9p){return g0u.r0B;};Z3p.prototype.getValue=function(P9p,B9p,e9p){var O9p;if(e9p.aggregation==F3p.consts.AggregationName.PERCENT)return O9p=this.dataStorage.getValue([],[],e9p),P9p=this.dataStorage.getValue(P9p,B9p,e9p),Math.abs(g0u.F0B*P9p/O9p);if(e9p.aggregation==F3p.consts.AggregationName.PERCENT_COLUMN)return O9p=this.dataStorage.getValue([],B9p,e9p),P9p=this.dataStorage.getValue(P9p,B9p,e9p),g0u.F0B*P9p/O9p;if(e9p.aggregation==F3p.consts.AggregationName.PERCENT_ROW)return O9p=this.dataStorage.getValue(P9p,[],e9p),P9p=this.dataStorage.getValue(P9p,B9p,e9p),g0u.F0B*P9p/O9p;if(e9p.aggregation==F3p.consts.AggregationName.INDEX){O9p=this.dataStorage.getValue([],[],e9p);var j9p=this.dataStorage.getValue(P9p,[],e9p),k9p=this.dataStorage.getValue([],B9p,e9p);P9p=this.dataStorage.getValue(P9p,B9p,e9p);return Math.abs(O9p*P9p/(k9p*j9p));}return e9p.aggregation==F3p.consts.AggregationName.DIFFERENCE?this.getDifference(P9p,B9p,e9p,!g0u.I5B):e9p.aggregation==F3p.consts.AggregationName.PERCENT_DIFFERENCE?this.getDifference(P9p,B9p,e9p,!g0u.N5B):e9p.aggregation==F3p.consts.AggregationName.RUNNING_TOTALS?this.dataStorage.getRunningTotals(P9p,B9p,e9p,this.rowAxis.hasMeasures?F3p.consts.AxisName.ROWS_AXIS:F3p.consts.AxisName.COLUMNS_AXIS):this.dataStorage.getValue(P9p,B9p,e9p);};Z3p.prototype.getDifference=function(y9p,g9p,a9p,X9p){return this.rowAxis.hasMeasures?this.getDifferenceColumn(y9p,g9p,a9p,X9p):this.getDifferenceRow(y9p,g9p,a9p,X9p);};Z3p.prototype.getDifferenceColumn=function(z9p,S9p,m9p,R9p){var b9p;if(g0u.N5B<this.columns.length){b9p=this.getColumnTupleIndex(S9p);if(g0u.N5B>b9p)return g0u.N5B;if(g0u.N5B==b9p||g0u.N5B==S9p.length)return NaN;b9p=this.getColumnTuple(b9p-g0u.I5B);if(S9p.length!=b9p.length)return NaN;b9p=this.dataStorage.getValue(z9p,b9p,m9p);}else{z9p.slice(g0u.N5B);z9p.push(-g0u.I5B);b9p=this.getRowTupleIndex(z9p);z9p.pop();if(g0u.N5B==b9p||g0u.N5B==z9p.length)return NaN;if(g0u.N5B>b9p)return g0u.N5B;b9p=this.getRowTuple(b9p-g0u.I5B,!g0u.N5B);if(z9p.length!=b9p.length)return NaN;b9p=this.dataStorage.getValue(b9p,S9p,m9p);}z9p=this.dataStorage.getValue(z9p,S9p,m9p);return R9p?(z9p-b9p)/b9p*g0u.F0B:z9p-b9p;};Z3p.prototype.getDifferenceRow=function(K9p,f9p,E9p,v9p){var s9p;if(g0u.N5B<this.rows.length){s9p=this.getRowTupleIndex(K9p);if(g0u.N5B==s9p||g0u.N5B==K9p.length)return NaN;if(g0u.N5B>s9p)return g0u.N5B;s9p=this.getRowTuple(s9p-g0u.I5B);if(K9p.length!=s9p.length)return NaN;s9p=this.dataStorage.getValue(s9p,f9p,E9p);}else{f9p=f9p.slice(g0u.N5B);f9p.push(g0u.N5B);s9p=this.getColumnTupleIndex(f9p);f9p.pop();if(g0u.N5B==s9p||g0u.N5B==f9p.length)return NaN;if(g0u.N5B>s9p)return g0u.N5B;s9p=this.getColumnTuple(s9p-g0u.I5B,!g0u.N5B);if(f9p.length!=s9p.length)return NaN;s9p=this.dataStorage.getValue(K9p,s9p,E9p);}K9p=this.dataStorage.getValue(K9p,f9p,E9p);return v9p?(K9p-s9p)/s9p*g0u.F0B:K9p-s9p;};Z3p.prototype.calculate=function(Y9p,W9p,p9p,o9p){return this.dataStorage.calculate(Y9p,W9p,p9p,o9p);};Z3p.prototype.expandData=function(w9p){this.dataLoaded&&(w9p=this.slice.allHierarchies().getItem(w9p),g0u.r0B!=w9p&&this.expandHierarchy(w9p));};Z3p.prototype.expandHierarchy=function(c9p){var d9p=this.slice.rows.keyExists(c9p.uniqueName)?F3p.consts.AxisName.ROWS_AXIS:F3p.consts.AxisName.COLUMNS_AXIS,n9p=d9p==F3p.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;c9p=d9p==F3p.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(c9p.uniqueName):this.slice.columnsOnly.indexOf(c9p.uniqueName);if(c9p+g0u.I5B!=n9p){var n9p=[],A9p=(d9p==F3p.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(g0u.N5B,c9p+g0u.I5B);this.getTuples([],A9p,n9p);for(var A9p=d9p==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-g0u.I5B,l9p=g0u.N5B;l9p<n9p.length;l9p++)if(g0u.N5B<=A9p&&A9p<=c9p&&g0u.I5B<this.slice.measures_.length)for(var h9p=g0u.N5B;h9p<this.slice.measures_.length;h9p++){var M9p=this.slice.measures_.getItemAt(h9p);n9p[l9p].length>A9p?this.expand(n9p[l9p],d9p,M9p,!g0u.I5B):this.expand(n9p[l9p],d9p,g0u.r0B,!g0u.I5B);}else this.expand(n9p[l9p],d9p,g0u.r0B,!g0u.I5B);this.cube_.dispatch(new F3p.QueryCompleteEvent(F3p.consts.QueryType.EXPAND));}};Z3p.prototype.getTuples=function(q9p,U9p,r9p,V9p){void g0u.N5B===V9p&&(V9p=!g0u.N5B);if(g0u.N5B!=U9p.length)for(var H9p=U9p.getItemAt(g0u.N5B),H9p=H9p.hasFilter()?H9p.filter:H9p.members,x9p=g0u.N5B;x9p<H9p.length;x9p++){var G9p=H9p.getItemAt(x9p);if(!G9p.isAll){var t9p=q9p.slice(g0u.N5B);t9p.push(G9p.ordinal);(V9p||!V9p&&g0u.I5B==U9p.length)&&r9p.push(t9p.slice(g0u.N5B));this.getTuples(t9p.slice(g0u.N5B),U9p.slice(g0u.I5B),r9p,V9p);}}};Z3p.prototype.collapseData=function(L9p){this.dataLoaded&&(L9p=this.slice.allHierarchies().getItem(L9p),g0u.r0B!=L9p&&this.collapseHierarchy(L9p));};Z3p.prototype.collapseHierarchy=function(i9p){var I9p=this.slice.rows.keyExists(i9p.uniqueName)?F3p.consts.AxisName.ROWS_AXIS:F3p.consts.AxisName.COLUMNS_AXIS,N9p=I9p==F3p.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;i9p=I9p==F3p.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(i9p.uniqueName):this.slice.columnsOnly.indexOf(i9p.uniqueName);if(i9p+g0u.I5B!=N9p){var N9p=[],T6p=(I9p==F3p.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(g0u.N5B,i9p+g0u.I5B);this.getTuples([],T6p,N9p,!g0u.I5B);for(var T6p=I9p==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-g0u.I5B,C6p=g0u.N5B;C6p<N9p.length;C6p++)if(g0u.N5B<=T6p&&T6p<=i9p&&g0u.I5B<this.slice.measures_.length)for(var J6p=g0u.N5B;J6p<this.slice.measures_.length;J6p++){var F6p=this.slice.measures_.getItemAt(J6p);N9p[C6p].length>T6p?this.collapse(N9p[C6p],I9p,F6p,!g0u.I5B):this.collapse(N9p[C6p],I9p,g0u.r0B,!g0u.I5B);}else this.collapse(N9p[C6p],I9p,g0u.r0B,!g0u.I5B);this.cube_.dispatch(new F3p.QueryCompleteEvent(F3p.consts.QueryType.COLLAPSE));}};Z3p.prototype.expandAll=function(){this.dataLoaded&&(this.reset(),this.slice.expandAll?this.dataStorage.expandAll(this.slice.drillAll):this.cube_.select());};Z3p.prototype.sort=function(){this.prepare();this.cube_.dispatchWith(J3p.model._state.StateEvent.REPORT_CHANGED);};Object.defineProperty(Z3p.prototype,y0u.a2t,{get:function(){return this._lastRowsTupleInteracted;},enumerable:!g0u.N5B,configurable:!g0u.N5B});Object.defineProperty(Z3p.prototype,y0u.X2t,{get:function(){return this._lastColsTupleInteracted;},enumerable:!g0u.N5B,configurable:!g0u.N5B});Z3p.prototype.expand=function(B6p,D6p,P6p,O6p){void g0u.N5B===P6p&&(P6p=g0u.r0B);void g0u.N5B===O6p&&(O6p=!g0u.N5B);D6p==F3p.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=B6p);D6p==F3p.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=B6p);var Q6p=this.slice.findAxis(D6p),e6p=B6p.slice(g0u.N5B),Q6p=P6p&&Q6p.hasMeasures?this._measures.indexOf(P6p.uniqueName):-g0u.I5B;e6p.unshift(Q6p);var u6p=[];if(this.isAllExpanded())if(D6p==F3p.consts.AxisName.ROWS_AXIS){for(var u6p=[],Z6p=this.getCollapsedRows(),Q6p=g0u.N5B;Q6p<Z6p.length;Q6p++)e6p.toString()!=Z6p[Q6p].toString()&&u6p.push(Z6p[Q6p]);this.setCollapsedRows(u6p);}else{u6p=[];Z6p=this.getCollapsedColumns();for(Q6p=g0u.N5B;Q6p<Z6p.length;Q6p++)e6p.toString()!=Z6p[Q6p].toString()&&u6p.push(Z6p[Q6p]);this.setCollapsedColumns(u6p);}else D6p==F3p.consts.AxisName.ROWS_AXIS?(u6p=this.getExpandedRows().slice(g0u.N5B),u6p.push(e6p),this.setExpandedRows(u6p)):(u6p=this.getExpandedColumns().slice(g0u.N5B),u6p.push(e6p),this.setExpandedColumns(u6p));this.cube_.expand(B6p,D6p,P6p,O6p);this.cube_.dispatchWith(J3p.model._state.StateEvent.REPORT_CHANGED);};Z3p.prototype.collapse=function(g6p,a6p,b6p,z6p){void g0u.N5B===b6p&&(b6p=g0u.r0B);void g0u.N5B===z6p&&(z6p=!g0u.N5B);a6p==F3p.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=g6p.slice(g0u.N5B,g6p.length-g0u.I5B));a6p==F3p.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=g6p.slice(g0u.N5B,g6p.length-g0u.I5B));var j6p=this.slice.findAxis(a6p),X6p=g6p.slice(g0u.N5B),j6p=b6p&&j6p.hasMeasures?this._measures.indexOf(b6p.uniqueName):-g0u.I5B;X6p.unshift(j6p);var k6p=[];if(this.isAllExpanded())a6p==F3p.consts.AxisName.ROWS_AXIS?(k6p=this.getCollapsedRows().slice(g0u.N5B),k6p.push(X6p),this.setCollapsedRows(k6p)):(k6p=this.getCollapsedColumns().slice(g0u.N5B),k6p.push(X6p),this.setCollapsedColumns(k6p));else if(a6p==F3p.consts.AxisName.ROWS_AXIS){for(var k6p=[],y6p=this.getExpandedRows(),j6p=g0u.N5B;j6p<y6p.length;j6p++)X6p.toString()!=y6p[j6p].toString()&&k6p.push(y6p[j6p]);this.setExpandedRows(k6p);}else{k6p=[];y6p=this.getExpandedColumns();for(j6p=g0u.N5B;j6p<y6p.length;j6p++)X6p.toString()!=y6p[j6p].toString()&&k6p.push(y6p[j6p]);this.setExpandedColumns(k6p);}this.cube_.collapse(g6p,a6p,b6p,z6p);this.cube_.dispatchWith(J3p.model._state.StateEvent.REPORT_CHANGED);};Z3p.prototype.drillUp=function(v6p,Y6p,K6p,s6p,m6p){void g0u.N5B===s6p&&(s6p=g0u.r0B);if(void g0u.N5B!==m6p)return this.drillUpTo(v6p,Y6p,K6p,s6p,m6p);var S6p=this.slice.findAxis(K6p);m6p=[];var R6p=v6p.slice(g0u.N5B);R6p.unshift(Y6p.uniqueName);S6p=s6p&&S6p.hasMeasures?this._measures.indexOf(s6p.uniqueName):-g0u.I5B;R6p.unshift(S6p);if(this.isAllDrilled())K6p==F3p.consts.AxisName.ROWS_AXIS?(m6p=this.getDrilledUpRows().slice(g0u.N5B),m6p.push(R6p),this.setDrilledUpRows(m6p)):(m6p=this.getDrilledUpColumns().slice(g0u.N5B),m6p.push(R6p),this.setDrilledUpColumns(m6p));else if(K6p==F3p.consts.AxisName.ROWS_AXIS){var f6p=this.getDrilledDownRows(),E6p;for(E6p in f6p)S6p=f6p[E6p],g0u.q9B==typeof S6p[g0u.N5B]&&(S6p=S6p.slice(g0u.I5B)),S6p.toString()!=R6p.toString()&&m6p.push(S6p);this.setDrilledDownRows(m6p);}else{f6p=this.getDrilledDownColumns();for(E6p in f6p)S6p=f6p[E6p],g0u.q9B==typeof S6p[g0u.N5B]&&(S6p=S6p.slice(g0u.I5B)),S6p.toString()!=R6p.toString()&&m6p.push(S6p);this.setDrilledDownColumns(m6p);}this.cube_.drillUp(v6p,Y6p,K6p,s6p);this.cube_.dispatchWith(J3p.model._state.StateEvent.REPORT_CHANGED);};Z3p.prototype.ascendantByLevel=function(p6p,o6p){for(var W6p=p6p;void g0u.N5B!==W6p&&W6p.level.uniqueName!=o6p;)W6p=W6p.parent;return W6p;};Z3p.prototype.drillUpTo=function(U6p,A6p,V6p,h6p,H6p){void g0u.N5B===h6p&&(h6p=g0u.r0B);var M6p=this.ascendantByLevel(A6p,H6p),d6p,n6p=this.slice.findAxis(V6p),l6p=[],w6p=U6p.slice(g0u.N5B);w6p.unshift(A6p.uniqueName);n6p=h6p&&n6p.hasMeasures?this._measures.indexOf(h6p.uniqueName):-g0u.I5B;w6p.unshift(n6p);w6p.unshift(H6p);l6p.push(w6p);if(V6p==F3p.consts.AxisName.ROWS_AXIS){for(var c6p=this.getDrilledDownRows(),n6p=c6p.length-g0u.I5B;g0u.N5B<=n6p;n6p--)w6p=c6p[n6p],d6p=g0u.q9B==typeof w6p[g0u.N5B]?A6p.hierarchy_.findMember(w6p[g0u.i5B]):A6p.hierarchy_.findMember(w6p[g0u.I5B]),d6p=this.ascendantByLevel(d6p,H6p),void g0u.N5B!==d6p&&d6p.uniqueName==M6p.uniqueName||l6p.unshift(w6p);this.setDrilledDownRows(l6p);}else{c6p=this.getDrilledDownColumns();for(n6p=c6p.length-g0u.I5B;g0u.N5B<=n6p;n6p--)w6p=c6p[n6p],d6p=g0u.q9B==typeof w6p[g0u.N5B]?A6p.hierarchy_.findMember(w6p[g0u.i5B]):A6p.hierarchy_.findMember(w6p[g0u.I5B]),d6p=this.ascendantByLevel(d6p,H6p),void g0u.N5B!==d6p&&d6p.uniqueName==M6p.uniqueName||l6p.unshift(w6p);this.setDrilledDownColumns(l6p);}w6p=U6p.slice(g0u.N5B);w6p[w6p.length-g0u.I5B]=M6p.ordinal;this.cube_.drillUp(w6p,M6p,V6p,h6p);};Z3p.prototype.drillDown=function(I6p,i6p,L6p,r6p,x6p){void g0u.N5B===r6p&&(r6p=g0u.r0B);if(void g0u.N5B!==x6p)return this.drillDownTo(I6p,i6p,L6p,r6p,x6p);var t6p=this.slice.findAxis(L6p);x6p=[];var G6p=I6p.slice(g0u.N5B);G6p.unshift(i6p.uniqueName);t6p=r6p&&t6p.hasMeasures?this._measures.indexOf(r6p.uniqueName):-g0u.I5B;G6p.unshift(t6p);if(this.isAllDrilled())if(L6p==F3p.consts.AxisName.ROWS_AXIS){var q6p=this.getDrilledUpRows(),N6p;for(N6p in q6p)t6p=q6p[N6p],t6p.toString()!=G6p.toString()&&x6p.push(t6p);this.setDrilledUpRows(x6p);}else{q6p=this.getDrilledUpColumns();for(N6p in q6p)t6p=q6p[N6p],t6p.toString()!=G6p.toString()&&x6p.push(t6p);this.setDrilledUpColumns(x6p);}else L6p==F3p.consts.AxisName.ROWS_AXIS?(x6p=this.getDrilledDownRows().slice(g0u.N5B),x6p.push(G6p),this.setDrilledDownRows(x6p)):(x6p=this.getDrilledDownColumns().slice(g0u.N5B),x6p.push(G6p),this.setDrilledDownColumns(x6p));this.cube_.drillDown(I6p,i6p,L6p,r6p);this.cube_.dispatchWith(J3p.model._state.StateEvent.REPORT_CHANGED);};Z3p.prototype.drillDownTo=function(T4p,J4p,F4p,Q4p,Z4p){var u4p=this.slice.findAxis(F4p),C4p=[];T4p=T4p.slice(g0u.N5B);T4p.unshift(J4p.uniqueName);J4p=Q4p&&u4p.hasMeasures?this._measures.indexOf(Q4p.uniqueName):-g0u.I5B;T4p.unshift(J4p);T4p.unshift(Z4p);F4p==F3p.consts.AxisName.ROWS_AXIS?(C4p=this.getDrilledDownRows().slice(g0u.N5B),C4p.push(T4p),this.setDrilledDownRows(C4p)):(C4p=this.getDrilledDownColumns().slice(g0u.N5B),C4p.push(T4p),this.setDrilledDownColumns(C4p));};Z3p.dispose=function(){Z3p.instance&&(Z3p.instance.removeEventListeners(),Z3p.instance.removeAllEventListeners());Z3p.instance=g0u.r0B;};Z3p.counter=g0u.N5B;Z3p.SCRIPT_EXECUTION_TIMEOUT=b2t;return Z3p;}(events.EventDispatcher);u3p.ViewDataProvider=Q3p;}(F3p.dataprovider_||(F3p.dataprovider_={})));}(J3p.data_||(J3p.data_={})));}(pivot||(pivot={})));(function(D4p){(function(e4p){(function(P4p){var O4p=function(){j4p.getDataProvider=function(y4p){var h19=T3yy;void h19.N5B===y4p&&(y4p=h19.o9B);h19.o9B==y4p&&(y4p=D4p.model._options.OptionsManager.flatView?B4p.FLAT:B4p.PIVOT);var k4p=h19.r0B,k4p=y4p==B4p.FLAT?P4p.FlatViewDataProvider.getInstance():P4p.ViewDataProvider.getInstance();k4p.addEventListeners();j4p.dataProvider_!=k4p?(j4p.dataProvider_&&j4p.dataProvider_.removeEventListeners(),k4p.load()):D4p.model._options.OptionsManager.optionAffectedDataProvider&&(k4p.load(),D4p.model._options.OptionsManager.optionAffectedDataProvider=!h19.I5B);j4p.dataProvider_=k4p;return j4p.dataProvider_;};function j4p(){}j4p.dispose=function(){P4p.FlatViewDataProvider.dispose();P4p.ViewDataProvider.dispose();j4p.dataProvider_=T3yy.r0B;};j4p.dataProvider_=T3yy.r0B;return j4p;}();P4p.DataProviderFactory=O4p;var B4p=function(){g4p.PIVOT=J3yy.z2t;function g4p(){}g4p.FLAT=J3yy.S2t;return g4p;}();P4p.DataProviderType=B4p;}(e4p.dataprovider_||(e4p.dataprovider_={})));}(D4p.data_||(D4p.data_={})));}(pivot||(pivot={})));(function(a4p){(function(X4p){(function(z4p){var b4p=function(m4p){var B0u=T3yy;var P0u=J3yy;__extends(S4p,m4p);Object.defineProperty(S4p.prototype,P0u.l4t,{get:function(){return B0u.r0B!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage;},set:function(s4p){this._dataStorage=s4p;},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,C3yy.u1J,{get:function(){return B0u.r0B!=this._slice?this._slice:this.cube_.slice_;},set:function(f4p){this._slice=f4p;},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.t4t,{get:function(){return this._measures;},set:function(K4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.J2t,{get:function(){return B0u.I5B<this._measures.length;},set:function(E4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.r4t,{get:function(){return this.slice&&this._dataLoaded;},set:function(v4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});S4p.getInstance=function(){B0u.r0B==S4p.instance&&(S4p.instance=new S4p());return S4p.instance;};S4p.prototype.addEventListeners=function(){this.cube_.addEventListener(X4p.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,B0u.I5B);};S4p.prototype.removeEventListeners=function(){this.cube_.removeEventListener(X4p.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);};S4p.prototype.load=function(){if(B0u.r0B==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,B0u.r0B==this.dataStorage))return;this.slice&&(this.dataStorage.expand([],X4p.consts.AxisName.ROWS_AXIS,B0u.r0B),this.dataStorage.expand([],X4p.consts.AxisName.COLUMNS_AXIS,B0u.r0B),this.prepare(),this._dataLoaded=!B0u.N5B);};S4p.prototype.onQueryComplete=function(){this.load();};S4p.prototype.prepare=function(){var W4p,p4p,Y4p,o4p=this.slice?this.slice.flatten(!B0u.N5B):new utils.AssociativeArray();this.colIndices.length=B0u.N5B;this.colNames=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();for(W4p=B0u.N5B;W4p<o4p.length;W4p++)Y4p=o4p.getItemAt(W4p),p4p=this.cube_.structure_.hierarchyToMeasure(Y4p.uniqueName),B0u.r0B==p4p&&(p4p=this.cube_.structure_.calculatedMeasures.getItem(Y4p.uniqueName)),p4p&&this._measures.addItem(p4p.uniqueName,p4p),p4p=this.dataStorage.factKeys.indexOf(Y4p.uniqueName),this.colIndices.push(p4p),this.colNames.addItem(Y4p.uniqueName,this.colIndices.length-B0u.I5B);if(this.hasColumnSorting)this._sort();else for(W4p=B0u.N5B;W4p<o4p.length;W4p++)if(Y4p=o4p.getItemAt(W4p),Y4p.sortName!=X4p.consts.SortType.UNSORTED){this._columnSortType=Y4p.sortName;this._columnSortTuple=this.getColumnTuple(W4p);this._columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(Y4p.uniqueName);B0u.r0B==this._columnSortMeasure&&(this._columnSortMeasure=this.cube_.structure_.calculatedMeasures.getItem(Y4p.uniqueName));this.sort();break;}};function S4p(){var R4p=m4p.call(this)||this;R4p._measures=new utils.AssociativeArray();R4p._dataLoaded=!B0u.I5B;R4p.queryCompleteHandler=function(){return R4p.onQueryComplete();};R4p._columnSortType=X4p.consts.SortType.UNSORTED;R4p._columnSortTuple=B0u.r0B;R4p.indices=[];R4p.colIndices=[];R4p.cube_=X4p.Cube.getInstance();return R4p;}Object.defineProperty(S4p.prototype,P0u.G4t,{get:function(){return B0u.N5B;},set:function(w4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.q4t,{get:function(){return B0u.N5B;},set:function(n4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.L4t,{get:function(){return B0u.N5B;},set:function(d4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.N4t,{get:function(){return B0u.N5B;},set:function(c4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,C3yy.i5J,{get:function(){return new utils.AssociativeArray();},set:function(A4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.M4t,{get:function(){return new utils.AssociativeArray();},set:function(l4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.H4t,{get:function(){return[];},set:function(h4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.V4t,{get:function(){return[];},set:function(M4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,C3yy.T1J,{get:function(){return new utils.AssociativeArray();},set:function(H4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.U4t,{get:function(){return new utils.AssociativeArray();},set:function(V4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.x4t,{get:function(){return new utils.AssociativeArray();},set:function(U4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.I4t,{get:function(){return new X4p._structure.Axis(X4p.consts.AxisName.ROWS_AXIS);},set:function(x4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.i4t,{get:function(){return new X4p._structure.Axis(X4p.consts.AxisName.COLUMNS_AXIS);},set:function(t4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.T2t,{get:function(){return B0u.I5B;},set:function(G4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.C2t,{get:function(){return B0u.N5B;},set:function(r4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.F2t,{get:function(){return B0u.r0B;},set:function(q4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.Q2t,{get:function(){return B0u.r0B;},set:function(L4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.u2t,{get:function(){return B0u.r0B;},set:function(N4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.Z2t,{get:function(){return!B0u.I5B;},set:function(I4p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.D2t,{get:function(){return this._columnSortType;},set:function(i4p){i4p=i4p.toLowerCase();this._columnSortType=i4p==X4p.consts.SortType.ASC||i4p==X4p.consts.SortType.DESC?i4p:X4p.consts.SortType.UNSORTED;},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.e2t,{get:function(){return this._columnSortTuple;},set:function(T2p){this._columnSortTuple=T2p;},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.P2t,{get:function(){return this._columnSortMeasure;},set:function(C2p){this._columnSortMeasure=C2p;},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.B2t,{get:function(){return this._columnSortType==X4p.consts.SortType.UNSORTED||B0u.r0B==this._columnSortTuple?!B0u.I5B:!B0u.N5B;},set:function(J2p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});S4p.prototype.reset=function(F2p){this._dataLoaded=!B0u.I5B;this._sortedHierarchy=B0u.r0B;this._measures=new utils.AssociativeArray();this.indices.length=B0u.N5B;this.colIndices.length=B0u.N5B;this.colNames=new utils.AssociativeArray();this._columnSortTuple=this._columnSortMeasure=B0u.r0B;this._columnSortType=X4p.consts.SortType.UNSORTED;};Object.defineProperty(S4p.prototype,P0u.O2t,{get:function(){return B0u.N5B==this.colIndices.length;},set:function(Q2p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});S4p.prototype.getRowDepth=function(u2p){return B0u.N5B;};S4p.prototype.getRowType=function(Z2p){return B0u.N5B;};S4p.prototype.getColumnType=function(D2p){return B0u.N5B;};S4p.prototype.getColumnDepth=function(e2p){return B0u.I5B;};S4p.prototype.getRowHierarchyIdx=function(P2p){return B0u.N5B;};S4p.prototype.getRowHierarchy=function(B2p){return this.getColumnHierarchy(B2p);};S4p.prototype.getColumnHierarchyIdx=function(O2p){return B0u.N5B;};S4p.prototype.getColumnHierarchy=function(j2p){return this.cube_.structure_.allHierarchies().getItem(this.dataStorage.keys[j2p[B0u.N5B]]);};Object.defineProperty(S4p.prototype,P0u.j2t,{get:function(){return this.colIndices.length;},set:function(k2p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.k2t,{get:function(){return this.dataStorage?this.dataStorage.result[B0u.N5B]:B0u.N5B;},set:function(y2p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.y2t,{get:function(){return this.colIndices.length;},set:function(g2p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.g2t,{get:function(){return this.dataStorage.getRowCount();},set:function(a2p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});S4p.prototype.isRowExpanded=function(X2p,b2p){return!B0u.I5B;};S4p.prototype.isColumnExpanded=function(z2p,S2p){return!B0u.I5B;};S4p.prototype.isRowDrilledDown=function(m2p,R2p,s2p){return!B0u.I5B;};S4p.prototype.isColumnDrilledDown=function(f2p,K2p,E2p){return!B0u.I5B;};S4p.prototype.isAggregated=function(v2p,Y2p){return!B0u.I5B;};S4p.prototype.getColumnTupleIndex=function(p2p){for(var W2p=B0u.N5B;W2p<this.colIndices.length;W2p++)if(this.colIndices[W2p].toString()==p2p.toString())return W2p;return-B0u.I5B;};S4p.prototype.getRowTupleIndex=function(w2p){if(!(B0u.N5B<this.indices.length&&w2p[B0u.N5B]<this.indices.length))return w2p[B0u.N5B];for(var o2p=B0u.N5B;o2p<this.indices.length;o2p++)if(this.indices[o2p].toString()==w2p.toString())return o2p;return-B0u.I5B;};S4p.prototype.getRowTuple=function(n2p,d2p){return B0u.N5B>n2p?B0u.r0B:B0u.N5B<this.indices.length&&n2p<this.indices.length?[this.indices[n2p]]:[n2p];};S4p.prototype.getColumnTuple=function(c2p,A2p){return B0u.N5B>c2p?B0u.r0B:B0u.N5B<this.colIndices.length&&c2p<this.colIndices.length?[this.colIndices[c2p]]:[c2p];};S4p.prototype.getColumnTupleByName=function(M2p,l2p){void B0u.N5B===l2p&&(l2p=!B0u.I5B);var h2p=this.colNames.getItem(M2p);return this.getColumnTuple(h2p,l2p);};S4p.prototype.getColumnTupleForExport=function(H2p){return B0u.r0B;};S4p.prototype.getRowMeasure=function(V2p){return B0u.r0B;};S4p.prototype.getRowMeasureIndex=function(U2p){return B0u.N5B;};S4p.prototype.getColumnMeasure=function(x2p){return B0u.r0B;};S4p.prototype.getColumnMeasureIndex=function(t2p){return B0u.N5B;};S4p.prototype.getMeasure=function(q2p,r2p){var G2p=this.getColumnTuple(r2p);return this._measures.getItem(this.dataStorage.factKeys[G2p[B0u.N5B]]);};S4p.prototype.getUpdatedValue=function(L2p,I2p,N2p){return B0u.r0B==L2p?this.dataStorage.getFlatUpdatedValue(B0u.r0B,N2p):this.dataStorage.getFlatUpdatedValue(L2p[B0u.N5B],N2p);};S4p.prototype.getValue=function(T8p,C8p,i2p){return B0u.r0B==C8p&&B0u.r0B==T8p?this.dataStorage.getValue([],[],i2p):this.dataStorage.getFlatValue(T8p[B0u.N5B],C8p[B0u.N5B],i2p,i2p.type!=X4p.types.MeasureType.COUNT);};S4p.prototype.getRecordId=function(J8p,F8p,Q8p){return B0u.r0B==F8p&&B0u.r0B==J8p?B0u.r0B:this.dataStorage.getRecordId(J8p[B0u.N5B],F8p[B0u.N5B],Q8p);};S4p.prototype.sort=function(){this._sort();};S4p.prototype._sort=function(){if(this.hasColumnSorting){this._columnSortMeasure.type!=X4p.types.MeasureType.COUNT?this.sortRowsByValue():this.sortRowsByMembers();this._sortedHierarchy&&(this._sortedHierarchy.sortName=X4p.consts.SortType.UNSORTED);var u8p=this.getColumnHierarchy(this._columnSortTuple);u8p&&(u8p.sortName=this._columnSortType,this._sortedHierarchy=u8p);}};S4p.prototype.sortRowsByValue=function(){var Z8p,e8p,D8p=[];for(Z8p=B0u.N5B;Z8p<this.extendedDataHeight;Z8p++)e8p=this.getValue([Z8p],this._columnSortTuple,this._columnSortMeasure),D8p[Z8p]=isNaN(e8p)?Number.NEGATIVE_INFINITY:e8p;this.indices=this._columnSortType!=X4p.consts.SortType.DESC?utils.ArrayUtils.sort(D8p,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(D8p,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);};S4p.prototype.sortRowsByMembers=function(){var y8p=this,B8p=this.getColumnHierarchy(this._columnSortTuple);if(B0u.r0B!=B8p){var P8p,O8p,j8p=[];P8p=B8p.levels_.getItemAt(B0u.I5B).type;var k8p=P8p==X4p.types.LevelType.YEAR||P8p==X4p.types.LevelType.MONTH||P8p==X4p.types.LevelType.DAY;for(P8p=B0u.N5B;P8p<this.extendedDataHeight;P8p++)O8p=this.getValue([P8p],this._columnSortTuple,this._columnSortMeasure),O8p=B8p.members.getItemAt(O8p),j8p.push(k8p?O8p.uniqueName:O8p.caption);if(k8p){this.sortedIndex={};k8p=B8p.sortChildren(B8p.allMember,!B0u.I5B,this._columnSortType);for(P8p=B0u.N5B;P8p<B8p.members.length;P8p++)O8p=B8p.members.getItemAt(P8p),this.sortedIndex[O8p.uniqueName]=k8p.indexOf(O8p.uniqueName);this.indices=utils.ArrayUtils.sort(j8p,utils.ArrayUtils.RETURNINDEXEDARRAY,function(g8p,a8p){return y8p.sortFunction(g8p,a8p);});}else this.indices=this._columnSortType!=X4p.consts.SortType.DESC?utils.ArrayUtils.sort(j8p,utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(j8p,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);}};S4p.prototype.sortFunction=function(z8p,S8p){var X8p=this.sortedIndex[z8p],b8p=this.sortedIndex[S8p];return X8p>b8p?B0u.I5B:X8p<b8p?-B0u.I5B:B0u.N5B;};S4p.prototype.calculate=function(m8p,R8p,s8p,f8p){return this.dataStorage.calculateFlat(m8p,R8p,s8p,f8p);};S4p.prototype.expandData=function(K8p){};S4p.prototype.collapseData=function(E8p){};S4p.prototype.expandAll=function(){};Object.defineProperty(S4p.prototype,P0u.a2t,{get:function(){return B0u.r0B;},enumerable:!B0u.N5B,configurable:!B0u.N5B});Object.defineProperty(S4p.prototype,P0u.X2t,{get:function(){return B0u.r0B;},enumerable:!B0u.N5B,configurable:!B0u.N5B});S4p.prototype.expand=function(v8p,Y8p,W8p,p8p){};S4p.prototype.collapse=function(o8p,w8p,n8p,d8p){};S4p.prototype.drillUp=function(c8p,A8p,l8p,h8p){};S4p.prototype.drillDown=function(M8p,H8p,V8p,U8p){};S4p.prototype.drillThrough=function(x8p,t8p,G8p){return[];};S4p.prototype.save=function(r8p,q8p,L8p,N8p,I8p){this.dataStorage.saveFlat(r8p,q8p,L8p,N8p,I8p);};Object.defineProperty(S4p.prototype,P0u.h4t,{get:function(){return!B0u.I5B;},set:function(i8p){},enumerable:!B0u.N5B,configurable:!B0u.N5B});S4p.dispose=function(){S4p.instance&&(S4p.instance.removeAllEventListeners(),S4p.instance.removeEventListeners());S4p.instance=B0u.r0B;};return S4p;}(events.EventDispatcher);z4p.FlatViewDataProvider=b4p;}(X4p.dataprovider_||(X4p.dataprovider_={})));}(a4p.data_||(a4p.data_={})));}(pivot||(pivot={})));(function(T3h){(function(C3h){(function(J3h){var F3h=function(u3h){__extends(Q3h,u3h);function Q3h(){return u3h.call(this)||this;}Q3h.getInstance=function(){var m2t="chart";T3yy.r0B==Q3h._instance&&(Q3h._instance=new Q3h(),Q3h._instance._name=m2t+J3h.ViewDataProvider.counter);return Q3h._instance;};Object.defineProperty(Q3h.prototype,J3yy.h4t,{get:function(){return!T3yy.I5B;},set:function(Z3h){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});Q3h.dispose=function(){Q3h._instance&&(Q3h._instance.removeEventListeners(),Q3h._instance.removeAllEventListeners());Q3h._instance=T3yy.r0B;};return Q3h;}(J3h.ViewDataProvider);J3h.ChartDataProvider=F3h;}(C3h.dataprovider_||(C3h.dataprovider_={})));}(T3h.data_||(T3h.data_={})));}(pivot||(pivot={})));(function(D3h){(function(e3h){(function(B3h){var P3h=function(){var u0u=T3yy;Object.defineProperty(O3h.prototype,C3yy.u0t,{get:function(){return this._caption;},set:function(y3h){u0u.r0B==y3h&&(y3h=u0u.o9B);y3h=y3h.toString();u0u.r9B==typeof y3h?this._caption=u0u.o9B+y3h:u0u.o9B==y3h.trim()?this._caption=D3h.model._labels.Labels.MEMBER_BLANK:this._caption=y3h;},enumerable:!u0u.N5B,configurable:!u0u.N5B});Object.defineProperty(O3h.prototype,J3yy.R2t,{get:function(){return this._uniqueName;},set:function(g3h){this._uniqueName=g3h;},enumerable:!u0u.N5B,configurable:!u0u.N5B});O3h.prototype._getProperty=function(a3h){if(this._hasProperty(a3h))return this.data[a3h];};O3h.prototype._setProperty=function(X3h,b3h){this.data[X3h]=b3h;};O3h.prototype._hasProperty=function(z3h){return this.data.hasOwnProperty(z3h);};O3h.prototype.toString=function(){return this.uniqueName;};O3h.prototype.toObject=function(){var S3h={};S3h.caption=this.caption;S3h.uniqueName=this.uniqueName;return S3h;};O3h.prototype.fromObject=function(R3h){for(var m3h in R3h)u0u.r0B!=this[m3h]&&(this[m3h]=R3h[m3h]);};function O3h(k3h,j3h){void u0u.N5B===j3h&&(j3h=u0u.o9B);this.data={};this.uniqueName=k3h;this.caption=j3h;}return O3h;}();B3h.GenericElement=P3h;}(e3h._structure||(e3h._structure={})));}(D3h.data_||(D3h.data_={})));}(pivot||(pivot={})));(function(s3h){(function(f3h){(function(K3h){var E3h=function(Y3h){var C0u=T3yy;var s2t="dimension";var Y2t="isHierarchy";var K2t="quantity";var q2t="allMember";var A2t="sortAs";var L2t="predefinedDrillDowns";var c2t="sortName";var t2t="filterQuantity";var r2t="allMemberName";var U2t="filterMembersNegated";var G2t="filterMeasureName";var W2t="isMeasures";var v2t="levels_";var p2t="filterEnabled";var f2t="origin";var x2t="filterType";var d2t="drillDownDepth";var V2t="filterMembers";__extends(v3h,Y3h);Object.defineProperty(v3h.prototype,s2t,{get:function(){return this._dimension;},set:function(c3h){this._dimension=c3h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,C0u.c6B,{get:function(){return this._type;},set:function(A3h){this._type=A3h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,f2t,{get:function(){return this._origin;},set:function(l3h){this._origin=l3h;this._isHierarchy=C0u.I5B==(l3h&C0u.I5B);},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,K2t,{get:function(){return this.members.length;},set:function(h3h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,J3yy.E2t,{get:function(){return this._folder;},set:function(M3h){C0u.k6B==M3h?this._folder=C0u.o9B:this._folder=M3h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,v2t,{get:function(){return this._levels;},set:function(H3h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.prototype.addLevel=function(V3h){V3h.hierarchy=this;this._levels.addItem(V3h.uniqueName,V3h);this._drilledDownMembers.addItemAt(V3h.uniqueName,new utils.AssociativeArray(),V3h.num);};v3h.prototype.addLevelAt=function(U3h,t3h){U3h.hierarchy=this;this._levels.addItemAt(U3h.uniqueName,U3h,t3h);for(var x3h=C0u.i5B;x3h<this._levels.length;x3h++)this._levels.getItemAt(x3h).num++;this._drilledDownMembers.addItemAt(U3h.uniqueName,new utils.AssociativeArray(),U3h.num);};v3h.prototype.findLevel=function(G3h){return this._levels.getItem(G3h);};Object.defineProperty(v3h.prototype,Y2t,{get:function(){return C0u.i5B<this.levels_.length;},set:function(r3h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,W2t,{get:function(){return this.uniqueName==f3h.Cube.MEASURES_NAME;},set:function(q3h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,p2t,{get:function(){return this._filterEnabled;},set:function(L3h){this._filterEnabled=L3h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});function v3h(o3h,w3h){var w2t=".(All Member)";var o2t=".(All)";void C0u.N5B===w3h&&(w3h=C0u.o9B);var W3h=Y3h.call(this,o3h,w3h)||this;W3h._type=C0u.I5B;W3h._origin=C0u.N5B;W3h._folder=C0u.o9B;W3h._allMemberName=C0u.o9B;W3h._sortName=v3h.DEFAULT_SORT_NAME;W3h._sortAs=C0u.r0B;W3h._filter=new utils.AssociativeArray();W3h._filterMembers=new utils.AssociativeArray();W3h.__filterMembersChanged=!C0u.I5B;W3h._filterMembersNegated=new utils.AssociativeArray();W3h.__filterMembersNegatedChanged=!C0u.I5B;W3h._members=new utils.AssociativeArray();W3h._drilledDownMembers=new utils.AssociativeArray();W3h._levels=new utils.AssociativeArray();W3h._isHierarchy=!C0u.I5B;W3h._filterEnabled=!C0u.N5B;W3h._predefinedDrillDowns=[];W3h.cache=[];W3h.cacheWithDescendants=[];W3h._filterType=f3h.consts.FilterType.NONE;W3h._filterQuantity=-C0u.I5B;W3h._filterMeasureName=C0u.o9B;var n3h=o3h+o2t,p3h=new K3h.GenericLevel(n3h,C3yy.y2J,C0u.N5B);W3h.addLevel(p3h);var p3h=o3h+w2t,d3h=new K3h.GenericMember(p3h,C3yy.y2J);W3h.addMember(d3h,n3h);W3h.allMemberName=p3h;return W3h;}Object.defineProperty(v3h.prototype,C3yy.e5J,{get:function(){return this._members;},set:function(N3h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.prototype.clear=function(){this._members=new utils.AssociativeArray();};v3h.prototype.addMember=function(I3h,i3h,T7h){void C0u.N5B===i3h&&(i3h=C0u.o9B);void C0u.N5B===T7h&&(T7h=C0u.o9B);C0u.o9B==i3h&&(i3h=this.levels_&&C0u.I5B<this.levels_.length?this.levels_.getItemAt(C0u.I5B).uniqueName:this.uniqueName+C3yy.g3J+this.caption,this.caption==s3h.model._labels.Labels.MEMBER_BLANK&&(i3h=this.uniqueName+J3yy.n2t));C0u.r0B==this.findMember(I3h.uniqueName)&&(I3h.hierarchy_=this,I3h.parent=this.findMember(T7h)||this.allMember,I3h.level=this.findLevel(i3h),C0u.r0B!=I3h.parent&&I3h.parent.addChild(I3h),I3h.ordinal=this._members.length,this._members.addItem(I3h.uniqueName,I3h),this.cache=[],this.cacheWithDescendants=[]);};v3h.prototype.drillDownMember=function(C7h){C0u.r0B!=C7h&&(C7h.isDrilledDown=!C0u.N5B,this._drilledDownMembers.getItem(C7h.level.uniqueName).addItem(C7h.uniqueName,C7h));};v3h.prototype.drillUpMember=function(J7h){J7h.isDrilledDown=!C0u.I5B;this._drilledDownMembers.getItem(J7h.level.uniqueName).removeItem(J7h.uniqueName);J7h=J7h.descendants;for(var F7h=C0u.N5B;F7h<J7h.length;F7h++){var Q7h=J7h.getItemAt(F7h);Q7h.isDrilledDown&&this.drillUpMember(Q7h);}};v3h.prototype.drilledDownMembers=function(u7h){return this._drilledDownMembers.getItem(u7h.uniqueName);};Object.defineProperty(v3h.prototype,d2t,{get:function(){for(var Z7h=C0u.I5B;Z7h<this.levels_.length;Z7h++){var D7h=this.levels_.getItemAt(Z7h);if(C0u.N5B==this.drilledDownMembers(D7h).length)return Z7h;}return C0u.I5B;},set:function(e7h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.prototype.findMemberByCaption=function(B7h){for(var P7h=C0u.N5B;P7h<this.members.length;P7h++)if(this.members.getItemAt(P7h).caption==B7h)return this.members.getItemAt(P7h);return C0u.r0B;};v3h.prototype.findMember=function(O7h){return this.members.getItem(O7h);};v3h.prototype.clearSort=function(j7h){void C0u.N5B===j7h&&(j7h=!C0u.I5B);this.sortName=j7h?f3h.consts.SortType.UNSORTED:v3h.DEFAULT_SORT_NAME;};v3h.prototype.clearSortCache=function(){this.cache=[];};Object.defineProperty(v3h.prototype,c2t,{get:function(){return this._sortName;},set:function(k7h){this._sortName=k7h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,A2t,{get:function(){return this._sortAs;},set:function(y7h){this._sortAs=y7h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.prototype.sort=function(){return this.sortChildren(this.allMember);};v3h.prototype.sortChildren=function(g7h,b7h,a7h){void C0u.N5B===b7h&&(b7h=!C0u.N5B);void C0u.N5B===a7h&&(a7h=C0u.o9B);if(C0u.r0B==g7h)return new utils.AssociativeArray();f3h.consts.SortType.isValid(a7h)||(a7h=this._sortName);if(b7h){if(C0u.r0B!=this.cacheWithDescendants[g7h.ordinal]){if(C0u.r0B!=this.cacheWithDescendants[g7h.ordinal][a7h])return this.cacheWithDescendants[g7h.ordinal][a7h];if(!this.isHierarchy){if(a7h==f3h.consts.SortType.DESC&&C0u.r0B!=this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.ASC])return this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.DESC]=this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.ASC].reverse(),this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.DESC];if(a7h==f3h.consts.SortType.ASC&&C0u.r0B!=this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.DESC])return this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.ASC]=this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.DESC].reverse(),this.cacheWithDescendants[g7h.ordinal][f3h.consts.SortType.ASC];}}}else if(C0u.r0B!=this.cache[g7h.ordinal]){if(C0u.r0B!=this.cache[g7h.ordinal][a7h])return this.cache[g7h.ordinal][a7h];if(!this.isHierarchy){if(a7h==f3h.consts.SortType.DESC&&C0u.r0B!=this.cache[g7h.ordinal][f3h.consts.SortType.ASC])return this.cache[g7h.ordinal][f3h.consts.SortType.DESC]=this.cache[g7h.ordinal][f3h.consts.SortType.ASC].reverse(),this.cache[g7h.ordinal][f3h.consts.SortType.DESC];if(a7h==f3h.consts.SortType.ASC&&C0u.r0B!=this.cache[g7h.ordinal][f3h.consts.SortType.DESC])return this.cache[g7h.ordinal][f3h.consts.SortType.ASC]=this.cache[g7h.ordinal][f3h.consts.SortType.DESC].reverse(),this.cache[g7h.ordinal][f3h.consts.SortType.ASC];}}var z7h=this._sortName;this._sortName=a7h;var X7h;X7h=b7h?g7h.descendants:g7h.children;C3yy.A4B<X7h.length?X7h=b7h?g7h.descendants:g7h.children:this._sortName==f3h.consts.SortType.UNSORTED?(X7h=b7h?g7h.descendants:g7h.children,C0u.N5B<X7h.length&&X7h.getItemAt(C0u.N5B).isAll&&X7h.removeItemAt(C0u.N5B)):X7h=this.sortByCaption(g7h,b7h);b7h?(C0u.r0B==this.cacheWithDescendants[g7h.ordinal]&&(this.cacheWithDescendants[g7h.ordinal]=[]),this.cacheWithDescendants[g7h.ordinal][a7h]=X7h):(C0u.r0B==this.cache[g7h.ordinal]&&(this.cache[g7h.ordinal]=[]),this.cache[g7h.ordinal][a7h]=X7h);this._sortName=z7h;return X7h;};v3h.prototype._sortByCaptionOptimized=function(v7h,Y7h){var S7h=v7h.getChildrenCaptions(),m7h=S7h.captions,S7h=S7h.members;this._sortName==f3h.consts.SortType.DESC&&(m7h=m7h.reverse(),S7h=S7h.reverse());for(var f7h=new utils.AssociativeArray(),R7h=C0u.N5B;R7h<m7h.length;R7h++)if(C0u.r0B!=m7h[R7h]){var K7h;this._sortName==f3h.consts.SortType.ASC&&(K7h=utils.ArrayUtils.sort(m7h[R7h],utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.RETURNINDEXEDARRAY));this._sortName==f3h.consts.SortType.DESC&&(K7h=utils.ArrayUtils.sort(m7h[R7h],utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.RETURNINDEXEDARRAY));for(var E7h=C0u.N5B;E7h<K7h.length;E7h++){var s7h=S7h[R7h][K7h[E7h]];f7h.addUniqueItem(s7h.uniqueName,s7h);Y7h&&(s7h=this.sortChildren(s7h),C0u.N5B<s7h.length&&f7h.concat(s7h,!C0u.I5B));}}return f7h;};v3h.prototype.checkIfMonth=function(W7h){try{if(J3yy.l2t==W7h.level.caption.toLowerCase())return!C0u.N5B;if(C0u.P1B<W7h.children.length)return!C0u.I5B;for(var p7h=C0u.N5B;p7h<W7h.children.length;p7h++){var w7h=W7h.children.getItemAt(p7h).caption.split(C0u.L0B)[C0u.N5B];if(-C0u.I5B==s3h.model._labels.Labels.MONTHS_LABELS.indexOf(w7h)&&-C0u.I5B==s3h.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(w7h))return!C0u.I5B;}var o7h=W7h.hierarchy_.levels_.indexOf(W7h.level.uniqueName);if(W7h.hierarchy_.levels_.length<o7h+C0u.i5B)return!C0u.I5B;W7h.hierarchy_.levels_.getItemAt(o7h+C0u.I5B).type=f3h.types.LevelType.MONTH;W7h.hierarchy_.levels_.getItemAt(o7h+C0u.i5B).type=f3h.types.LevelType.DAY;return!C0u.N5B;}catch(n7h){}return!C0u.I5B;};v3h.prototype.sortByCaption=function(h7h,V7h){var d7h=this.levels_.getItemAt(h7h.level.num+C0u.I5B),l7h=d7h&&d7h.type==f3h.types.LevelType.YEAR,A7h=d7h&&d7h.type==f3h.types.LevelType.HALFYEAR,H7h=d7h&&d7h.type==f3h.types.LevelType.QUARTER,M7h=d7h&&d7h.type==f3h.types.LevelType.MONTH,U7h=d7h&&d7h.type==f3h.types.LevelType.WEEK,x7h=d7h&&d7h.type==f3h.types.LevelType.DAY,t7h=d7h&&d7h.type==f3h.types.LevelType.HOUR,G7h=d7h&&d7h.type==f3h.types.LevelType.MINUTE,r7h=d7h&&d7h.type==f3h.types.LevelType.NUMBER,q7h=d7h&&d7h.type==f3h.types.LevelType.TIME||d7h&&d7h.type==f3h.types.LevelType.DATE,L7h=d7h&&d7h.type==f3h.types.LevelType.TIME_DATE,N7h=this.sortAs==f3h.consts.SortType.NUMERIC_RANGE;if(!(H7h||M7h||U7h||q7h||x7h||t7h||G7h||r7h||L7h)){if(C3yy.t4B<h7h.children.length)return this._sortByCaptionOptimized(h7h,V7h);this.checkIfMonth(h7h)&&(M7h=!C0u.N5B);}var c7h=h7h.children.toArray();H7h||M7h||U7h||x7h||t7h||G7h||L7h||A7h||l7h?c7h=this.sortOrdinal(c7h,d7h?d7h.type:-C0u.I5B):q7h?c7h=this.sortDate(c7h):r7h?(this._sortName==f3h.consts.SortType.ASC&&utils.ArrayUtils.sortOn(c7h,J3yy.h2t,utils.ArrayUtils.NUMERIC),this._sortName==f3h.consts.SortType.DESC&&utils.ArrayUtils.sortOn(c7h,J3yy.h2t,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC)):N7h?c7h.sort(this.numericRangeSort):(this._sortName==f3h.consts.SortType.ASC&&utils.ArrayUtils.sortOn(c7h,C3yy.u0t,utils.ArrayUtils.CASEINSENSITIVE),this._sortName==f3h.consts.SortType.DESC&&utils.ArrayUtils.sortOn(c7h,C3yy.u0t,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE));d7h=new utils.AssociativeArray();for(l7h=C0u.N5B;l7h<c7h.length;l7h++)A7h=c7h[l7h],d7h.addUniqueItem(A7h.uniqueName,A7h),V7h&&!h7h.isLeaf&&(A7h=this.sortChildren(A7h,V7h),C0u.N5B<A7h.length&&d7h.concat(A7h,!C0u.I5B));return d7h;};v3h.prototype.sortOrdinal=function(I7h,i7h){i7h==f3h.types.LevelType.MONTH?I7h=this.sortMonths(I7h):i7h==f3h.types.LevelType.DAY?I7h=this.sortWeekdays(I7h):i7h==f3h.types.LevelType.QUARTER||i7h==f3h.types.LevelType.HALFYEAR||i7h==f3h.types.LevelType.YEAR?I7h=utils.ArrayUtils.sortOn(I7h,C3yy.u0t,utils.ArrayUtils.CASEINSENSITIVE|(this.sortName==f3h.consts.SortType.DESC?utils.ArrayUtils.DESCENDING:C0u.N5B)):(this.sortName==f3h.consts.SortType.ASC&&utils.ArrayUtils.sortOn(I7h,J3yy.h2t,utils.ArrayUtils.NUMERIC),this.sortName==f3h.consts.SortType.DESC&&utils.ArrayUtils.sortOn(I7h,J3yy.h2t,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC));return I7h;};v3h.prototype.sortMonths=function(Q5h){for(var u5h=this,T5h=[],C5h=[],J5h=C0u.N5B;J5h<Q5h.length;++J5h){var F5h=Q5h[J5h];this._checkIfMonth(F5h.caption)?C5h.push(F5h):T5h.push(F5h);}this.sortName==f3h.consts.SortType.ASC&&utils.ArrayUtils.sortOn(T5h,C3yy.u0t,utils.ArrayUtils.CASEINSENSITIVE);this.sortName==f3h.consts.SortType.DESC&&utils.ArrayUtils.sortOn(T5h,C3yy.u0t,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE);C5h.sort(function(Z5h,D5h){return u5h.dateTimeMonthSort(Z5h,D5h);});return C5h.concat(T5h);};v3h.prototype.sortWeekdays=function(j5h){for(var k5h=this,e5h=[],P5h=[],B5h=C0u.N5B;B5h<j5h.length;++B5h){var O5h=j5h[B5h];this._checkIfWeekday(O5h.caption)?P5h.push(O5h):e5h.push(O5h);}this.sortName==f3h.consts.SortType.ASC&&utils.ArrayUtils.sortOn(e5h,C3yy.u0t,utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.NUMERIC);this.sortName==f3h.consts.SortType.DESC&&utils.ArrayUtils.sortOn(e5h,C3yy.u0t,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.NUMERIC);P5h.sort(function(y5h,g5h){return k5h.weekDaySort(y5h,g5h);});return P5h.concat(e5h);};v3h.prototype._checkIfMonth=function(a5h){return-C0u.I5B!=s3h.model._labels.Labels.MONTHS_LABELS.indexOf(a5h)||-C0u.I5B!=s3h.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(a5h);};v3h.prototype._checkIfWeekday=function(X5h){return-C0u.I5B!=s3h.model._labels.Labels.WEEKDAYS_LABELS.indexOf(X5h)||-C0u.I5B!=s3h.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(X5h);};v3h.prototype.dateTimeMonthSort=function(S5h,m5h){var b5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.MONTHS_LABELS.indexOf(S5h.caption):s3h.model._labels.Labels.MONTHS_LABELS.indexOf(m5h.caption);-C0u.I5B==b5h&&(b5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(S5h.caption):s3h.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(m5h.caption));var z5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.MONTHS_LABELS.indexOf(m5h.caption):s3h.model._labels.Labels.MONTHS_LABELS.indexOf(S5h.caption);-C0u.I5B==z5h&&(z5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(m5h.caption):s3h.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(S5h.caption));return b5h>z5h?C0u.I5B:b5h<z5h?-C0u.I5B:C0u.N5B;};v3h.prototype.weekDaySort=function(f5h,K5h){var R5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.WEEKDAYS_LABELS.indexOf(f5h.caption):s3h.model._labels.Labels.WEEKDAYS_LABELS.indexOf(K5h.caption);-C0u.I5B==R5h&&(R5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(f5h.caption):s3h.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(K5h.caption));var s5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.WEEKDAYS_LABELS.indexOf(K5h.caption):s3h.model._labels.Labels.WEEKDAYS_LABELS.indexOf(f5h.caption);-C0u.I5B==s5h&&(s5h=this.sortName==f3h.consts.SortType.ASC?s3h.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(K5h.caption):s3h.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(f5h.caption));return R5h>s5h?C0u.I5B:R5h<s5h?-C0u.I5B:C0u.N5B;};v3h.prototype.sortDate=function(E5h){this._sortName==f3h.consts.SortType.ASC&&utils.ArrayUtils.sortOn(E5h,J3yy.h2t,utils.ArrayUtils.NUMERIC);this._sortName==f3h.consts.SortType.DESC&&utils.ArrayUtils.sortOn(E5h,J3yy.h2t,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC);return E5h;};v3h.prototype.numericRangeSort=function(W5h,p5h){var M2t=/(?:\d*\.)?\d+/;var v5h=W5h.caption.match(M2t),Y5h=p5h.caption.match(M2t),v5h=v5h&&C0u.N5B<v5h.length?parseFloat(v5h[C0u.N5B]):Number.POSITIVE_INFINITY,Y5h=Y5h&&C0u.N5B<Y5h.length?parseFloat(Y5h[C0u.N5B]):Number.POSITIVE_INFINITY;return v5h>Y5h?C0u.I5B:v5h<Y5h?-C0u.I5B:C0u.N5B;};v3h.prototype.membersByLevel=function(n5h){n5h=this._levels.getItem(n5h).num;for(var d5h=new utils.AssociativeArray(),c5h=this.sort(),w5h=C0u.N5B;w5h<c5h.length;w5h++){var o5h=c5h.getItemAt(w5h);o5h&&o5h.level.num==n5h&&d5h.addItem(o5h.uniqueName,o5h);}return d5h;};Object.defineProperty(v3h.prototype,J3yy.H2t,{get:function(){return C0u.N5B<this._filter.length?this._filter:this.filterMembers;},set:function(A5h){this._filter=A5h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,V2t,{get:function(){this.__filterMembersNegatedChanged&&(this._filterMembers=new utils.AssociativeArray(),C0u.N5B<this._filterMembersNegated.length&&(this._filterMembers=this.createOpposite(this._filterMembersNegated)),this.__filterMembersNegatedChanged=!C0u.I5B);return this._filterMembers;},set:function(l5h){l5h.length+C0u.I5B==this.members.length&&(l5h=new utils.AssociativeArray());this.__filterMembersChanged=!C0u.N5B;this._filterMembers=l5h;this._filterMembersNegated=new utils.AssociativeArray();},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,U2t,{get:function(){this.__filterMembersChanged&&(this._filterMembersNegated=new utils.AssociativeArray(),C0u.N5B<this._filterMembers.length&&(this._filterMembersNegated=this.createOpposite(this._filterMembers)),this.__filterMembersChanged=!C0u.I5B);return this._filterMembersNegated;},set:function(h5h){h5h.length+C0u.I5B==this.members.length&&(h5h=new utils.AssociativeArray());this.__filterMembersNegatedChanged=!C0u.N5B;this._filterMembersNegated=h5h;this._filterMembers=new utils.AssociativeArray();},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.prototype.createOpposite=function(U5h){for(var M5h=this.members.slice(C0u.I5B),V5h=C0u.N5B;V5h<U5h.length;V5h++){var H5h=U5h.getItemAt(V5h);M5h.removeItem(H5h.uniqueName);this.removeMemberChildren(M5h,H5h);H5h.parent&&this.removeMemberParent(M5h,H5h.parent);}this.checkMemberChildren(M5h,this.allMember);return M5h;};v3h.prototype.checkMemberChildren=function(t5h,r5h){for(var G5h=C0u.N5B;G5h<r5h.children.length;G5h++){var x5h=r5h.children.getItemAt(G5h);C0u.N5B<x5h.children.length&&(t5h.getItem(x5h.uniqueName)?t5h.getItem(x5h.children.getItemAt(C0u.N5B).uniqueName)&&this.removeMemberChildren(t5h,x5h):this.checkMemberChildren(t5h,x5h));}};v3h.prototype.removeMemberChildren=function(N5h,I5h){if(I5h)for(var L5h=I5h.children,q5h=C0u.N5B;q5h<L5h.length;q5h++)N5h.removeItem(L5h.getItemAt(q5h).uniqueName),this.removeMemberChildren(N5h,L5h.getItemAt(q5h));};v3h.prototype.removeMemberParent=function(T1h,i5h){i5h&&(T1h.removeItem(i5h.uniqueName),i5h.parent&&this.removeMemberParent(T1h,i5h.parent));};Object.defineProperty(v3h.prototype,x2t,{get:function(){return-C0u.I5B==this._filterQuantity?f3h.consts.FilterType.NONE:this._filterType;},set:function(C1h){C1h=C1h.toLowerCase();this._filterType=C1h==f3h.consts.FilterType.TOP||C1h==f3h.consts.FilterType.BOTTOM?C1h:f3h.consts.FilterType.NONE;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,t2t,{get:function(){return this._filterQuantity;},set:function(J1h){isNaN(J1h)||C0u.I5B>J1h?(this._filterQuantity=-C0u.I5B,this._filterType=f3h.consts.FilterType.NONE):this._filterQuantity=J1h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,G2t,{get:function(){return this._filterMeasureName;},set:function(F1h){this._filterMeasureName=F1h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.prototype.clearFilter=function(){this.clearMembersFilter();this.clearValuesFilter();};v3h.prototype.clearMembersFilter=function(){this._filter=new utils.AssociativeArray();this._filterMembers=new utils.AssociativeArray();this._filterMembersNegated=new utils.AssociativeArray();};v3h.prototype.clearValuesFilter=function(){this._filter=new utils.AssociativeArray();this._filterQuantity=-C0u.I5B;this._filterType=f3h.consts.FilterType.NONE;this._filterMeasureName=C0u.o9B;};v3h.prototype.hasFilter=function(){return this.hasMembersFilter()||this.hasValuesFilter();};v3h.prototype.hasMembersFilter=function(){return C0u.N5B<this._filterMembers.length||C0u.N5B<this._filterMembersNegated.length;};v3h.prototype.hasValuesFilter=function(){return this._filterType&&this.filterType!=f3h.consts.FilterType.NONE;};v3h.prototype.filterByLevel=function(e1h){for(var Z1h=new utils.AssociativeArray(),D1h=C0u.N5B<this._filter.length?this._filter:this._filterMembers,Q1h=C0u.N5B;Q1h<D1h.length;Q1h++){var u1h=D1h.getItemAt(Q1h);u1h.level.num==e1h&&Z1h.addItem(u1h.uniqueName,u1h);}return Z1h;};Object.defineProperty(v3h.prototype,r2t,{get:function(){return this._allMemberName;},set:function(P1h){this._allMemberName=P1h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,q2t,{get:function(){this._allMember||(this._allMember=this.findMember(this._allMemberName),this.drillDownMember(this._allMember));return this._allMember;},set:function(B1h){},enumerable:!C0u.N5B,configurable:!C0u.N5B});Object.defineProperty(v3h.prototype,L2t,{get:function(){return this._predefinedDrillDowns;},set:function(O1h){this._predefinedDrillDowns=O1h;},enumerable:!C0u.N5B,configurable:!C0u.N5B});v3h.toObject=function(k1h){var j1h={};j1h.uniqueName=k1h.uniqueName;j1h.caption=k1h.caption;j1h.filterEnabled=k1h.filterEnabled;j1h.sortName=k1h.sortName;j1h.sortAs=k1h.sortAs;j1h.type=k1h.type;j1h.filter=v3h.filterToObject(k1h);return j1h;};v3h.filterToObject=function(y1h){if(!C0u.I5B==y1h.hasFilter())return C0u.r0B;var g1h={};y1h.hasValuesFilter()&&(g1h={type:y1h.filterType,quantity:y1h.filterQuantity,measure:y1h.filterMeasureName,measureName:y1h.filterMeasureName});y1h.hasMembersFilter()&&(y1h.filterMembers.length<y1h.members.length/C0u.i5B?g1h.members=y1h.filterMembers.toArray(!C0u.N5B):(g1h.negation=!C0u.N5B,g1h.members=y1h.filterMembersNegated.toArray(!C0u.N5B)));return g1h;};v3h.fromObject=function(a1h,X1h){void C0u.N5B===X1h&&(X1h=C0u.r0B);var b1h=a1h.uniqueName;C0u.r0B==X1h&&(X1h=new v3h(b1h));a1h.hasOwnProperty(C3yy.u0t)&&(X1h.caption=a1h.caption);a1h.hasOwnProperty(c2t)&&(X1h.sortName=a1h.sortName);a1h.hasOwnProperty(A2t)&&(X1h.sortAs=a1h.sortAs);a1h.hasOwnProperty(p2t)&&(X1h.filterEnabled=a1h.filterEnabled);a1h.hasOwnProperty(C0u.c6B)&&(X1h.type=a1h.type);a1h.hasOwnProperty(f2t)&&(X1h.origin=a1h.origin);a1h.hasOwnProperty(J3yy.E2t)&&(X1h.folder=a1h.folder);a1h.hasOwnProperty(J3yy.H2t)&&v3h.filterFromObject(a1h.filter,X1h);a1h.hasOwnProperty(r2t)&&(X1h.allMemberName=a1h.allMemberName);return X1h;};v3h.filterFromObject=function(z1h,m1h){var I2t="measure";var N2t="measureName";if(C0u.r0B!=z1h){if(z1h.hasOwnProperty(C3yy.e5J)){for(var R1h,f1h,S1h=new utils.AssociativeArray(),s1h=C0u.N5B;s1h<z1h.members.length;s1h++)R1h=C0u.q9B==typeof z1h.members[s1h]?z1h.members[s1h]:z1h.members[s1h].uniqueName,f1h=m1h.findMember(R1h),C0u.r0B!=f1h&&S1h.addItem(R1h,f1h);z1h.negation?m1h.filterMembersNegated=S1h:m1h.filterMembers=S1h;}R1h=z1h.hasOwnProperty(C0u.c6B)?z1h.type:f3h.consts.FilterType.NONE;f1h=z1h.hasOwnProperty(K2t)?Number(z1h.quantity):-C0u.I5B;S1h=C0u.o9B;z1h.hasOwnProperty(N2t)&&(S1h=z1h.measureName);z1h.hasOwnProperty(I2t)&&(S1h=z1h.measure);R1h!=f3h.consts.FilterType.NONE&&(m1h.filterType=R1h,m1h.filterQuantity=f1h,m1h.filterMeasureName=S1h);}};v3h.DEFAULT_SORT_NAME=J3yy.i2t;return v3h;}(K3h.GenericElement);K3h.GenericHierarchy=E3h;}(f3h._structure||(f3h._structure={})));}(s3h.data_||(s3h.data_={})));}(pivot||(pivot={})));(function(K1h){(function(E1h){(function(v1h){var Y1h=function(p1h){var i1u=T3yy;var C8t="isLast";var T8t="num";__extends(W1h,p1h);Object.defineProperty(W1h.prototype,T8t,{get:function(){return this._number;},set:function(d1h){this._number=d1h;},enumerable:!i1u.N5B,configurable:!i1u.N5B});Object.defineProperty(W1h.prototype,i1u.c6B,{get:function(){return this._type;},set:function(c1h){this._type=c1h;},enumerable:!i1u.N5B,configurable:!i1u.N5B});Object.defineProperty(W1h.prototype,C8t,{get:function(){return this._hierarchy.levels_.length-i1u.I5B==this._number;},set:function(A1h){},enumerable:!i1u.N5B,configurable:!i1u.N5B});function W1h(o1h,w1h,n1h){void i1u.N5B===w1h&&(w1h=i1u.o9B);void i1u.N5B===n1h&&(n1h=i1u.N5B);o1h=p1h.call(this,o1h,w1h)||this;o1h._type=i1u.I5B;o1h._properties=new utils.AssociativeArray();o1h._number=n1h;return o1h;}Object.defineProperty(W1h.prototype,J3yy.J8t,{get:function(){return this._hierarchy;},set:function(l1h){this._hierarchy=l1h;},enumerable:!i1u.N5B,configurable:!i1u.N5B});return W1h;}(v1h.GenericElement);v1h.GenericLevel=Y1h;}(E1h._structure||(E1h._structure={})));}(K1h.data_||(K1h.data_={})));}(pivot||(pivot={})));(function(h1h){(function(M1h){(function(H1h){var V1h=function(x1h){var N1u=T3yy;var g8t="captionMembers";var D8t="isAll";var b8t="isLeaf";var u8t="root";var y8t="_captions_";var O8t="_descendants_";var e8t="isDrilledDown";var P8t="children";var B8t="_children_";var j8t="numDescendants";var a8t="_captionMembers_";var k8t="captions";var F8t="ordinal";var Q8t="hierarchy_";__extends(U1h,x1h);Object.defineProperty(U1h.prototype,F8t,{get:function(){return this._ordinal;},set:function(q1h){this._ordinal=q1h;},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,J3yy.h2t,{get:function(){return this._levelOrdinal;},set:function(L1h){this._levelOrdinal=L1h;},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,Q8t,{get:function(){return this._hierarchy;},set:function(N1h){this._hierarchy=N1h;},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,N1u.V9B,{get:function(){return this._parent;},set:function(I1h){this._parent=I1h;},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,u8t,{get:function(){if(N1u.i5B>this._level.num)return this;var i1h=this;do i1h=i1h.parent;while(N1u.I5B<i1h.level.num);return i1h;},set:function(T0h){},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,J3yy.Z8t,{get:function(){return this._level;},set:function(C0h){this._level=C0h;},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,D8t,{get:function(){return N1u.r0B!=this.hierarchy_.allMember&&this.hierarchy_.allMember.uniqueName==this.uniqueName;},set:function(J0h){},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,e8t,{get:function(){return this._isDrilledDown;},set:function(F0h){this._isDrilledDown=F0h;},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,P8t,{get:function(){return this._hasProperty(B8t)?this._getProperty(B8t):new utils.AssociativeArray();},set:function(Q0h){},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,J3yy.K4t,{get:function(){if(this._hasProperty(O8t))return this._getProperty(O8t);var u0h=new utils.AssociativeArray();u0h.addItem(this.uniqueName,this);if(N1u.N5B==this.numDescendants)return u0h;for(var e0h=this.children.length,D0h=N1u.N5B;D0h<e0h;D0h++){var Z0h=this.children.getItemAt(D0h);Z0h.isLeaf?u0h.addItem(Z0h.uniqueName,Z0h):N1u.N5B<Z0h.numDescendants?u0h.concat(Z0h.descendants,!N1u.I5B):u0h.addItem(Z0h.uniqueName,Z0h);}N1u.N5B<u0h.length&&this._setProperty(J3yy.K4t,u0h);return u0h;},set:function(P0h){},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,j8t,{get:function(){if(-N1u.I5B<this._numDescendants)return this._numDescendants;if(!this._hasProperty(B8t))return this._numDescendants=N1u.N5B;for(var j0h=this.children.length,B0h=j0h,O0h=N1u.N5B;O0h<j0h;O0h++)var k0h=this.children.getItemAt(O0h),B0h=B0h+k0h.numDescendants;return B0h;},set:function(y0h){},enumerable:!N1u.N5B,configurable:!N1u.N5B});U1h.prototype.getChildrenCaptions=function(){return{captions:this.captions,members:this.captionMembers};};U1h.prototype.clearDescendantsCache=function(){this._hasProperty(O8t)&&delete this._descendants_;this.parent&&this.parent.clearDescendantsCache();};Object.defineProperty(U1h.prototype,k8t,{get:function(){this._hasProperty(y8t)||(this.captions=[]);return this._getProperty(y8t);},set:function(g0h){this._setProperty(y8t,g0h);},enumerable:!N1u.N5B,configurable:!N1u.N5B});Object.defineProperty(U1h.prototype,g8t,{get:function(){this._hasProperty(a8t)||(this.captionMembers=[]);return this._getProperty(a8t);},set:function(a0h){this._setProperty(a8t,a0h);},enumerable:!N1u.N5B,configurable:!N1u.N5B});U1h.prototype.addChild=function(b0h){var X0h=this.children;X0h.addItem(b0h.uniqueName,b0h);this._setProperty(B8t,X0h);b0h.parent=this;this._numDescendants=-N1u.I5B;this.clearDescendantsCache();N1u.I5B==this.hasCaptionSorting(b0h)&&(X0h=b0h.caption.charAt(N1u.N5B).toLowerCase().charCodeAt(N1u.N5B),N1u.r0B==this.captions[X0h]&&(this.captions[X0h]=[],this.captionMembers[X0h]=[]),this.captions[X0h].push(b0h.caption),this.captionMembers[X0h].push(b0h));C3yy.A4B<this.children.length&&(this._hasCaptionSorting=N1u.N5B,this.captions=[],this.captionMembers=[]);};U1h.prototype.removeChild=function(z0h){this.children.removeItem(z0h.uniqueName);this.clearDescendantsCache();if(N1u.I5B==this.hasCaptionSorting(z0h)){var S0h=z0h.caption.charAt(N1u.N5B).toLowerCase().charCodeAt(N1u.N5B);z0h=this.captions[S0h].indexOf(z0h.caption);this.captions[S0h].splice(z0h,N1u.I5B);this.captionMembers[S0h].splice(z0h,N1u.I5B);}};U1h.prototype.hasCaptionSorting=function(m0h){return-N1u.I5B!=this._hasCaptionSorting?this._hasCaptionSorting:this._hasCaptionSorting=m0h.level.type==M1h.types.LevelType.HOUR||m0h.level.type==M1h.types.LevelType.MINUTE||m0h.level.type==M1h.types.LevelType.DAY||m0h.level.type==M1h.types.LevelType.NUMBER?N1u.N5B:N1u.I5B;};U1h.prototype.toString=function(){var X8t=" : ";return this.uniqueName+X8t+this._ordinal;};function U1h(G1h,r1h){var t1h=x1h.call(this,G1h,r1h)||this;t1h._ordinal=N1u.I5B;t1h._levelOrdinal=N1u.N5B;t1h._isDrilledDown=!N1u.I5B;t1h._numDescendants=-N1u.I5B;t1h._hasCaptionSorting=-N1u.I5B;return t1h;}Object.defineProperty(U1h.prototype,b8t,{get:function(){return!this._hasProperty(B8t)||N1u.N5B==this.children.length;},set:function(R0h){},enumerable:!N1u.N5B,configurable:!N1u.N5B});U1h.toObject=function(f0h){var s0h={};s0h.uniqueName=f0h.uniqueName;s0h.caption=f0h.caption;s0h.hierarchyName=f0h.hierarchy_.uniqueName;return s0h;};return U1h;}(H1h.GenericElement);H1h.GenericMember=V1h;}(M1h._structure||(M1h._structure={})));}(h1h.data_||(h1h.data_={})));}(pivot||(pivot={})));(function(K0h){(function(E0h){(function(v0h){var Y0h=function(p0h){var L1u=J3yy;var q1u=T3yy;var v8t="calculated";var E8t="availableAggregations";var S8t="customCaption";var f8t="grandTotalCaption";var z8t="originalCaption";var R8t="individual";var K8t="aggregation";var m8t="format";__extends(W0h,p0h);Object.defineProperty(W0h.prototype,C3yy.u0t,{get:function(){if(this._customCaption)return this._customCaption;if(!T3yy.I5B==K0h.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case E0h.consts.AggregationName.COUNT:return utils.StringUtils.bind(K0h.model._labels.Labels.COUNT_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PRODUCT:return utils.StringUtils.bind(K0h.model._labels.Labels.PRODUCT_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.DISTINCT_COUNT:return utils.StringUtils.bind(K0h.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.AVERAGE:return utils.StringUtils.bind(K0h.model._labels.Labels.AVERAGE_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.MAX:return utils.StringUtils.bind(K0h.model._labels.Labels.MAX_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.MIN:return utils.StringUtils.bind(K0h.model._labels.Labels.MIN_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT_COLUMN:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT_ROW:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.INDEX:return utils.StringUtils.bind(K0h.model._labels.Labels.INDEX_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.DIFFERENCE:return utils.StringUtils.bind(K0h.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT_DIFFERENCE:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.MEDIAN:return utils.StringUtils.bind(K0h.model._labels.Labels.MEDIAN_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.STDEVP:return utils.StringUtils.bind(K0h.model._labels.Labels.STDEVP_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.STDEVS:return utils.StringUtils.bind(K0h.model._labels.Labels.STDEVS_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.RUNNING_TOTALS:return utils.StringUtils.bind(K0h.model._labels.Labels.RUNNING_TOTALS_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.NONE:return this._caption;}return utils.StringUtils.bind(K0h.model._labels.Labels.SUM_TOTAL_CAPTION,this._caption);},set:function(d0h){T3yy.o9B==d0h.trim()?this._caption=K0h.model._labels.Labels.MEMBER_BLANK:this._caption=d0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,z8t,{get:function(){return this._caption;},set:function(c0h){},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,S8t,{get:function(){return this._customCaption;},set:function(A0h){this._customCaption=A0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,L1u.E2t,{get:function(){return this._folder;},set:function(l0h){this._folder=l0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,m8t,{get:function(){return this._format;},set:function(h0h){this._format=h0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,R8t,{get:function(){return this._individual;},set:function(M0h){this._individual=M0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,L1u.s8t,{get:function(){return this._hidden;},set:function(H0h){this._hidden=H0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,q1u.c6B,{get:function(){return this._type;},set:function(V0h){this._type=V0h;this._type!=E0h.types.MeasureType.NUMBER&&this._type!=E0h.types.MeasureType.TIME&&(this._type==E0h.types.MeasureType.DATE||this._type==E0h.types.MeasureType.DATETIME?(this.availableAggregations=[E0h.consts.AggregationName.COUNT,E0h.consts.AggregationName.DISTINCT_COUNT,E0h.consts.AggregationName.MAX,E0h.consts.AggregationName.MIN],this._defaultAggregation=E0h.consts.AggregationName.MAX):(this.availableAggregations=[E0h.consts.AggregationName.COUNT,E0h.consts.AggregationName.DISTINCT_COUNT],this._defaultAggregation=E0h.consts.AggregationName.COUNT));},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,f8t,{get:function(){if(this.calculated)return this._caption;if(this._grandTotalCaption)return this._grandTotalCaption;if(!T3yy.I5B==K0h.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case E0h.consts.AggregationName.SUM:return utils.StringUtils.bind(K0h.model._labels.Labels.SUM_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.COUNT:return utils.StringUtils.bind(K0h.model._labels.Labels.COUNT_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PRODUCT:return utils.StringUtils.bind(K0h.model._labels.Labels.PRODUCT_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.DISTINCT_COUNT:return utils.StringUtils.bind(K0h.model._labels.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.AVERAGE:return utils.StringUtils.bind(K0h.model._labels.Labels.AVERAGE_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.MAX:return utils.StringUtils.bind(K0h.model._labels.Labels.MAX_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.MIN:return utils.StringUtils.bind(K0h.model._labels.Labels.MIN_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT_COLUMN:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT_ROW:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.INDEX:return utils.StringUtils.bind(K0h.model._labels.Labels.INDEX_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.DIFFERENCE:return utils.StringUtils.bind(K0h.model._labels.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.PERCENT_DIFFERENCE:return utils.StringUtils.bind(K0h.model._labels.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.MEDIAN:return utils.StringUtils.bind(K0h.model._labels.Labels.MEDIAN_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.STDEVP:return utils.StringUtils.bind(K0h.model._labels.Labels.STDEVP_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.STDEVS:return utils.StringUtils.bind(K0h.model._labels.Labels.STDEVS_GRAND_TOTAL_CAPTION,this._caption);case E0h.consts.AggregationName.RUNNING_TOTALS:return utils.StringUtils.bind(K0h.model._labels.Labels.RUNNING_TOTALS_GRAND_TOTAL_CAPTION,this._caption);}return this._caption;},set:function(U0h){this._grandTotalCaption=U0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,K8t,{get:function(){return T3yy.o9B==this._aggregation?this._defaultAggregation:this._aggregation;},set:function(x0h){var T19=T3yy;x0h&&x0h.toLowerCase()!=this._aggregation?(x0h=x0h.toLowerCase(),E0h.consts.AggregationName.deprecatedType(x0h)&&(x0h=E0h.consts.AggregationName.fromDeprecatedToValid(x0h)),E0h.consts.AggregationName.validType(x0h)||this.calculated&&x0h==E0h.consts.AggregationName.NONE?(this._grandTotalCaption=this._customCaption=void T19.N5B,this._aggregation=x0h,!this.calculated&&T19.N5B<this.availableAggregations.length&&-T19.I5B==this.availableAggregations.indexOf(x0h)&&(this._aggregation=this._availableAggregations[T19.N5B])):this.resolveColisionsForAggregations()):T19.o9B==x0h&&this.resolveColisionsForAggregations();},enumerable:!q1u.N5B,configurable:!q1u.N5B});W0h.prototype.resolveColisionsForAggregations=function(){this._grandTotalCaption=this._customCaption=void T3yy.N5B;this._aggregation=T3yy.N5B<this._availableAggregations.length?this._availableAggregations[T3yy.N5B]:this._defaultAggregation;};Object.defineProperty(W0h.prototype,E8t,{get:function(){return this._availableAggregations;},set:function(r0h){this._availableAggregations=[];if(T3yy.r0B==r0h)this._availableAggregations=[];else if(this.type!=E0h.types.MeasureType.NUMBER&&this._type!=E0h.types.MeasureType.TIME&&T3yy.N5B==this._availableAggregations.length)this._availableAggregations=this._type==E0h.types.MeasureType.DATE||this._type==E0h.types.MeasureType.DATETIME?[E0h.consts.AggregationName.COUNT,E0h.consts.AggregationName.DISTINCT_COUNT,E0h.consts.AggregationName.MAX,E0h.consts.AggregationName.MIN]:[E0h.consts.AggregationName.COUNT,E0h.consts.AggregationName.DISTINCT_COUNT];else for(var G0h=T3yy.N5B;G0h<r0h.length;G0h++){var t0h=r0h[G0h].trim().toLowerCase();E0h.consts.AggregationName.deprecatedType(t0h)&&(t0h=E0h.consts.AggregationName.fromDeprecatedToValid(t0h));(this.type==E0h.types.MeasureType.NUMBER||this._type==E0h.types.MeasureType.TIME||t0h==E0h.consts.AggregationName.COUNT||t0h==E0h.consts.AggregationName.DISTINCT_COUNT)&&E0h.consts.AggregationName.validType(t0h)&&this._availableAggregations.push(t0h);}},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,L1u.C4t,{get:function(){return this._params;},set:function(q0h){this._params=q0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,v8t,{get:function(){return T3yy.r0B!=this.formula&&T3yy.o9B!=this.formula;},set:function(L0h){},enumerable:!q1u.N5B,configurable:!q1u.N5B});Object.defineProperty(W0h.prototype,L1u.Y8t,{get:function(){return this._formula;},set:function(N0h){this._formula=N0h;},enumerable:!q1u.N5B,configurable:!q1u.N5B});W0h.toObject=function(i0h){var I0h={};I0h.uniqueName=i0h.uniqueName;I0h.name=i0h.originalCaption;i0h.calculated&&(I0h.formula=i0h.formula);I0h.format=i0h.format;I0h.individual=i0h.individual;I0h.availableAggregations=i0h.availableAggregations;I0h.aggregation=i0h.aggregation;I0h.caption=i0h.caption;I0h.originalCaption=i0h.originalCaption;I0h.grandTotalCaption=i0h.grandTotalCaption;I0h.folder=i0h.folder;I0h.type=i0h.type;I0h.calculated=i0h.calculated;return I0h;};function W0h(n0h,w0h){var L59=T3yy;void L59.N5B===w0h&&(w0h=L59.o9B);var o0h=p0h.call(this,n0h,w0h)||this;o0h._folder=L59.o9B;o0h._format=L59.o9B;o0h._type=E0h.types.MeasureType.NUMBER;o0h._grandTotalCaption=L59.o9B;o0h._defaultAggregation=E0h.consts.AggregationName.SUM;o0h._aggregation=L59.o9B;o0h._availableAggregations=[];o0h._params=[];o0h._formula=L59.o9B;o0h._individual=!L59.I5B;o0h._hidden=!L59.I5B;o0h._defaultAggregation=E0h.consts.AggregationName.SUM;return o0h;}W0h.fromObject=function(T9h,C9h){var r59=T3yy;void r59.N5B===C9h&&(C9h=r59.r0B);var J9h=T9h.uniqueName;r59.r0B==C9h&&(C9h=new v0h.GenericMeasure(J9h));T9h.hasOwnProperty(r59.c6B)&&(C9h.type=r59.q9B==typeof T9h.type?E0h.types.MeasureType.fromColumnType(T9h.type):T9h.type);T9h.hasOwnProperty(R8t)&&(C9h.individual=T9h.individual);T9h.hasOwnProperty(L1u.Y8t)&&(C9h.formula=T9h.formula);T9h.hasOwnProperty(m8t)&&(C9h.format=T9h.format);T9h.hasOwnProperty(E8t)&&(C9h.availableAggregations=T9h.availableAggregations);C9h.aggregation=T9h.hasOwnProperty(K8t)?T9h.aggregation:C9h.calculated?E0h.consts.AggregationName.NONE:r59.o9B;T9h.hasOwnProperty(C3yy.u0t)&&(C9h.caption=T9h.caption);T9h.hasOwnProperty(C3yy.N2B)&&(C9h.caption=T9h.name);T9h.hasOwnProperty(f8t)&&(C9h.grandTotalCaption=T9h.grandTotalCaption);T9h.hasOwnProperty(L1u.E2t)&&(C9h.folder=T9h.folder);C9h.calculated&&(J9h=new utils.Lexer(),C9h.params=J9h.parse(C9h.formula));return C9h;};W0h.prototype.hasDefaultParams=function(){var G59=T3yy;var F9h=new W0h(G59.o9B,G59.o9B);return this.individual!=F9h.individual||this.formula!=F9h.formula||this.format!=F9h.format||this.type==E0h.types.MeasureType.COUNT&&this.aggregation!=E0h.consts.AggregationName.COUNT&&this.aggregation!=E0h.consts.AggregationName.NONE||this.type==E0h.types.MeasureType.NUMBER&&this.aggregation!=E0h.consts.AggregationName.SUM&&this.aggregation!=E0h.consts.AggregationName.NONE?!G59.I5B:!G59.N5B;};W0h.prototype.getFormat=function(u9h){var t59=T3yy;void t59.N5B===u9h&&(u9h=!t59.I5B);var Q9h;Q9h=K0h.model.format.FormatManager.formatExists(this.format)?K0h.model.format.FormatManager.getFormat(this.format):t59.o9B!=this.format&&K0h.model.format.FormatManager.formatExists(t59.o9B)?K0h.model.format.FormatManager.getFormat(t59.o9B):K0h.model.format.FormatManager.getDefaultFormat();u9h&&utils.nullOrUndefined(Q9h.params.textAlign)&&this.type!=E0h.types.MeasureType.NUMBER&&this.type!=E0h.types.MeasureType.TIME&&this.type!=E0h.types.MeasureType.DATETIME&&(Q9h=Q9h.clone(),Q9h.textAlign=t59.i9B);return Q9h;};return W0h;}(v0h.GenericElement);v0h.GenericMeasure=Y0h;}(E0h._structure||(E0h._structure={})));}(K0h.data_||(K0h.data_={})));}(pivot||(pivot={})));(function(Z9h){(function(D9h){(function(e9h){var P9h=function(O9h){var G1u=T3yy;var p8t="structure";__extends(B9h,O9h);Object.defineProperty(B9h.prototype,J3yy.W8t,{get:function(){return this._hierarchies;},set:function(g9h){this._hierarchies=g9h;},enumerable:!G1u.N5B,configurable:!G1u.N5B});Object.defineProperty(B9h.prototype,G1u.c6B,{get:function(){return this._type;},set:function(a9h){this._type=a9h;},enumerable:!G1u.N5B,configurable:!G1u.N5B});Object.defineProperty(B9h.prototype,p8t,{get:function(){return this._structure;},set:function(X9h){this._structure=X9h;},enumerable:!G1u.N5B,configurable:!G1u.N5B});function B9h(y9h,j9h){void G1u.N5B===j9h&&(j9h=G1u.o9B);var k9h=O9h.call(this,y9h,j9h)||this;k9h.hierarchies=new utils.AssociativeArray();return k9h;}B9h.prototype.addHierarchy=function(b9h){b9h.dimension=this;this._hierarchies.addItem(b9h.uniqueName,b9h);};B9h.prototype.findHierarchy=function(z9h){return this._hierarchies.getItem(z9h);};B9h.fromObject=function(m9h,S9h){void G1u.N5B===S9h&&(S9h=G1u.r0B);var R9h=m9h.uniqueName;G1u.r0B==S9h&&(S9h=new B9h(R9h));void G1u.N5B!==m9h.caption&&(S9h.caption=m9h.caption);void G1u.N5B!==m9h.type&&(S9h.type=m9h.type);return S9h;};return B9h;}(e9h.GenericElement);e9h.GenericDimension=P9h;}(D9h._structure||(D9h._structure={})));}(Z9h.data_||(Z9h.data_={})));}(pivot||(pivot={})));(function(s9h){(function(f9h){(function(K9h){var E9h=function(){var x1u=J3yy;var U1u=T3yy;var o8t="isComplete";var w8t="dimensions";Object.defineProperty(v9h.prototype,o8t,{get:function(){return this._isComplete;},set:function(p9h){this._isComplete=p9h;},enumerable:!U1u.N5B,configurable:!U1u.N5B});Object.defineProperty(v9h.prototype,w8t,{get:function(){return this._dimensions;},set:function(o9h){},enumerable:!U1u.N5B,configurable:!U1u.N5B});Object.defineProperty(v9h.prototype,x1u.n8t,{get:function(){return this._measures;},set:function(w9h){},enumerable:!U1u.N5B,configurable:!U1u.N5B});Object.defineProperty(v9h.prototype,x1u.d8t,{get:function(){for(var c9h=new utils.AssociativeArray(),n9h=T3yy.N5B;n9h<this._measures.length;n9h++){var d9h=this._measures.getItemAt(n9h);d9h.calculated&&c9h.addItem(d9h.uniqueName,d9h);}return c9h;},set:function(A9h){},enumerable:!U1u.N5B,configurable:!U1u.N5B});Object.defineProperty(v9h.prototype,x1u.c8t,{get:function(){for(var M9h=new utils.AssociativeArray(),l9h=T3yy.N5B;l9h<this._measures.length;l9h++){var h9h=this._measures.getItemAt(l9h);h9h.calculated||M9h.addItem(h9h.uniqueName,h9h);}return M9h;},set:function(H9h){},enumerable:!U1u.N5B,configurable:!U1u.N5B});Object.defineProperty(v9h.prototype,x1u.A8t,{get:function(){var V9h=this.findDimension(f9h.Cube.MEASURES_NAME);if(T3yy.r0B==V9h){var U9h=new K9h.GenericHierarchy(f9h.Cube.MEASURES_NAME,f9h.Cube.MEASURES_NAME),V9h=new K9h.GenericDimension(f9h.Cube.MEASURES_NAME,f9h.Cube.MEASURES_NAME);V9h.type=f9h.types.DimensionType.MD_DIMTYPE_MEASURE;V9h.addHierarchy(U9h);this.addDimension(V9h);}return V9h.findHierarchy(f9h.Cube.MEASURES_NAME);},set:function(x9h){},enumerable:!U1u.N5B,configurable:!U1u.N5B});v9h.prototype.addDimension=function(t9h){T3yy.r0B==this.findDimension(t9h.uniqueName)&&(t9h.structure=this,this.dimensions.addItem(t9h.uniqueName,t9h));};v9h.prototype.findDimension=function(G9h){return this.dimensions.getItem(G9h);};v9h.prototype.allHierarchies=function(L9h){void T3yy.N5B===L9h&&(L9h=!T3yy.I5B);for(var r9h=new utils.AssociativeArray(),q9h=T3yy.N5B;q9h<this.dimensions.length;q9h++){var N9h=this.dimensions.getItemAt(q9h);if(L9h||N9h.type!=f9h.types.DimensionType.MD_DIMTYPE_MEASURE)r9h=r9h.concat(N9h.hierarchies);}return r9h;};v9h.prototype.findHierarchy=function(I9h){return this.allHierarchies(!T3yy.N5B).getItem(I9h);};v9h.prototype.addMeasure=function(i9h){this.measures_.addItem(i9h.uniqueName,i9h);};v9h.prototype.findMeasure=function(T6h){return this.measures_.getItem(T6h);};v9h.prototype.removeMeasure=function(C6h){return this.measures_.removeItem(C6h);};v9h.prototype.clear=function(){this._measureToHierarchyMap={};this._hierarchyToMeasureMap={};this.fields=new utils.AssociativeArray();this.types=[];this.id=this.deleteId=T3yy.o9B;this._dimensions=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this.isComplete=!T3yy.I5B;};v9h.prototype.measureToHierarchy=function(J6h){return this._measureToHierarchyMap[J6h];};v9h.prototype.hierarchyToMeasure=function(F6h){return this._hierarchyToMeasureMap[F6h];};v9h.prototype.getDataType=function(Q6h){return this.types[Q6h];};v9h.prototype.getDataField=function(u6h){return this.fields.getItem(u6h);};v9h.prototype.getDataKeys=function(){return this.fields.toArray(!T3yy.N5B);};v9h.prototype.addKeys=function(Z6h,D6h){this._measureToHierarchyMap[Z6h]=this.findHierarchy(D6h);this._hierarchyToMeasureMap[D6h]=this.findMeasure(Z6h);};v9h.prototype._addMeasure=function(P6h,B6h){var e6h=new K9h.GenericMeasure(P6h.uniqueName,P6h.caption);e6h.type=B6h;this.addMeasure(e6h);this.addKeys(e6h.uniqueName,P6h.uniqueName);this.localDataStorage.addFactKey(e6h.uniqueName);};v9h.prototype.addStringHierarchy=function(k6h,O6h,y6h){var j6h=O6h.uniqueName;O6h=new K9h.GenericHierarchy(j6h,O6h.caption);k6h.addHierarchy(O6h);this.localDataStorage.addKey(j6h);k6h=new K9h.GenericLevel(O6h.caption==s9h.model._labels.Labels.MEMBER_BLANK?j6h+x1u.n2t:j6h,O6h.caption,T3yy.I5B);O6h.addLevel(k6h);this._addMeasure(O6h,f9h.types.MeasureType.COUNT);this.fields.addItem(y6h,O6h);};v9h.prototype.addHierarchicalDateHierarchy=function(a6h,X6h,z6h){var h8t=".Quarter";var b6h=X6h.uniqueName,g6h=X6h.caption;a6h.type=f9h.types.DimensionType.MD_DIMTYPE_TIME;g6h=new K9h.GenericHierarchy(b6h,g6h);a6h.addHierarchy(g6h);a6h=new K9h.GenericLevel(b6h+x1u.l8t,s9h.model._labels.Labels.YEAR,g6h.levels_.length);a6h.type=f9h.types.LevelType.YEAR;g6h.addLevel(a6h);this.localDataStorage.addKey(g6h.uniqueName);X6h.type==f9h.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&(X6h=b6h+h8t,a6h=new K9h.GenericLevel(X6h,s9h.model._labels.Labels.QUARTER,g6h.levels_.length),a6h.type=f9h.types.LevelType.QUARTER,g6h.addLevel(a6h),this.localDataStorage.addKey(X6h,g6h.uniqueName));X6h=b6h+x1u.M8t;a6h=new K9h.GenericLevel(X6h,s9h.model._labels.Labels.MONTH,g6h.levels_.length);a6h.type=f9h.types.LevelType.MONTH;g6h.addLevel(a6h);this.localDataStorage.addKey(X6h,g6h.uniqueName);b6h+=x1u.H8t;a6h=new K9h.GenericLevel(b6h,s9h.model._labels.Labels.DAY,g6h.levels_.length);a6h.type=f9h.types.LevelType.DAY;g6h.addLevel(a6h);this.localDataStorage.addKey(b6h,g6h.uniqueName);this._addMeasure(g6h,f9h.types.MeasureType.COUNT);this.fields.addItem(z6h,g6h);};v9h.prototype.addLevelOfHierarchy=function(K6h,S6h,f6h){var w59=T3yy;var R6h=S6h.hasOwnProperty(x1u.J8t)?S6h.hierarchy:S6h.uniqueName,s6h=S6h.hasOwnProperty(x1u.J8t)?S6h.hierarchy:S6h.caption,m6h=K6h.findHierarchy(R6h);w59.r0B==m6h&&(m6h=new K9h.GenericHierarchy(R6h,s6h),K6h.addHierarchy(m6h));s6h=w59.N5B;if(S6h.hasOwnProperty(w59.V9B)){R6h=m6h.findLevel(S6h.parent);if(w59.r0B==R6h){w59.r0B==this.levels[m6h.uniqueName]&&(this.levels[m6h.uniqueName]=[]);this.levels[m6h.uniqueName][S6h.parent]=[S6h,f6h];return;}s6h=m6h.levels_.indexOf(R6h.uniqueName);}R6h=S6h.hasOwnProperty(x1u.Z8t)?S6h.level:f6h;S6h=S6h.hasOwnProperty(x1u.Z8t)?S6h.level:f6h;S6h=new K9h.GenericLevel(R6h,S6h,s6h+w59.I5B);m6h.addLevel(S6h);w59.I5B==S6h.num?this.localDataStorage.addKey(m6h.uniqueName):this.localDataStorage.addKey(R6h,m6h.uniqueName);this._addMeasure(m6h,f9h.types.MeasureType.COUNT);this.fields.addItem(f6h,S6h);this.levels[m6h.uniqueName]&&this.levels[m6h.uniqueName][R6h]&&this.addLevelOfHierarchy(K6h,this.levels[m6h.uniqueName][R6h][w59.N5B],this.levels[m6h.uniqueName][R6h][w59.I5B]);};v9h.prototype.addDateHierarchy=function(o6h,E6h,w6h){var p59=C3yy;var p6h=E6h.uniqueName,Y6h=E6h.caption;o6h.type=f9h.types.DimensionType.MD_DIMTYPE_TIME;var W6h=p6h+x1u.l8t,v6h=Y6h+p59.g3J+s9h.model._labels.Labels.YEAR;E6h=new K9h.GenericHierarchy(W6h,v6h);E6h.type=f9h.types.DataFieldType.typeNum(f9h.types.DataFieldType.DATE);o6h.addHierarchy(E6h);v6h=new K9h.GenericLevel(W6h+p59.g3J+v6h,v6h,T3yy.I5B);v6h.type=f9h.types.LevelType.YEAR;E6h.addLevel(v6h);this.localDataStorage.addKey(W6h);this._addMeasure(E6h,f9h.types.MeasureType.COUNT);W6h=p6h+x1u.M8t;v6h=Y6h+p59.g3J+s9h.model._labels.Labels.MONTH;E6h=new K9h.GenericHierarchy(W6h,v6h);o6h.addHierarchy(E6h);v6h=new K9h.GenericLevel(W6h+p59.g3J+v6h,v6h,T3yy.I5B);v6h.type=f9h.types.LevelType.MONTH;E6h.addLevel(v6h);this.localDataStorage.addKey(W6h);this._addMeasure(E6h,f9h.types.MeasureType.COUNT);p6h+=x1u.H8t;Y6h=Y6h+p59.g3J+s9h.model._labels.Labels.DAY;E6h=new K9h.GenericHierarchy(p6h,Y6h);o6h.addHierarchy(E6h);Y6h=new K9h.GenericLevel(p6h+p59.g3J+Y6h,Y6h,T3yy.I5B);Y6h.type=f9h.types.LevelType.DAY;E6h.addLevel(Y6h);this.localDataStorage.addKey(p6h);this._addMeasure(E6h,f9h.types.MeasureType.COUNT);this.fields.addItem(w6h,o6h);};v9h.prototype.addNumberHierarchy=function(d6h,n6h,l6h){var c6h=n6h.uniqueName,A6h=n6h.caption;n6h=new K9h.GenericHierarchy(c6h,A6h);d6h.addHierarchy(n6h);this.localDataStorage.addKey(c6h);d6h=new K9h.GenericLevel(c6h+C3yy.g3J+A6h,A6h,T3yy.I5B);d6h.type=f9h.types.LevelType.NUMBER;n6h.addLevel(d6h);this._addMeasure(n6h,f9h.types.MeasureType.NUMBER);this.fields.addItem(l6h,n6h);};v9h.prototype.addMonthHierarchy=function(M6h,h6h,U6h){var H6h=h6h.uniqueName,V6h=h6h.caption;h6h=new K9h.GenericHierarchy(H6h,V6h);M6h.addHierarchy(h6h);this.localDataStorage.addKey(H6h);M6h=new K9h.GenericLevel(H6h+C3yy.g3J+V6h,V6h,T3yy.I5B);M6h.type=f9h.types.LevelType.MONTH;h6h.addLevel(M6h);this._addMeasure(h6h,f9h.types.MeasureType.COUNT);this.fields.addItem(U6h,h6h);};v9h.prototype.addWeekdayHierarchy=function(t6h,x6h,q6h){var G6h=x6h.uniqueName,r6h=x6h.caption;x6h=new K9h.GenericHierarchy(G6h,r6h);t6h.addHierarchy(x6h);this.localDataStorage.addKey(G6h);t6h=new K9h.GenericLevel(G6h+C3yy.g3J+r6h,r6h,T3yy.I5B);t6h.type=f9h.types.LevelType.DAY;x6h.addLevel(t6h);this._addMeasure(x6h,f9h.types.MeasureType.COUNT);this.fields.addItem(q6h,x6h);};v9h.prototype.addDateStringHierarchy=function(N6h,L6h,T4h){var I6h=L6h.uniqueName,i6h=L6h.caption;L6h=new K9h.GenericHierarchy(I6h,i6h);N6h.addHierarchy(L6h);this.localDataStorage.addKey(I6h);N6h=new K9h.GenericLevel(I6h+C3yy.g3J+i6h,i6h,T3yy.I5B);N6h.type=f9h.types.LevelType.TIME;L6h.addLevel(N6h);this._addMeasure(L6h,f9h.types.MeasureType.DATE);this.fields.addItem(T4h,L6h);};v9h.prototype.addTimeHierarchy=function(J4h,C4h,u4h){var F4h=C4h.uniqueName,Q4h=C4h.caption;C4h=new K9h.GenericHierarchy(F4h,Q4h);J4h.addHierarchy(C4h);this.localDataStorage.addKey(F4h);J4h=new K9h.GenericLevel(F4h+C3yy.g3J+Q4h,Q4h,T3yy.I5B);J4h.type=f9h.types.LevelType.NUMBER;C4h.addLevel(J4h);this._addMeasure(C4h,f9h.types.MeasureType.TIME);this.fields.addItem(u4h,C4h);};v9h.prototype.addDateTimeHierarchy=function(D4h,Z4h,B4h){var e4h=Z4h.uniqueName,P4h=Z4h.caption;Z4h=new K9h.GenericHierarchy(e4h,P4h);D4h.addHierarchy(Z4h);this.localDataStorage.addKey(e4h);D4h=new K9h.GenericLevel(e4h+C3yy.g3J+P4h,P4h,T3yy.I5B);D4h.type=f9h.types.LevelType.NUMBER;Z4h.addLevel(D4h);this._addMeasure(Z4h,f9h.types.MeasureType.DATETIME);this.fields.addItem(B4h,Z4h);};v9h.prototype.isMetaObject=function(O4h){var V8t="dimensionCaption";return O4h.hasOwnProperty(T3yy.c6B)||O4h.hasOwnProperty(C3yy.u0t)||O4h.hasOwnProperty(x1u.J8t)||O4h.hasOwnProperty(x1u.Z8t)||O4h.hasOwnProperty(T3yy.V9B)||O4h.hasOwnProperty(V8t);};v9h.prototype.addDataStructure=function(k4h){var g59=T3yy;var y4h=!g59.I5B,j4h;for(j4h in k4h)g59.r0B==k4h[j4h]&&(k4h[j4h]=g59.o9B),g59.q9B==typeof k4h[j4h]||g59.r9B==typeof k4h[j4h]?this.addDataFieldString(j4h,f9h.types.DataFieldType.typeFromValue(k4h[j4h])):k4h[j4h]instanceof Date?this.addDataFieldString(j4h,f9h.types.DataFieldType.DATE):k4h[j4h]instanceof Array||(this.isMetaObject(k4h[j4h])&&(y4h=!g59.N5B),k4h[j4h].hasOwnProperty(x1u.Y8t)?!g59.I5B==utils.nullOrEmpty(k4h[j4h].formula)&&this.addCalculatedMeasure(k4h[j4h],j4h):this.addDataField(k4h[j4h],j4h));this.isComplete=!g59.N5B;return y4h;};v9h.prototype.addCalculatedMeasure=function(g4h,X4h){var a4h;a4h=new f9h._structure.GenericMeasure(X4h,void T3yy.N5B==g4h.caption?X4h:g4h.caption);a4h.formula=g4h.formula;a4h.grandTotalCaption=void T3yy.N5B==g4h.grandTotalCaption?s9h.model._labels.Labels.GRID_GRAND_TOTAL:g4h.grandTotalCaption;s9h.model.PivotModel.getInstance().addCalculatedMeasure(a4h);};function v9h(){this._isComplete=!T3yy.I5B;this.id=this.deleteId=T3yy.o9B;this.levels=[];this._dimensions=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this._measureToHierarchyMap={};this._hierarchyToMeasureMap={};var W9h=new K9h.GenericHierarchy(f9h.Cube.MEASURES_NAME,f9h.Cube.MEASURES_NAME),Y9h=new K9h.GenericDimension(f9h.Cube.MEASURES_NAME,f9h.Cube.MEASURES_NAME);Y9h.type=f9h.types.DimensionType.MD_DIMTYPE_MEASURE;Y9h.addHierarchy(W9h);this.addDimension(Y9h);this.fields=new utils.AssociativeArray();this.types=[];this.id=this.deleteId=T3yy.o9B;}v9h.prototype.addDataFieldString=function(b4h,z4h){this.addDataField({uniqueName:b4h,caption:b4h,type:z4h},b4h);};v9h.prototype.addDataField=function(f4h,m4h){var O59=T3yy;void O59.N5B===m4h&&(m4h=O59.o9B);var S4h={},s4h;for(s4h in f4h)S4h[s4h]=f4h[s4h];S4h.hasOwnProperty(x1u.R2t)||(S4h.uniqueName=m4h);S4h.hasOwnProperty(C3yy.u0t)&&O59.o9B!=S4h.caption||(S4h.caption=m4h);O59.o9B==m4h&&(m4h=S4h.uniqueName);s4h=f9h.types.DataFieldType.STRING;S4h.hasOwnProperty(O59.c6B)&&(s4h=String(S4h.type).trim().toLowerCase());S4h.type=s4h;var R4h;S4h.hasOwnProperty(x1u.J8t)?R4h=this.findDimension(S4h.hierarchy):s4h==f9h.types.DataFieldType.LEVEL&&S4h.hasOwnProperty(x1u.J8t)&&(R4h=this.findDimension(S4h.hierarchy));O59.r0B==R4h&&(R4h=f9h._structure.GenericDimension.fromObject(S4h),S4h.hasOwnProperty(x1u.J8t)&&(R4h.uniqueName=S4h.hierarchy),R4h.caption=S4h.hasOwnProperty(C3yy.u0t)?S4h.caption:S4h.hasOwnProperty(x1u.J8t)?S4h.hierarchy:R4h.caption,s4h==f9h.types.DataFieldType.LEVEL&&S4h.hasOwnProperty(x1u.J8t)&&(R4h.uniqueName=S4h.hierarchy),this.addDimension(R4h));this.types[m4h]=s4h;switch(s4h){case f9h.types.DataFieldType.STRING:this.addStringHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.NUMBER:this.addNumberHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.MONTH:this.addMonthHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.WEEKDAY:this.addWeekdayHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.DATE:this.addDateHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.DATETIME:this.addDateTimeHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.TIME:this.addTimeHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.LEVEL:this.addLevelOfHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.HIERARCHICAL_DATE:case f9h.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchicalDateHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.DATE_STRING:this.addDateStringHierarchy(R4h,S4h,m4h);break;case f9h.types.DataFieldType.ID:this.id=m4h;this.fields.addItem(m4h,O59.r0B);break;case f9h.types.DataFieldType.DELETE:this.deleteId=m4h;break;case f9h.types.DataFieldType.HIDDEN:break;default:this.addStringHierarchy(R4h,S4h,m4h);}};return v9h;}();K9h.GenericStructure=E9h;}(f9h._structure||(f9h._structure={})));}(s9h.data_||(s9h.data_={})));}(pivot||(pivot={})));(function(K4h){(function(E4h){(function(v4h){var Y4h=function(){var H1u=J3yy;var M1u=T3yy;var r8t="expandedTuplesBasedOnUniqueNames";var U8t="sortTuple";var i8t="depth";var G8t="expandedTuples";var L8t="drilledTuplesBasedOnUniqueNames";var t8t="sortNamedTuple";var q8t="drilledTuples";var I8t="hasMeasures";var N8t="sortType";Object.defineProperty(W4h.prototype,U8t,{get:function(){var B59=T3yy;var x8t=/\D/;if(B59.r0B!=this.__sortTuple)return this.__sortTuple;var o4h=B59.r0B;if(B59.r0B!=this._sortTuple)for(var w4h=B59.N5B,o4h=[],d4h=B59.N5B;d4h<this._hierarchies.length;d4h++){var n4h=this.hierarchies.getItemAt(d4h);if(!n4h.isMeasures){if(!this._sortTuple[w4h])break;if(B59.r9B==typeof this._sortTuple[w4h]){o4h=this._sortTuple;break;}var c4h=this._sortTuple[w4h].toString().trim();if(!x8t.test(c4h)){o4h=this._sortTuple;break;}n4h=n4h.findMember(this._sortTuple[w4h].toString().trim());if(B59.r0B!=n4h)o4h.push(n4h.ordinal);else if(this._sortTuple[w4h]){o4h=B59.r0B;break;}}w4h++;}return this.__sortTuple=o4h;},set:function(A4h){this._sortTuple=A4h;this.__sortTuple=T3yy.r0B;},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,t8t,{get:function(){var D59=T3yy;var h4h=D59.r0B,M4h=this.sortTuple;if(D59.r0B!=M4h)for(var V4h=D59.N5B,h4h=[],H4h=D59.N5B;H4h<this._hierarchies.length;H4h++){var l4h=this.hierarchies.getItemAt(H4h);if(!l4h.isMeasures){if(!M4h[V4h])break;var U4h=D59.o9B===M4h[H4h]?D59.N5B:parseInt(M4h[H4h]),l4h=l4h.members.getItemAt(U4h);if(D59.r0B!=l4h)h4h.push(l4h.uniqueName);else if(M4h[V4h]){h4h=D59.r0B;break;}}V4h++;}return h4h;},set:function(x4h){this.sortTuple=x4h;},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,G8t,{get:function(){return this._expandedTuples;},set:function(t4h){var Z59=T3yy;if(Z59.r0B==t4h)this._expandedTuples=[];else if(this.hasMeasures)this._expandedTuples=t4h;else{this._expandedTuples=[];for(var G4h=Z59.N5B;G4h<t4h.length;G4h++){var r4h=t4h[G4h];r4h[Z59.N5B]=-Z59.I5B;this._expandedTuples.push(r4h);}}},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,r8t,{get:function(){var u59=T3yy;for(var C2h=[],L4h,i4h,J2h,F2h,N4h,q4h,T2h=u59.N5B;T2h<this.expandedTuples.length;T2h++){L4h=this.expandedTuples[T2h].slice(u59.N5B);i4h=[];J2h=L4h.shift();F2h=u59.o9B;for(var I4h=N4h=u59.N5B;I4h<L4h.length;I4h++)q4h=this.hierarchies.getItemAt(N4h),q4h.isMeasures&&(-u59.I5B<J2h&&(F2h=q4h.members.getItemAt(J2h).uniqueName),N4h++,q4h=this.hierarchies.getItemAt(N4h)),u59.r0B!=q4h.members.getItemAt(L4h[I4h])&&i4h.push(q4h.members.getItemAt(L4h[I4h]).uniqueName),N4h++;i4h.unshift(F2h);C2h.push(i4h);}return C2h;},enumerable:!M1u.N5B,configurable:!M1u.N5B});W4h.prototype.parseExpandedTuplesBasedOnUniqueNames=function(y2h,P2h){var Q59=T3yy;void Q59.N5B===P2h&&(P2h=Q59.r0B);for(var k2h=[],Q2h,Z2h,e2h,j2h,D2h,u2h,B2h=Q59.N5B;B2h<y2h.length;B2h++){Q2h=y2h[B2h].slice(Q59.N5B);if(isNaN(parseInt(Q2h[Q59.N5B]))){Z2h=[];j2h=-Q59.I5B;e2h=Q2h.shift();D2h=Q59.N5B;if(Q59.N5B<this.hierarchies.length)for(var O2h=Q59.N5B;O2h<Q2h.length;O2h++){u2h=this.hierarchies.getItemAt(D2h);if(utils.nullOrUndefined(u2h))return[];u2h.isMeasures&&(Q59.o9B!=e2h&&(j2h=P2h?P2h.indexOf(e2h):u2h.members.indexOf(e2h)),D2h++,u2h=this.hierarchies.getItemAt(D2h));Z2h.push(u2h.members.indexOf(Q2h[O2h]));D2h++;}Z2h.unshift(j2h);}else Z2h=Q2h;k2h.push(Z2h);}return k2h;};Object.defineProperty(W4h.prototype,q8t,{get:function(){return this._drilledTuples;},set:function(g2h){var F59=T3yy;if(utils.nullOrUndefined(g2h))this._drilledTuples=[];else{var a2h;if(this.hasMeasures)this._drilledTuples=g2h;else{this._drilledTuples=[];for(var X2h=F59.N5B;X2h<g2h.length;X2h++)a2h=g2h[X2h],F59.q9B==typeof a2h[F59.N5B]?a2h[F59.I5B]=-F59.I5B:a2h[F59.N5B]=-F59.I5B,this._drilledTuples.push(a2h);}this.setPredefinedDrillDowns(g2h);}},enumerable:!M1u.N5B,configurable:!M1u.N5B});W4h.prototype.setPredefinedDrillDowns=function(s2h){var J59=T3yy;var b2h,R2h=this._hierarchies.slice();R2h.removeItem(E4h.Cube.MEASURES_NAME);for(var f2h,S2h=J59.N5B;S2h<s2h.length;S2h++){b2h=s2h[S2h].slice(J59.N5B);J59.q9B==typeof b2h[J59.N5B]&&(f2h=b2h.shift());var z2h=R2h.getItemAt(b2h.length-J59.T1B);if(J59.r0B==z2h)break;var m2h=b2h[J59.I5B];isNaN(parseFloat(b2h[J59.I5B]))||(b2h=z2h.members.getItemAt(b2h[J59.I5B]),J59.r0B!=b2h&&(m2h=b2h.uniqueName));-J59.I5B==z2h.predefinedDrillDowns.indexOf(m2h)&&z2h.predefinedDrillDowns.push([f2h,m2h]);}};Object.defineProperty(W4h.prototype,L8t,{get:function(){var C59=T3yy;for(var o2h=[],K2h,E2h,n2h,d2h,w2h,c2h,W2h,v2h,p2h=C59.N5B;p2h<this.drilledTuples.length;p2h++){K2h=this.drilledTuples[p2h].slice(C59.N5B);E2h=[];w2h=n2h=C59.o9B;C59.q9B==typeof K2h[C59.N5B]&&(n2h=K2h.shift());d2h=K2h.shift();c2h=K2h.shift();for(var Y2h=W2h=C59.N5B;Y2h<K2h.length;Y2h++)v2h=this.hierarchies.getItemAt(W2h),v2h.isMeasures&&(-C59.I5B<d2h&&(w2h=v2h.members.getItemAt(d2h).uniqueName),W2h++,v2h=this.hierarchies.getItemAt(W2h)),C59.r0B!=v2h.members.getItemAt(K2h[Y2h])&&E2h.push(v2h.members.getItemAt(K2h[Y2h]).uniqueName),W2h++;E2h.unshift(c2h);E2h.unshift(w2h);E2h.unshift(n2h);o2h.push(E2h);}return o2h;},enumerable:!M1u.N5B,configurable:!M1u.N5B});W4h.prototype.parseDrilledTuplesBasedOnUniqueNames=function(L2h,V2h){var T59=T3yy;void T59.N5B===V2h&&(V2h=T59.r0B);for(var t2h=[],A2h,l2h,G2h,r2h,x2h,q2h,M2h,h2h,U2h=T59.N5B;U2h<L2h.length;U2h++){A2h=L2h[U2h].slice(T59.N5B);if(isNaN(parseInt(A2h[A2h.length-T59.I5B]))){l2h=[];r2h=-T59.I5B;G2h=A2h.shift();x2h=A2h.shift();q2h=A2h.shift();M2h=T59.N5B;if(T59.N5B<this.hierarchies.length)for(var H2h=T59.N5B;H2h<A2h.length;H2h++){h2h=this.hierarchies.getItemAt(M2h);if(utils.nullOrUndefined(h2h))return[];h2h.isMeasures&&(T59.o9B!=x2h&&(r2h=V2h?V2h.indexOf(x2h):h2h.members.indexOf(x2h)),M2h++,h2h=this.hierarchies.getItemAt(M2h));l2h.push(h2h.members.indexOf(A2h[H2h]));M2h++;}l2h.unshift(q2h);l2h.unshift(r2h);T59.o9B!=G2h&&l2h.unshift(G2h);}else l2h=A2h;t2h.push(l2h);}return t2h;};Object.defineProperty(W4h.prototype,N8t,{get:function(){return this._sortType;},set:function(N2h){N2h=N2h.toLowerCase();this._sortType=N2h==E4h.consts.SortType.ASC||N2h==E4h.consts.SortType.DESC?N2h:E4h.consts.SortType.UNSORTED;},enumerable:!M1u.N5B,configurable:!M1u.N5B});function W4h(p4h){this._hierarchies=new utils.AssociativeArray();this.totalSortType=E4h.consts.SortType.UNSORTED;this._sortTuple=this.__sortTuple=T3yy.r0B;this._expandedTuples=[];this._drilledTuples=[];this._sortType=E4h.consts.SortType.UNSORTED;this._name=p4h;}Object.defineProperty(W4h.prototype,H1u.R2t,{get:function(){return this._name;},set:function(I2h){this._name=I2h;},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,C3yy.u0t,{get:function(){return this._caption;},set:function(i2h){this._caption=i2h;},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,H1u.W8t,{get:function(){return this._hierarchies;},set:function(T8h){this.expandedTuples=[];this.drilledTuples=[];this._sortTuple=T3yy.r0B;this._sortType=E4h.consts.SortType.UNSORTED;this.sortMeasure=T3yy.r0B;this._hierarchies=T8h;},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,M1u.A9B,{get:function(){for(var J8h=T3yy.I5B,C8h=T3yy.N5B;C8h<this._hierarchies.length;C8h++)J8h*=this._hierarchies.getItemAt(C8h).size;return J8h;},set:function(F8h){},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,H1u.G4t,{get:function(){return this._hierarchies.indexOf(E4h.Cube.MEASURES_NAME);},set:function(Q8h){},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,H1u.A8t,{get:function(){return this._hierarchies.getItem(E4h.Cube.MEASURES_NAME);},set:function(u8h){},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,I8t,{get:function(){return-T3yy.I5B<this.measuresPosition;},set:function(Z8h){},enumerable:!M1u.N5B,configurable:!M1u.N5B});Object.defineProperty(W4h.prototype,i8t,{get:function(){for(var D8h=T3yy.N5B,e8h=T3yy.N5B;e8h<this._hierarchies.length;e8h++)var P8h=this._hierarchies.getItemAt(e8h),D8h=D8h+P8h.drillDownDepth;return D8h;},set:function(B8h){},enumerable:!M1u.N5B,configurable:!M1u.N5B});W4h.prototype.toString=function(){var C3R=" ]";var T3R="[Axis:";return T3R+this._name+C3R;};W4h.fromObject=function(y8h,O8h,j8h,g8h,b8h,a8h,z8h){var r79=T3yy;void r79.N5B===z8h&&(z8h=r79.r0B);y8h=new W4h(y8h);y8h.hierarchies=new utils.AssociativeArray();var k8h;if(O8h)for(k8h=r79.N5B;k8h<O8h.length;k8h++)if(r79.r0B!=O8h[k8h].uniqueName){var X8h=a8h.findHierarchy(O8h[k8h].uniqueName);r79.r0B!=X8h&&(E4h._structure.GenericHierarchy.fromObject(O8h[k8h],X8h),X8h.isMeasures&&y8h.uniqueName==E4h.consts.AxisName.PAGES_AXIS||y8h.hierarchies.addItem(X8h.uniqueName,X8h));}j8h&&(k8h=a8h.findMeasure(j8h.measure?j8h.measure:r79.o9B),r79.r0B!=k8h&&r79.r0B!=j8h.tuple?y8h.setSort(k8h,j8h.tuple,j8h.type):y8h.sortToSet=j8h);if(g8h&&r79.N5B<g8h.length){X8h=[];for(k8h=r79.N5B;k8h<g8h.length;k8h++){O8h=g8h[k8h];a8h=[];r79.N5B<O8h.length&&a8h.push((isNaN(parseInt(O8h[r79.N5B])),O8h[r79.N5B]));for(j8h=r79.I5B;j8h<O8h.length;j8h++)a8h.push((isNaN(parseInt(O8h[j8h])),O8h[j8h]));X8h.push(a8h);}g8h=X8h;}y8h.expandedTuples=g8h?y8h.parseExpandedTuplesBasedOnUniqueNames(g8h,z8h):[];if(b8h&&r79.N5B<b8h.length){g8h=[];for(k8h=r79.N5B;k8h<b8h.length;k8h++){O8h=b8h[k8h];a8h=[];r79.N5B<O8h.length&&a8h.push((isNaN(parseInt(O8h[r79.N5B])),O8h[r79.N5B]));for(j8h=r79.I5B;j8h<O8h.length;j8h++)a8h.push((isNaN(parseInt(O8h[j8h])),O8h[j8h]));g8h.push(a8h);}b8h=g8h;}y8h.drilledTuples=b8h?y8h.parseDrilledTuplesBasedOnUniqueNames(b8h,z8h):[];return y8h;};W4h.toObject=function(S8h){for(var m8h={},s8h=[],R8h=T3yy.N5B;R8h<S8h.hierarchies.length;R8h++){var f8h=v4h.GenericHierarchy.toObject(S8h.hierarchies.getItemAt(R8h));s8h.push(f8h);}m8h.hierarchies=s8h;S8h.sortType==E4h.consts.SortType.UNSORTED||utils.nullOrUndefined(S8h.sortTuple)||utils.nullOrUndefined(S8h.sortMeasure)||(m8h.sort={type:S8h.sortType,tuple:S8h.sortNamedTuple,measure:S8h.sortMeasure.uniqueName});return m8h;};W4h.prototype.setSort=function(E8h,K8h,v8h){this.sortMeasure=E8h;this.sortTuple=K8h;this.sortType=v8h;T3yy.N5B==K8h.length&&(this.totalSortType=this.sortType,this.totalSortMeasure=this.sortMeasure);};return W4h;}();v4h.Axis=Y4h;}(E4h._structure||(E4h._structure={})));}(K4h.data_||(K4h.data_={})));}(pivot||(pivot={})));(function(Y8h){(function(W8h){var p8h;(function(o8h){var w8h=function(){var l1u=J3yy;var A1u=T3yy;var J3R="axes";var Q3R="measuresAll";var u3R="expandAll";var Z3R="drillAll";var D3R="flatOrder";var F3R="axisWithMeasures";Object.defineProperty(n8h.prototype,J3R,{get:function(){return this._axes;},set:function(c8h){},enumerable:!A1u.N5B,configurable:!A1u.N5B});n8h.prototype.addAxis=function(A8h){this._axes.addItem(A8h.uniqueName,A8h);A8h.hasMeasures&&(this._axisWithMeasures=A8h);};n8h.prototype.findAxis=function(l8h){return this._axes.getItem(l8h);};Object.defineProperty(n8h.prototype,F3R,{get:function(){if(T3yy.r0B==this._axisWithMeasures){for(var h8h=T3yy.N5B;h8h<this._axes.length;h8h++){var M8h=this._axes.getItemAt(h8h);if(M8h.hasMeasures){this._axisWithMeasures=M8h;break;}}T3yy.r0B==this._axisWithMeasures&&(this._axisWithMeasures=this.findAxis(W8h.consts.AxisName.COLUMNS_AXIS));}this._axisWithMeasures.hasMeasures||(h8h=this.structure.measuresHierarchy)&&this._axisWithMeasures.hierarchies.addItem(h8h.uniqueName,h8h);return this._axisWithMeasures;},set:function(H8h){},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.c8t,{get:function(){for(var x8h=new utils.AssociativeArray(),V8h=T3yy.N5B;V8h<this._measures.length;V8h++){var U8h=this._measures.getItemAt(V8h);U8h.calculated||x8h.addItem(U8h.uniqueName,U8h);}return x8h;},set:function(t8h){},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.d8t,{get:function(){for(var q8h=new utils.AssociativeArray(),G8h=T3yy.N5B;G8h<this._measures.length;G8h++){var r8h=this._measures.getItemAt(G8h);r8h.calculated&&q8h.addItem(r8h.uniqueName,r8h);}return q8h;},set:function(L8h){},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,Q3R,{get:function(){return this._measures;},set:function(N8h){this.measures_=N8h;},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.n8t,{get:function(){for(var T33=new utils.AssociativeArray(),I8h=T3yy.N5B;I8h<this._measures.length;I8h++){var i8h=this._measures.getItemAt(I8h);i8h.hidden||T33.addItem(i8h.uniqueName,i8h);}return T33;},set:function(J33){var h79=T3yy;this._measures=J33;J33=this.axisWithMeasures.measuresHierarchy;if(h79.r0B!=J33&&(J33.clear(),h79.r0B!=this._measures))for(var F33=h79.N5B;F33<this._measures.length;F33++){var C33=this._measures.getItemAt(F33),C33=new p8h.GenericMember(C33.uniqueName,C33.caption);J33.addMember(C33,h79.o9B,h79.o9B,!h79.I5B);}},enumerable:!A1u.N5B,configurable:!A1u.N5B});n8h.prototype.allHierarchies=function(D33,e33,Q33){var l79=T3yy;void l79.N5B===D33&&(D33=!l79.N5B);void l79.N5B===e33&&(e33=!l79.N5B);void l79.N5B===Q33&&(Q33=!l79.I5B);for(var Z33=new utils.AssociativeArray(),u33=l79.N5B;u33<this._axes.length;u33++)var P33=this._axes.getItemAt(u33),Z33=Z33.concat(P33.hierarchies);D33||Z33.removeItem(this.structure.measuresHierarchy.uniqueName);if(!e33)for(D33=l79.N5B;D33<this.pages.length;D33++)Z33.removeItem(this.pages.getKeyAt(u33));if(Q33)for(u33=l79.N5B;u33<this.measures_.length;u33++)Q33=this.measures_.getItemAt(u33),Q33.calculated||(Q33=this.structure.measureToHierarchy(Q33.uniqueName),Z33.addItem(Q33.uniqueName,Q33));return Z33;};n8h.prototype.clear=function(){for(var B33=T3yy.N5B;B33<this._axes.length;B33++)this._axes.getItemAt(B33).hierarchies=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();};Object.defineProperty(n8h.prototype,C3yy.i5J,{get:function(){return this.findAxis(W8h.consts.AxisName.ROWS_AXIS).hierarchies;},set:function(j33){var O33=this.findAxis(W8h.consts.AxisName.ROWS_AXIS);T3yy.r0B==O33&&(O33=new o8h.Axis(W8h.consts.AxisName.ROWS_AXIS));O33.hierarchies=j33;T3yy.r0B==j33&&(O33.hierarchies=new utils.AssociativeArray());this.addAxis(O33);},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,C3yy.T1J,{get:function(){return this.findAxis(W8h.consts.AxisName.COLUMNS_AXIS).hierarchies;},set:function(y33){var k33=this.findAxis(W8h.consts.AxisName.COLUMNS_AXIS);T3yy.r0B==k33&&(k33=new o8h.Axis(W8h.consts.AxisName.COLUMNS_AXIS));k33.hierarchies=y33;T3yy.r0B==y33&&(k33.hierarchies=new utils.AssociativeArray());this.addAxis(k33);},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.x4t,{get:function(){return this.findAxis(W8h.consts.AxisName.PAGES_AXIS).hierarchies;},set:function(a33){var g33=this.findAxis(W8h.consts.AxisName.PAGES_AXIS);T3yy.r0B==g33&&(g33=new o8h.Axis(W8h.consts.AxisName.PAGES_AXIS));g33.hierarchies=a33;T3yy.r0B==a33&&(g33.hierarchies=new utils.AssociativeArray());this.addAxis(g33);},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.M4t,{get:function(){return this.axisWithMeasures.uniqueName==W8h.consts.AxisName.ROWS_AXIS?this.rows.splice(this.axisWithMeasures.measuresPosition,T3yy.I5B):this.rows;},set:function(X33){},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.U4t,{get:function(){return this.axisWithMeasures.uniqueName==W8h.consts.AxisName.COLUMNS_AXIS?this.columns.splice(this.axisWithMeasures.measuresPosition,T3yy.I5B):this.columns;},set:function(b33){},enumerable:!A1u.N5B,configurable:!A1u.N5B});n8h.prototype.clone=function(){var z33=new n8h(this.structure);z33.rows=this.rows.slice();z33.columns=this.columns.slice();z33.pages=this.pages.slice();z33.measures_=this.measures_.slice();z33.flatOrder=this.flatOrder.slice(T3yy.N5B);return z33;};n8h.areRowsDiffer=function(m33,R33,f33){var W79=T3yy;void W79.N5B===f33&&(f33=!W79.N5B);if(W79.r0B==R33)return!W79.N5B;var S33=m33.rows.length!=R33.rows.length;if(!S33)for(var s33=W79.N5B;s33<m33.rows.length;s33++)if(m33.rows.getItemAt(s33).uniqueName!=R33.rows.getItemAt(s33).uniqueName){S33=!W79.N5B;break;}!S33&&f33&&m33.findAxis(W8h.consts.AxisName.ROWS_AXIS).hasMeasures&&R33.findAxis(W8h.consts.AxisName.ROWS_AXIS).hasMeasures&&(S33=n8h.areMeasuresDiffer(m33,R33));return S33;};n8h.areColumnsDiffer=function(E33,v33,W33){var Y79=T3yy;void Y79.N5B===W33&&(W33=!Y79.N5B);if(Y79.r0B==v33)return!Y79.N5B;var K33=E33.columns.length!=v33.columns.length;if(!K33)for(var Y33=Y79.N5B;Y33<E33.columns.length;Y33++)if(E33.columns.getItemAt(Y33).uniqueName!=v33.columns.getItemAt(Y33).uniqueName){K33=!Y79.N5B;break;}!K33&&W33&&E33.findAxis(W8h.consts.AxisName.COLUMNS_AXIS).hasMeasures&&v33.findAxis(W8h.consts.AxisName.COLUMNS_AXIS).hasMeasures&&(K33=n8h.areMeasuresDiffer(E33,v33));return K33;};n8h.areMeasuresDiffer=function(w33,n33){var v79=T3yy;if(v79.r0B==n33)return!v79.N5B;var o33=w33.measures_.length!=n33.measures_.length;if(!o33)for(var p33=v79.N5B;p33<w33.measures_.length;p33++)if(w33.measures_.getItemAt(p33).uniqueName!=n33.measures_.getItemAt(p33).uniqueName){o33=!v79.N5B;break;}return o33;};n8h.fromObject=function(d33,h33){var E79=T3yy;for(var l33=new n8h(h33),M33=new utils.AssociativeArray(),c33=E79.N5B;c33<d33.measures.length;c33++)if(d33.measures[c33].hasOwnProperty(l1u.R2t)){var A33=h33.measures_.getItem(d33.measures[c33].uniqueName);E79.r0B==A33&&utils.nullOrEmpty(d33.measures[c33].formula)||(A33=W8h._structure.GenericMeasure.fromObject(d33.measures[c33],A33),A33.calculated&&!h33.measures_.keyExists(A33.uniqueName)&&h33.addMeasure(A33),(utils.nullOrUndefined(d33.measures[c33].active)||d33.measures[c33].active)&&M33.addItem(A33.uniqueName,A33));}c33=W8h._structure.Axis.fromObject(W8h.consts.AxisName.ROWS_AXIS,d33.rows,d33.rowSorting,d33.expandedRows,d33.drilledRows,h33,M33.toArray(!E79.N5B));A33=W8h._structure.Axis.fromObject(W8h.consts.AxisName.COLUMNS_AXIS,d33.columns,d33.columnSorting,d33.expandedColumns,d33.drilledColumns,h33,M33.toArray(!E79.N5B));l33.rows=c33.hierarchies;l33.columns=A33.hierarchies;l33.pages=W8h._structure.Axis.fromObject(W8h.consts.AxisName.PAGES_AXIS,d33.pages,E79.r0B,[],[],h33).hierarchies;l33.measures_=M33;l33.expandAll=d33.expandAll;l33.drillAll=d33.drillAll;l33.flatOrder=d33.flatOrder;l33.addAxis(c33);l33.addAxis(A33);return l33;};n8h.prototype.toObject=function(){var K79=T3yy;for(var V33={rows:[]},H33=K79.N5B;H33<this.rows.length;H33++){var U33=this.rows.getItemAt(H33).toObject();V33.rows[H33]=U33;}V33.columns=[];for(H33=K79.N5B;H33<this.columns.length;H33++)U33=this.columns.getItemAt(H33).toObject(),V33.columns[H33]=U33;V33.pages=[];for(H33=K79.N5B;H33<this.pages.length;H33++)U33=this.pages.getItemAt(H33).toObject(),V33.pages[H33]=U33;V33.measures=[];for(H33=K79.N5B;H33<this.measures_.length;H33++)U33=this.measures_.getItemAt(H33).toObject(),V33.measures[H33]=U33;return V33;};n8h.prototype.parseExpandedTuples=function(){for(var x33=T3yy.N5B;x33<this._axes.length;x33++)this._axes.getItemAt(x33).parseExpandedTuples();};n8h.prototype.flatten=function(q33){var s79=T3yy;void s79.N5B===q33&&(q33=!s79.I5B);for(var r33=this.allHierarchies(!s79.I5B),t33=s79.N5B;t33<this.measures_.length;t33++){var G33=this.measures_.getItemAt(t33),L33=this.measureToHierarchy(G33.uniqueName);s79.r0B!=L33&&r33.addItem(L33.uniqueName,L33);G33.calculated&&q33&&(L33=new o8h.GenericHierarchy(G33.uniqueName,G33.caption),r33.addItem(G33.uniqueName,L33));}q33=new utils.AssociativeArray();for(t33=s79.N5B;t33<this.flatOrder.length;t33++)G33=this.flatOrder[t33],r33.keyExists(G33)&&(q33.addItem(G33,r33.getItem(G33)),r33.removeItem(G33));for(t33=s79.N5B;t33<r33.length;t33++)q33.addItem(r33.getKeyAt(t33),r33.getItemAt(t33));return q33;};n8h.prototype.isEqual=function(I33){var t9u=T3yy;if(t9u.r0B==I33||this.pages.length!=I33.pages.length||this.rows.length!=I33.rows.length||this.columns.length!=I33.columns.length||this.measures_.length!=I33.measures_.length)return!t9u.I5B;for(var N33=t9u.N5B;N33<this.pages.length;N33++)if(this.pages.getKeyAt(N33)!=I33.pages.getKeyAt(N33))return!t9u.I5B;for(N33=t9u.N5B;N33<this.rows.length;N33++)if(this.rows.getKeyAt(N33)!=I33.rows.getKeyAt(N33))return!t9u.I5B;for(N33=t9u.N5B;N33<this.columns.length;N33++)if(this.columns.getKeyAt(N33)!=I33.columns.getKeyAt(N33))return!t9u.I5B;for(N33=t9u.N5B;N33<this.measures_.length;N33++)if(this.measures_.getKeyAt(N33)!=I33.measures_.getKeyAt(N33)||this.measures_.getItemAt(N33).aggregation!=I33.measures_.getItemAt(N33).aggregation)return!t9u.I5B;return!t9u.N5B;};n8h.prototype.measureToHierarchy=function(i33){return this.structure.measureToHierarchy(i33);};n8h.prototype.hierarchyToMeasure=function(T73){return this.structure.hierarchyToMeasure(T73);};Object.defineProperty(n8h.prototype,l1u.O2t,{get:function(){return T3yy.N5B==this.allHierarchies(!T3yy.I5B).length&&T3yy.N5B==this.measures_.length;},set:function(C73){},enumerable:!A1u.N5B,configurable:!A1u.N5B});n8h.prototype.makeDefault=function(){var m79=T3yy;var F73;if(Y8h.model._options.OptionsManager.flatView){this.rows=new utils.AssociativeArray();this.columns=new utils.AssociativeArray();this.pages=new utils.AssociativeArray();for(var J73=new utils.AssociativeArray(),Q73=[],u73=m79.N5B;u73<this.structure.measures_.length;u73++)F73=this.structure.measures_.getItemAt(u73),Q73.push(F73.uniqueName),F73.type==W8h.types.MeasureType.COUNT?(F73=this.structure.measureToHierarchy(F73.uniqueName))&&this.rows.addItem(F73.uniqueName,F73):J73.addItem(F73.uniqueName,F73);this._flatOrder=Q73;this.measures_=J73;}else{for(u73=m79.N5B;u73<this.structure.measures_.length&&(F73=this.structure.measures_.getItemAt(u73),F73.type!=W8h.types.MeasureType.NUMBER?m79.r0B==J73&&(J73=this.structure.measureToHierarchy(F73.uniqueName)):m79.r0B==Q73&&(Q73=F73),m79.r0B==J73||m79.r0B==Q73);u73++);m79.r0B==Q73?Q73=this.structure.measures_.getItemAt(m79.N5B):m79.r0B==J73?(F73=this.structure.measures_.getItemAt(m79.N5B),J73=this.structure.measureToHierarchy(F73.uniqueName)):m79.r0B==J73&&m79.r0B==Q73&&m79.N5B<this.structure.measures_.length&&(Q73=this.structure.measures_.getItemAt(m79.N5B),J73=this.structure.measureToHierarchy(Q73.uniqueName));m79.r0B!=J73&&m79.r0B!=Q73&&(this.pages=new utils.AssociativeArray(),this.rows=new utils.AssociativeArray(),this.columns=new utils.AssociativeArray(),this.rows.addItem(J73.uniqueName,J73),J73=new utils.AssociativeArray(),J73.addItem(Q73.uniqueName,Q73),this.measures_=J73);}};Object.defineProperty(n8h.prototype,u3R,{get:function(){return this._expandAll;},set:function(Z73){this._expandAll=Z73;},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,Z3R,{get:function(){return this._drillAll;},set:function(D73){this._drillAll=D73;},enumerable:!A1u.N5B,configurable:!A1u.N5B});n8h.prototype.clearExpands=function(){this.rowAxis.expandedTuples=[];this.columnAxis.expandedTuples=[];};n8h.prototype.clearDrills=function(){this.rowAxis.drilledTuples=[];this.columnAxis.drilledTuples=[];};Object.defineProperty(n8h.prototype,D3R,{get:function(){T3yy.r0B==this._flatOrder&&(this._flatOrder=[]);return this._flatOrder;},set:function(e73){this._flatOrder=e73;},enumerable:!A1u.N5B,configurable:!A1u.N5B});function n8h(d8h){this._axes=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this._drillAll=this._expandAll=!T3yy.I5B;this._flatOrder=[];this.structure=d8h;this.addAxis(new W8h._structure.Axis(W8h.consts.AxisName.ROWS_AXIS));this.addAxis(new W8h._structure.Axis(W8h.consts.AxisName.COLUMNS_AXIS));this.addAxis(new W8h._structure.Axis(W8h.consts.AxisName.PAGES_AXIS));}Object.defineProperty(n8h.prototype,l1u.I4t,{get:function(){return this.axes.getItem(W8h.consts.AxisName.ROWS_AXIS);},enumerable:!A1u.N5B,configurable:!A1u.N5B});Object.defineProperty(n8h.prototype,l1u.i4t,{get:function(){return this.axes.getItem(W8h.consts.AxisName.COLUMNS_AXIS);},enumerable:!A1u.N5B,configurable:!A1u.N5B});n8h.prototype.mergeExpandsAndDrills=function(P73){var b79=T3yy;utils.nullOrUndefined(P73)||(this.expandAll=P73.expandAll,this.drillAll=P73.drillAll,n8h.areRowsDiffer(this,P73,!b79.I5B)?(this.rowAxis.expandedTuples=this.cutTuples(P73.rowAxis.expandedTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,P73.rowAxis.hierarchies)),this.rowAxis.drilledTuples=this.cutTuples(P73.rowAxis.drilledTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,P73.rowAxis.hierarchies)+b79.i5B)):(this.rowAxis.expandedTuples=this.cloneTuples(P73.rowAxis.expandedTuples),this.rowAxis.drilledTuples=this.cloneTuples(P73.rowAxis.drilledTuples)),n8h.areColumnsDiffer(this,P73,!b79.I5B)?(this.columnAxis.expandedTuples=this.cutTuples(P73.columnAxis.expandedTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,P73.columnAxis.hierarchies)),this.columnAxis.drilledTuples=this.cutTuples(P73.columnAxis.drilledTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,P73.columnAxis.hierarchies)+b79.i5B)):(this.columnAxis.expandedTuples=this.cloneTuples(P73.columnAxis.expandedTuples),this.columnAxis.drilledTuples=this.cloneTuples(P73.columnAxis.drilledTuples)));};n8h.prototype.removeMeasure=function(B73){this._measures.removeItem(B73);};n8h.prototype.getCommonFieldsCount=function(y73,g73){for(var j73=T3yy.N5B,a73=Math.min(y73.length,g73.length),O73=T3yy.N5B;O73<a73;O73++){var k73=y73.getItemAt(O73),X73=g73.getItemAt(O73);if(k73.uniqueName!=X73.uniqueName)break;k73.isMeasures||j73++;}return j73;};n8h.prototype.cutTuples=function(m73,R73){var z73=[];if(T3yy.I5B<R73)for(var b73=T3yy.N5B;b73<m73.length;b73++){var S73=m73[b73];S73.length<=R73&&z73.push(S73.slice());}return z73;};n8h.prototype.cloneTuples=function(K73){for(var f73=[],s73=T3yy.N5B;s73<K73.length;s73++)f73.push(K73[s73].slice());return f73;};return n8h;}();o8h.Slice=w8h;}(p8h=W8h._structure||(W8h._structure={})));}(Y8h.data_||(Y8h.data_={})));}(pivot||(pivot={})));(function(E73){(function(v73){(function(W73){var p73=function(){o73.prototype.clear=function(){var k79=T3yy;this.data=[];this.dataLoadedLength=this.bytesLoaded=k79.N5B;this.connected=!k79.I5B;this.chunkIndex=this.lastPosition=k79.N5B;this.recordsetDelimiter=C3yy.v2B;this.fieldEnclosureToken=C3yy.o3J;this.columnType=[];this.hasSizeHeader=this.isFileFailed=this.isFileLoaded=this.isHeaderParsed=!k79.I5B;this.lastByte=k79.N5B;this.lastRow=k79.o9B;this.rowIdx=this.beforeBeforeLastByte=this.beforeLastByte=k79.N5B;this.BLOCK_SIZE=k79.F0B;k79.r0B!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=k79.r0B);this.stopTimer();};o73.prototype.load=function(d73,c73,A73,l73,h73){var O79=T3yy;try{if(this.clear(),this.filename=d73.filename,this.successHandler=c73,this.errorHandler=A73,this.connectedHandler=l73,this.cancelledHandler=h73,this.fieldSeparator=d73.fieldSeparator,this.ignoreQuotedLineBreaks=d73.ignoreQuotedLineBreaks,d73.isDemo)this.generate();else{if(void O79.N5B!==this.filename&&O79.o9B!=this.filename&&C3yy.s8B!=this.filename.substr(-O79.i5B)||!O79.I5B!==d73.browseForFile)this.filename=utils.URLUtils.getUrl(this.filename,!O79.N5B);else this.onFileError();!O79.N5B===d73.browseForFile?this.browseFile():this.isGooggleDrive(d73.filename)&&utils.nullOrUndefined(d73.requestHeader)?this.authorizeGoogleDrive():(E73.preloader(!O79.N5B,E73.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,d73.requestHeader));}}catch(M73){console.error(M73.stack),this.onFileError();}};o73.prototype.generate=function(){};o73.prototype.authorizeGoogleDrive=function(){var e3R="auth";window.gapi&&window.gapi.load(e3R,{callback:this.onAuthApiLoadHandler});};o73.prototype.onAuthApiLoad=function(){if(T3yy.o9B==E73._view.PivotView.stage.getToolbar().googleClientId||T3yy.r0B==E73._view.PivotView.stage.getToolbar().googleClientId)this.onGoogleClientIdNotSet();else window.gapi.auth.authorize({client_id:E73._view.PivotView.stage.getToolbar().googleClientId,scope:E73._view.PivotView.stage.getToolbar().googleScope,immediate:!T3yy.I5B},this.onhandleAuthResultHandler);};o73.prototype.handleAuthResult=function(H73){var P3R="Bearer ";var V73={};H73&&!H73.error?(V73.Authorization=P3R+H73.access_token,E73.preloader(!T3yy.N5B,E73.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,V73)):(E73.preloader(!T3yy.I5B),this.onFileError());};o73.prototype.isGooggleDrive=function(U73){var B3R="www.googleapis.com/drive";return-T3yy.I5B<U73.indexOf(B3R);};o73.prototype.onGoogleClientIdNotSet=function(){E73.uialert(E73.model._labels.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY,E73.model._labels.Labels.ERROR,E73.AlertType.ERROR);};o73.prototype.browseFile=function(){var x73=this;this.fileReference=new misc.FileReference();this.fileReference.addEventListener(events._Event.SELECT,function(){return x73.onFileSelected();});this.fileReference.addEventListener(events._Event.COMPLETE,function(){return x73.onFileComplete();});this.fileReference.addEventListener(events._Event.PROGRESS,function(t73){return x73.onFileProgress(t73);});this.fileReference.addEventListener(events._Event.CANCEL,function(){return x73.onFileCancelled();});this.fileReference.addEventListener(events._Event.ERROR,function(){return x73.onFileError();});this.fileReference.browse(this.fileExtensions);};o73.prototype.onFileSelected=function(){var D79=T3yy;E73.preloader(!D79.N5B,E73.model._labels.Labels.MESSAGE_LOADING_DATA,D79.o9B,!D79.N5B,!D79.N5B);this.loader=this.fileReference;this.fileReference.load();this.fileReference=D79.r0B;};o73.prototype.loadFile=function(L73,q73){var r73=this;void T3yy.N5B===q73&&(q73=T3yy.r0B);var G73=new misc.URLStream();G73.dataType=misc.DataType.TEXT;G73.addEventListener(events._Event.COMPLETE,function(){return r73.onFileComplete();});G73.addEventListener(events._Event.CONNECTED,function(){return r73.onFileConnected();});G73.addEventListener(events._Event.PROGRESS,function(N73){return r73.onFileProgress(N73);});G73.addEventListener(events._Event.ERROR,function(){return r73.onFileError();});G73.load(L73,q73);this.loader=G73;this.timer=new utils.Timer(T3yy.F0B,C3yy.t4B);this.timer.addEventListener(utils.TimerEvent.TIMER,this.tickHandler);this.timer.addEventListener(utils.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler);this.timer.start();};o73.prototype.onTick=function(){var Q79=T3yy;Q79.N5B<this.bytesLoaded||this.isFileLoaded||this.isFileFailed?this.stopTimer():Q79.r0B!=this.timer&&E73.preloader(!Q79.N5B,E73.model._labels.Labels.MESSAGE_LOADING_DATA,utils.StringUtils.bind(E73.model._labels.Labels.MESSAGE_LOADING_WAITING,utils.NumberFormatter.format(this.timer.currentCount/Q79.D1B,new E73.model.format.vo.FormatValueObject(),!Q79.I5B,!Q79.I5B,Q79.I5B)));};o73.prototype.onTimerComplete=function(){this.timer.running&&this.stopTimer();};o73.prototype.stopTimer=function(){this.timer&&this.timer.running&&(this.timer.stop(),this.timer.removeEventListener(utils.TimerEvent.TIMER,this.tickHandler),this.timer.removeEventListener(utils.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler));};o73.prototype.onFileCancelled=function(){T3yy.r0B!=this.cancelledHandler&&(this.cancelledHandler(),this.cancelledHandler=T3yy.r0B);this.clear();};o73.prototype.onFileError=function(){var J79=T3yy;E73.preloader(!J79.I5B);if(!J79.I5B==this.isFileFailed){this.isFileFailed=!J79.N5B;var I73=E73.model.XSSCheck.valid(this.filename)?this.filename:E73.model.XSSCheck.validate(this.filename);E73.uialert(utils.StringUtils.bind(E73.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,I73),E73.model._labels.Labels.ERROR,E73.AlertType.ERROR);}J79.r0B!=this.errorHandler&&(this.errorHandler(),this.errorHandler=J79.r0B);this.stopTimer();};o73.prototype.onHeaderParsingError=function(){E73.preloader(!T3yy.I5B);E73.uialert(utils.StringUtils.bind(E73.model._labels.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR),E73.model._labels.Labels.ERROR,E73.AlertType.ERROR);};o73.prototype.onFileProgress=function(i73){var i39=T3yy;var f0B=404;if(f0B==i73.target.status)this.onFileError();else if(!utils.nullOrUndefined(this.loader))try{var T53=this.loader.response;if(i39.r0B!=T53&&i39.N5B!=T53.length&&(this.bytesLoaded!=i73.loaded||this.dataLoadedLength!=T53.length)&&(this.hasSizeHeader=i39.N5B<i73.total&&i73.lengthComputable,this.dataLoadedLength=T53.length,this.bytesLoaded=i73.loaded,J3yy.O3R<T53.length-this.lastPosition||i73.loaded==i73.total))if(this.bytesLoaded>E73.model.license.Limitations.MAX_CSV)E73.uialert(E73.model.license.LicenseLabels.getLabel(E73.model.license.LicenseLabels.betaversion),E73.model.license.LicenseLabels.getLabel(E73.model.license.LicenseLabels.tooLarge)),E73.preloader(!i39.I5B),i39.r0B!=this.errorHandler&&(this.errorHandler(),this.errorHandler=i39.r0B),this.stopTimer();else{this.isFileLoaded=i73.loaded==i73.total;void i39.N5B!==T53&&this.parseChunk(T53.substring(this.lastPosition,T53.length));this.lastPosition=T53.length;var C53=utils.StringUtils.bind(E73.model._labels.Labels.MESSAGE_LOADING_PROGRESS,utils.NumberFormatter.formatThousands(i73.loaded.toFixed(i39.N5B)),utils.NumberFormatter.formatThousands(i73.total.toFixed(i39.N5B)));E73.preloader(!i39.N5B,E73.model._labels.Labels.MESSAGE_LOADING_DATA,C53);}}catch(J53){console.error(J53.stack),this.onFileError();}};o73.prototype.onFileConnected=function(){this.connected=!T3yy.N5B;E73.preloader(!T3yy.N5B,E73.model._labels.Labels.MESSAGE_LOADING_DATA,T3yy.o9B);};o73.prototype.setConnected=function(){T3yy.r0B!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=T3yy.r0B);};o73.prototype.onFileComplete=function(){var L39=T3yy;if(!utils.nullOrUndefined(this.loader))try{if(L39.N5B==this.lastPosition||!this.hasSizeHeader){var F53=this.loader.response;this.connected=!L39.N5B;F53.length>E73.model.license.Limitations.MAX_CSV?(E73.uialert(E73.model.license.LicenseLabels.getLabel(E73.model.license.LicenseLabels.betaversion),E73.model.license.LicenseLabels.getLabel(E73.model.license.LicenseLabels.tooLarge)),E73.preloader(!L39.I5B),L39.r0B!=this.errorHandler&&(this.errorHandler(),this.errorHandler=L39.r0B),this.clear()):(this.isFileLoaded=!L39.N5B,this.isStarted?this.hasSizeHeader||(this.lastPosition<F53.length?(this.parseChunk(F53.substring(this.lastPosition,F53.length)),this.lastPosition=F53.length):this.data.push(this.lastRow)):this.parseChunk(F53),this.parseAllDataRows(),this.onDataParsed());}}catch(Q53){console.error(Q53.stack),this.onFileError();}};o73.isCSVValid=function(u53){var r39=T3yy;var j3R="<config>";var k3R="<!doctype";u53=u53.toLowerCase();return-r39.I5B!=u53.indexOf(C3yy.C8B)||-r39.I5B!=u53.indexOf(j3R)||r39.N5B==u53.trim().length||-r39.I5B!=u53.indexOf(k3R)?(E73.uialert(E73.model._labels.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT,E73.model._labels.Labels.ERROR,E73.AlertType.ERROR),!r39.I5B):!r39.N5B;};o73.prototype.parseChunk=function(Z53){var G39=C3yy;var t39=T3yy;this.isStarted=!t39.N5B;this.setConnected();t39.N5B==this.chunkIndex&&-t39.I5B==Z53.indexOf(G39.v2B)&&-t39.I5B!=Z53.indexOf(G39.X3J)&&(this.recordsetDelimiter=G39.X3J);void t39.N5B===this.fieldSeparator&&(this.fieldSeparator=this.chooseSeparator(-t39.I5B==Z53.indexOf(G39.v2B)&&-t39.I5B==Z53.indexOf(G39.X3J)?Z53:Z53.substring(t39.N5B,Z53.indexOf(this.recordsetDelimiter))));this.appendData(Z53);!t39.I5B==this.isHeaderParsed&&(t39.I5B<this.data.length||E73.model._options.OptionsManager.showEmptyData)&&(this.parseHeader(this.data.shift(),this.data[t39.N5B]),this.isHeaderParsed=!t39.N5B);};function o73(){var U39=T3yy;var w73=this;this.beforeBeforeLastByte=this.beforeLastByte=this.lastByte=U39.N5B;this.fileExtensions=[J3yy.y3R];this.onAuthApiLoadHandler=function(){return w73.onAuthApiLoad();};this.onhandleAuthResultHandler=function(n73){return w73.handleAuthResult(n73);};this.tickHandler=function(){return w73.onTick();};this.timerCompleteHandler=function(){return w73.onTimerComplete();};this.lastPosition=U39.N5B;this.isStarted=!U39.I5B;this.preloaderTime=U39.N5B;this.cube_=v73.Cube.getInstance();this.fileExtensions=[J3yy.y3R];}o73.prototype.onDataParsed=function(){var V39=T3yy;E73.preloader(!V39.I5B);this.isHeaderParsed?V39.r0B!=this.successHandler&&this.successHandler():(E73.uialert(E73.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,E73.model._labels.Labels.ERROR,E73.AlertType.ALERT),V39.r0B!=this.errorHandler&&(this.errorHandler(),this.errorHandler=V39.r0B));this.clear();};o73.prototype.parseHeader=function(X53,m53){var H39=T3yy;var M39=C3yy;if(o73.isCSVValid(X53))try{utils.nullOrUndefined(this.fieldSeparator)&&(this.fieldSeparator=M39.y2B);var P53=o73.splitRow(X53,this.fieldSeparator),a53=o73.splitRow(m53,this.fieldSeparator);this.columnNames=[];for(var D53=H39.N5B;D53<P53.length;D53++){var O53=this.getColumnValue(a53[D53]),k53=P53[D53],e53=H39.r0B;if(H39.N5B<P53[D53].length&&-H39.I5B<P53[D53].indexOf(M39.v3J)){var y53=P53[D53].substr(P53[D53].indexOf(M39.u3J)+H39.I5B,P53[D53].length);if(H39.N5B<y53.length){k53=P53[D53].substring(H39.N5B,P53[D53].indexOf(M39.u3J));try{e53=JSON.parse(y53);}catch(R53){console.error(J3yy.g3R+P53[D53].substring(H39.N5B,P53[D53].indexOf(C3yy.u3J))+J3yy.a3R+y53),console.error(R53.stack),P53[D53]=k53;}}}var B53;if(utils.nullOrUndefined(e53)){var g53=this.getColumnType(P53[D53],O53,H39.N5B==a53.length);B53=this.getColumnName(P53[D53]);var z53=this.getColumnCaption(B53),S53=this.getColumnAlias(P53[D53])||z53;this.columnType[D53]=g53;this.columnNames.push(B53);e53={type:g53,caption:S53,uniqueName:B53};if(g53==v73.types.DataFieldType.LEVEL){var j53=B53.split(M39.u3J);e53.hierarchy=j53[H39.N5B];e53.level=j53.pop();if(H39.N5B<j53.length){var b53=j53.pop();e53.parent=b53;}}}else{if(utils.nullOrUndefined(e53.type)||!v73.types.DataFieldType.valid(e53.type))H39.o9B==O53||void H39.N5B===O53?e53.type=v73.types.DataFieldType.STRING:isNaN(Number(O53))?isNaN(Number(O53))&&(e53.type=utils.StringUtils.isDate(O53)&&E73.model._options.OptionsManager.datePattern==E73.model._options.OptionsManager.defaultDatePattern?v73.types.DataFieldType.DATE:v73.types.DataFieldType.STRING):e53.type=v73.types.DataFieldType.NUMBER;B53=this.getColumnName(k53);if(utils.nullOrUndefined(e53.caption)||H39.o9B==e53.caption.length)e53.caption=this.getColumnCaption(B53);this.columnType[D53]=e53.type;this.columnNames.push(B53);}this.cube_.structure_.addDataField(e53,B53);}}catch(s53){console.error(s53.stack),this.onHeaderParsingError();}else this.onFileError();};o73.prototype.getColumnValue=function(f53){void T3yy.N5B!==f53&&T3yy.r0B!==f53&&(f53=f53.replace(C3yy.y2B,C3yy.g3J));return f53;};o73.prototype.getColumnCaption=function(E53){var K53=E53.split(Y73.ALIAS_DELIMITER);if(T3yy.I5B<K53.length)return K53[T3yy.I5B];this.hasParentHierarchy(E53)&&(K53=E53.split(C3yy.u3J));return K53[K53.length-T3yy.I5B];};o73.prototype.getColumnName=function(v53){var n39=T3yy;v53=v53.trim().split(Y73.ALIAS_DELIMITER)[n39.N5B];v53=this.removeColumnFlags(v53);if(-n39.I5B<this.columnNames.indexOf(v53)){for(var W53=n39.I5B,Y53=v53;-n39.I5B<this.columnNames.indexOf(Y53);)Y53=v53+W53,W53++;v53=Y53;}return v53;};o73.prototype.getColumnAlias=function(p53){p53=p53.split(Y73.ALIAS_DELIMITER);return T3yy.I5B<p53.length?p53[T3yy.I5B]:T3yy.r0B;};o73.prototype.removeColumnFlags=function(o53){return o53.replace(J3yy.X3R,T3yy.o9B);};o73.prototype.getColumnType=function(n53,d53,c53){var W39=T3yy;var S3R="n+";var b3R="t+";var v3R="id+";var z3R="dt+";var R3R="d+";var K3R="D+";var f3R="w+";var m3R="ds+";var E3R="D4+";var s3R="m+";var w53=v73.types.DataFieldType.NUMBER;n53=n53.trim();if(utils.nullOrUndefined(d53)&&!c53)return v73.types.DataFieldType.STRING;C3yy.G8B==n53.charAt(W39.N5B)?w53=v73.types.DataFieldType.STRING:b3R==n53.substr(W39.N5B,W39.i5B)?w53=v73.types.DataFieldType.TIME:z3R==n53.substr(W39.N5B,W39.T1B)?w53=v73.types.DataFieldType.DATETIME:S3R==n53.substr(W39.N5B,W39.i5B)?w53=v73.types.DataFieldType.NUMBER:W39.P6B==n53.charAt(W39.N5B)?w53=v73.types.DataFieldType.NUMBER:m3R==n53.substr(W39.N5B,W39.T1B)?w53=v73.types.DataFieldType.DATE_STRING:R3R==n53.substr(W39.N5B,W39.i5B)?w53=v73.types.DataFieldType.DATE:s3R==n53.substr(W39.N5B,W39.i5B)?w53=v73.types.DataFieldType.MONTH:f3R==n53.substr(W39.N5B,W39.i5B)?w53=v73.types.DataFieldType.WEEKDAY:K3R==n53.substr(W39.N5B,W39.i5B)?w53=v73.types.DataFieldType.HIERARCHICAL_DATE:E3R==n53.substr(W39.N5B,W39.T1B)?w53=v73.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:v3R==n53.substr(W39.N5B,W39.T1B)?w53=v73.types.DataFieldType.ID:W39.o9B==d53||void W39.N5B===d53?w53=v73.types.DataFieldType.STRING:isNaN(Number(d53))&&(w53=utils.StringUtils.isDate(d53)&&E73.model._options.OptionsManager.datePattern==E73.model._options.OptionsManager.defaultDatePattern?v73.types.DataFieldType.DATE:v73.types.DataFieldType.STRING);w53==v73.types.DataFieldType.STRING&&this.hasParentHierarchy(n53)&&(w53=v73.types.DataFieldType.LEVEL);return w53;};o73.prototype.hasParentHierarchy=function(A53){var v39=T3yy;C3yy.G8B==A53.charAt(v39.N5B)&&(A53=A53.substr(v39.I5B));return v39.I5B<A53.split(C3yy.u3J).length&&-v39.I5B<this.columnNames.indexOf(A53.split(C3yy.u3J)[v39.N5B].trim());};o73.prototype.parseDataRows=function(){var K39=T3yy;for(var h53=utils.getTimer(),l53=this.data.length;K39.c1B>utils.getTimer()-h53&&this.rowIdx!=l53;)this.parseDataRow(this.data[this.rowIdx++]);K39.E0B<utils.getTimer()-this.preloaderTime&&this.isFileLoaded&&(h53=E73.model._labels.Labels.MESSAGE_ANALYZING_DATA,l53=(this.rowIdx/this.data.length*K39.F0B).toFixed(K39.N5B),l53=utils.StringUtils.bind(E73.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this.rowIdx.toFixed(K39.N5B)),utils.NumberFormatter.formatThousands(this.data.length.toFixed(K39.N5B)),l53),E73.preloader(!K39.N5B,h53,l53),this.preloaderTime=utils.getTimer());return this.isFileLoaded&&this.rowIdx>=this.data.length;};o73.prototype.parseAllDataRows=function(){for(E73.preloader(!T3yy.N5B,E73.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(E73.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this.data.length.toFixed(T3yy.N5B))));this.rowIdx<this.data.length;this.rowIdx++)this.parseDataRow(this.data[this.rowIdx]);};o73.prototype.parseDataRow=function(H53){var R39=T3yy;if(!utils.nullOrEmpty(H53)&&void R39.N5B!==this.columnNames){H53=utils.StringUtils.trim(H53,this.fieldSeparator);if(H53.split(this.fieldSeparator).length<this.columnNames.length)for(var V53=H53.split(this.fieldSeparator).length;V53<this.columnNames.length;V53++)H53=H53.concat(this.fieldSeparator);H53+=R39.L0B;for(var G53=!R39.I5B,t53=!R39.I5B,M53=R39.o9B,U53=R39.N5B,r53=[],q53=[],L53=R39.o9B,V53=R39.N5B;V53<H53.length;V53++){var x53=H53.charAt(V53);V53==H53.length-R39.I5B||x53==this.fieldSeparator&&!G53?(V53==H53.length-R39.I5B&&(M53+=x53),M53=M53.trim(),M53=M53.replace(C3yy.X3J,R39.o9B),M53.charAt(R39.N5B)==this.fieldEnclosureToken&&M53.charAt(M53.length-R39.I5B)==this.fieldEnclosureToken&&(M53=M53.slice(R39.I5B,M53.length-R39.I5B)),this.columnType[U53]==v73.types.DataFieldType.ID&&(L53=M53),E73.model.XSSCheck.valid(M53)||(M53=E73.model.XSSCheck.validate(M53)),R39.r0B!=this.columnNames[U53]&&this.cube_.localDataStorage.addMember(this.columnNames[U53],M53,this.columnType[U53],r53,q53),G53=t53=!R39.I5B,M53=R39.o9B,U53++):x53==this.fieldEnclosureToken?(t53||(M53+=x53),G53=!G53,t53=!R39.N5B):(M53+=x53,t53=!R39.I5B);}this.cube_.localDataStorage.insert(r53,q53,L53);}};o73.prototype.appendData=function(N53){var m39=T3yy;void m39.N5B!==this.lastRow&&m39.N5B<this.lastRow.length&&(N53=utils.StringUtils.concat(this.lastRow,N53));N53=this.splitLines(N53);for(var I53=m39.N5B;I53<N53.length;I53++)this.data.push(N53[I53]);!m39.N5B!=this.isFileLoaded&&(this.lastRow=this.data.pop());};o73.prototype.splitLines=function(i53){var S39=T3yy;var Y3R="<br/>";var C13=!S39.I5B;i53=i53.split(this.recordsetDelimiter);if(!S39.I5B==this.ignoreQuotedLineBreaks)for(var T13=S39.N5B;T13<i53.length;T13++)C13?(this.isQuoteOpen(i53[T13])&&(C13=!S39.I5B),i53[T13-S39.I5B]+=Y3R+i53[T13],i53.splice(T13,S39.I5B),T13--):this.isQuoteOpen(i53[T13])&&(C13=!S39.N5B);return i53;};o73.prototype.isQuoteOpen=function(J13){return T3yy.I5B==this.countChar(J13,this.fieldEnclosureToken)%T3yy.i5B;};o73.prototype.countChar=function(Q13,Z13){var u13=T3yy.N5B;if(Q13)for(var F13=T3yy.N5B;F13<Q13.length;F13++)Q13.charAt(F13)==Z13&&u13++;return u13;};o73.prototype.chooseSeparator=function(D13){var X39=C3yy;if(void T3yy.N5B==this.fieldSeparator){var e13=D13.split(X39.y2B).length;D13=D13.split(X39.N3J).length;return e13>D13?X39.y2B:X39.N3J;}};o73.splitRow=function(j13,X13,k13){var y39=T3yy;void y39.N5B===k13&&(k13=C3yy.o3J);if(y39.r0B==j13)return[];for(var P13=y39.o9B,y13=!y39.I5B,g13=!y39.I5B,a13=[],B13=y39.N5B;B13<j13.length;B13++){var O13=j13.charAt(B13);B13==j13.length-y39.I5B||O13==X13&&!y13?(B13==j13.length-y39.I5B&&O13==X13?(a13.push(P13),P13=y39.o9B):B13==j13.length-y39.I5B&&(P13+=O13),P13=P13.trim(),P13.charAt(y39.N5B)==k13&&P13.charAt(P13.length-y39.I5B)==k13&&(P13=P13.slice(y39.I5B,P13.length-y39.I5B)),y13=g13=!y39.I5B,a13.push(P13),P13=y39.o9B):O13==k13?(g13||(P13+=O13),y13=!y13,g13=!y39.N5B):(P13+=O13,g13=!y39.I5B);}return a13;};o73.splitRowWithMeta=function(m13,W13,s13,v13,Y13){var j39=T3yy;void j39.N5B===s13&&(s13=C3yy.o3J);void j39.N5B===v13&&(v13=C3yy.v3J);void j39.N5B===Y13&&(Y13=C3yy.W3J);if(j39.r0B==m13)return[];for(var b13=j39.o9B,R13=!j39.I5B,f13=!j39.I5B,K13=!j39.I5B,E13=[],S13=j39.N5B;S13<m13.length;S13++){var z13=m13.charAt(S13);S13==m13.length-j39.I5B||z13==W13&&!R13&&!K13?(S13==m13.length-j39.I5B&&z13==W13?(E13.push(b13),b13=j39.o9B):S13==m13.length-j39.I5B&&(b13+=z13),b13=b13.trim(),b13.charAt(j39.N5B)==s13&&b13.charAt(b13.length-j39.I5B)==s13&&(b13=b13.slice(j39.I5B,b13.length-j39.I5B)),K13=R13=f13=!j39.I5B,E13.push(b13),b13=j39.o9B):z13==s13?(f13||(b13+=z13),R13=!R13,f13=!j39.N5B):(f13=!j39.I5B,z13==v13?K13=!j39.N5B:z13==Y13&&(K13=!j39.I5B),b13+=z13);}return E13;};o73.timeCaption=function(p13){return p13&&T3yy.N5B<p13.length?p13:E73.model._labels.Labels.INVALID_DATE;};o73.prototype.loadMembers=function(o13,w13,n13){};o73.prototype.loadMemberChildren=function(d13,c13,A13,l13){};o73.prototype.loadMemberDescendants=function(h13,M13,H13,V13){};o73.prototype.searchMembers=function(U13,x13,t13,G13){};o73.prototype.cancel=function(){this.clear();this.connectedHandler=this.errorHandler=this.successHandler=T3yy.r0B;};return o73;}();W73.CSVLoader=p73;var Y73=function(){var W3R="N";var o3R="+T+";var p3R="F";r13.NAN=W3R;r13.FLOAT=p3R;r13.DELIMITER=C3yy.E3J;r13.NEW_LINE=C3yy.v2B;function r13(){}r13.ALIAS_DELIMITER=o3R;return r13;}();W73.Consts=Y73;}(v73.csv||(v73.csv={})));}(E73.data_||(E73.data_={})));}(pivot||(pivot={})));(function(q13){(function(L13){(function(N13){var I13=function(){i13.prototype.load=function(T03,C03,J03,F03,Q03){try{this.clear(),this._connectionInfo=T03,this._successHandler=C03,this.connectedHandler=F03,this.cancelledHandler=Q03,this._errorHandler=J03,this._embedded=this._connectionInfo.embedded,this._dataOffset=this._connectionInfo.embeddedDataOffset,this._dataToLoad=this._connectionInfo.embeddedDataToLoad,this._embeddedDataStarted=!T3yy.I5B,this._embedded&&T3yy.r0B!=this._dataToLoad&&this.loadEmbedded(this._dataToLoad);}catch(u03){console.error(u03.stack),this.onFileError();}};i13.prototype.defineCurrentDataSigns=function(Z03){this._currentDataStartSign=-T3yy.I5B<Z03.indexOf(this._embeddedDataJSONStartSign)?this._embeddedDataJSONStartSign:this._embeddedDataStartSign;this._currentDataStopSign=this._currentDataStartSign==this._embeddedDataJSONStartSign?this._embeddedDataJSONStopSign:this._embeddedDataStopSign;};i13.prototype.loadEmbedded=function(O03){var B03=this;this.BLOCK_SIZE=C3yy.j8B;this._bytesLoaded=T3yy.N5B;try{var D03=new q13.DataStream(O03,this._dataOffset,q13.DataStream.BIG_ENDIAN);utils.getTimer();var e03=D03.byteLength>this.BLOCK_SIZE?this.BLOCK_SIZE:D03.byteLength,P03=D03.readString(e03);this.defineCurrentDataSigns(P03);this._dataStrFromBytes=T3yy.o9B;this._dataStrFromBytes+=P03.substring(this._currentDataStartSign.length);this._bytesLoaded+=e03;this._bytesToLoad=D03.byteLength;if(this._bytesLoaded<this._bytesToLoad)utils.ThreadManager.addTask(this.loadBytes,this,D03,function(){return B03.onComplete();});else this.onComplete();}catch(j03){console.error(j03.stack),this.onFileError();}};i13.prototype.loadBytes=function(k03){var y03=this._bytesToLoad-this._bytesLoaded>this.BLOCK_SIZE?this.BLOCK_SIZE:this._bytesToLoad-this._bytesLoaded;k03=k03.readString(y03);this._bytesLoaded+=y03;this._dataStrFromBytes+=k03;this.showLoadingProgress(this._bytesLoaded,this._bytesToLoad);return this._bytesLoaded>=this._bytesToLoad;};i13.prototype.showLoadingProgress=function(a03,X03){var g03=utils.StringUtils.bind(q13.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(a03/X03*T3yy.F0B).toFixed(T3yy.N5B)+J3yy.E6t);q13.preloader(!T3yy.N5B,q13.model._labels.Labels.MESSAGE_LOADING,g03);};i13.prototype.onComplete=function(){q13.preloader(!T3yy.I5B);this._isFileLoaded=!T3yy.N5B;this.processStringFromBytes(this._dataStrFromBytes);};function i13(){var T39=J3yy;var i8u=C3yy;var I8u=T3yy;var c3R="g";var w3R="--\x3e";this._embedded=!I8u.I5B;this._dataOffset=I8u.N5B;this.FIELD_DELIMITER=i8u.y2B;this.RECORDSET_DELIMITER=i8u.v2B;this._cube=L13.Cube.getInstance();this._isStarted=!I8u.I5B;this._embeddedDataStartSign=i8u.r1t;this._embeddedDataStopSign=w3R;this._embeddedDataJSONStartSign=i8u.G1t;this._embeddedDataJSONStopSign=T39.n3R;this._currentDataStopSign=this._currentDataStartSign=I8u.o9B;this._preloaderTime=I8u.N5B;this.regDelimiter=RegExp(T39.d3R,c3R);this.regQuote=RegExp(T39.A3R,c3R);this.regNewline=RegExp(T39.l3R,c3R);}i13.prototype.setConnected=function(){T3yy.r0B!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=T3yy.r0B);};i13.prototype.processStringFromBytes=function(b03){b03=utils.StringUtils.trimLeft(b03);this.parseChunk(b03);};i13.prototype.onTick=function(){var q8u=T3yy;var O0B=196;this._timerCount++;if(q8u.N5B<this._bytesLoaded||this._isFileLoaded||this._isFileFailed)utils.fmClearInterval(this._timer),this._timerCount=q8u.N5B;else{var z03=this._timerCount/q8u.D1B;this._isConnected?(O0B<z03&&(z03=O0B),z03=utils.NumberFormatter.format(z03/q8u.i5B,new q13.model.format.vo.FormatValueObject(),!q8u.I5B,!q8u.I5B,q8u.I5B)+J3yy.E6t):z03=utils.StringUtils.bind(q13.model._labels.Labels.MESSAGE_LOADING_WAITING,utils.NumberFormatter.format(z03,new q13.model.format.vo.FormatValueObject(),!q8u.I5B,!q8u.I5B,q8u.I5B));q13.preloader(!q8u.N5B,q13.model._labels.Labels.MESSAGE_LOADING_DATA,z03);}};i13.prototype.onFileError=function(){var r8u=T3yy;utils.fmClearInterval(this._timer);q13.preloader(!r8u.I5B);!r8u.I5B==this._isFileFailed&&(this._isFileFailed=!r8u.N5B,q13.uialert(utils.StringUtils.bind(q13.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,r8u.o9B),q13.model._labels.Labels.ERROR,q13.AlertType.ERROR));r8u.r0B!=this.errorHandler&&(this.errorHandler(),this.errorHandler=r8u.r0B);this.clear();};i13.prototype.parseChunk=function(S03){var G8u=T3yy;this._isStarted=!G8u.N5B;this.setConnected();this.appendData(S03);!G8u.I5B==this._isHeaderParsed&&G8u.I5B<this._data.length&&(this._data.shift(),this.parseHeader(this._data.shift()),this._isHeaderParsed=!G8u.N5B,this.parseAllDataRows(),this.onDataParsed());};i13.prototype.appendData=function(m03){var t8u=T3yy;void t8u.N5B!==this._lastRow&&t8u.N5B<this._lastRow.length&&(m03=utils.StringUtils.concat(this._lastRow,m03));m03=t8u.N5B<=m03.indexOf(this.RECORDSET_DELIMITER)?m03.split(this.RECORDSET_DELIMITER):[];for(var R03=t8u.N5B;R03<m03.length;R03++)this._data.push(m03[R03]);!t8u.N5B!=this._isFileLoaded&&(this._lastRow=this._data.pop(),this._lastRow=this._lastRow==this._currentDataStopSign?this._data.pop():this._lastRow);};i13.prototype.parseHeader=function(f03){var U8u=T3yy;f03=N13.CSVLoader.splitRowWithMeta(f03,this.FIELD_DELIMITER);this._columnNames=[];for(var s03=U8u.N5B;s03<f03.length;s03++){var K03=f03[s03],E03={};if(U8u.N5B<f03[s03].length&&-U8u.I5B<f03[s03].indexOf(C3yy.v3J)){var v03=f03[s03].substr(f03[s03].indexOf(C3yy.u3J)+U8u.I5B,f03[s03].length);if(U8u.N5B<v03.length){K03=f03[s03].substring(U8u.N5B,f03[s03].indexOf(C3yy.u3J));try{E03=JSON.parse(v03);}catch(Y03){console.error(J3yy.g3R+f03[s03].substring(U8u.N5B,f03[s03].indexOf(C3yy.u3J))+J3yy.a3R+v03),console.error(Y03.stack);}}}K03=this.getColumnName(K03);if(utils.nullOrUndefined(E03.caption)||U8u.o9B==E03.caption.length)E03.caption=this.getColumnCaption(K03);this._columnType[s03]=E03.type;this._columnNames.push(K03);this._cube.structure_.addDataField(E03,K03);}};i13.prototype.getColumnCaption=function(p03){var W03=p03.split(N13.Consts.ALIAS_DELIMITER);if(T3yy.I5B<W03.length)return W03[T3yy.I5B];this.hasParentHierarchy(p03)&&(W03=p03.split(C3yy.u3J));return W03[W03.length-T3yy.I5B];};i13.prototype.hasParentHierarchy=function(o03){var h8u=T3yy;C3yy.G8B==o03.charAt(h8u.N5B)&&(o03=o03.substr(h8u.I5B));return h8u.I5B<o03.split(C3yy.u3J).length&&-h8u.I5B<this._columnNames.indexOf(o03.split(C3yy.u3J)[h8u.N5B].trim());};i13.prototype.getColumnName=function(w03){var A8u=T3yy;w03=w03.trim().split(N13.Consts.ALIAS_DELIMITER)[A8u.N5B];w03=this.removeColumnFlags(w03);w03=this.decodeChars(w03);if(-A8u.I5B<this._columnNames.indexOf(w03)){for(var d03=A8u.I5B,n03=w03;-A8u.I5B<this._columnNames.indexOf(n03);)n03=w03+d03,d03++;w03=n03;}return w03;};i13.prototype.removeColumnFlags=function(c03){return c03.replace(J3yy.X3R,T3yy.o9B);};i13.prototype.parseAllDataRows=function(){for(q13.preloader(!T3yy.N5B,q13.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(q13.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this._data.length.toFixed(T3yy.N5B))));this._rowIdx<this._data.length;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);};i13.prototype.parseDataRows=function(){var w8u=T3yy;var l03=utils.getTimer(),A03=this._rowIdx+this.BLOCK_SIZE;for(A03>this._data.length&&(A03=this._data.length);this._rowIdx<A03;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);this.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-l03,this.BLOCK_SIZE);C3yy.t4B<utils.getTimer()-this._preloaderTime&&this._isFileLoaded&&(l03=q13.model._labels.Labels.MESSAGE_ANALYZING_DATA,A03=(this._rowIdx/this._data.length*w8u.F0B).toFixed(w8u.N5B),A03=utils.StringUtils.bind(q13.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this._rowIdx.toFixed(w8u.N5B)),utils.NumberFormatter.formatThousands(this._data.length.toFixed(w8u.N5B)),A03),q13.preloader(!w8u.N5B,l03,A03),this._preloaderTime=utils.getTimer());return this._isFileLoaded&&this._rowIdx>=this._data.length;};i13.prototype.parseDataRow=function(h03){if(!utils.nullOrEmpty(h03)&&void T3yy.N5B!==this._columnNames&&h03!=this._currentDataStopSign){if(h03.split(this.FIELD_DELIMITER).length<this._columnNames.length)for(var M03=h03.split(this.FIELD_DELIMITER).length;M03<this._columnNames.length;M03++)h03=h03.concat(this.FIELD_DELIMITER);var H03=[],V03=[];h03=h03.split(this.FIELD_DELIMITER);for(M03=T3yy.N5B;M03<h03.length;M03++)this.parseDataValue(h03[M03],M03,H03,V03);this._cube.localDataStorage.insert(H03,V03);}};i13.prototype.parseDataValue=function(t03,x03,q03,L03){var Y8u=T3yy;var r03=!Y8u.N5B;if(Y8u.r0B!=this._columnNames[x03]){if(this._columnType[x03]==L13.types.DataFieldType.STRING||this._columnType[x03]==L13.types.DataFieldType.WEEKDAY||this._columnType[x03]==L13.types.DataFieldType.MONTH){if(C3yy.J7J==t03.charAt(Y8u.N5B)){var U03=parseInt(t03.substring(Y8u.I5B));if(!Y8u.I5B==isNaN(U03)){var G03=this._cube.structure_.getDataField(this._columnNames[x03]),U03=G03.members.getItemAt(U03+Y8u.I5B);Y8u.r0B!=U03&&(t03=U03.caption==q13.model._labels.Labels.MEMBER_BLANK?Y8u.o9B:U03.caption,r03=!Y8u.I5B);}}}else if(this._columnType[x03]==L13.types.DataFieldType.LEVEL)C3yy.J7J==t03.charAt(Y8u.N5B)&&(U03=parseInt(t03.substring(Y8u.I5B)),!Y8u.I5B==isNaN(U03)&&(G03=this._cube.structure_.getDataField(this._columnNames[x03]),Y8u.r0B==G03.members&&(G03=this._cube.structure_.getDataField(this._columnNames[x03]).hierarchy),U03=G03.members.getItemAt(U03+Y8u.I5B),Y8u.r0B!=U03&&(t03=U03.caption==q13.model._labels.Labels.MEMBER_BLANK?Y8u.o9B:U03.caption,r03=!Y8u.I5B)));else if(this._columnType[x03]==L13.types.DataFieldType.DATE||this._columnType[x03]==L13.types.DataFieldType.DATE_STRING||this._columnType[x03]==L13.types.DataFieldType.HIERARCHICAL_DATE||this._columnType[x03]==L13.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)t03=C3yy.t4B*parseInt(t03),r03=!Y8u.I5B;!Y8u.N5B==r03&&(t03=this.decodeChars(t03));this._cube.localDataStorage.addMember(this._columnNames[x03],t03,this._columnType[x03],q03,L03);}};i13.prototype.decodeChars=function(N03){return N03.replace(this.regDelimiter,C3yy.y2B).replace(this.regQuote,C3yy.o3J).replace(this.regNewline,C3yy.v2B);};i13.prototype.onDataParsed=function(){q13.preloader(!T3yy.I5B);this._isHeaderParsed?this.successHandler():(q13.uialert(q13.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,q13.model._labels.Labels.ERROR,q13.AlertType.ALERT),this.errorHandler(),this._errorHandler=T3yy.r0B);this.clear();};i13.prototype.clear=function(){var K8u=T3yy;this._data=[];this._currentDataStopSign=this._currentDataStartSign=K8u.o9B;this._bytesLoaded=K8u.N5B;this._isConnected=!K8u.I5B;this._columnType=[];this._hasSizeHeader=this._isFileFailed=this._isFileLoaded=this._isHeaderParsed=!K8u.I5B;this._lastRow=K8u.o9B;this._rowIdx=K8u.N5B;this.BLOCK_SIZE=K8u.F0B;utils.fmClearInterval(this._timer);};i13.prototype.successHandler=function(){T3yy.r0B!=this._successHandler&&this._successHandler();};i13.prototype.errorHandler=function(){T3yy.r0B!=this._errorHandler&&this._errorHandler();};i13.prototype.loadDimensions=function(I03){};i13.prototype.loadHierarchies=function(i03){};i13.prototype.loadLevels=function(T93){};i13.prototype.loadMeasures=function(C93){};i13.prototype.loadMembers=function(J93,F93,Q93){};i13.prototype.loadMemberChildren=function(u93,Z93,D93,e93){};i13.prototype.loadMemberDescendants=function(P93,B93,O93,j93){};i13.prototype.searchMembers=function(k93,y93,g93,a93){};i13.prototype.cancel=function(){this.connectedHandler=this.errorHandler=this.successHandler=T3yy.r0B;};return i13;}();N13.CSVEmbeddedLoader=I13;}(L13.csv||(L13.csv={})));}(q13.data_||(q13.data_={})));}(pivot||(pivot={})));(function(X93){(function(b93){(function(S93){var m93=function(){R93.prototype.getData=function(s93){this._callback=s93;X93.preloader(!T3yy.N5B,X93.model._labels.Labels.MESSAGE_SAVING);this.preprocessHeader();this.composeData();};R93.prototype.preprocessHeader=function(){this._allHierarchies=b93.Cube.getInstance().structure_.allHierarchies();this._columnsList=[];var f93;for(this._colIdx=T3yy.N5B;this._colIdx<this._allHierarchies.length;){f93=this._allHierarchies.getItemAt(this._colIdx);var K93=b93.Cube.getInstance().structure_.hierarchyToMeasure(f93.uniqueName).type;K93!=b93.types.MeasureType.COUNT&&K93!=b93.types.MeasureType.DATE?this.processMeasureColumn(b93.Cube.getInstance().structure_.hierarchyToMeasure(f93.uniqueName)):this.processHierarchyColumn(f93);this._colIdx++;}};R93.prototype.composeData=function(){var E93=this;this._rowIdx=T3yy.N5B;this._data=T3yy.o9B;this._facts=b93.Cube.getInstance().localDataStorage.getFacts();this._tuples=b93.Cube.getInstance().localDataStorage.getTuples();utils.ThreadManager.addTask(this.composeLine,this,T3yy.r0B,function(){return E93.onDataCreated();});};R93.prototype.composeLine=function(){var v93=utils.getTimer();for(this._colIdxDifference=this._colIdx=T3yy.N5B;this._rowIdx<this._tuples.length;){for(;this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length;)this.addMember(this.composeMember()),this._colIdx++;this._rowIdx++;this._data+=C3yy.v2B;this._colIdxDifference=this._colIdx=T3yy.N5B;if(T3yy.F0B<utils.getTimer()-v93)break;}this.showSavingProgress(this._rowIdx,this._tuples.length);return this._rowIdx>=this._tuples.length;};R93.prototype.composeMember=function(){var y8u=T3yy;var Y93=this._columnsList[this._colIdx].type,W93;Y93!=b93.types.DataFieldType.DATE&&Y93!=b93.types.DataFieldType.DATE_STRING&&Y93!=b93.types.DataFieldType.LEVEL&&Y93!=b93.types.DataFieldType.HIERARCHICAL_DATE&&Y93!=b93.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&Y93!=b93.types.DataFieldType.TIME&&Y93!=b93.types.DataFieldType.DATETIME&&(W93=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption);if(Y93==b93.types.DataFieldType.NUMBER)return y8u.r0B!=W93?W93.toString():y8u.o9B;if(Y93!=b93.types.DataFieldType.STRING&&Y93!=b93.types.DataFieldType.WEEKDAY&&Y93!=b93.types.DataFieldType.MONTH){if(Y93==b93.types.DataFieldType.LEVEL){Y93=this._allHierarchies.getItem(this._columnsList[this._colIdx].hierarchy);W93=Y93.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;for(var p93=this._colIdx,o93=y8u.N5B;o93<Y93.levels_.length-y8u.i5B;o93++)this.addMember(this.composeStringData(W93,p93)),this._colIdx++,W93=y8u.r0B==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]||y8u.o9B==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]+y8u.o9B?y8u.o9B:Y93.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;return this.composeStringData(W93,p93);}if(Y93==b93.types.DataFieldType.DATE_STRING)return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/C3yy.t4B+y8u.o9B;if(Y93==b93.types.DataFieldType.DATE)return W93=y8u.o9B,Y93=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+J3yy.l8t).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),W93+=Y93.caption+y8u.P6B,this._colIdxDifference++,Y93=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+J3yy.M8t).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),W93+=Y93.caption+y8u.P6B,this._colIdxDifference++,Y93=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+J3yy.H8t).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),W93+=Y93.caption,new Date(W93).getTime()/C3yy.t4B+Math.abs(y8u.H1B*new Date().getTimezoneOffset())+y8u.o9B;if(Y93==b93.types.DataFieldType.HIERARCHICAL_DATE||Y93==b93.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)return this.composeHierarchicalDateData(Y93);if(Y93==b93.types.DataFieldType.TIME||Y93==b93.types.DataFieldType.DATETIME)return this._facts[this._rowIdx][this._colIdx+this._colIdxDifference]+y8u.o9B;}return this.composeStringData(W93);};R93.prototype.addMember=function(w93){this._data+=w93==this.NaN||w93==X93.model._labels.Labels.MEMBER_BLANK?T3yy.o9B:w93;this._data+=this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length-T3yy.I5B?C3yy.y2B:T3yy.o9B;};R93.prototype.composeStringData=function(n93,d93){void T3yy.N5B===d93&&(d93=this._colIdx);if(T3yy.o9B==n93)return n93;this._columnsList[d93].members.keyExists(n93)||this._columnsList[d93].members.addItem(n93,this._columnsList[d93].members.length);return this.encodeChars(n93);};R93.prototype.encodeChars=function(c93){return c93.replace(/,/g,J3yy.d3R).replace(/\"/g,J3yy.A3R).replace(/\n/g,J3yy.l3R);};R93.prototype.composeHierarchicalDateData=function(A93){this._colIdxDifference+=T3yy.i5B;this._colIdxDifference=A93==b93.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS?this._colIdxDifference+T3yy.I5B:this._colIdxDifference;return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/C3yy.t4B+T3yy.o9B;};function R93(){this.NaN=F3yy.h3R;this._embeddedJSONDataStart=C3yy.G1t;this._embeddedJSONDataFinish=J3yy.n3R;}R93.prototype.onDataCreated=function(){X93.preloader(!T3yy.I5B);T3yy.r0B!=this._callback&&this._callback(this.getResult());};R93.prototype.processHierarchyColumn=function(l93){var h93=this.getHierarchyType(l93);h93==b93.types.DataFieldType.LEVEL?this.processLevelsColumn(l93):h93==b93.types.DataFieldType.DATE?(this._columnsList.push(this.createColumn(h93,l93.dimension.uniqueName,l93.dimension.caption)),this._colIdx+=T3yy.i5B):this._columnsList.push(this.createColumn(h93,l93.uniqueName,l93.caption));};R93.prototype.getResult=function(){var C8u=C3yy;var G3R=', "caption": "';var H3R=":{";var t3R=', "parent": "';var V3R='"type": "';var U3R=', "hierarchy": "';var M3R="\n___csv___WDR___";var x3R=', "level": "';for(var H93=this._embeddedJSONDataStart+M3R+X93.Pivot.BUILD_VERSION+C8u.v2B,M93=T3yy.N5B;M93<this._columnsList.length;M93++)H93+=this._columnsList[M93].uniqueName,H93+=H3R,H93+=V3R+this._columnsList[M93].type+C8u.o3J,this._columnsList[M93].isLevel?(H93+=U3R+this._columnsList[M93].hierarchy+C8u.o3J,H93+=x3R+this._columnsList[M93].uniqueName+C8u.o3J,utils.nullOrUndefined(this._columnsList[M93].parent)||(H93+=t3R+this._columnsList[M93].parent+C8u.o3J)):this._columnsList[M93].uniqueName!=this._columnsList[M93].caption&&(H93+=G3R+this._columnsList[M93].caption+C8u.o3J),H93+=C8u.W3J,H93+=M93<this._columnsList.length-T3yy.I5B?C8u.y2B:T3yy.o9B;return H93+C8u.v2B+this._data+this._embeddedJSONDataFinish;};R93.prototype.processMeasureColumn=function(V93){this._columnsList.push(this.createColumn(b93.types.MeasureType.toDataFieldType(V93.type),V93.uniqueName,V93.originalCaption,!T3yy.N5B));};R93.prototype.processLevelsColumn=function(U93){var i2u=T3yy;var q93=U93.uniqueName;U93=U93.levels_;for(var x93,G93,t93=i2u.I5B;t93<U93.length;t93++){G93=t93;x93=U93.getItem(U93.getKeyAt(t93));var r93;i2u.I5B<G93&&(r93=U93.getItem(U93.getKeyAt(G93-i2u.I5B)).uniqueName);x93=this.createColumn(b93.types.DataFieldType.LEVEL,x93.uniqueName,x93.caption);x93.isLevel=!i2u.N5B;x93.hierarchy=q93;utils.nullOrUndefined(r93)||(x93.parent=r93);this._columnsList.push(x93);}};R93.prototype.getHierarchyType=function(L93){var N2u=T3yy;if(L93.dimension.type.toString()==b93.types.DataFieldType.DATE_STRING)return b93.types.DataFieldType.DATE_STRING;var N93=b93.types.DataFieldType.typeName(L93.type);N2u.i5B<L93.levels_.length&&(N93=N2u.C1B==L93.levels_.length&&L93.levels_.getItemAt(N2u.I5B).uniqueName==L93.uniqueName+J3yy.l8t?b93.types.DataFieldType.HIERARCHICAL_DATE:N2u.J1B==L93.levels_.length&&L93.levels_.getItemAt(N2u.I5B).uniqueName==L93.uniqueName+J3yy.l8t?b93.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:b93.types.DataFieldType.LEVEL);return N93;};R93.prototype.showSavingProgress=function(i93,T63){var I93=utils.StringUtils.bind(X93.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(i93/T63*T3yy.F0B).toFixed(T3yy.N5B)+J3yy.E6t);X93.preloader(!T3yy.N5B,X93.model._labels.Labels.MESSAGE_SAVING,I93);};R93.prototype.createColumn=function(F63,Q63,u63,J63){void T3yy.N5B===J63&&(J63=!T3yy.I5B);var C63=new z93();C63.type=F63;C63.uniqueName=Q63;C63.caption=u63;C63.isMeasure=J63;return C63;};return R93;}();S93.CSVSaver=m93;var z93=function(){var w1u=T3yy;var r3R="isMeasure";var q3R="isLevel";Object.defineProperty(Z63.prototype,C3yy.e5J,{get:function(){return this._members;},enumerable:!w1u.N5B,configurable:!w1u.N5B});Object.defineProperty(Z63.prototype,w1u.c6B,{get:function(){return this._type;},set:function(D63){this._type=D63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});Object.defineProperty(Z63.prototype,J3yy.R2t,{get:function(){return this._uniqueName;},set:function(e63){this._uniqueName=e63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});Object.defineProperty(Z63.prototype,C3yy.u0t,{get:function(){return this._caption;},set:function(P63){this._caption=P63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});Object.defineProperty(Z63.prototype,r3R,{get:function(){return this._isMeasure;},set:function(B63){this._isMeasure=B63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});function Z63(){this._isLevel=!w1u.I5B;this._members=new utils.AssociativeArray();}Object.defineProperty(Z63.prototype,q3R,{get:function(){return this._isLevel;},set:function(O63){this._isLevel=O63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});Object.defineProperty(Z63.prototype,J3yy.J8t,{get:function(){return this._hierarchyUniqueName;},set:function(j63){this._hierarchyUniqueName=j63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});Object.defineProperty(Z63.prototype,w1u.V9B,{get:function(){return this._parentUniqueName;},set:function(k63){this._parentUniqueName=k63;},enumerable:!w1u.N5B,configurable:!w1u.N5B});return Z63;}();S93.Column=z93;}(b93.csv||(b93.csv={})));}(X93.data_||(X93.data_={})));}(pivot||(pivot={})));(function(y63){(function(g63){(function(X63){var a63=function(z63){var L3R=15649632E5;__extends(b63,z63);b63.prototype.load=function(m63,R63,s63,f63,K63){var x2u=T3yy;this.clear();this.successHandler=R63;this.errorHandler=s63;this.connectedHandler=f63;this.cancelledHandler=K63;!x2u.N5B===m63.browseForFile?this.browseFile():void x2u.N5B!==m63.filename&&x2u.o9B!=m63.filename&&C3yy.s8B!=m63.filename.substr(-x2u.i5B)?z63.prototype.load.call(this,m63,R63,s63,f63,K63):this.addData(m63.data);};b63.prototype.onFileProgress=function(E63){if(!utils.nullOrUndefined(this.loader))try{if(J3yy.O3R<E63.loaded-this.bytesLoaded){var v63=utils.StringUtils.bind(y63.model._labels.Labels.MESSAGE_LOADING_PROGRESS,utils.NumberFormatter.formatThousands((E63.loaded/C3yy.t4B).toFixed(T3yy.N5B)),utils.NumberFormatter.formatThousands((E63.total/C3yy.t4B).toFixed(T3yy.N5B)));y63.preloader(!T3yy.N5B,y63.model._labels.Labels.MESSAGE_LOADING_DATA,v63);}this.bytesLoaded=E63.loaded;}catch(Y63){console.error(Y63.stack),this.onFileError();}};b63.prototype.onFileComplete=function(){var M2u=T3yy;if(!utils.nullOrUndefined(this.loader)){var W63=this.loader.response;this.connected=!M2u.N5B;W63.length>y63.model.license.Limitations.MAX_JSON?(y63.uialert(y63.model.license.LicenseLabels.getLabel(y63.model.license.LicenseLabels.betaversion),y63.model.license.LicenseLabels.getLabel(y63.model.license.LicenseLabels.tooLarge)),y63.preloader(!M2u.I5B),M2u.r0B!=this.errorHandler&&(this.errorHandler(),this.errorHandler=M2u.r0B),this.clear()):(this.isFileLoaded=!M2u.N5B,this.parseChunk(W63));}};b63.prototype.parseChunk=function(o63){try{var p63=JSON.parse(o63);utils.nullOrUndefined(p63.items)||(p63=p63.items);if(utils.nullOrUndefined(p63.length)){this.invalidFormat();return;}}catch(w63){this.invalidFormat();return;}y63.preloader(!T3yy.I5B);this.addData(p63);};function b63(){var S63=z63.call(this)||this;S63.CHUNK_SIZE=J3yy.O3R;S63.factsCounter=T3yy.N5B;S63.fileExtensions=[C3yy.N1t,C3yy.L1t];return S63;}b63.prototype.addData=function(n63){var d2u=T3yy;utils.nullOrUndefined(n63.items)||(n63=n63.items);if(!(utils.nullOrUndefined(n63)||d2u.I5B>n63.length))if(JSON.stringify(n63).length>y63.model.license.Limitations.MAX_JSON&&L3R<Date.now()||n63.toString().length>y63.model.license.Limitations.MAX_JSON)y63.uialert(y63.model.license.LicenseLabels.getLabel(y63.model.license.LicenseLabels.betaversion),y63.model.license.LicenseLabels.getLabel(y63.model.license.LicenseLabels.tooLarge));else{this.setConnected();var d63=!d2u.I5B,c63=n63[d2u.N5B]&&n63[d2u.N5B]instanceof Array;c63?this.parseHeader(n63[d2u.N5B].toString(),n63[d2u.I5B].toString()):d63=this.cube_.structure_.addDataStructure(n63[d2u.N5B]);this.data=n63.slice();this.factsCounter=d2u.N5B;(d63||c63)&&this.data.shift();this.parseAllDataRows();this.onParseComplete();}};b63.prototype.updateData=function(A63){var n2u=T3yy;if(!(utils.nullOrUndefined(A63)||n2u.I5B>A63.length))if(JSON.stringify(A63).length>y63.model.license.Limitations.MAX_JSON&&L3R<Date.now()||A63.toString().length>y63.model.license.Limitations.MAX_JSON)y63.uialert(y63.model.license.LicenseLabels.getLabel(y63.model.license.LicenseLabels.betaversion),y63.model.license.LicenseLabels.getLabel(y63.model.license.LicenseLabels.tooLarge));else{this.cube_.localDataStorage.clearUpdates();for(var h63=A63[n2u.I5B]&&A63[n2u.I5B]instanceof Array,l63=n2u.N5B;l63<A63.length;l63++)h63?this.cube_.localDataStorage.insertArray(A63[l63],!n2u.N5B):this.cube_.localDataStorage.insertObject(A63[l63],!n2u.N5B);}};b63.prototype.onParseComplete=function(){y63.preloader(!T3yy.I5B);this.successHandler();};b63.prototype.parseDataRow=function(H63){var o2u=T3yy;var M63=this.factsCounter;H63=M63+this.CHUNK_SIZE;for(var V63=this.data[o2u.I5B]&&this.data[o2u.I5B]instanceof Array;M63<H63;M63++){if(M63==this.data.length)return!o2u.N5B;V63?this.cube_.localDataStorage.insertArray(this.data[M63]):this.cube_.localDataStorage.insertObject(this.data[M63]);this.factsCounter++;}H63=Math.round(this.factsCounter/this.data.length*o2u.F0B);o2u.F0B<H63&&(H63=o2u.F0B);y63.preloader(!o2u.N5B,y63.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(y63.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this.factsCounter.toString()),utils.NumberFormatter.formatThousands(this.data.length.toString()),H63.toString()));return!o2u.I5B;};b63.prototype.parseAllDataRows=function(){var p2u=T3yy;y63.preloader(!p2u.N5B,y63.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(y63.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this.data.length.toFixed(p2u.N5B))));for(var U63=this.data[p2u.I5B]&&this.data[p2u.I5B]instanceof Array;this.factsCounter<this.data.length;this.factsCounter++)U63?this.cube_.localDataStorage.insertArray(this.data[this.factsCounter]):this.cube_.localDataStorage.insertObject(this.data[this.factsCounter]);};b63.prototype.invalidFormat=function(){y63.preloader(!T3yy.I5B);y63.uialert(y63.model._labels.Labels.MESSAGE_INVALID_JSON_DATA,y63.model._labels.Labels.ERROR);this.errorHandler();this.stopTimer();};return b63;}(g63.csv.CSVLoader);X63.JSONLoader=a63;}(g63.json||(g63.json={})));}(y63.data_||(y63.data_={})));}(pivot||(pivot={})));(function(x63){(function(t63){(function(r63){var G63=function(){var N3R="csv";q63.valid=function(L63){return L63==q63.JSON||L63==q63.CSV||L63==q63.EMPTY;};q63.CSV=N3R;function q63(){}q63.JSON=C3yy.Q2B;q63.EMPTY=T3yy.o9B;return q63;}();r63.DataSourceType=G63;}(t63.consts||(t63.consts={})));}(x63.data_||(x63.data_={})));}(pivot||(pivot={})));(function(N63){(function(I63){(function(T43){var i63=function(){C43.TOP=T3yy.T6B;function C43(){}C43.BOTTOM=T3yy.J6B;C43.NONE=T3yy.Q6B;return C43;}();T43.FilterType=i63;}(I63.consts||(I63.consts={})));}(N63.data_||(N63.data_={})));}(pivot||(pivot={})));(function(J43){(function(F43){(function(u43){var Q43=function(){var T7R="numericRange";var I3R="unsorted";Z43.isValid=function(D43){return D43==Z43.UNSORTED||D43==Z43.ASC||D43==Z43.DESC;};function Z43(){}Z43.UNSORTED=I3R;Z43.ASC=J3yy.i2t;Z43.DESC=F3yy.i3R;Z43.NUMERIC_RANGE=T7R;return Z43;}();u43.SortType=Q43;}(F43.consts||(F43.consts={})));}(J43.data_||(J43.data_={})));}(pivot||(pivot={})));(function(e43){(function(P43){(function(O43){var B43=function(){j43.ROWS_AXIS=C3yy.i5J;j43.COLUMNS_AXIS=C3yy.T1J;function j43(){}j43.PAGES_AXIS=J3yy.x4t;return j43;}();O43.AxisName=B43;}(P43.consts||(P43.consts={})));}(e43.data_||(e43.data_={})));}(pivot||(pivot={})));(function(k43){(function(y43){(function(a43){var g43=function(){var s1u=T3yy;X43.MD_DIMTYPE_UNKNOWN=s1u.N5B;X43.MD_DIMTYPE_TIME=s1u.I5B;function X43(){}X43.MD_DIMTYPE_MEASURE=s1u.i5B;X43.MD_DIMTYPE_OTHER=s1u.T1B;return X43;}();a43.DimensionType=g43;}(y43.types||(y43.types={})));}(k43.data_||(k43.data_={})));}(pivot||(pivot={})));(function(b43){(function(z43){(function(S43){var m43=function(){R43.fromDataFieldType=function(f43){var s43=R43.DEFAULT;switch(f43){case S43.DataFieldType.NUMBER:s43=R43.MEASURE;break;case S43.DataFieldType.DATE:s43=R43.DATE;}return s43;};R43.toDataFieldType=function(E43){var K43=S43.DataFieldType.STRING;switch(E43){case R43.MEASURE:K43=S43.DataFieldType.NUMBER;break;case R43.DATE:K43=S43.DataFieldType.DATE;}return K43;};R43.DEFAULT=T3yy.N5B;R43.DATE=T3yy.I5B;R43.MEASURE=T3yy.i5B;function R43(){}return R43;}();S43.HierarchyType=m43;}(z43.types||(z43.types={})));}(b43.data_||(b43.data_={})));}(pivot||(pivot={})));(function(v43){(function(Y43){(function(W43){var p43=function(){var m1u=T3yy;o43.fromColumnType=function(w43){switch(w43){case m1u.B1B:return o43.TIME;case m1u.j1B:return o43.DATETIME;case m1u.T1B:return o43.BOOLEAN;case m1u.P1B:return o43.NUMBER;}return o43.COUNT;};o43.fromDataType=function(d43){var J7R="timestamp";var n43=o43.COUNT;switch(d43){case m1u.r9B:n43=o43.NUMBER;break;case m1u.q9B:n43=o43.STRING;break;case C3yy.y8B:n43=o43.BOOLEAN;break;case F3yy.C7R:n43=o43.DATE;break;case J7R:n43=o43.TIME;break;case F3yy.F7R:n43=o43.COUNT;}return n43;};o43.toDataFieldType=function(c43){switch(c43){case o43.STRING:return W43.DataFieldType.STRING;case o43.BOOLEAN:return W43.DataFieldType.BOOLEAN;case o43.DATE:return W43.DataFieldType.DATE;case o43.DATETIME:return W43.DataFieldType.DATETIME;case o43.TIME:return W43.DataFieldType.TIME;}return W43.DataFieldType.NUMBER;};o43.NUMBER=m1u.I5B;o43.STRING=m1u.i5B;o43.BOOLEAN=m1u.T1B;o43.DATE=m1u.C1B;o43.TIME=m1u.J1B;o43.DATETIME=m1u.F1B;function o43(){}o43.COUNT=m1u.Q1B;return o43;}();W43.MeasureType=p43;}(Y43.types||(Y43.types={})));}(v43.data_||(v43.data_={})));}(pivot||(pivot={})));(function(A43){(function(l43){(function(M43){var h43=function(){var S1u=T3yy;H43.ALL=S1u.N5B;H43.STRING=S1u.I5B;H43.NUMBER=S1u.i5B;H43.BOOLEAN=S1u.T1B;H43.DATE=S1u.C1B;H43.TIME=S1u.J1B;H43.YEAR=S1u.F1B;H43.HALFYEAR=S1u.Q1B;H43.QUARTER=S1u.u1B;H43.MONTH=S1u.Z1B;H43.WEEK=S1u.D1B;H43.WEEKDAY=S1u.e1B;H43.DAY=S1u.P1B;H43.HOUR=S1u.B1B;H43.MINUTE=S1u.O1B;H43.SECOND=S1u.j1B;H43.MILLISECOND=S1u.k1B;function H43(){}H43.TIME_DATE=S1u.y1B;return H43;}();M43.LevelType=h43;}(l43.types||(l43.types={})));}(A43.data_||(A43.data_={})));}(pivot||(pivot={})));(function(V43){(function(U43){(function(t43){var x43=function(){var P7R="datetime";var Z7R="year/month/day";var e7R="time";var D7R="year/quarter/month/day";var Q7R="weekday";var u7R="date string";G43.typeName=function(r43){return G43.allStrings[r43];};G43.typeNum=function(q43){return G43.allStrings.indexOf(q43);};G43.valid=function(L43){return-T3yy.I5B<G43.allStrings.indexOf(L43);};G43.typeFromValue=function(N43){return T3yy.o9B===N43?G43.STRING:T3yy.r9B!=typeof N43&&isNaN(Number(N43))?T3yy.N5B<Date.parse(N43)?utils.detectBrowser().isChrome&&!N43.match(C3yy.B3J)?G43.STRING:G43.DATE:G43.STRING:G43.NUMBER;};G43.STRING=T3yy.q9B;G43.NUMBER=T3yy.r9B;G43.BOOLEAN=C3yy.y8B;G43.LEVEL=J3yy.Z8t;G43.MONTH=J3yy.l2t;G43.WEEKDAY=Q7R;G43.DATE=F3yy.C7R;function G43(){}G43.DATE_STRING=u7R;G43.HIERARCHICAL_DATE=Z7R;G43.HIERARCHICAL_DATE_WITH_QUARTERS=D7R;G43.TIME=e7R;G43.DATETIME=P7R;G43.ID=T3yy.W9B;G43.DELETE=C3yy.w5t;G43.HIDDEN=J3yy.s8t;G43.allStrings=[G43.NUMBER,G43.STRING,G43.BOOLEAN,G43.LEVEL,G43.MONTH,G43.WEEKDAY,G43.DATE,G43.DATE_STRING,G43.HIERARCHICAL_DATE,G43.HIERARCHICAL_DATE_WITH_QUARTERS,G43.TIME,G43.DATETIME,G43.ID,G43.DELETE,G43.HIDDEN];return G43;}();t43.DataFieldType=x43;}(U43.types||(U43.types={})));}(V43.data_||(V43.data_={})));}(pivot||(pivot={})));(function(I43){(function(i43){(function(C23){var T23=function(){var R7R="stdevp";var S7R="%difference";var f7R="runningtotals";var a7R="percent of column";var k7R="average";var s7R="stdevs";var y7R="percentofcolumn";var b7R="index";var O7R="distinctcount";var g7R="percentofrow";var j7R="distinct count";var m7R="median";var z7R="difference";var X7R="product";J23.aggregationCaption=function(F23){return F23==J23.SUM?I43.model._labels.Labels.SUM_CAPTION:F23==J23.COUNT?I43.model._labels.Labels.COUNT_CAPTION:F23==J23.DISTINCT_COUNT||F23==J23.DISTINCT_COUNT_DEPRECATED?I43.model._labels.Labels.DISTINCT_COUNT_CAPTION:F23==J23.AVERAGE?I43.model._labels.Labels.AVERAGE_CAPTION:F23==J23.PRODUCT?I43.model._labels.Labels.PRODUCT_CAPTION:F23==J23.MIN?I43.model._labels.Labels.MIN_CAPTION:F23==J23.MAX?I43.model._labels.Labels.MAX_CAPTION:F23==J23.PERCENT?I43.model._labels.Labels.PERCENT_CAPTION:F23==J23.PERCENT_COLUMN||F23==J23.PERCENT_COLUMN_DEPRECATED?I43.model._labels.Labels.PERCENT_COLUMN_CAPTION:F23==J23.PERCENT_ROW?I43.model._labels.Labels.PERCENT_ROW_CAPTION:F23==J23.INDEX?I43.model._labels.Labels.INDEX_CAPTION:F23==J23.DIFFERENCE?I43.model._labels.Labels.DIFFERENCE_CAPTION:F23==J23.PERCENT_DIFFERENCE?I43.model._labels.Labels.PERCENT_DIFFERENCE_CAPTION:F23==J23.NONE?I43.model._labels.Labels.NONE_CAPTION:F23==J23.MEDIAN?I43.model._labels.Labels.MEDIAN_CAPTION:F23==J23.STDEVP?I43.model._labels.Labels.STDEVP_CAPTION:F23==J23.STDEVS?I43.model._labels.Labels.STDEVS_CAPTION:F23==J23.RUNNING_TOTALS?I43.model._labels.Labels.RUNNING_TOTALS_CAPTION:F23;};J23.aggregationCaptions=function(Q23){void T3yy.N5B===Q23&&(Q23=T3yy.r0B);var Z23=[];Q23=Q23?Q23:J23.ALL_AGGREGATIONS;for(var u23=T3yy.N5B;u23<Q23.length;u23++)Z23.push(J23.aggregationCaption(Q23[u23]));return Z23;};J23.aggregationTotalCaptions=function(D23){var B7R="{0}";void T3yy.N5B===D23&&(D23=T3yy.r0B);var P23=[];D23=D23?D23:J23.ALL_AGGREGATIONS;for(var e23=T3yy.N5B;e23<D23.length;e23++)D23[e23]==J23.SUM&&P23.push(I43.model._labels.Labels.SUM_TOTAL_CAPTION),D23[e23]==J23.COUNT&&P23.push(I43.model._labels.Labels.COUNT_TOTAL_CAPTION),D23[e23]!=J23.DISTINCT_COUNT&&D23[e23]!=J23.DISTINCT_COUNT_DEPRECATED||P23.push(I43.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION),D23[e23]==J23.AVERAGE&&P23.push(I43.model._labels.Labels.AVERAGE_TOTAL_CAPTION),D23[e23]==J23.PRODUCT&&P23.push(I43.model._labels.Labels.PRODUCT_TOTAL_CAPTION),D23[e23]==J23.MIN&&P23.push(I43.model._labels.Labels.MIN_TOTAL_CAPTION),D23[e23]==J23.MAX&&P23.push(I43.model._labels.Labels.MAX_TOTAL_CAPTION),D23[e23]==J23.PERCENT&&P23.push(I43.model._labels.Labels.PERCENT_TOTAL_CAPTION),D23[e23]!=J23.PERCENT_COLUMN&&D23[e23]!=J23.PERCENT_COLUMN_DEPRECATED||P23.push(I43.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION),D23[e23]==J23.PERCENT_ROW&&P23.push(I43.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION),D23[e23]==J23.INDEX&&P23.push(I43.model._labels.Labels.INDEX_TOTAL_CAPTION),D23[e23]==J23.DIFFERENCE&&P23.push(I43.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION),D23[e23]==J23.PERCENT_DIFFERENCE&&P23.push(I43.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION),D23[e23]==J23.NONE&&P23.push(B7R),D23[e23]==J23.MEDIAN&&P23.push(I43.model._labels.Labels.MEDIAN_TOTAL_CAPTION),D23[e23]==J23.STDEVP&&P23.push(I43.model._labels.Labels.STDEVP_TOTAL_CAPTION),D23[e23]==J23.STDEVS&&P23.push(I43.model._labels.Labels.STDEVS_TOTAL_CAPTION),D23[e23]==J23.RUNNING_TOTALS&&P23.push(I43.model._labels.Labels.RUNNING_TOTALS_TOTAL_CAPTION);return P23;};J23.validType=function(B23){return-T3yy.I5B!=J23.ALL_AGGREGATIONS.indexOf(B23)||B23==J23.NONE;};J23.validForDateTimeFormatting=function(O23){return-T3yy.I5B!=J23.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING.indexOf(O23)||O23==J23.NONE;};J23.deprecatedType=function(j23){return j23==J23.DISTINCT_COUNT_DEPRECATED||j23==J23.PERCENT_COLUMN_DEPRECATED;};J23.fromDeprecatedToValid=function(k23){switch(k23){case J23.DISTINCT_COUNT_DEPRECATED:return J23.DISTINCT_COUNT;case J23.PERCENT_COLUMN_DEPRECATED:return J23.PERCENT_COLUMN;default:return T3yy.o9B;}};J23.SUM=C3yy.u7J;J23.COUNT=F3yy.F7R;J23.DISTINCT_COUNT=O7R;J23.DISTINCT_COUNT_DEPRECATED=j7R;J23.AVERAGE=k7R;J23.PERCENT=J3yy.K6t;J23.PERCENT_COLUMN=y7R;J23.PERCENT_ROW=g7R;J23.PERCENT_COLUMN_DEPRECATED=a7R;J23.PRODUCT=X7R;J23.INDEX=b7R;J23.MIN=C3yy.F7J;J23.MAX=C3yy.Q7J;J23.NONE=T3yy.Q6B;J23.DIFFERENCE=z7R;J23.PERCENT_DIFFERENCE=S7R;J23.MEDIAN=m7R;J23.STDEVP=R7R;J23.STDEVS=s7R;J23.RUNNING_TOTALS=f7R;J23.ALL_AGGREGATIONS=[J23.SUM,J23.COUNT,J23.DISTINCT_COUNT,J23.AVERAGE,J23.MEDIAN,J23.PRODUCT,J23.MIN,J23.MAX,J23.PERCENT,J23.PERCENT_COLUMN,J23.PERCENT_ROW,J23.INDEX,J23.DIFFERENCE,J23.PERCENT_DIFFERENCE,J23.STDEVP,J23.STDEVS,J23.RUNNING_TOTALS];function J23(){}J23.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING=[J23.SUM,J23.AVERAGE,J23.MEDIAN,J23.PRODUCT,J23.MIN,J23.MAX];return J23;}();C23.AggregationName=T23;}(i43.consts||(i43.consts={})));}(I43.data_||(I43.data_={})));}(pivot||(pivot={})));(function(y23){(function(g23){(function(X23){var a23=function(){var O1u=F3yy;var P1u=C3yy;var p7R=">=";var W7R="<=";var o7R="or";var n7R="isnan";var l7R="updatepercent";var A7R="updatedifference";var w7R="abs";var d7R="!isnan";b23.ADD=P1u.G8B;b23.SUBTRACT=T3yy.P6B;b23.MULTIPLY=P1u.C7J;b23.DIVIDE=P1u.l2B;b23.POWER=P1u.J7J;b23.LESS=O1u.K7R;b23.GREATER=O1u.E7R;b23.EQUAL=P1u.B2B;function b23(){}b23.EQUAL_2=O1u.v7R;b23.NOT_EQUAL=O1u.Y7R;b23.LESS_OR_EQUAL=W7R;b23.GREATER_OR_EQUAL=p7R;b23.OR=o7R;b23.AND=P1u.B1t;b23.IF=P1u.d5t;b23.ABS=w7R;b23.MIN=P1u.F7J;b23.MAX=P1u.Q7J;b23.BLANK=n7R;b23.NOT_BLANK=d7R;b23.VALUE=O1u.c7R;b23.UPDATE_DIFFERENCE=A7R;b23.UPDATE_PERCENT=l7R;return b23;}();X23.FunctionName=a23;}(g23.consts||(g23.consts={})));}(y23.data_||(y23.data_={})));}(pivot||(pivot={})));(function(z23){(function(S23){(function(R23){var m23=function(){var h7R="select";var U7R="drillDown";var x7R="drillDownTo";var H7R="collapse";var M7R="expand";var V7R="drillUp";s23.SELECT=h7R;s23.EXPAND=M7R;s23.COLLAPSE=H7R;s23.DRILL_UP=V7R;s23.DRILL_DOWN=U7R;s23.DRILL_DOWN_TO=x7R;function s23(){}s23.DRILL_THROUGH=J3yy.C9t;s23.FILTER=J3yy.H2t;s23.SEARCH=J3yy.v4t;return s23;}();R23.QueryType=m23;}(S23.consts||(S23.consts={})));}(z23.data_||(z23.data_={})));}(pivot||(pivot={})));(function(f23){(function(K23){(function(v23){var E23=function(){var t7R=0.001122334400556678;Y23.DIVIDE_BY_ZERO=t7R;function Y23(){}return Y23;}();v23.DataConsts=E23;}(K23.consts||(K23.consts={})));}(f23.data_||(f23.data_={})));}(pivot||(pivot={})));(function(W23){(function(p23){(function(o23){var w23=function(){var u1u=T3yy;var r7R="isDemo";var G7R="dataSourceType";Object.defineProperty(n23.prototype,G7R,{get:function(){return this._dataSourceType;},set:function(d23){this._dataSourceType=d23.toLowerCase();},enumerable:!u1u.N5B,configurable:!u1u.N5B});n23.prototype.isEqual=function(c23){return c23&&this.dataSourceType==c23.dataSourceType;};Object.defineProperty(n23.prototype,J3yy.O2t,{get:function(){return this._dataSourceType==p23.consts.DataSourceType.EMPTY;},set:function(A23){},enumerable:!u1u.N5B,configurable:!u1u.N5B});Object.defineProperty(n23.prototype,r7R,{get:function(){var q7R="this";return this._dataSourceType==p23.consts.DataSourceType.CSV&&q7R==this.filename;},enumerable:!u1u.N5B,configurable:!u1u.N5B});Object.defineProperty(n23.prototype,F3yy.L7R,{get:function(){return!u1u.I5B;},set:function(l23){},enumerable:!u1u.N5B,configurable:!u1u.N5B});n23.fromObject=function(h23){if(void u1u.N5B==h23)return new n23();utils.nullOrUndefined(h23.connectionInfo)||(h23=h23.connectionInfo);h23 instanceof n23||h23 instanceof o23.CSVConnectionInfo||h23 instanceof o23.JSONConnectionInfo||(h23=n23.toPlainObject(h23));utils.nullOrUndefined(h23.dataSourceType)||(h23.dataSourceType=h23.dataSourceType.toLowerCase());if(!utils.nullOrUndefined(h23.filename)&&utils.nullOrUndefined(h23.dataSourceType)){var M23=h23.filename.split(C3yy.f8B)[u1u.N5B].toLowerCase();J3yy.y3R==M23.substr(-u1u.C1B)?h23.dataSourceType=p23.consts.DataSourceType.CSV:C3yy.L1t==M23.substr(-u1u.J1B)||C3yy.N1t==M23.substr(-u1u.T1B)?h23.dataSourceType=p23.consts.DataSourceType.JSON:h23.dataSourceType=p23.consts.DataSourceType.CSV;}!utils.nullOrUndefined(h23.data)&&h23.data instanceof Array&&(h23.dataSourceType=p23.consts.DataSourceType.JSON,h23.data=h23.data.slice());switch(h23.dataSourceType){case p23.consts.DataSourceType.CSV:return o23.CSVConnectionInfo.fromObject(h23);case p23.consts.DataSourceType.JSON:return o23.JSONConnectionInfo.fromObject(h23);default:return new n23();}};n23.toPlainObject=function(H23){var V23={};u1u.r0B!=H23.dataSourceType&&(V23.dataSourceType=H23.dataSourceType);u1u.r0B!=H23.filename&&(V23.filename=H23.filename);u1u.r0B!=H23.requestHeader&&(V23.requestHeader=H23.requestHeader);u1u.r0B!=H23.browseForFile&&(V23.browseForFile=H23.browseForFile);u1u.r0B!=H23.fieldSeparator&&(V23.fieldSeparator=H23.fieldSeparator);u1u.r0B!=H23.recordsetDelimiter&&(V23.recordsetDelimiter=H23.recordsetDelimiter);u1u.r0B!=H23.ignoreQuotedLineBreaks&&(V23.ignoreQuotedLineBreaks=H23.ignoreQuotedLineBreaks);u1u.r0B!=H23.embedded&&(V23.embedded=H23.embedded);u1u.r0B!=H23.embeddedDataOffset&&(V23.embeddedDataOffset=H23.embeddedDataOffset);u1u.r0B!=H23.embeddedDataToLoad&&(V23.embeddedDataToLoad=H23.embeddedDataToLoad);u1u.r0B!=H23.data&&(V23.data=H23.data);u1u.r0B!=H23.checkUpdates&&(V23.checkUpdates=H23.checkUpdates);u1u.r0B!=H23.url&&(V23.url=H23.url);u1u.r0B!=H23.hash&&(V23.hash=H23.hash);u1u.r0B!=H23.username&&(V23.username=H23.username);u1u.r0B!=H23.password&&(V23.password=H23.password);u1u.r0B!=H23.dataSource&&(H23=H23.dataSource,u1u.r0B!=H23.dataSourceType&&(V23.dataSourceType=H23.dataSourceType),u1u.r0B!=H23.filename&&(V23.filename=H23.filename),u1u.r0B!=H23.browseForFile&&(V23.browseForFile=H23.browseForFile),u1u.r0B!=H23.fieldSeparator&&(V23.fieldSeparator=H23.fieldSeparator),u1u.r0B!=H23.recordsetDelimiter&&(V23.recordsetDelimiter=H23.recordsetDelimiter),u1u.r0B!=H23.ignoreQuotedLineBreaks&&(V23.ignoreQuotedLineBreaks=H23.ignoreQuotedLineBreaks),u1u.r0B!=H23.embedded&&(V23.embedded=H23.embedded),u1u.r0B!=H23.embeddedDataOffset&&(V23.embeddedDataOffset=H23.embeddedDataOffset),u1u.r0B!=H23.embeddedDataToLoad&&(V23.embeddedDataToLoad=H23.embeddedDataToLoad),u1u.r0B!=H23.isOCSV2Data&&(V23.isOCSV2Data=H23.isOCSV2Data),u1u.r0B!=H23.data&&(V23.data=H23.data),u1u.r0B!=H23.url&&(V23.url=H23.url),H23=H23.credentials,u1u.r0B!=H23&&(u1u.r0B!=H23.hash&&(V23.hash=H23.hash),u1u.r0B!=H23.username&&(V23.username=H23.username),u1u.r0B!=H23.password&&(V23.password=H23.password)));return V23;};n23.prototype.toObject=function(U23){U23={};this.dataSourceType!=p23.consts.DataSourceType.EMPTY&&(U23.dataSourceType=this.dataSourceType);return U23;};function n23(){this._dataSourceType=p23.consts.DataSourceType.EMPTY;this.isUpdateData=!u1u.I5B;}return n23;}();o23.ConnectionInfo=w23;}(p23.vo||(p23.vo={})));}(W23.data_||(W23.data_={})));}(pivot||(pivot={})));(function(x23){(function(t23){(function(G23){var r23=function(q23){__extends(L23,q23);function L23(){var N23=T3yy.r0B!==q23&&q23.apply(this,arguments)||this;N23.browseForFile=!T3yy.I5B;N23.requestHeader=T3yy.r0B;return N23;}L23.prototype.isEqual=function(I23){return q23.prototype.isEqual.call(this,I23)&&this.filename==I23.filename&&!T3yy.I5B==this.browseForFile&&!T3yy.I5B==I23.browseForFile;};return L23;}(G23.ConnectionInfo);G23.FileConnectionInfo=r23;}(t23.vo||(t23.vo={})));}(x23.data_||(x23.data_={})));}(pivot||(pivot={})));(function(i23){(function(T83){(function(C83){var J83=function(Q83){var F1u=T3yy;__extends(F83,Q83);Object.defineProperty(F83.prototype,J3yy.O2t,{get:function(){return utils.nullOrEmpty(this.filename)&&(F1u.r0B==this.browseForFile||!F1u.I5B==this.browseForFile)&&utils.nullOrUndefined(this.data);},set:function(Z83){},enumerable:!F1u.N5B,configurable:!F1u.N5B});Object.defineProperty(F83.prototype,F3yy.L7R,{get:function(){return!utils.nullOrUndefined(this.data);},set:function(D83){},enumerable:!F1u.N5B,configurable:!F1u.N5B});function F83(){var u83=Q83.call(this)||this;u83.checkUpdates=!F1u.I5B;u83.dataSourceType=T83.consts.DataSourceType.JSON;return u83;}F83.prototype.isEqual=function(e83){return e83==this?!F1u.N5B:Q83.prototype.isEqual.call(this,e83)&&utils.nullOrUndefined(e83.data);};F83.fromObject=function(P83){var B83=new F83();void F1u.N5B!==P83.browseForFile&&(B83.browseForFile=P83.browseForFile);void F1u.N5B!==P83.filename&&F1u.o9B!=P83.filename&&(B83.filename=P83.filename);void F1u.N5B!==P83.data&&(B83.data=P83.data);void F1u.N5B!==P83.checkUpdates&&(B83.checkUpdates=P83.checkUpdates);void F1u.N5B!==P83.requestHeader&&(B83.requestHeader=P83.requestHeader);return B83;};F83.prototype.toObject=function(j83){void F1u.N5B===j83&&(j83=!F1u.I5B);var O83={};O83.dataSourceType=this.dataSourceType;if(j83||this.browseForFile)O83.browseForFile=this.browseForFile;this.filename&&(O83.filename=this.filename);utils.nullOrUndefined(this.data)||(O83.data=this.data);return O83;};return F83;}(C83.FileConnectionInfo);C83.JSONConnectionInfo=J83;}(T83.vo||(T83.vo={})));}(i23.data_||(i23.data_={})));}(pivot||(pivot={})));(function(k83){(function(y83){(function(g83){var a83=function(b83){var T1u=T3yy;__extends(X83,b83);Object.defineProperty(X83.prototype,J3yy.O2t,{get:function(){return utils.nullOrEmpty(this.filename)&&(T1u.r0B==this.browseForFile||!T1u.I5B==this.browseForFile)&&(T1u.r0B==this.embedded||!T1u.I5B==this.embedded);},set:function(S83){},enumerable:!T1u.N5B,configurable:!T1u.N5B});Object.defineProperty(X83.prototype,F3yy.L7R,{get:function(){return!utils.nullOrUndefined(this.data);},set:function(m83){},enumerable:!T1u.N5B,configurable:!T1u.N5B});function X83(){var z83=b83.call(this)||this;z83.recordsetDelimiter=C3yy.v2B;z83.ignoreQuotedLineBreaks=!T1u.N5B;z83.embedded=!T1u.I5B;z83.embeddedDataOffset=T1u.N5B;z83.dataSourceType=y83.consts.DataSourceType.CSV;return z83;}X83.prototype.isEqual=function(R83){return b83.prototype.isEqual.call(this,R83)&&!T1u.I5B==this.embedded&&!T1u.I5B==R83.embedded;};X83.fromObject=function(s83){var f83=new X83();void T1u.N5B!==s83.browseForFile&&(f83.browseForFile=s83.browseForFile);void T1u.N5B!==s83.filename&&T1u.o9B!=s83.filename&&(f83.filename=s83.filename);void T1u.N5B!==s83.fieldSeparator&&(f83.fieldSeparator=s83.fieldSeparator);void T1u.N5B!==s83.recordsetDelimiter&&(f83.recordsetDelimiter=s83.recordsetDelimiter);void T1u.N5B!==s83.ignoreQuotedLineBreaks&&(f83.ignoreQuotedLineBreaks=s83.ignoreQuotedLineBreaks);void T1u.N5B!==s83.embedded&&(f83.embedded=s83.embedded);void T1u.N5B!==s83.embeddedDataOffset&&(f83.embeddedDataOffset=s83.embeddedDataOffset);void T1u.N5B!==s83.embeddedDataToLoad&&(f83.embeddedDataToLoad=s83.embeddedDataToLoad);void T1u.N5B!==s83.requestHeader&&(f83.requestHeader=s83.requestHeader);return f83;};X83.prototype.toObject=function(E83){void T1u.N5B===E83&&(E83=!T1u.I5B);var K83={};K83.dataSourceType=this.dataSourceType;if(E83||this.browseForFile&&!this.embedded)K83.browseForFile=this.browseForFile;this.filename&&(K83.filename=this.filename);this.fieldSeparator&&(K83.fieldSeparator=this.fieldSeparator);this.recordsetDelimiter&&C3yy.v2B!=this.recordsetDelimiter&&(K83.recordsetDelimiter=this.recordsetDelimiter);if(E83||!T1u.I5B==this.ignoreQuotedLineBreaks)K83.ignoreQuotedLineBreaks=this.ignoreQuotedLineBreaks;this.embedded&&(K83.embedded=this.embedded);return K83;};return X83;}(g83.FileConnectionInfo);g83.CSVConnectionInfo=a83;}(y83.vo||(y83.vo={})));}(k83.data_||(k83.data_={})));}(pivot||(pivot={})));(function(v83){(function(Y83){var W83=function(o83){var v8a=T3yy;var J5R="gridHeight";var C5R="gridWidth";var i7R="stageWidth";var T5R="stageHeight";var N7R="toolbarHeight";__extends(p83,o83);Object.defineProperty(p83.prototype,N7R,{get:function(){var I7R="wdr-toolbar-wrapper";if(this.toolbar){var N83=uicontrols.UIElement.convert(document.getElementById(I7R));return v8a.r0B==N83?v8a.N5B:N83.height;}return v8a.N5B;},enumerable:!v8a.N5B,configurable:!v8a.N5B});Object.defineProperty(p83,i7R,{get:function(){var I83=p83.stage.container.borderWidth;return p83.stage.parentContainer.getWidth(utils.isFullscreen())-I83.left-I83.right;},enumerable:!v8a.N5B,configurable:!v8a.N5B});Object.defineProperty(p83,T5R,{get:function(){var i83=p83.stage.container.borderWidth;return p83.stage.parentContainer.getHeight(utils.isFullscreen())-i83.top-i83.bottom;},enumerable:!v8a.N5B,configurable:!v8a.N5B});Object.defineProperty(p83,C5R,{get:function(){return p83.stageWidth;},enumerable:!v8a.N5B,configurable:!v8a.N5B});Object.defineProperty(p83,J5R,{get:function(){return p83.stage.pivotHeight();},enumerable:!v8a.N5B,configurable:!v8a.N5B});p83.prototype.pivotHeight=function(){return p83.stageHeight-p83.stage.toolbarHeight;};p83.prototype.draw=function(T30){var Q5R="document.visibilityState:";var F5R="WebDataRocks:\nPivot cannot be drawn.";var C30=this;void v8a.N5B===T30&&(T30=!v8a.I5B);this.clearDelays();if(this.drawn||this.isUIReady){var J30=this.container.requestAnimationFrame(function(F30){C30.clearDelays();C30._draw(T30);});this.delayedDraws.push(J30);}else C3yy.t4B>this.notReadyCount++?this.notReadyTimeout=utils.fmSetTimeout(function(){C30.draw(T30);},v8a.D1B):this.parentContainer.visible&&(console.error(F5R),console.error(Q5R,document.visibilityState),J3yy.s8t!=document.visibilityState&&alert(F5R));};p83.prototype.clearDelays=function(){for(;v8a.N5B<this.delayedDraws.length;)this.container.cancelAnimationFrame(this.delayedDraws.pop());this.delayedDraws=[];utils.fmClearTimeout(this.notReadyTimeout);utils.fmClearTimeout(this.renderCompleteTimeout);};p83.prototype.updateContainerSize=function(){if(!this.parentContainer)return!v8a.I5B;var Z30=utils.isFullscreen(),u30=this.parentContainer.getWidth();Z30&&(u30=window.screen.width);var Q30=this.parentContainer.getHeight();Z30&&(Q30=window.screen.height);Q30-=this.toolbarHeight;if(this.lastWidth!==u30||this.lastHeight!==Q30)this.container.css(v8a.L9B,u30+v8a.m9B),this.container.css(v8a.I9B,Q30+v8a.m9B);return this.lastWidth!==u30||this.lastHeight!==Q30;};p83.prototype.onWindowResize=function(D30){this.toolbar&&v8a.r0B!=this.toolbar.applyToolbarLayoutClasses&&this.toolbar.applyToolbarLayoutClasses();this.draw(!v8a.N5B);};p83.prototype.onLoadingReportFile=function(){this.model_.state_.reportType==v83.model._state.ReportType.INIT&&this.drawEmptyView();};p83.prototype.onEmptySlice=function(){this.draw();};p83.prototype.onLoadingData=function(){this.model_.state_.reportType!=v83.model._state.ReportType.UPDATE_DATA&&this.model_.state_.reportType!=v83.model._state.ReportType.CONNECT_TO&&this.drawEmptyView();};p83.prototype.onBeforeDataQuery=function(){};p83.prototype.onDataQueryComplete=function(){this.model_.state_.reportType!=v83.model._state.ReportType.INIT&&this.model_.state_.reportType!=v83.model._state.ReportType.LOAD&&this.draw();};p83.prototype.onLocalizationLoaded=function(){v8a.r0B!=this.toolbar&&this.toolbar.updateLabels(v83.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar);};p83.prototype.onReportComplete=function(){this.model_.state_.reportType==v83.model._state.ReportType.CLEAR?this.drawEmptyView():this.parentContainer&&this.draw();};p83.prototype.onDocumentFullScreen=function(e30){this.handleFullScreen();};p83.prototype.onFullScreen=function(P30){P30.stopPropagation();this.handleFullScreen();};p83.prototype.handleFullScreen=function(){var O30=this,B30=utils.isFullscreen();v8a.r0B!=v83.model.JavaScriptHandlers.jsFullScreenHandler&&v83.model.JavaScriptHandlers.jsFullScreenHandler.call(v8a.r0B,B30);B30=this.container.requestAnimationFrame(function(){O30.updateContainerSize()&&O30.draw(!v8a.N5B);});this.delayedDraws.push(B30);};p83.prototype.setControls=function(){var Z5R="wdr-credits";var u5R='<a href="https://webdatarocks.com/?r=wdr" target="_blank">WebDataRocks.com</a>';var j30=this;this.toolbar&&(this.container.height-=this.toolbarHeight);this.gridView=new Y83.grid.GridView();this.gridView.addEventListener(Y83.ViewEvent.FILTER_OPEN,function(y30){return j30.onFilterOpenGrid(y30);});this.gridView.addEventListener(Y83.ViewEvent.DRILL_THROUGH_OPEN,function(g30){return j30.onDrillThroughOpen(g30);});this.addChild(this.gridView);this.fieldsView=new Y83.config.FieldsView();this.fieldsView.addEventListener(events._Event.OPENED,function(a30){return j30.onWindowOpenClose(a30);});this.fieldsView.addEventListener(events._Event.CLOSED,function(X30){return j30.onWindowOpenClose(X30);});this.fieldsView.addEventListener(Y83.config.FieldsView.EVENT_OPEN,function(b30){return j30.onFieldsViewOpen(b30);});this.fieldsView.addEventListener(Y83.config.FieldsView.EVENT_APPLY_SLICE,function(z30){return j30.onFieldsViewApplySlice(z30);});this.addChild(this.fieldsView);var k30=new uicontrols.UILabel();k30.html(u5R);k30.addClass(Z5R);this.addChild(k30);utils.fmdocument.addEventListener(C3yy.N7J,function(S30){return j30.onKeyDown(S30);});this.container.attr(F3yy.D5R,v8a.N5B);this.container.addEventListener(v8a.l6B,function(m30){j30.isFocused=!v8a.N5B;});this.container.addEventListener(v8a.h6B,function(R30){j30.isFocused=!v8a.I5B;});this._resizeListener=new utils.ResizeListener(this.parentContainer.parent);this._resizeListener.addEventListener(events._Event.RESIZE,function(s30){return j30.onWindowResize(s30);});this.isUIReady=!v8a.N5B;};p83.prototype._draw=function(f30){void v8a.N5B===f30&&(f30=!v8a.I5B);v8a.r0B!=this.model_&&(this.drawn=!v8a.N5B,this.updateContainerSize(),v8a.r0B!=this.filterView&&this.filterView.draw(),utils.nullOrUndefined(this.model_.state_.connectionInfo_)||this.model_.state_.connectionInfo_.isEmpty||!v83.model._options.OptionsManager.configuratorButton?this.fieldsView.hide():this.fieldsView.show(),f30||v83.model._options.OptionsManager.configuratorActive||Y83.calculated.CalculatedView.addingMeasureFlag||(v83.model._options.OptionsManager.configuratorOpened=!v8a.I5B),v8a.r0B!=this.model_.cube_.slice_&&this.model_.cube_.slice_.isEmpty&&(v83.model._options.OptionsManager.configuratorOpened=!v8a.N5B),v83.model._options.OptionsManager.configuratorOpened&&v8a.r0B!=this.model_.state_.connectionInfo_&&!this.model_.state_.connectionInfo_.isEmpty?this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType):this.fieldsView.close(),this.drawGrid(f30),v8a.r0B!=this.drillThroughView&&this.drillThroughView.isVisible()&&(v83.model._options.OptionsManager.flatView?this.drillThroughView.close():this.drillThroughView.redraw()),this.lastWidth=this.getWidth(),this.lastHeight=this.getHeight());};p83.prototype.drawEmptyView=function(){this.drawGrid(!v8a.I5B,!v8a.N5B);utils.nullOrUndefined(this.fieldsView)||this.fieldsView.close();};p83.prototype.drawGrid=function(K30,E30){void v8a.N5B===K30&&(K30=!v8a.I5B);void v8a.N5B===E30&&(E30=!v8a.I5B);v8a.r0B!=this.gridView&&(K30||v8a.r0B==this.filterView||this.filterView.close(),this.gridView.dataProvider=E30?v8a.r0B:this.model_.dataProvider_=v83.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.gridView.container.css(v8a.T6B,v8a.o9B).css(v8a.i9B,v8a.o9B).css(v8a.C6B,v8a.o9B).css(v8a.J6B,v8a.o9B),this.gridView.container.css(v8a.N6B,v8a.I6B),this.gridView.show(),this.gridView.container.css(v8a.I9B,p83.gridHeight+v8a.m9B),this.gridView.container.css(v8a.L9B,p83.stageWidth+v8a.m9B),K30||this.model_.cube_.connectionInfo_&&this.model_.cube_.connectionInfo_.isUpdateData||this.gridView.clearSizes(),this.gridView.draw(),v83.model._options.OptionsManager.flatView&&this.fieldsView.isOpen&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType));};p83.prototype.onDrillThroughOpen=function(v30){v8a.r0B==this.drillThroughView&&this.addDrillThroughView();this.drillThroughView.addEventListener(Y83.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);var Y30=this.model_.cube_.structure_.findMeasure(v30.data.measure);this.drillThroughView.openView(this.model_.dataProvider_,this.model_.cube_.slice_,v30.data.columnTuple,v30.data.rowTuple,Y30);};p83.prototype.onDrillThroughClosed=function(){this.drillThroughView.removeEventListener(Y83.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);this.model_.cube_.refresh();};p83.prototype.openFieldsList=function(){v8a.r0B!=this.model_.state_.connectionInfo_&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType);};p83.prototype.onFieldsViewApplySlice=function(W30){v83.Pivot.instance.runQuery(W30.data);};p83.prototype.onFilterOpenGrid=function(p30){v8a.r0B==this.filterView&&this.addFilterView();this.onFilterOpen(p30);};p83.prototype.onFilterOpen=function(o30){var w30={hierarchy:v83.data_._structure.GenericHierarchy.toObject(o30.hierarchy)};v83.model.JavaScriptHandlers.getInstance().dispatch(new v83.model.APIEvent(v83.model.JavaScriptHandlers.FILTER_OPEN,w30));this.openFilter(o30.hierarchy);};p83.prototype.openFilter=function(n30){v8a.r0B==this.filterView&&this.addFilterView();this.filterView.openView(n30);};p83.prototype.closeFieldsList=function(){this.fieldsView.close();};p83.prototype.onFieldsViewOpen=function(d30){this.openFieldsList();};p83.prototype.onWindowOpenClose=function(c30){};p83.prototype.onKeyDown=function(A30){var N1B=73;this.isFocused&&(N1B===A30.keyCode&&A30.ctrlKey&&A30.altKey&&this.showLicenseInfo(),v8a.s1B===A30.keyCode&&(v8a.r0B!=this.filterView&&this.filterView.close(),v8a.r0B!=this.drillThroughView&&this.drillThroughView.close(),v8a.r0B!=this.calculatedView&&this.calculatedView.isVisible()?this.calculatedView.close():this.fieldsView.close()));};p83.prototype.onExport=function(l30){this.drillThroughView&&this.drillThroughView.isVisible()?this.drillThroughView.exportTo(l30.exportType,l30.exportOptions,l30.callbackHandler):this.gridView.exportTo(l30.exportType,l30.exportOptions,l30.callbackHandler);};p83.prototype.onPrint=function(){this.gridView.print();};p83.prototype.showLicenseInfo=function(){var P5R=") <br/><br/>";var e5R=" (build ";var V1B=61;var h30=new Date(parseFloat(v83.Pivot.BUILD_DATE)/V1B),h30=v83.Pivot.BUILD_VERSION+e5R+utils.StringUtils.toDateTime(h30.getTime())+P5R,h30=h30+v83.model.license.LicenseLabels.getLabel(v83.model.license.LicenseLabels.info);v83.uialert(h30,v83.model.license.LicenseLabels.getLabel(v83.model.license.LicenseLabels.componentInfo),v83.AlertType.INFO);};p83.prototype.getCell=function(M30,H30){return this.gridView.getCell(M30,H30);};function p83(l83,n83){var X5R="webkitfullscreenchange";var j5R="500px";var b5R="MSFullscreenChange";var g5R="fullscreenchange";var B5R="wdr-pivot-view";var a5R="mozfullscreenchange";var O5R="100%";var k5R=/\d+(?=px|%)/;var w83=o83.call(this)||this;w83.isUIReady=!v8a.I5B;w83.model_=v83.model.PivotModel.getInstance();w83.width=v8a.N5B;w83.height=v8a.N5B;w83.lastWidth=v8a.N5B;w83.lastHeight=v8a.N5B;w83.delayedDraws=[];w83.notReadyCount=v8a.N5B;w83.drawn=!v8a.I5B;w83.drillthroughClosedHandler=function(){return w83.onDrillThroughClosed();};w83.isFocused=!v8a.N5B;w83.setId(B5R);v8a.r0B!=w83.parentContainer&&w83.parentContainer.dispose();l83.empty();w83.parentContainer=l83;p83.stage=w83;var d83=n83.width?v8a.r9B===typeof n83.width?n83.width+v8a.m9B:-v8a.I5B<n83.width.indexOf(v8a.m9B)||n83.width.indexOf(J3yy.E6t)==n83.width.length-v8a.I5B?n83.width:n83.width+v8a.m9B:O5R,c83=n83.height?v8a.r9B===typeof n83.height?n83.height+v8a.m9B:-v8a.I5B<n83.height.indexOf(v8a.m9B)||n83.height.indexOf(J3yy.E6t)==n83.height.length-v8a.I5B?n83.height:n83.height+v8a.m9B:j5R,A83=k5R,d83=d83.match(A83)?d83:O5R,c83=c83.match(A83)?c83:j5R;w83.parentContainer.css(v8a.L9B,d83);w83.parentContainer.css(v8a.I9B,c83);w83.container.css(v8a.L9B,d83);w83.container.css(v8a.I9B,c83);w83.parentContainer.append(w83.container);w83.container.requestAnimationFrame(function(){var y5R="html5";w83.toolbar=n83.toolbar?new WebDataRocksToolbar(w83.parentContainer.element,v83.Pivot.instance.api,y5R,d83,v83.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar):v8a.r0B;v83.model.JavaScriptHandlers.getInstance().dispatch(new v83.model.APIEvent(v83.model.JavaScriptHandlers.BEFORE_TOOLBAR_CREATED,w83.toolbar));w83.toolbar&&v8a.r0B!=w83.toolbar.create&&w83.toolbar.create();w83.setControls();w83.draw();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.LOADING_REPORT_FILE,function(){return w83.onLoadingReportFile();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.EMPTY_SLICE,function(){return w83.onEmptySlice();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.LOADING_DATA,function(){return w83.onLoadingData();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.RUNNING_QUERY,function(){return w83.onBeforeDataQuery();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.QUERY_COMPLETE,function(){return w83.onDataQueryComplete();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.REPORT_COMPLETE,function(){return w83.onReportComplete();});w83.model_.state_.addEventListener(v83.model._state.StateEvent.LOCALIZATION_LOADED,function(){return w83.onLocalizationLoaded();});w83.model_.addEventListener(v83.PivotEvent.EXPORT,function(h83){return w83.onExport(h83);});w83.model_.addEventListener(v83.PivotEvent.PRINT,function(){return w83.onPrint();});w83.model_.addEventListener(Y83.ViewEvent.CALCULATED_VIEW_OPEN,function(M83){return w83.onOpenCalculatedView(M83);});w83.model_.addEventListener(Y83.ViewEvent.CONTEXT_MENU_OPEN,function(H83){return w83.onOpenContextMenu(H83);});w83.addEventListener(Y83.ViewEvent.AFTER_GRID_DRAW,function(){return w83.onAfterGridDraw();});utils.fmdocument.addEventListener(g5R,function(V83){return w83.onDocumentFullScreen(V83);},!v8a.I5B);utils.fmdocument.addEventListener(a5R,function(U83){return w83.onDocumentFullScreen(U83);},!v8a.I5B);utils.fmdocument.addEventListener(X5R,function(x83){return w83.onDocumentFullScreen(x83);},!v8a.I5B);utils.fmdocument.addEventListener(b5R,function(t83){return w83.onDocumentFullScreen(t83);},!v8a.I5B);w83.parentContainer.addEventListener(g5R,function(G83){return w83.onFullScreen(G83);},!v8a.I5B);w83.parentContainer.addEventListener(a5R,function(r83){return w83.onFullScreen(r83);},!v8a.I5B);w83.parentContainer.addEventListener(X5R,function(q83){return w83.onFullScreen(q83);},!v8a.I5B);w83.parentContainer.addEventListener(b5R,function(L83){return w83.onFullScreen(L83);},!v8a.I5B);return w83;}p83.prototype.getSelectedCell=function(){return this.gridView.getSelectedCell();};p83.prototype.setSelectedCell=function(V30,U30){this.gridView.setSelectedCell(V30,U30);};p83.prototype.removeSelection=function(){this.gridView.removeSelection();};p83.prototype.onOpenCalculatedView=function(x30){v8a.r0B==this.calculatedView&&this.addCalculatedView();this.calculatedView.openView(x30.data?x30.data.measureName:v8a.o9B);};p83.prototype.onOpenContextMenu=function(t30){v8a.r0B==this.contextMenu&&this.addContextMenu();this.contextMenu.showWith(this.container,t30.data.menuItems,t30.data.coords);};p83.prototype.onAfterGridDraw=function(){var G30=this;v8a.N5B==this.delayedDraws.length&&(this.renderCompleteTimeout=utils.fmSetTimeout(function(){G30.dispatchWith(Y83.ViewEvent.RENDER_COMPLETE);},v8a.I5B));};p83.prototype.addCalculatedView=function(){this.calculatedView=new Y83.calculated.CalculatedView();this.addChild(this.calculatedView);};p83.prototype.addDrillThroughView=function(){this.drillThroughView=new Y83.grid.DrillThroughView();this.addChild(this.drillThroughView);};p83.prototype.addFilterView=function(){var r30=this;this.filterView=new Y83.filter.FilterView();this.filterView.addEventListener(events._Event.OPENED,function(q30){return r30.onWindowOpenClose(q30);});this.filterView.addEventListener(events._Event.CLOSED,function(L30){return r30.onWindowOpenClose(L30);});this.addChild(this.filterView);};p83.prototype.getToolbar=function(){return this.toolbar;};p83.prototype.addContextMenu=function(){this.contextMenu=new Y83.ContextMenuView();this.contextMenu.hide();this.addChild(this.contextMenu);};p83.prototype.dispose=function(){this.model_=v8a.r0B;this.gridView.dispose();this.container.dispose();this.parentContainer.dispose();Y83.AlertView.dispose();Y83.filter.FilterModel.dispose();Y83.PreloaderView.dispose();uicontrols.dragndrop.DragManager.dispose();p83.stage=v8a.r0B;this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=v8a.r0B);};return p83;}(uicontrols.containers.UIContainer);Y83.PivotView=W83;}(v83._view||(v83._view={})));}(pivot||(pivot={})));(function(N30){(function(I30){var i30=function(){var z0B=250;T70.prototype.show=function(C70,F70,Q70,J70,u70){var G5u=T3yy;var Z70=this;void G5u.N5B===J70&&(J70=!G5u.N5B);void G5u.N5B===u70&&(u70=!G5u.I5B);C70?(u70&&this.showImmediately(C70,F70,Q70,J70),!G5u.I5B==this._show?(this._show=C70,this._message=F70,this._details=Q70,this._transparent=J70,this._timer=utils.fmSetTimeout(function(){return Z70.timerHandler();},T70.DELAY)):G5u.N5B==this._timer?this.showImmediately(C70,F70,Q70,J70):(this._show=C70,this._message=F70,this._details=Q70,this._transparent=J70)):(u70&&this.showImmediately(C70,F70,Q70,J70),!G5u.N5B==this._show&&(this._show=C70,this._timer=utils.fmSetTimeout(function(){return Z70.timerHandler();},T70.DELAY)));};T70.prototype.showImmediately=function(D70,e70,P70,B70){this.resetTimer();this.preloaderFunction(D70,e70,P70,B70);};T70.prototype.timerHandler=function(){this.resetTimer();this.preloaderFunction(this._show,this._message,this._details,this._transparent);};T70.prototype.resetTimer=function(){utils.fmClearTimeout(this._timer);this._timer=T3yy.N5B;};T70.prototype.preloaderFunction=function(O70,j70,k70,y70){I30.PreloaderView.getInstance()&&I30.PreloaderView.getInstance().openView(O70,j70,k70,y70);};T70.getInstance=function(){T3yy.r0B==T70._instance&&(T70._instance=new T70());return T70._instance;};function T70(){var U5u=T3yy;this._timer=U5u.N5B;this._show=!U5u.I5B;this._details=this._message=U5u.o9B;this._transparent=!U5u.I5B;}T70.dispose=function(){T70._instance=T3yy.r0B;};T70.DELAY=z0B;return T70;}();I30.Preloader=i30;}(N30._view||(N30._view={})));}(pivot||(pivot={})));(function(g70){(function(a70){var X70=function(z70){__extends(b70,z70);b70.prototype.openView=function(m70,R70,s70,f70){var H5u=T3yy;void H5u.N5B===m70&&(m70=!H5u.N5B);void H5u.N5B===R70&&(R70=H5u.o9B);void H5u.N5B===s70&&(s70=H5u.o9B);void H5u.N5B===f70&&(f70=!H5u.N5B);this._message=R70;this._details=s70;this._transparent=f70;m70?this.open():this.close();};b70.prototype.open=function(){z70.prototype.open.call(this);this.draw();};b70.prototype.setControls=function(){var m5R="wdr-message-label";var S5R="wdr-spinner";var z5R="wdr-overlay-preloader";var R5R="wdr-details-label";this.overlay.addClass(z5R);this.overlay.removeEventListener(T3yy.b6B,this._overlayClickHandler);this._imgSpinner=new uicontrols.UIComponentBase(T3yy.w9B);this._imgSpinner.setId(S5R);this.addChild(this._imgSpinner);this._txtMessage=new uicontrols.UILabel();this._txtMessage.setId(m5R);this.addChild(this._txtMessage);this._txtDetails=new uicontrols.UILabel();this._txtDetails.setId(R5R);this.addChild(this._txtDetails);this.hide();a70.PivotView.stage.addChild(this);};b70.prototype.draw=function(){this.overlay.setOpaque(!this._transparent);this.setMessage(this._message);this.setDetails(this._details);this.validate();};b70.prototype.setMessage=function(K70){this._txtMessage.setLabel(K70);};b70.prototype.setDetails=function(E70){this._txtDetails.setLabel(E70);};function b70(){var s5R="wdr-preloader-view";var S70=this;if(T3yy.r0B!=b70._instance)throw Error(C3yy.m2B);S70=z70.call(this,a70.PivotView.stage.container)||this;S70.setId(s5R);S70.setControls();return S70;}b70.prototype.close=function(){z70.prototype.close.call(this);this.clear();};b70.prototype.clear=function(){this.setMessage(T3yy.o9B);this.setMessage(T3yy.o9B);};b70.getInstance=function(){if(T3yy.r0B==a70.PivotView.stage)return T3yy.r0B;T3yy.r0B==b70._instance&&(b70._instance=new b70());return b70._instance;};b70.dispose=function(){b70._instance=T3yy.r0B;};return b70;}(uicontrols.containers.UIPopup);a70.PreloaderView=X70;}(g70._view||(g70._view={})));}(pivot||(pivot={})));(function(v70){(function(Y70){var W70=function(o70){__extends(p70,o70);function p70(){var f5R="wdr-context-menu";var w70=o70.call(this)||this;w70.setId(f5R);w70.list=new uicontrols.lists.UIList();w70.list.setItemRendererFactory(w70.itemRendererFactory);w70.list.setLabelField(C3yy.u0t);w70.list.addEventListener(events._Event.CHANGE,function(n70){return w70.onListChange(n70);});w70.addChild(w70.list);w70.container.disableSelection();return w70;}p70.prototype.showWith=function(d70,l70,A70){var w5u=T3yy;var c70=this;w5u.N5B!=l70.length&&(this.setData(l70),this.show(),d70=d70.getOffset(),A70.top-=d70.top+w5u.J1B,A70.left-=d70.left+w5u.J1B,this.container.offset(A70),this.container.addEventListener(w5u.E9B,function(){return c70.hide();}),utils.browserVersion().isMobile?Y70.PivotView.stage.container.addEventListener(w5u.O9B,function(h70){return c70.onStageMouseDown(h70);}):Y70.PivotView.stage.container.addEventListener(w5u.B9B,function(M70){return c70.onStageMouseDown(M70);}));};p70.prototype.onStageMouseDown=function(H70){var K5R="#wdr-context-menu";T3yy.r0B==uicontrols.UIElement.convert(H70.target).closest(K5R)&&this.hide();};p70.prototype.setData=function(x70){for(var U70=[],V70=T3yy.N5B;V70<x70.length;V70++)U70.push(x70[V70]);this.list.setDataProvider(U70);};p70.prototype.onListChange=function(t70){T3yy.r0B!=t70.data.selectedItem.handler&&t70.data.selectedItem.handler(t70.data.selectedItem.data);this.hide();};p70.prototype.itemRendererFactory=function(r70,q70){var G70=new uicontrols.renderers.SelectItemRenderer();G70.setData(r70);G70.setIndex(q70);return G70;};return p70;}(uicontrols.containers.UIBorderContainer);Y70.ContextMenuView=W70;}(v70._view||(v70._view={})));}(pivot||(pivot={})));(function(L70){(function(N70){(function(I70){var i70=function(C50){var Y5u=T3yy;var p5R="isDrillThroughAvailable";var w5R="gridRowCount";var n5R="gridColumnCount";var o5R="gridLayout";__extends(T50,C50);T50.prototype.dispose=function(){this._model=this.dataProvider=Y5u.r0B;this.gridLayout&&this.gridLayout.dispose();this._gridLayout=Y5u.r0B;};function T50(){var E5R="wdr-grid-view";var v5R="contextmenu";var J50=C50.call(this)||this;J50.START_TABLE_ROW=Y5u.N5B;J50.START_HEADERS_ROW=Y5u.N5B;J50.START_HEADERS_COLUMN=Y5u.N5B;J50.FIRST_DATA_ROW=Y5u.N5B;J50.FIRST_DATA_COLUMN=Y5u.N5B;J50._model=L70.model.PivotModel.getInstance();J50.conditions=[];J50.setId(E5R);utils.browserVersion().isMobile?new uicontrols._utils.LongPressListener(J50.container).listen(function(F50,Q50){return J50.onLongPress(F50,Q50);}):utils.fmdocument.addEventListener(v5R,function(u50){return J50.onContextMenu(u50);});return J50;}T50.prototype.createCompactLayout=function(){var D50=this,Z50=new I70.sheet.CompactGridLayout();Z50.id=F3yy.Y5R;Z50.getDataFunction=function(e50,P50){return D50.getData(e50,P50);};Z50.addEventListener(I70.GridEvent.MOUSE_CLICK,function(B50){return D50.onGridClick(B50);});Z50.addEventListener(I70.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(O50){return D50.onGridSingleDoubleClick(O50);});Z50.addEventListener(I70.GridEvent.FILTER_CLICK,function(j50){return D50.onFilterClick(j50);});Z50.addEventListener(I70.GridEvent.RESIZE_COLUMN,function(k50){return D50.onResizeColumn(k50);});Z50.addEventListener(I70.GridEvent.RESIZE_ROW,function(y50){return D50.onResizeRow(y50);});this.container.append(Z50);return Z50;};T50.prototype.createClassicLayout=function(){var a50=this,g50=new I70.sheet.classic.ClassicGridLayout();g50.id=F3yy.Y5R;g50.getDataFunction=function(X50,b50){return a50.getData(X50,b50);};g50.addEventListener(I70.GridEvent.MOUSE_CLICK,function(z50){return a50.onGridClick(z50);});g50.addEventListener(I70.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(S50){return a50.onGridSingleDoubleClick(S50);});g50.addEventListener(I70.GridEvent.FILTER_CLICK,function(m50){return a50.onFilterClick(m50);});g50.addEventListener(I70.GridEvent.RESIZE_COLUMN,function(R50){return a50.onResizeColumn(R50);});g50.addEventListener(I70.GridEvent.RESIZE_ROW,function(s50){return a50.onResizeRow(s50);});this.container.append(g50);return g50;};T50.prototype.createFlatLayout=function(){var K50=this,f50=new I70.sheet.flat.FlatGridLayout();f50.id=F3yy.Y5R;f50.getDataFunction=function(E50,v50){return K50.getData(E50,v50);};f50.addEventListener(I70.GridEvent.MOUSE_CLICK,function(Y50){return K50.onGridClick(Y50);});f50.addEventListener(I70.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(W50){return K50.onGridSingleDoubleClick(W50);});f50.addEventListener(I70.GridEvent.FILTER_CLICK,function(p50){return K50.onFilterClick(p50);});f50.addEventListener(I70.GridEvent.RESIZE_COLUMN,function(o50){return K50.onResizeColumn(o50);});f50.addEventListener(I70.GridEvent.RESIZE_ROW,function(w50){return K50.onResizeRow(w50);});this.container.append(f50);return f50;};T50.prototype.getCurrentLayout=function(){if(L70.model._options.OptionsManager.classicView){if(this.gridLayout&&this.gridLayout.type==I70.sheet.classic.ClassicGridLayout.TYPE)return this.gridLayout;Y5u.r0B!=this.gridLayout&&this.gridLayout.removeFromParent(!Y5u.N5B);return this.createClassicLayout();}if(L70.model._options.OptionsManager.flatView){if(this.gridLayout&&this.gridLayout.type==I70.sheet.flat.FlatGridLayout.TYPE)return this.gridLayout;Y5u.r0B!=this.gridLayout&&this.gridLayout.removeFromParent(!Y5u.N5B);return this.createFlatLayout();}if(this.gridLayout&&this.gridLayout.type==I70.sheet.CompactGridLayout.TYPE)return this.gridLayout;Y5u.r0B!=this.gridLayout&&this.gridLayout.removeFromParent(!Y5u.N5B);return this.createCompactLayout();};T50.prototype.draw=function(){this._gridLayout=this.getCurrentLayout();if(Y5u.r0B!=this.gridLayout){this.gridLayout.smoothTimeout=this._model.state_.updateActive?Y5u.F0B:C3yy.t4B;if(this.dataProvider&&this.dataProvider.dataLoaded&&!this.dataProvider.isEmpty){this.gridLayout.clearData();this.START_HEADERS_ROW=this.START_HEADERS_COLUMN=this.START_TABLE_ROW=Y5u.N5B;var n50,l50,c50,h50,A50=this.dataProvider.columnMaxDepth,d50=L70.model._options.OptionsManager.classicView?Y5u.N5B<this.dataProvider.rowsOnly.length?Y5u.I5B:Y5u.N5B:this.dataProvider.rowCount;d50>=A50+Y5u.I5B?(n50=Y5u.N5B,l50=n50+d50,c50=n50+(d50-A50)-Y5u.I5B):(c50=Y5u.N5B,n50=Y5u.N5B<this.dataProvider.columnCount?c50+(A50-d50)+Y5u.I5B:c50,Y5u.N5B==this.dataProvider.columnsOnly.length&&Y5u.N5B==this.dataProvider.rowsOnly.length&&(n50+=Y5u.I5B),l50=n50+d50);h50=c50;this.START_TABLE_ROW=Math.min(n50,h50);this.START_HEADERS_ROW=h50;this.START_HEADERS_COLUMN=Y5u.N5B;this.FIRST_DATA_ROW=l50;this.FIRST_DATA_COLUMN=this.isFlatTable?Y5u.N5B:L70.model._options.OptionsManager.classicView?this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures?this.dataProvider.rowLevels.length+Y5u.I5B:this.dataProvider.rowLevels.length:Y5u.N5B==this.dataProvider.rows.length?Y5u.N5B:Y5u.I5B;L70.model._options.OptionsManager.showHierarchyCaptions||(this.START_HEADERS_ROW=Y5u.I5B==d50&&Y5u.N5B==this.dataProvider.columnCount?Y5u.N5B:-Y5u.I5B,this.FIRST_DATA_ROW=A50);this.isFlatTable&&Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals&&Y5u.T6B==L70.model._options.OptionsManager.grandTotalsPosition&&this.FIRST_DATA_ROW++;this.gridLayout.setDataSize(this.dataProvider.extendedDataHeight+(this.isFlatTable&&Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals&&Y5u.J6B==L70.model._options.OptionsManager.grandTotalsPosition?Y5u.I5B:Y5u.N5B),this.dataProvider.extendedDataWidth);this.gridLayout.freezeColumns(this.FIRST_DATA_COLUMN);this.gridLayout.freezeRows(this.FIRST_DATA_ROW);this.gridLayout instanceof I70.sheet.CompactGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-Y5u.I5B,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages));this.gridLayout instanceof I70.sheet.classic.ClassicGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-Y5u.I5B,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages));(Y5u.I5B<this.dataProvider.columns.length||!this.dataProvider.columnAxis.hasMeasures)&&L70.model._options.OptionsManager.showHierarchyCaptions&&this.addFilterCell(c50,this.FIRST_DATA_COLUMN,L70.data_.consts.AxisName.COLUMNS_AXIS);(Y5u.I5B<this.dataProvider.rows.length||!this.dataProvider.rowAxis.hasMeasures)&&L70.model._options.OptionsManager.showHierarchyCaptions&&(L70.model._options.OptionsManager.classicView?this._addFilterCell(n50,Y5u.N5B):this.addFilterCell(n50,Y5u.N5B,L70.data_.consts.AxisName.ROWS_AXIS));this.resizeColumnsByIdx();this.resizeHeaderColumns();this.resizeColumns();this.resizeRowsByIdx();this.resizeHeaderRows();this.resizeRows();}else this.gridLayout.clearAll();this.conditions=L70.model.condition.ConditionManager.conditions.toArray();this.gridLayout.resize(N70.PivotView.gridWidth,N70.PivotView.gridHeight);this.gridLayout.draw();}};T50.prototype.clearSizes=function(){Y5u.r0B!=this.gridLayout&&(this.gridLayout.clearColSizes(Y5u.N5B),this.gridLayout.clearRowSizes(Y5u.N5B));};T50.prototype.getData=function(M50,r50,x50){void Y5u.N5B===x50&&(x50=!Y5u.I5B);if(Y5u.r0B==this.dataProvider||!this.dataProvider.dataLoaded||M50<this.START_HEADERS_ROW||r50<this.START_HEADERS_COLUMN)return Y5u.r0B;var H50=M50-this.FIRST_DATA_ROW,V50=r50-this.FIRST_DATA_COLUMN;if((H50>this.dataProvider.extendedDataHeight-Y5u.I5B||V50>this.dataProvider.extendedDataWidth-Y5u.I5B)&&!(this.isFlatTable&&Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals&&Y5u.J6B==L70.model._options.OptionsManager.grandTotalsPosition&&H50==this.dataProvider.extendedDataHeight&&V50<=this.dataProvider.extendedDataWidth-Y5u.I5B))return Y5u.r0B;var U50=this.dataProvider.getRowTuple(H50,!Y5u.N5B),t50=this.dataProvider.getColumnTuple(V50,!Y5u.N5B);if(Y5u.r0B==U50&&Y5u.r0B==t50)return Y5u.r0B;var G50=this.dataProvider.getMeasure(H50,V50);if(this.isFlatTable&&Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals&&Y5u.T6B==L70.model._options.OptionsManager.grandTotalsPosition&&(L70.model._options.OptionsManager.showHierarchyCaptions&&Y5u.I5B==M50||!L70.model._options.OptionsManager.showHierarchyCaptions&&Y5u.N5B==M50)||this.isFlatTable&&Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals&&Y5u.J6B==L70.model._options.OptionsManager.grandTotalsPosition&&(L70.model._options.OptionsManager.showHierarchyCaptions&&M50==this.dataProvider.extendedDataHeight+Y5u.I5B||!L70.model._options.OptionsManager.showHierarchyCaptions&&M50==this.dataProvider.extendedDataHeight))return this.getFlatGrandTotal(U50,t50,G50);if(Y5u.r0B==U50)return x50=Y5u.I5B==(L70.model._options.OptionsManager.classicView?Y5u.I5B:this.dataProvider.rowsOnly.length)&&Y5u.N5B==this.dataProvider.columnCount?M50-this.START_HEADERS_ROW:M50-this.START_HEADERS_ROW-Y5u.I5B,Y5u.N5B==this.dataProvider.rowsOnly.length&&Y5u.N5B==this.dataProvider.columnsOnly.length&&(x50=M50-this.START_HEADERS_ROW),M50=this.dataProvider.getColumnDepth(V50),this.getColumnCell(t50,G50,M50,x50,r50);V50=this.dataProvider.getRowDepth(H50);H50=this.dataProvider.getRowType(H50);return Y5u.r0B==t50?L70.model._options.OptionsManager.classicView?this._getRowCell(U50,G50,V50,r50,H50):this.getRowCell(U50,G50,V50):this.getDataCell(U50,t50,G50,M50,r50,x50,V50,H50);};T50.prototype.getDataCell=function(T10,C10,L50,Z10,u10,F10,N50,J10){var H6u=C3yy;var M6u=J3yy;void Y5u.N5B===F10&&(F10=!Y5u.I5B);void Y5u.N5B===N50&&(N50=NaN);void Y5u.N5B===J10&&(J10=-Y5u.I5B);if(Y5u.r0B==L50)return Y5u.r0B;var I50=L50.getFormat().clone();if(L50.aggregation==L70.data_.consts.AggregationName.PERCENT||L50.aggregation==L70.data_.consts.AggregationName.PERCENT_COLUMN||L50.aggregation==L70.data_.consts.AggregationName.PERCENT_ROW||L50.aggregation==L70.data_.consts.AggregationName.PERCENT_DIFFERENCE)I50.currencySymbol=M6u.E6t,I50.currencySymbolAlign=Y5u.C6B;var q50=new I70.vo.GridCell();q50.isValue=!Y5u.N5B;q50.columnTuple=C10;q50.measure=L50;q50.hierarchy=this._model.cube_.structure_.measureToHierarchy(L50.uniqueName);q50.rowTuple=T10;L70.model._options.OptionsManager.classicView?Y5u.N5B==T10.length?q50.level=Y5u.N5B:(N50=this.getLevelIdxByTuple(T10),-Y5u.I5B<N50&&(q50.level=N50)):L70.model._options.OptionsManager.flatView||(q50.level=N50);N50=this.dataProvider.getValue(T10,C10,L50);q50.value=N50;if(this.isFlatTable){I50=L50.getFormat(!Y5u.N5B).clone();if(L50.type==L70.data_.types.MeasureType.COUNT){var i50=this.dataProvider.getColumnHierarchy(C10).members.getItemAt(N50);Y5u.r0B!=i50&&(q50.member=i50,q50.label=i50.caption);}else L50.type==L70.data_.types.MeasureType.NUMBER?Y5u.q9B===typeof N50?q50.label=N50:(q50.label=utils.NumberFormatter.format(N50,I50),q50.numeric=!Y5u.N5B):L50.type==L70.data_.types.MeasureType.DATE?q50.label=utils.StringUtils.toDate(N50,L70.model._options.OptionsManager.datePattern):L50.type==L70.data_.types.MeasureType.TIME?isNaN(N50)||(q50.label=utils.StringUtils.toTime(N50)):L50.type!=L70.data_.types.MeasureType.DATETIME||isNaN(N50)||(q50.label=utils.StringUtils.toDateTime(N50,L70.model._options.OptionsManager.dateTimePattern));q50.recordId=this.dataProvider.getRecordId(T10,C10,L50);}else L50.type==L70.data_.types.MeasureType.NUMBER||L50.type==L70.data_.types.MeasureType.COUNT?Y5u.q9B===typeof N50?q50.label=N50:(q50.label=utils.NumberFormatter.format(N50,I50),q50.numeric=!Y5u.N5B):L50.type==L70.data_.types.MeasureType.DATE?q50.label=L70.data_.consts.AggregationName.validForDateTimeFormatting(L50.aggregation)?utils.StringUtils.toDate(q50.value,L70.model._options.OptionsManager.datePattern):utils.NumberFormatter.format(N50,I50):L50.type==L70.data_.types.MeasureType.TIME?isNaN(N50)||(q50.label=L70.data_.consts.AggregationName.validForDateTimeFormatting(L50.aggregation)?utils.StringUtils.toTime(N50):utils.NumberFormatter.format(N50,I50)):L50.type==L70.data_.types.MeasureType.DATETIME?isNaN(q50.value)||(q50.label=L70.data_.consts.AggregationName.validForDateTimeFormatting(L50.aggregation)?utils.StringUtils.toDateTime(N50,L70.model._options.OptionsManager.dateTimePattern):utils.NumberFormatter.format(N50,I50)):q50.label=N50;if(F10)return q50;F10=!Y5u.I5B;if(this.dataProvider.rowCount>T10.length||this.dataProvider.columnCount>C10.length){F10=!Y5u.N5B;q50.isTotalRow=this.dataProvider.rowCount>T10.length;q50.isTotalColumn=this.dataProvider.columnCount>C10.length;if(Y5u.y6B!=L70.model._options.OptionsManager.showTotals){i50=this.dataProvider.measureDepth;if(Y5u.N5B!=T10.length&&(this.dataProvider.isRowExpanded(T10)||this.dataProvider.isRowExpanded(T10,L50))&&(M6u.g9t==L70.model._options.OptionsManager.showTotals||H6u.T1J==L70.model._options.OptionsManager.showTotals)||Y5u.N5B!=C10.length&&(this.dataProvider.isColumnExpanded(C10)||this.dataProvider.isColumnExpanded(C10,L50))&&(M6u.g9t==L70.model._options.OptionsManager.showTotals||H6u.i5J==L70.model._options.OptionsManager.showTotals))return Y5u.r0B;if(Y5u.N5B==i50&&Y5u.I5B<this.dataProvider.measures.length)if(this.dataProvider.rowAxis.hasMeasures&&(M6u.g9t==L70.model._options.OptionsManager.showTotals||H6u.T1J==L70.model._options.OptionsManager.showTotals)){if(Z10<(Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals||H6u.T1J==L70.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight-this.dataProvider.measures.length:this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight)&&this.dataProvider.isRowExpanded(T10,L50))return Y5u.r0B;}else if(this.dataProvider.columnAxis.hasMeasures&&(M6u.g9t==L70.model._options.OptionsManager.showTotals||H6u.i5J==L70.model._options.OptionsManager.showTotals)&&u10<(Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals||H6u.i5J==L70.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth)&&this.dataProvider.isColumnExpanded(C10,L50))return Y5u.r0B;}q50.isGrandTotalRow=Y5u.N5B==T10.length;q50.isGrandTotalColumn=Y5u.N5B==C10.length;q50.isClassicTotalRow=q50.isTotalRow&&Y5u.i5B==J10&&!q50.isGrandTotalRow;}Y5u.o9B!=I50.textAlign&&q50.customize({"text-align":I50.textAlign});if(Y5u.N5B<this.conditions.length&&q50.measure)for(J10=Y5u.N5B;J10<this.conditions.length;J10++)if(I50=this.conditions[J10],!(I50.row!=Z10&&-Y5u.I5B!=I50.row||I50.column!=u10&&-Y5u.I5B!=I50.column||I50.measure!=L50.uniqueName&&Y5u.o9B!=I50.measure&&I50.measure!=L50.uniqueName||I50.isTotal!==F10&&void Y5u.N5B!==I50.isTotal||Y5u.o9B!=I50.hierarchy&&!this.checkHierarchyCondition(T10,C10,I50.hierarchy,I50.member)))if(i50=I50.params.slice(Y5u.N5B),I50.isUpdate){if(this._model.state_.updateActive){var Q10=this.dataProvider.getUpdatedValue(T10,C10,L50);Q10&&(-Y5u.I5B<I50.formula.toLowerCase().indexOf(L70.data_.consts.FunctionName.UPDATE_DIFFERENCE)?N50=Q10.difference:-Y5u.I5B<I50.formula.toLowerCase().indexOf(L70.data_.consts.FunctionName.UPDATE_PERCENT)&&(N50=Y5u.F0B*Q10.percent),i50=this.dataProvider.calculate(T10,C10,i50,N50),Y5u.r0B!=i50&&q50.customizeWithClass(i50));}}else i50=this.dataProvider.calculate(T10,C10,i50,N50),!Y5u.N5B!=i50&&H6u.d3J!=i50||Y5u.r0B==I50.format?Y5u.r0B!=i50&&!Y5u.I5B!=i50&&q50.customizeWithClass(i50):(q50.customize(I50.format.toCSSObject()),q50.conditions.push(I50.id)),q50.showTooltip=!Y5u.N5B;return q50;};T50.prototype.getFlatGrandTotal=function(j10,k10,e10){if(Y5u.r0B==e10)return Y5u.r0B;var D10=new I70.vo.GridCell();D10.isValue=!Y5u.N5B;D10.columnTuple=k10;D10.measure=e10;D10.hierarchy=this._model.cube_.structure_.measureToHierarchy(e10.uniqueName);D10.rowTuple=j10;if(e10.type==L70.data_.types.MeasureType.NUMBER||e10.type==L70.data_.types.MeasureType.TIME||e10.type==L70.data_.types.MeasureType.DATETIME){var P10=e10.getFormat().clone();if(e10.aggregation==L70.data_.consts.AggregationName.PERCENT||e10.aggregation==L70.data_.consts.AggregationName.PERCENT_COLUMN||e10.aggregation==L70.data_.consts.AggregationName.PERCENT_ROW||e10.aggregation==L70.data_.consts.AggregationName.PERCENT_DIFFERENCE||e10.calculated&&-Y5u.I5B<e10.formula.indexOf(J3yy.K6t))P10.currencySymbol=J3yy.E6t,P10.currencySymbolAlign=Y5u.C6B;D10.value=this.dataProvider.getValue(Y5u.r0B,Y5u.r0B,e10);e10.type==L70.data_.types.MeasureType.NUMBER?(D10.label=utils.NumberFormatter.format(D10.value,P10),D10.numeric=!Y5u.N5B):e10.type==L70.data_.types.MeasureType.TIME?isNaN(D10.value)||(D10.label=L70.data_.consts.AggregationName.validForDateTimeFormatting(e10.aggregation)?utils.StringUtils.toTime(D10.value):utils.NumberFormatter.format(D10.value,P10)):e10.type!=L70.data_.types.MeasureType.DATETIME||isNaN(D10.value)||(D10.label=L70.data_.consts.AggregationName.validForDateTimeFormatting(e10.aggregation)?utils.StringUtils.toDateTime(D10.value,L70.model._options.OptionsManager.dateTimePattern):utils.NumberFormatter.format(D10.value,P10));D10.isGrandTotalRow=!Y5u.N5B;Y5u.o9B!=P10.textAlign&&D10.customize({"text-align":P10.textAlign});if(Y5u.N5B<this.conditions.length)for(P10=Y5u.N5B;P10<this.conditions.length;P10++){var B10=this.conditions[P10],g10=B10.params.slice(Y5u.N5B);if(B10.measure==e10.uniqueName&&B10.isUpdate&&this._model.state_.updateActive){var O10=this.dataProvider.getUpdatedValue(j10,k10,e10);if(O10){var y10;-Y5u.I5B<B10.formula.toLowerCase().indexOf(L70.data_.consts.FunctionName.UPDATE_DIFFERENCE)?y10=O10.difference:-Y5u.I5B<B10.formula.toLowerCase().indexOf(L70.data_.consts.FunctionName.UPDATE_PERCENT)&&(y10=Y5u.F0B*O10.percent);B10=this.dataProvider.calculate(j10,k10,g10,y10);Y5u.r0B!=B10&&D10.customizeWithClass(B10);}}}}return D10;};T50.prototype.checkHierarchyCondition=function(b10,a10,X10,S10){var z10=this.dataProvider.columns.indexOf(X10);if(-Y5u.I5B<z10){if(z10<a10.length)return b10=this.dataProvider.columns.getItem(X10),a10[z10]&&b10.members.getItemAt(a10[z10]).uniqueName==S10;}else if(a10=this.dataProvider.rows.indexOf(X10),-Y5u.I5B<a10&&a10<b10.length)return X10=this.dataProvider.rows.getItem(X10),b10[a10]&&X10.members.getItemAt(b10[a10]).uniqueName==S10;return!Y5u.I5B;};T50.prototype.getColumnCell=function(m10,R10,s10,f10,K10){return this.isFlatTable?this._getFlatTableColumnCell(m10,R10,s10,f10):this._getColumnCell(m10,R10,s10,f10,K10);};T50.prototype._getColumnCell=function(Y10,p10,c10,v10,E10){if(Y5u.N5B==Y10.length){if(this.dataProvider.rowAxis.hasMeasures&&v10==this.dataProvider.columnMaxDepth-Y5u.I5B)return this.getGrandTotalCell(p10,L70.data_.consts.AxisName.COLUMNS_AXIS);Y10=this.dataProvider.extendedDataWidth-this.dataProvider.measures.length+Y5u.I5B;if(this.dataProvider.columnAxis.hasMeasures&&v10==this.dataProvider.columnMaxDepth-Y5u.I5B&&E10>=Y10&&Y5u.I5B==this.dataProvider.measures.length)return this.getGrandTotalCell(p10,L70.data_.consts.AxisName.COLUMNS_AXIS);Y10=Y5u.y6B==L70.model._options.OptionsManager.showGrandTotals||C3yy.i5J==L70.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth;return this.dataProvider.columnAxis.hasMeasures&&Y5u.N5B==v10&&E10>=Y10&&Y5u.I5B<this.dataProvider.columnMaxDepth?E10==Y10?(E10=this.getHeaderCell(),E10.label=L70.model._labels.Labels.GRID_TOTALS,E10):this.getEmptyHeaderCell():this.dataProvider.columnAxis.hasMeasures&&Y5u.N5B==v10&&Y5u.I5B<this.dataProvider.columnMaxDepth?this.getGrandTotalCell(p10,L70.data_.consts.AxisName.COLUMNS_AXIS):this.dataProvider.columnAxis.hasMeasures&&v10==this.dataProvider.columnMaxDepth-Y5u.I5B?E10>=Y10||Y5u.I5B==this.dataProvider.columnAxis.hierarchies.length?this.getGrandTotalCell(p10,L70.data_.consts.AxisName.COLUMNS_AXIS):this.getHeaderCell():this.dataProvider.columnAxis.hasMeasures&&Y5u.N5B<v10&&E10<=Y10?this.getHeaderCell():Y5u.N5B<=v10?this.getEmptyHeaderCell():Y5u.r0B;}var w10=this.dataProvider.columnAxis.hasMeasures&&(Y10.length>this.dataProvider.measuresPosition||Y5u.N5B==this.dataProvider.measuresPosition)?Y10.length:Y10.length-Y5u.I5B,d10=this.dataProvider.columns.getItemAt(w10);this.dataProvider.columnAxis.hasMeasures&&w10>this.dataProvider.measuresPosition&&(Y5u.I5B==this.dataProvider.measures.length?w10--:c10++);if(c10>v10)return Y5u.N5B<=v10?this.getEmptyHeaderCell():Y5u.r0B;E10=new I70.vo.GridCell();E10.isColumnHeader=!Y5u.N5B;E10.measure=this.dataProvider.columnAxis.hasMeasures&&(Y5u.I5B<this.dataProvider.measures.length||L70.model._options.OptionsManager.showExtraTotalLabels)?p10:Y5u.r0B;var n10=!Y5u.I5B,W10=d10.members.getItemAt(Y10[Y10.length-Y5u.I5B]),o10=this.dataProvider.measureDepth;if(this.dataProvider.columnAxis.hasMeasures&&Y5u.I5B<this.dataProvider.measures.length&&v10==o10-Y5u.I5B||this.dataProvider.columnAxis.hasMeasures&&L70.model._options.OptionsManager.showExtraTotalLabels&&v10==o10-Y5u.I5B&&Y5u.I5B!=o10||this.dataProvider.columnAxis.hasMeasures&&L70.model._options.OptionsManager.showExtraTotalLabels&&v10==o10&&Y5u.I5B==o10&&Y5u.i5B>this.dataProvider.measures.length)E10.label=p10.caption,E10.isMeasureHeader=!Y5u.N5B,W10=Y5u.r0B;else{if(this.dataProvider.columnAxis.hasMeasures&&Y5u.N5B<this.dataProvider.measures.indexOf(p10.uniqueName)&&v10<o10)return this.getEmptyHeaderCell();c10<v10?w10==v10?(n10=Y10.length-Y5u.I5B!=this.dataProvider.columnCount-Y5u.I5B&&!W10.isAll,E10.label=W10.caption):(E10.label=this.dataProvider.columnMaxDepth-Y5u.I5B==v10&&L70.model._options.OptionsManager.showExtraTotalLabels?Y5u.r0B!=p10?p10.caption:L70.model._labels.Labels.GRID_TOTAL:Y5u.o9B,W10=Y5u.r0B):(n10=Y10.length-Y5u.I5B!=this.dataProvider.columnCount-Y5u.I5B&&!W10.isAll,E10.label=W10.caption,this.dataProvider.columnAxis.hasMeasures&&v10<o10&&(E10.measure=p10=Y5u.r0B));}v10=Y5u.r0B==W10?!Y5u.I5B:this.dataProvider.isColumnDrilledDown(Y10,W10,p10);W10&&(Y5u.I5B!=W10.children.length||W10.children.getItemAt(Y5u.N5B).caption!=L70.model._labels.Labels.MEMBER_BLANK&&W10.children.getItemAt(Y5u.N5B).caption!=L70.model._labels.Labels.INVALID_DATE)&&!W10.isAll&&W10.hierarchy_.isHierarchy&&!W10.level.isLast&&(n10||L70.model._options.OptionsManager.showHierarchies?v10?E10.drilledDown=!Y5u.N5B:E10.drilledUp=!Y5u.N5B:v10?E10.expanded=!Y5u.N5B:E10.collapsed=!Y5u.N5B);n10&&!v10&&(this.dataProvider.isColumnExpanded(Y10,p10)?E10.expanded=!Y5u.N5B:E10.collapsed=!Y5u.N5B);Y5u.y6B!=L70.model._options.OptionsManager.sorting&&C3yy.T1J!=L70.model._options.OptionsManager.sorting||Y5u.o9B==E10.label||(E10.sortable=!Y5u.N5B,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=Y10.toString()||Y5u.r0B!=p10&&this.dataProvider.columnSortMeasure.uniqueName!=p10.uniqueName||(this.dataProvider.columnSortType==L70.data_.consts.SortType.DESC?E10.sortedDesc=!Y5u.N5B:this.dataProvider.columnSortType==L70.data_.consts.SortType.ASC&&(E10.sortedAsc=!Y5u.N5B)));E10.isTotalColumn=this.dataProvider.columnCount>Y10.length;E10.tuple=Y10;E10.url=void Y5u.N5B;E10.hierarchy=d10;E10.member=W10;return E10;};T50.prototype._getFlatTableColumnCell=function(l10,M10,A10,h10){h10=this.dataProvider.getColumnHierarchy(l10);if(Y5u.r0B==h10){if(Y5u.r0B==M10)return Y5u.r0B;A10=new I70.vo.GridCell();A10.isColumnHeader=!Y5u.N5B;A10.label=M10.caption;return A10;}A10=new I70.vo.GridCell();A10.isColumnHeader=!Y5u.N5B;A10.isFilterHeader=!Y5u.N5B;A10.hasHierarchyName=h10.filterEnabled;A10.filtered=h10.hasFilter();A10.label=h10.caption;A10.tuple=l10;A10.hierarchy=h10;A10.member=Y5u.r0B;A10.measure=M10;A10.draggable=!Y5u.N5B;if(Y5u.y6B==L70.model._options.OptionsManager.sorting||C3yy.T1J==L70.model._options.OptionsManager.sorting)A10.sortable=!Y5u.N5B,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=l10.toString()||this.dataProvider.columnSortMeasure!=M10&&Y5u.r0B!=M10||(l10=this.dataProvider.columnSortType,l10==L70.data_.consts.SortType.DESC?A10.sortedDesc=!Y5u.N5B:l10==L70.data_.consts.SortType.ASC&&(A10.sortedAsc=!Y5u.N5B));return A10;};T50.prototype.getHeaderCell=function(){var H10=new I70.vo.GridCell();H10.isColumnHeader=!Y5u.N5B;return H10;};T50.prototype.getEmptyHeaderCell=function(){var V10=this.getHeaderCell();V10.isEmpty=!Y5u.N5B;return V10;};T50.prototype.getGrandTotalCell=function(x10,t10){var U10=new I70.vo.GridCell();U10.label=Y5u.r0B==x10?L70.model._labels.Labels.GRID_GRAND_TOTAL:x10.grandTotalCaption;U10.isMeasureHeader=Y5u.r0B!=x10;if(t10==L70.data_.consts.AxisName.COLUMNS_AXIS){U10.isColumnHeader=!Y5u.N5B;U10.isTotalColumn=U10.isGrandTotalColumn=!Y5u.N5B;if(Y5u.y6B==L70.model._options.OptionsManager.sorting||C3yy.T1J==L70.model._options.OptionsManager.sorting)U10.sortable=!Y5u.N5B,!this.dataProvider.columnSortTuple||Y5u.o9B!=this.dataProvider.columnSortTuple.toString()||this.dataProvider.columnSortMeasure!=x10&&Y5u.r0B!=x10||(this.dataProvider.columnSortType==L70.data_.consts.SortType.DESC?U10.sortedDesc=!Y5u.N5B:this.dataProvider.columnSortType==L70.data_.consts.SortType.ASC&&(U10.sortedAsc=!Y5u.N5B));this.dataProvider.columnAxis.hasMeasures?U10.measure=x10:U10.label=L70.model._labels.Labels.GRID_GRAND_TOTAL;}else{U10.isRowHeader=!Y5u.N5B;U10.isTotalRow=U10.isGrandTotalRow=!Y5u.N5B;if(Y5u.y6B==L70.model._options.OptionsManager.sorting||C3yy.i5J==L70.model._options.OptionsManager.sorting)U10.sortable=!Y5u.N5B,!this.dataProvider.rowSortTuple||Y5u.o9B!=this.dataProvider.rowSortTuple.toString()||this.dataProvider.rowSortMeasure!=x10&&Y5u.r0B!=x10||(this.dataProvider.rowSortType==L70.data_.consts.SortType.DESC?U10.sortedDesc=!Y5u.N5B:this.dataProvider.rowSortType==L70.data_.consts.SortType.ASC&&(U10.sortedAsc=!Y5u.N5B));this.dataProvider.rowAxis.hasMeasures?U10.measure=x10:U10.label=L70.model._labels.Labels.GRID_GRAND_TOTAL;U10.level=Y5u.N5B;}U10.tuple=[];return U10;};T50.prototype.getRowCell=function(q10,L10,N10){if(Y5u.N5B==q10.length)return this.getGrandTotalCell(L10,L70.data_.consts.AxisName.ROWS_AXIS);var I10=this.dataProvider.rowAxis.hasMeasures&&q10.length>this.dataProvider.measuresPosition?q10.length:q10.length-Y5u.I5B,r10=q10[q10.length-Y5u.I5B],i10=this.dataProvider.rows.getItemAt(I10),G10=new I70.vo.GridCell();G10.isRowHeader=!Y5u.N5B;var T00=!Y5u.I5B,r10=i10.members.getItemAt(r10);G10.level=N10;Y5u.r0B!=L10&&this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures&&I10<=this.dataProvider.measuresPosition?(G10.label=L10.caption,r10=Y5u.r0B):r10&&(G10.label=r10.caption,T00=q10.length!=this.dataProvider.rowCount&&!r10.isAll);N10=Y5u.r0B==r10?!Y5u.I5B:this.dataProvider.isRowDrilledDown(q10,r10,L10);r10&&!r10.isAll&&r10.hierarchy_.isHierarchy&&!r10.isLeaf&&(Y5u.I5B!=r10.children.length||r10.children.getItemAt(Y5u.N5B).caption!=L70.model._labels.Labels.MEMBER_BLANK&&r10.children.getItemAt(Y5u.N5B).caption!=L70.model._labels.Labels.INVALID_DATE)&&(L70.model._options.OptionsManager.showHierarchies?N10?G10.drilledDown=!Y5u.N5B:G10.drilledUp=!Y5u.N5B:N10?G10.expanded=!Y5u.N5B:G10.collapsed=!Y5u.N5B);T00&&!N10&&(this.dataProvider.isRowExpanded(q10,L10)?G10.expanded=!Y5u.N5B:G10.collapsed=!Y5u.N5B);if(Y5u.y6B==L70.model._options.OptionsManager.sorting||C3yy.i5J==L70.model._options.OptionsManager.sorting)G10.sortable=!Y5u.N5B,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==q10.toString()&&this.dataProvider.rowSortMeasure==L10&&(this.dataProvider.rowSortType==L70.data_.consts.SortType.DESC?G10.sortedDesc=!Y5u.N5B:this.dataProvider.rowSortType==L70.data_.consts.SortType.ASC&&(G10.sortedAsc=!Y5u.N5B));G10.isTotalRow=this.dataProvider.rowCount>q10.length;G10.tuple=q10;G10.url=void Y5u.N5B;G10.hierarchy=i10;G10.member=r10;G10.measure=this.dataProvider.rowAxis.hasMeasures&&Y5u.I5B<this.dataProvider.measures.length?L10:Y5u.r0B;return G10;};T50.prototype._getRowCell=function(e00,D00,j00,u00,P00){if(Y5u.N5B==e00.length){if(Y5u.N5B==u00)return this.getGrandTotalCell(D00,L70.data_.consts.AxisName.ROWS_AXIS);var C00=new I70.vo.GridCell();C00.isRowHeader=!Y5u.N5B;C00.isTotalRow=C00.isGrandTotalRow=!Y5u.N5B;C00.isEmpty=!Y5u.N5B;C00.level=j00;return C00;}for(var O00=u00,a00,C00=this.dataProvider.rowLevels[u00],B00,k00,F00=Y5u.N5B;F00<this.dataProvider.rowsOnly.length;F00++){var Z00=this.dataProvider.rowsOnly.getItemAt(F00);B00=Z00.findLevel(C00);if(Y5u.r0B!=B00){a00=Z00;O00=F00;break;}}F00=Y5u.r0B==e00[O00]?Y5u.N5B:e00[O00];C00=new I70.vo.GridCell();C00.isRowHeader=!Y5u.N5B;C00.isTotalRow=this.dataProvider.rowCount>e00.length;C00.isClassicTotalRow=C00.isTotalRow&&Y5u.i5B==P00;B00=!Y5u.I5B;j00>u00&&(B00=!Y5u.N5B);j00>u00&&Y5u.i5B==P00&&(B00=!Y5u.N5B);j00+Y5u.I5B<u00&&Y5u.i5B==P00&&(B00=!Y5u.N5B);C00.level=Math.min(e00.length-Y5u.I5B,u00);var Q00=e00.slice(Y5u.N5B),Z00=!Y5u.I5B;if(u00==this.dataProvider.rowLevels.length)C00.label=D00.caption,Z00=!Y5u.N5B;else{var g00=!Y5u.I5B,Q00=Y5u.r0B==D00?Y5u.N5B:this.dataProvider.measures.indexOf(D00.uniqueName),J00=a00.members.getItemAt(F00);k00=this.dataProvider.rowLevels.indexOf(J00.level.uniqueName)-u00;var X00=Y5u.r0B!=J00&&Y5u.i5B!=P00;if(Y5u.N5B>k00)if(J00.isAll)Z00=!Y5u.N5B;else return C00;else if(Y5u.N5B<k00)for(F00=Y5u.N5B;F00<k00;F00++)J00=J00.parent;J00&&(F00=this.dataProvider.rowLevels.indexOf(J00.level.uniqueName),-Y5u.I5B<F00&&(C00.level=F00));C00.member=J00;if(Y5u.i5B==P00)J00&&j00==u00&&(C00.label=this.dataProvider.rowAxis.hasMeasures&&Y5u.I5B<this.dataProvider.measures.length?J00.caption+Y5u.L0B+D00.caption:J00.caption+Y5u.L0B+L70.model._labels.Labels.GRID_TOTAL,Z00=!Y5u.N5B);else{if(Y5u.N5B>k00)return utils.nullOrEmpty(C00.label)&&(C00.isEmpty=!Y5u.N5B),F00=this.getLevelIdxByTuple(e00),-Y5u.I5B<F00&&(C00.level=F00),C00;Y5u.N5B<Q00&&(J00=Y5u.r0B);J00&&Y5u.N5B!=J00.ordinal&&(C00.label=J00.caption);g00=Y5u.I5B==P00&&O00<this.dataProvider.rowsOnly.length-Y5u.I5B&&Y5u.N5B==Q00;}Q00=e00.slice(Y5u.N5B,O00+Y5u.I5B);if(X00&&J00){Q00[O00]=J00.ordinal;var y00=this.dataProvider.isRowDrilledDown(Q00,J00,D00);J00.isAll||!J00.hierarchy_.isHierarchy||J00.isLeaf||Y5u.i5B==P00||Y5u.I5B==J00.children.length&&(J00.children.getItemAt(Y5u.N5B).caption==L70.model._labels.Labels.MEMBER_BLANK||J00.children.getItemAt(Y5u.N5B).caption==L70.model._labels.Labels.INVALID_DATE)||(L70.model._options.OptionsManager.showHierarchies?y00?C00.drilledDown=!Y5u.N5B:C00.drilledUp=!Y5u.N5B:y00?C00.expanded=!Y5u.N5B:C00.collapsed=!Y5u.N5B);}g00&&!y00&&(this.dataProvider.isRowExpanded(Q00,D00)?C00.expanded=!Y5u.N5B:C00.collapsed=!Y5u.N5B);}if(B00)C00.label=Y5u.o9B,C00.sortedAsc=C00.sortedDesc=C00.collapsed=C00.expanded=C00.drilledDown=C00.drilledUp=!Y5u.I5B;else if(C00.tuple=Q00,C00.url=void Y5u.N5B,C00.hierarchy=a00,C00.measure=D00,Y5u.y6B==L70.model._options.OptionsManager.sorting||C3yy.i5J==L70.model._options.OptionsManager.sorting)C00.sortable=!Y5u.N5B,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==Q00.toString()&&this.dataProvider.rowSortMeasure==D00&&(this.dataProvider.rowSortType==L70.data_.consts.SortType.DESC?C00.sortedDesc=!Y5u.N5B:this.dataProvider.rowSortType==L70.data_.consts.SortType.ASC&&(C00.sortedAsc=!Y5u.N5B));Z00&&(F00=this.getLevelIdxByTuple(e00),-Y5u.I5B<F00&&(C00.level=F00));utils.nullOrEmpty(C00.label)&&(C00.isEmpty=!Y5u.N5B,C00.isExpandedArea=Y5u.i5B==P00&&J00&&u00-Y5u.I5B>j00?!Y5u.I5B:!Y5u.N5B);return C00;};T50.prototype.getLevelIdxByTuple=function(b00){return(b00=this.dataProvider.getRowHierarchy(b00).members.getItemAt(b00[b00.length-Y5u.I5B]))?this.dataProvider.rowLevels.indexOf(b00.level.uniqueName):-Y5u.I5B;};T50.prototype.onGridClick=function(z00){utils.nullOrUndefined(z00.cell)||!z00.cell.isColumnHeader&&!z00.cell.isRowHeader||(z00.cell.activeElementType==I70.vo.GridCellElementType.DRILL?this.drill(z00.cell):z00.cell.activeElementType==I70.vo.GridCellElementType.LINK&&z00.cell.isLink||(utils.nullOrUndefined(z00.cell.member)||z00.cell.activeElementType==I70.vo.GridCellElementType.RIGHT_ICON?z00.cell.activeElementType==I70.vo.GridCellElementType.RIGHT_ICON&&(z00.cell.isColumnHeader&&this.sortColumn(z00.cell),z00.cell.isRowHeader&&this.sortRow(z00.cell)):L70.model._options.OptionsManager.showHierarchies||z00.cell.member.isLeaf?this.expandCollapse(z00.cell):this.drill(z00.cell)));};T50.prototype.onFilterClick=function(S00){L70.model._options.OptionsManager.showFilter&&this.dispatch(new N70.FilterOpenEvent(S00.hierarchy));};T50.prototype.drill=function(m00){if(m00.drilledUp||m00.drilledDown||m00.expanded||m00.collapsed){var s00=m00.tuple,f00=L70.model._options.OptionsManager.classicView?Y5u.r0B:m00.measure,R00=m00.member;if(Y5u.r0B!=R00&&!R00.isAll&&!R00.isLeaf){var K00;m00.isRowHeader?(m00=L70.data_.consts.AxisName.ROWS_AXIS,K00=this.dataProvider.isRowDrilledDown(s00,R00,f00)):(m00=L70.data_.consts.AxisName.COLUMNS_AXIS,K00=this.dataProvider.isColumnDrilledDown(s00,R00,f00));K00?this.dataProvider.drillUp(s00,R00,m00,f00):this.dataProvider.drillDown(s00,R00,m00,f00);}}};T50.prototype.expandCollapse=function(E00){if(E00.expanded||E00.collapsed){var Y00=E00.tuple,v00=E00.isColumnHeader?L70.data_.consts.AxisName.COLUMNS_AXIS:L70.data_.consts.AxisName.ROWS_AXIS,W00=L70.model._options.OptionsManager.classicView&&v00==L70.data_.consts.AxisName.ROWS_AXIS?Y5u.r0B:E00.measure;E00.expanded?(this.gridLayout.clearData(),this.dataProvider.collapse(Y00,v00,W00)):E00.collapsed&&(this.gridLayout.clearData(),this.dataProvider.expand(Y00,v00,W00));E00.isColumnHeader?this.gridLayout.clearColSizes(E00.colIdx+Y5u.I5B):this.gridLayout.clearRowSizes(E00.rowIdx+Y5u.I5B);}};T50.prototype.onGridSingleDoubleClick=function(p00){p00.isSingleClick?this.singleClick(p00.cell):(this.isDrillThroughAvailable&&L70.model._options.OptionsManager.drillThrough&&!this.isFlatTable&&this.drillThrough(p00.cell),this.doubleClick(p00.cell));};T50.prototype.drillThrough=function(o00){o00.isValue&&!o00.measure.calculated&&this.dispatchWith(N70.ViewEvent.DRILL_THROUGH_OPEN,this,{measure:o00.measure.uniqueName,columnTuple:o00.columnTuple,rowTuple:o00.rowTuple});};T50.prototype.singleClick=function(w00){var n00=w00.toObject();this.setCoordsToCell(n00,w00.colIdx,w00.rowIdx);L70.model.JavaScriptHandlers.getInstance().dispatch(new L70.model.APIEvent(L70.model.JavaScriptHandlers.CELL_CLICK,n00));};T50.prototype.doubleClick=function(d00){var c00=d00.toObject();this.setCoordsToCell(c00,d00.colIdx,d00.rowIdx);L70.model.JavaScriptHandlers.getInstance().dispatch(new L70.model.APIEvent(L70.model.JavaScriptHandlers.CELL_DOUBLE_CLICK,c00));};T50.prototype.setCoordsToCell=function(A00,l00,h00){A00.x=this.gridLayout.coords.getRelativeColX(l00,this.gridLayout.isSmooth);A00.y=this.gridLayout.coords.getRelativeRowY(h00,this.gridLayout.isSmooth);A00.width=this.gridLayout.coords.getColWidth(l00);A00.height=this.gridLayout.coords.getRowHeight(h00);};T50.prototype.sortRow=function(U00,H00){void Y5u.N5B===H00&&(H00=Y5u.o9B);var V00=U00.tuple,M00=U00.measure;Y5u.r0B==M00&&(M00=this.dataProvider.measures.getItemAt(Y5u.N5B));this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==V00.toString()&&this.dataProvider.rowSortMeasure==M00?this.dataProvider.rowSortType=this.dataProvider.rowSortType==L70.data_.consts.SortType.DESC?L70.data_.consts.SortType.ASC:L70.data_.consts.SortType.DESC:(this.dataProvider.rowSortType=L70.data_.consts.SortType.DESC,this.dataProvider.rowSortTuple=V00,this.dataProvider.rowSortMeasure=M00);Y5u.o9B!=H00&&(this.dataProvider.rowSortType=H00);this.dataProvider.sort();this.gridLayout.clearColSizes(Y5u.N5B);this.draw();};T50.prototype.sortColumn=function(r00,t00){void Y5u.N5B===t00&&(t00=Y5u.o9B);var G00=r00.tuple,x00=r00.measure;Y5u.r0B==x00&&(x00=this.dataProvider.measures.getItemAt(Y5u.N5B));G00&&this.dataProvider.columnSortTuple&&this.dataProvider.columnSortTuple.toString()==G00.toString()&&this.dataProvider.columnSortMeasure==x00?this.dataProvider.columnSortType=this.dataProvider.columnSortType==L70.data_.consts.SortType.DESC?L70.data_.consts.SortType.ASC:L70.data_.consts.SortType.DESC:(this.dataProvider.columnSortType=x00.type==L70.data_.types.MeasureType.COUNT?L70.data_.consts.SortType.ASC:L70.data_.consts.SortType.DESC,this.dataProvider.columnSortTuple=G00,this.dataProvider.columnSortMeasure=x00);Y5u.o9B!=t00&&(this.dataProvider.columnSortType=t00);this.dataProvider.sort();this.gridLayout.clearRowSizes(Y5u.N5B);this.draw();};T50.prototype.clearColumnSorting=function(){this.dataProvider.columnSortType=L70.data_.consts.SortType.UNSORTED;this.dataProvider.columnSortTuple=Y5u.r0B;this.dataProvider.columnSortMeasure=Y5u.r0B;this._model.cube_.clearSortValues(this.dataProvider.rowAxis);this.dataProvider.sort();this.gridLayout.clearRowSizes(Y5u.N5B);this.draw();};T50.prototype.clearRowSorting=function(){this.dataProvider.rowSortType=L70.data_.consts.SortType.UNSORTED;this.dataProvider.rowSortTuple=Y5u.r0B;this.dataProvider.rowSortMeasure=Y5u.r0B;this._model.cube_.clearSortValues(this.dataProvider.columnAxis);this.dataProvider.sort();this.gridLayout.clearColSizes(Y5u.N5B);this.draw();};T50.prototype.onLongPress=function(N00,L00){var q00=this.gridLayout.getCellByElement(N00.target);Y5u.r0B==q00||utils.nullOrEmpty(q00.label)&&isNaN(q00.value)||(this.showContextMenu(q00,{left:L00.clientX,top:L00.clientY}),this.gridLayout.deselect());};T50.prototype.onContextMenu=function(i00){var I00=this.gridLayout.selectedCell||this.gridLayout.getCellByElement(i00.target);Y5u.r0B==I00||utils.nullOrEmpty(I00.label)&&isNaN(I00.value)||(i00.preventDefault(),this.showContextMenu(I00,{left:i00.clientX,top:i00.clientY}),this.gridLayout.deselect());};T50.prototype.showContextMenu=function(T90,F90){var J90=this;if(Y5u.r0B!=T90){var C90=[];!T90.isValue||isNaN(T90.value)||this.isFlatTable||T90.measure.calculated||!L70.model._options.OptionsManager.drillThrough||C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_DRILL_THROUGH,handler:function(){J90.drillThrough(T90);}});T90.isFilterHeader&&L70.model._options.OptionsManager.showFilter&&C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_OPEN_FILTER,handler:function(){J90.dispatch(new N70.FilterOpenEvent(T90.hierarchy));}});if(T90.isRowHeader||T90.isColumnHeader)T90.expanded&&C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_COLLAPSE,handler:function(){J90.expandCollapse(T90);}}),T90.collapsed&&C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_EXPAND,handler:function(){J90.expandCollapse(T90);}});T90.isRowHeader&&!T90.isFilterHeader&&(T90.sortedDesc||C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_SORT_ROW_DESC,handler:function(){J90.sortRow(T90,L70.data_.consts.SortType.DESC);}}),T90.sortedAsc||C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_SORT_ROW_ASC,handler:function(){J90.sortRow(T90,L70.data_.consts.SortType.ASC);}}),(T90.sortedAsc||T90.sortedDesc)&&C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){J90.clearRowSorting();}}));T90.isColumnHeader&&!T90.isFilterHeader&&(T90.sortedDesc||C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_DESC,handler:function(){J90.sortColumn(T90,L70.data_.consts.SortType.DESC);}}),T90.sortedAsc||C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_ASC,handler:function(){J90.sortColumn(T90,L70.data_.consts.SortType.ASC);}}),(T90.sortedAsc||T90.sortedDesc)&&C90.push({caption:L70.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){J90.clearColumnSorting();}}));Y5u.N5B<C90.length&&this._model.dispatchWith(N70.ViewEvent.CONTEXT_MENU_OPEN,this,{menuItems:C90,coords:F90});}};T50.prototype.addFilterCell=function(P90,B90,O90){for(var e90=O90==L70.data_.consts.AxisName.COLUMNS_AXIS?this.dataProvider.columnsOnly:this.dataProvider.rowsOnly,Q90,D90=Y5u.N5B,u90=Y5u.N5B;u90<e90.length;u90++){var Z90=e90.getItemAt(u90);Z90.isMeasures||(Q90=new I70.vo.GridCell(),Q90.label=Z90.caption,Q90.isFilterHeader=!Y5u.N5B,Q90.draggable=!Y5u.N5B,Q90.hasHierarchyName=!Y5u.N5B,Q90.filtered=Z90.hasFilter(),Q90.level=D90,Q90.hierarchy=Z90,O90==L70.data_.consts.AxisName.COLUMNS_AXIS?(Q90.isFrozen=!this.isFlatTable,this.gridLayout.dataProvider.setDataFrozen(P90,B90+u90,Q90)):(Q90.isRowHeader=!Y5u.N5B,this.gridLayout.dataProvider.setDataFrozen(P90+D90,B90,Q90),D90++));}};T50.prototype._addFilterCell=function(S90,m90){for(var b90=this.dataProvider.rowsOnly,j90,k90=Y5u.N5B,X90=this.dataProvider.rowAxis.hasMeasures&&Y5u.I5B<this.dataProvider.measures.length?this.FIRST_DATA_COLUMN-Y5u.I5B:this.FIRST_DATA_COLUMN,g90=Y5u.N5B;g90<b90.length;g90++){var y90=b90.getItemAt(g90),z90;j90=new I70.vo.GridCell();j90.label=y90.caption;j90.isFilterHeader=!Y5u.N5B;j90.draggable=!Y5u.N5B;j90.hasHierarchyName=!Y5u.N5B;j90.filtered=y90.hasFilter();j90.hierarchy=y90;this.gridLayout.dataProvider.setDataFrozen(S90,m90+k90,j90);k90++;if(Y5u.i5B<y90.levels_.length)for(var a90=Y5u.i5B;a90<y90.levels_.length&&!(z90=y90.levels_.getItemAt(a90),-Y5u.I5B!=this.dataProvider.rowLevels.indexOf(z90.uniqueName)&&(j90=new I70.vo.GridCell(),j90.label=z90.caption,j90.isRowHeader=!Y5u.N5B,j90.hasHierarchyName=!Y5u.N5B,this.gridLayout.dataProvider.setDataFrozen(S90,m90+k90,j90),k90++),k90>=X90);a90++);if(k90>=X90)break;}};Object.defineProperty(T50.prototype,F3yy.W5R,{get:function(){return L70.model._options.OptionsManager.flatView;},enumerable:!Y5u.N5B,configurable:!Y5u.N5B});Object.defineProperty(T50.prototype,p5R,{get:function(){return!L70.model._options.OptionsManager.flatView;},enumerable:!Y5u.N5B,configurable:!Y5u.N5B});Object.defineProperty(T50.prototype,o5R,{get:function(){return this._gridLayout;},enumerable:!Y5u.N5B,configurable:!Y5u.N5B});T50.prototype.exportTo=function(R90,s90,f90){R90==L70.model._export.ExportType.HTML&&L70.model._export.ExportHTML.run(this,s90,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);R90==L70.model._export.ExportType.PDF&&L70.model._export.ExportPDF.run(this,s90,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);R90==L70.model._export.ExportType.EXCEL&&L70.model._export.ExportXLS.run(this,s90,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);};T50.prototype.print=function(){L70.model.printing.PrintingManager.getInstance().run(this,this.dataProvider);};T50.prototype.getCell=function(v90,Y90){var K90=this.gridLayout.getCell(v90,Y90,!Y5u.N5B,!Y5u.N5B);if(Y5u.r0B==K90){K90=new I70.vo.GridCell();K90.rowIdx=v90;K90.colIdx=Y90;var E90=this.getData(v90,Y90,!Y5u.N5B);K90.value=E90?E90.value:NaN;isNaN(K90.value)||(K90.label=utils.NumberFormatter.format(K90.value));}-Y5u.I5B==K90.rowIdx&&(K90.rowIdx=v90);-Y5u.I5B==K90.colIdx&&(K90.colIdx=Y90);E90=K90.toObject();this.setCoordsToCell(E90,K90.colIdx,K90.rowIdx);return E90;};T50.prototype.getSelectedCell=function(){if(Y5u.r0B==this.gridLayout.selectedCell)return Y5u.r0B;var W90=this.gridLayout.selectedCell.toObject();this.setCoordsToCell(W90,this.gridLayout.selectedCell.colIdx,this.gridLayout.selectedCell.rowIdx);return W90;};T50.prototype.setSelectedCell=function(p90,o90){this.gridLayout.select(p90,o90,p90,o90);};T50.prototype.removeSelection=function(){this.gridLayout.deselect();};Object.defineProperty(T50.prototype,w5R,{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataHeight+this.FIRST_DATA_ROW:Y5u.N5B;},enumerable:!Y5u.N5B,configurable:!Y5u.N5B});Object.defineProperty(T50.prototype,n5R,{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataWidth+this.FIRST_DATA_COLUMN:Y5u.N5B;},enumerable:!Y5u.N5B,configurable:!Y5u.N5B});T50.prototype.onResizeColumn=function(w90){this._onResizeColumn(w90.data.colIdx,w90.data.width);};T50.prototype.onResizeRow=function(n90){this._onResizeRow(n90.data.rowIdx,n90.data.height);};T50.prototype._onResizeColumn=function(d90,A90){if(d90<this.FIRST_DATA_COLUMN)Y5u.N5B<A90?L70.model.sizes.SizesManager.columnHeaderSizes[d90]=A90:delete L70.model.sizes.SizesManager.columnHeaderSizes[d90];else{var c90=this.dataProvider.getColumnTuple(d90-this.FIRST_DATA_COLUMN,!Y5u.N5B);if(Y5u.r0B!=c90){var l90=this.dataProvider.getColumnMeasureIndex(d90-this.FIRST_DATA_COLUMN);this.dataProvider.columnAxis.hasMeasures&&c90.push(l90);Y5u.N5B<A90?L70.model.sizes.SizesManager.columnSizes[c90.join(C3yy.y2B)]=A90:delete L70.model.sizes.SizesManager.columnSizes[c90.join(C3yy.y2B)];}}};T50.prototype.resizeColumnsByIdx=function(){var H90=L70.model.sizes.SizesManager.columnSizesByIdx;L70.model.sizes.SizesManager.columnSizesByIdx={};var h90=[],V90;for(V90 in H90)if(H90[V90]){var U90=parseInt(V90);h90[U90]=H90[V90];}for(var M90 in h90)this.gridLayout.resizeColumn(parseInt(M90),h90[M90]),this._onResizeColumn(parseInt(M90),h90[M90]);};T50.prototype.resizeHeaderColumns=function(){var x90=L70.model.sizes.SizesManager.columnHeaderSizes,t90=[],G90;for(G90 in x90)x90[G90]&&(t90[G90]=x90[G90]);for(var r90 in t90)x90=parseInt(r90),x90<this.FIRST_DATA_COLUMN&&this.gridLayout.resizeColumn(x90,t90[x90]);};T50.prototype.resizeColumns=function(){var N90=L70.model.sizes.SizesManager.columnSizes,I90=[],L90;for(L90 in N90)if(N90[L90]){var q90=Y5u.o9B==L90?[]:L90.split(C3yy.y2B),q90=this.dataProvider.getColumnTupleIndex(q90);-Y5u.I5B!=q90&&(q90+=this.FIRST_DATA_COLUMN,I90[q90]=N90[L90]);}for(var i90 in I90)this.gridLayout.resizeColumn(parseInt(i90),I90[i90]);};T50.prototype.resizeRowsByIdx=function(){var J60=L70.model.sizes.SizesManager.rowSizesByIdx;L70.model.sizes.SizesManager.rowSizesByIdx={};var T60=[],F60;for(F60 in J60)if(J60[F60]){var Q60=parseInt(F60);T60[Q60]=J60[F60];}for(var C60 in T60)this.gridLayout.resizeRow(parseInt(C60),T60[C60]),this._onResizeRow(parseInt(C60),T60[C60]);};T50.prototype.resizeHeaderRows=function(){L70.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;var u60=L70.model.sizes.SizesManager.rowHeaderSizes,Z60=[],D60;for(D60 in u60)if(u60[D60]){var P60=parseInt(D60)+this.START_TABLE_ROW;Z60[P60]=u60[D60];}for(var e60 in Z60)parseInt(e60)<this.FIRST_DATA_ROW&&this.gridLayout.resizeRow(parseInt(e60),Z60[e60]);};T50.prototype.resizeRows=function(){var j60=L70.model.sizes.SizesManager.rowSizes,k60=[],O60;for(O60 in j60)if(j60[O60]){var B60=Y5u.o9B==O60?[]:O60.split(C3yy.y2B),B60=this.dataProvider.getRowTupleIndex(B60);-Y5u.I5B!=B60&&(B60+=this.FIRST_DATA_ROW,k60[B60]=j60[O60]);}for(var y60 in k60)this.gridLayout.resizeRow(parseInt(y60),k60[y60]);};T50.prototype._onResizeRow=function(g60,a60){L70.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;if(g60<this.START_TABLE_ROW)Y5u.N5B<a60?L70.model.sizes.SizesManager.rowFilterSizes[g60]=a60:delete L70.model.sizes.SizesManager.rowFilterSizes[g60];else if(g60<this.FIRST_DATA_ROW)Y5u.N5B<a60?L70.model.sizes.SizesManager.rowHeaderSizes[g60-this.START_TABLE_ROW]=a60:delete L70.model.sizes.SizesManager.rowHeaderSizes[g60-this.START_TABLE_ROW];else{var X60=this.dataProvider.getRowTuple(g60-this.FIRST_DATA_ROW,!Y5u.N5B);if(Y5u.r0B!=X60){var b60=this.dataProvider.getRowMeasureIndex(g60-this.FIRST_DATA_ROW);this.dataProvider.rowAxis.hasMeasures&&X60.push(b60);Y5u.N5B<a60?L70.model.sizes.SizesManager.rowSizes[X60.join(C3yy.y2B)]=a60:delete L70.model.sizes.SizesManager.rowSizes[X60.join(C3yy.y2B)];}}};return T50;}(uicontrols.containers.UIContainer);I70.GridView=i70;}(N70.grid||(N70.grid={})));}(L70._view||(L70._view={})));}(pivot||(pivot={})));(function(z60){(function(S60){(function(s60){var R60=function(){var x5R="shrink";var d5R="mclick";var h5R="mdown";var r5R="filter_click";var L5R="resize_r";var A5R="singledoubleclick";var G5R="long";var H5R="mleave";var t5R="dthclosed";var U5R="hresizing";var q5R="resize_c";var l5R="mup";var M5R="mmove";var V5R="hresized";f60.MOUSE_CLICK=d5R;f60.MOUSE_DOUBLE_CLICK=F3yy.c5R;f60.MOUSE_SINGLE_DOUBLE_CLICK=A5R;f60.MOUSE_UP=l5R;f60.MOUSE_DOWN=h5R;f60.MOUSE_MOVE=M5R;f60.MOUSE_LEAVE=H5R;f60.HEADER_RESIZED=V5R;function f60(){}f60.HEADER_RESIZING=U5R;f60.SHRINK_TO_FIT=x5R;f60.DRILLTHROUGH_CLOSED=t5R;f60.LONG_PRESS=G5R;f60.FILTER_CLICK=r5R;f60.RESIZE_COLUMN=q5R;f60.RESIZE_ROW=L5R;return f60;}();s60.GridEvent=R60;var m60=function(K60){__extends(E60,K60);function E60(W60,Y60){void T3yy.N5B===Y60&&(Y60=T3yy.r0B);var v60=K60.call(this,R60.MOUSE_CLICK)||this;v60.cell=W60;v60.element=Y60;return v60;}return E60;}(events._Event);s60.GridClickEvent=m60;m60=function(p60){__extends(o60,p60);function o60(n60){var w60=p60.call(this,R60.MOUSE_DOUBLE_CLICK)||this;w60.cell=n60;return w60;}return o60;}(events._Event);s60.GridDoubleClickEvent=m60;m60=function(d60){__extends(c60,d60);function c60(h60,M60,l60){void T3yy.N5B===l60&&(l60=T3yy.r0B);var A60=d60.call(this,R60.MOUSE_SINGLE_DOUBLE_CLICK)||this;A60.cell=h60;A60.isSingleClick=M60;A60.element=l60;return A60;}return c60;}(events._Event);s60.GridSingleDoubleClickEvent=m60;m60=function(H60){__extends(V60,H60);function V60(x60){var U60=H60.call(this,R60.MOUSE_DOWN)||this;U60.cell=x60;return U60;}return V60;}(events._Event);s60.GridMouseDownEvent=m60;m60=function(t60){__extends(G60,t60);function G60(q60){var r60=t60.call(this,R60.MOUSE_MOVE)||this;r60.cell=q60;return r60;}return G60;}(events._Event);s60.GridMouseMoveEvent=m60;m60=function(L60){__extends(N60,L60);function N60(i60){var I60=L60.call(this,R60.MOUSE_UP)||this;I60.cell=i60;return I60;}return N60;}(events._Event);s60.GridMouseUpEvent=m60;m60=function(T40){__extends(C40,T40);function C40(F40,Q40){var J40=T40.call(this,R60.LONG_PRESS)||this;J40.cell=F40;J40.coords=Q40;return J40;}return C40;}(events._Event);s60.GridLongPressEvent=m60;m60=function(u40){__extends(Z40,u40);function Z40(P40,B40,e40){void T3yy.N5B===e40&&(e40=T3yy.r0B);var D40=u40.call(this,R60.FILTER_CLICK)||this;D40.hierarchy=P40;D40.cell=B40;D40.element=e40;return D40;}return Z40;}(events._Event);s60.FilterClickEvent=m60;}(S60.grid||(S60.grid={})));}(z60._view||(z60._view={})));}(pivot||(pivot={})));(function(O40){(function(j40){(function(y40){var k40=function(){g40.validate=function(a40){return a40==g40.COMPACT||a40==g40.CLASSIC||a40==g40.FLAT?a40:g40.COMPACT;};function g40(){}g40.COMPACT=F3yy.N5R;g40.CLASSIC=F3yy.I5R;g40.FLAT=J3yy.S2t;return g40;}();y40.GridType=k40;}(j40.grid||(j40.grid={})));}(O40._view||(O40._view={})));}(pivot||(pivot={})));(function(X40){(function(b40){var z40=function(m40){var O1R="wdr-circle";__extends(S40,m40);S40.getInstance=function(){T3yy.r0B==S40._instance&&(S40._instance=new S40());return S40._instance;};S40.dispose=function(){S40._instance=T3yy.r0B;};S40.prototype.setControls=function(){var T1R="wdr-content";var J1R="wdr-ui-btns-row";var i5R="wdr-overlay-alert";var F1R="wdr-alert-icon";this.overlay.addClass(i5R);this._buttons=[];var s40=new uicontrols.UIComponentBase(T3yy.w9B,T1R);this.addChild(s40);this._txtTitle=new uicontrols.UILabel();this._txtTitle.addClass(F3yy.C1R);s40.addChild(this._txtTitle);this._txtMessage=new uicontrols.UILabel();s40.addChild(this._txtMessage);this._toolbar=new uicontrols.UIComponentBase(T3yy.w9B,J1R);s40.addChild(this._toolbar);this._icon=new uicontrols.UIComponentBase(T3yy.w9B,F1R);this.addChild(this._icon);};S40.prototype.openView=function(f40,K40,E40,v40,Y40,W40){var z5u=T3yy;void z5u.N5B===f40&&(f40=z5u.o9B);void z5u.N5B===K40&&(K40=z5u.o9B);void z5u.N5B===E40&&(E40=X40.AlertType.ALERT);void z5u.N5B===v40&&(v40=z5u.r0B);void z5u.N5B===Y40&&(Y40=z5u.r0B);void z5u.N5B===W40&&(W40=!z5u.I5B);this.clear();this.setTitle(K40);this.setMessage(f40);this.setIcon(E40);this.setButtons(v40,Y40);b40.PivotView.stage.addChild(this);this.isOpaque=W40;this.open();this.centerPosition();};S40.prototype.clear=function(){var b5u=T3yy;var u1R="wdr-confirmation";var Q1R="wdr-alert";var e1R="wdr-question";var D1R="wdr-info";var Z1R="wdr-error";this.setTitle(b5u.o9B);for(this.setMessage(b5u.o9B);b5u.N5B<this._buttons.length;)this._buttons.pop().removeFromParent();this.container.toggleClass(Q1R,!b5u.I5B);this.container.toggleClass(u1R,!b5u.I5B);this.container.toggleClass(Z1R,!b5u.I5B);this.container.toggleClass(D1R,!b5u.I5B);this.container.toggleClass(e1R,!b5u.I5B);};S40.prototype.setTitle=function(p40){this._txtTitle.setSelectable(!T3yy.I5B);this._txtTitle.setLabel(p40);};S40.prototype.setMessage=function(o40){this._txtMessage.setLabel(o40,!T3yy.N5B);};S40.prototype.setButtons=function(w40,c40){var A40=this;T3yy.r0B==w40&&(w40=[X40.model._labels.Labels.BUTTON_OK]);w40.reverse();T3yy.r0B!=c40&&c40.reverse();this._handlers=c40;for(var n40,d40=T3yy.N5B;d40<w40.length;d40++)n40=new uicontrols.UIButton(),n40.setLabel(w40[d40]),n40.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(l40){return A40.buttonClickHandler(l40);}),this._buttons.push(n40),this.isPrimary(w40[d40])&&n40.addClass(F3yy.P1R),this.isPrimary(w40[d40])&&(utils.OSUtil.isMac||utils.OSUtil.isIOS)?this._toolbar.addChild(n40):this.isPrimary(w40[d40])?this._toolbar.container.prepend(n40.container):this._toolbar.addChild(n40);};S40.prototype.isPrimary=function(h40){switch(h40){case X40.model._labels.Labels.BUTTON_OK:case X40.model._labels.Labels.BUTTON_SAVE:case X40.model._labels.Labels.BUTTON_YES:return!T3yy.N5B;}return!T3yy.I5B;};function S40(){var B1R="wdr-alert-view";var R40=this;if(T3yy.r0B!=S40._instance)throw Error(C3yy.m2B);R40=m40.call(this,b40.PivotView.stage.container)||this;R40.setId(B1R);R40.setControls();return R40;}S40.prototype.buttonClickHandler=function(V40){var B5u=T3yy;V40=V40.target;for(var M40=-B5u.I5B,H40=B5u.N5B;H40<this._buttons.length;H40++)if(this._buttons[H40]==V40){M40=H40;break;}if(!(B5u.N5B>M40)&&(this.close(),B5u.r0B!=this._handlers&&B5u.r0B!=this._handlers[M40]))this._handlers[M40]();};S40.prototype.setIcon=function(U40){this._icon.container.removeAllChildren();U40==X40.AlertType.ALERT?this._icon.container.addChild(this.createIconAlert()):U40==X40.AlertType.CONFIRMATION?this._icon.container.addChild(this.createIconConfirmation()):U40==X40.AlertType.ERROR?this._icon.container.addChild(this.createIconError()):U40==X40.AlertType.INFO&&this._icon.container.addChild(this.createIconInfo());};S40.prototype.createIconConfirmation=function(){var j1R="wdr-ui-icon wdr-icon-notif_confirm";var x40=new uicontrols.UIElement(T3yy.f6B,O1R);x40.addChild(new uicontrols.UIElement(T3yy.f6B,j1R));return x40;};S40.prototype.createIconInfo=function(){var k1R="wdr-ui-icon wdr-icon-notif_info";var t40=new uicontrols.UIElement(T3yy.f6B,O1R);t40.addChild(new uicontrols.UIElement(T3yy.f6B,k1R));return t40;};S40.prototype.createIconAlert=function(){var y1R="wdr-triangle-wrap";var g1R="wdr-triangle";var a1R="wdr-ui-icon wdr-icon-notif_warning";var G40=new uicontrols.UIElement(T3yy.f6B,y1R);G40.addChild(new uicontrols.UIElement(T3yy.f6B,g1R));G40.addChild(new uicontrols.UIElement(T3yy.f6B,a1R));return G40;};S40.prototype.createIconError=function(){var X1R="wdr-hexagon";var b1R="wdr-ui-icon wdr-icon-notif_arrow";var r40=new uicontrols.UIElement(T3yy.f6B,X1R);r40.addChild(new uicontrols.UIElement(T3yy.f6B,b1R));return r40;};S40.prototype.close=function(){m40.prototype.close.call(this);this.clear();};S40.prototype.onOverlayClick=function(){this.isOpaque||m40.prototype.onOverlayClick.call(this);};return S40;}(uicontrols.containers.UIPopup);b40.AlertView=z40;}(X40._view||(X40._view={})));}(pivot||(pivot={})));(function(q40){(function(L40){(function(N40){var I40=function(T20){__extends(i40,T20);i40.prototype.setControls=function(){var X6u=F3yy;var s1R="wdr-grid-container";var z1R="wdr-header-container";var m1R="wdr-details-container";var S1R="wdr-ui-btn-close";var J20=this;this.headerGroup=new uicontrols.containers.UIContainer(z1R);this.addChild(this.headerGroup);this._txtTitle=new uicontrols.UILabel();this._txtTitle.addClass(X6u.C1R);this._txtTitle.setSelectable(!T3yy.I5B);this.headerGroup.addChild(this._txtTitle);this._btnClose=new uicontrols.UIButton();this._btnClose.addClass(S1R);this._btnClose.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return J20.close();});this.headerGroup.addChild(this._btnClose);this.detailsGroup=new uicontrols.containers.UIContainer(m1R);this.addChild(this.detailsGroup);this._txtRowDetails=new uicontrols.UILabel();this._txtRowDetails.addClass(X6u.R1R);this.detailsGroup.addChild(this._txtRowDetails);this._txtColDetails=new uicontrols.UILabel();this._txtColDetails.addClass(X6u.R1R);this.detailsGroup.addChild(this._txtColDetails);this._txtMeasureDetails=new uicontrols.UILabel();this._txtMeasureDetails.addClass(X6u.R1R);this.detailsGroup.addChild(this._txtMeasureDetails);this.sheetGroup=new uicontrols.containers.UIContainer(s1R);this.addChild(this.sheetGroup);this.gridLayout=new N40.sheet.flat.FlatGridLayout();this.gridLayout.isDrillThrough=!T3yy.N5B;this.gridLayout.getDataFunction=function(F20,Q20){return J20.getData(F20,Q20);};this.sheetGroup.container.addChild(this.gridLayout);};i40.prototype.openView=function(D20,u20,e20,P20,B20){var a6u=T3yy;var Z20=this;void a6u.N5B===D20&&(D20=a6u.r0B);void a6u.N5B===u20&&(u20=a6u.r0B);void a6u.N5B===e20&&(e20=a6u.r0B);void a6u.N5B===P20&&(P20=a6u.r0B);void a6u.N5B===B20&&(B20=a6u.r0B);this.dataProvider=D20;this.setSlice(u20.clone());this.originalSlice=u20;this.rowTuple=P20;this.columnTuple=e20;this.measure=B20;this.tmpShowHeaders=q40.model._options.OptionsManager.showHeaders;q40.model._options.OptionsManager.showHeaders=!a6u.N5B;this.data=this.dataProvider.drillThrough(this.rowTuple,this.columnTuple,this.measure);this.keys=this.data.shift();q40.model._options.OptionsManager.showDrillThroughConfigurator&&a6u.r0B==this._fieldsView&&(this._fieldsView=new L40.config.FieldsView(),this._fieldsView.modalParent=L40.PivotView.stage.container,this._fieldsView.isForDillThrough=!a6u.N5B,this._fieldsView.containtment=this.gridLayout.element,this._fieldsView.addEventListener(L40.config.FieldsView.EVENT_OPEN,function(){return Z20.onFieldsViewOpen();}),this._fieldsView.addEventListener(L40.config.FieldsView.EVENT_APPLY_SLICE,function(O20){return Z20.onFieldsViewApplySlice(O20);}),this.sheetGroup.addChild(this._fieldsView));this.gridLayout.addEventListener(L40.config.FieldsView.EVENT_APPLY_SLICE,function(j20){return Z20.onFieldsViewApplySlice(j20);});this.open();this.redraw();};i40.prototype.onDataLoaded=function(k20){this.data=k20;q40.preloader(!T3yy.I5B);T3yy.r0B!=this.data&&(this.open(),this.redraw());};i40.prototype.setSlice=function(y20){this.slice=y20;};i40.prototype.redraw=function(){var y6u=T3yy;var i1B=80;this._txtTitle.setLabel(q40.model._labels.Labels.DRILL_THROUGH_TITLE);this._txtRowDetails.setLabel(this.getRowDetails(),!y6u.N5B);this._txtColDetails.setLabel(this.getColDetails(),!y6u.N5B);this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!y6u.N5B);this.setWidth(L40.PivotView.stageWidth-i1B);var g20=L40.PivotView.stage.container.getHeight(!y6u.N5B)-this.detailsGroup.container.getHeight(!y6u.N5B)-this.headerGroup.container.getHeight(!y6u.N5B)-y6u.f1B-this.container.padding.top-this.container.padding.bottom-y6u.w1B,a20=this.getWidth()-y6u.i5B;this.gridLayout.clearAll();this.gridLayout.resize(a20,g20);this.gridLayout.width=a20;this.gridLayout.height=g20;this.gridLayout.freezeRows(y6u.I5B);this.gridLayout.setDataSize(this.data.length,this.slice.flatten().length);this.gridLayout.draw();this.centerPosition();};i40.prototype.close=function(){T20.prototype.close.call(this);!T3yy.I5B==utils.nullOrUndefined(this.tmpShowHeaders)&&(q40.model._options.OptionsManager.showHeaders=this.tmpShowHeaders);this.dispatchWith(N40.GridEvent.DRILLTHROUGH_CLOSED);};i40.prototype.getData=function(m20,R20){var j6u=T3yy;if(j6u.N5B==m20)return this.getHeaderCell(R20);var b20=new N40.vo.GridCell();b20.isDrillThrough=!j6u.N5B;b20.isValue=!j6u.N5B;var z20;if(j6u.r0B==this.data||j6u.r0B==this.data[m20-j6u.I5B])return j6u.r0B;z20=this.slice.flatten();if(!(R20<this.data[m20-j6u.I5B].length))return j6u.r0B;var X20=z20.getItemAt(R20);if(j6u.r0B==X20)return j6u.r0B;z20=this.keys.indexOf(X20.uniqueName);j6u.i5B<X20.levels_.length&&(z20=this.keys.indexOf(X20.levels_.getKeyAt(X20.levels_.length-j6u.I5B)));var s20=this.getNotNullMemberIdx(m20,z20);b20.hierarchy=X20;b20.label=this.getMemberFullCaption(X20.members.getItemAt(s20));var S20=this.slice.hierarchyToMeasure(X20.uniqueName);if(j6u.r0B==S20)return j6u.r0B;z20=S20.getFormat(!j6u.N5B).clone();this.originalSlice.measures_.keyExists(S20.uniqueName)&&(X20=X20.members.getItemAt(s20),j6u.r0B!=X20&&(b20.value=X20.levelOrdinal,b20.label=S20.type==q40.data_.types.MeasureType.NUMBER?utils.NumberFormatter.format(b20.value,z20):X20.caption));j6u.o9B!=z20.textAlign&&b20.customize({"text-align":z20.textAlign});b20.measure=S20;return b20;};function i40(){var O6u=T3yy;var f1R="wdr-drillthrough-view";var C20=T20.call(this,L40.PivotView.stage.container)||this;C20.slice=O6u.r0B;C20.originalSlice=O6u.r0B;C20.columnTuple=O6u.r0B;C20.rowTuple=O6u.r0B;C20.measure=O6u.r0B;C20.START_TABLE_ROW=O6u.N5B;C20.START_HEADERS_ROW=O6u.N5B;C20.START_HEADERS_COLUMN=O6u.N5B;C20.FIRST_DATA_ROW=O6u.N5B;C20.FIRST_DATA_COLUMN=O6u.N5B;C20.setId(f1R);C20.setControls();return C20;}i40.prototype.getNotNullMemberIdx=function(K20,f20){for(;T3yy.r0B==this.data[K20-T3yy.I5B][f20];)f20--;return this.data[K20-T3yy.I5B][f20];};i40.prototype.getMemberFullCaption=function(E20){for(var v20=[];E20&&E20.parent;)v20.unshift(E20.caption),E20=E20.parent;return v20.join(F3yy.K1R);};i40.prototype.getHeaderCell=function(W20){var e6u=T3yy;var Y20=new N40.vo.GridCell();Y20.isDrillThrough=!e6u.N5B;Y20.isColumnHeader=!e6u.N5B;W20=this.slice.flatten().getItemAt(W20);if(e6u.r0B==W20)return e6u.r0B;Y20.label=W20.caption;return Y20;};i40.prototype.getRowDetails=function(){var Z6u=T3yy;for(var o20,p20=[],w20=Z6u.N5B;w20<this.rowTuple.length;w20++){o20=this.originalSlice.rowsOnly.getItemAt(w20);if(Z6u.r0B==o20)return Z6u.r0B;o20=o20.members.getItemAt(this.rowTuple[w20]);p20.push(o20.caption);}p20=Z6u.N5B<p20.length?utils.StringUtils.bind(q40.model._labels.Labels.DRILL_THROUGH_ROW,p20.join(F3yy.E1R)):Z6u.o9B;return p20=p20.replace(/<br\s*[\/]?>/gi,Z6u.L0B);};i40.prototype.getColDetails=function(){var Q6u=T3yy;for(var d20,n20=[],c20=Q6u.N5B;c20<this.columnTuple.length;c20++){d20=this.originalSlice.columnsOnly.getItemAt(c20);if(Q6u.r0B==d20)return Q6u.r0B;d20=d20.members.getItemAt(this.columnTuple[c20]);n20.push(d20.caption);}n20=Q6u.N5B<n20.length?utils.StringUtils.bind(q40.model._labels.Labels.DRILL_THROUGH_COLUMN,n20.join(F3yy.E1R)):Q6u.o9B;return n20=n20.replace(/<br\s*[\/]?>/gi,Q6u.L0B);};i40.prototype.getMeasureDetails=function(){var A20=this.measure.getFormat().clone(),l20=this.dataProvider.getValue(this.rowTuple,this.columnTuple,this.measure),A20=utils.NumberFormatter.format(l20,A20),A20=utils.StringUtils.bind(q40.model._labels.Labels.DRILL_THROUGH_VALUE,this.measure.caption,A20),A20=A20.replace(/<br\s*[\/]?>/gi,T3yy.L0B);this.value=l20;return A20;};i40.prototype.onFieldsViewOpen=function(){this._fieldsView&&this._fieldsView.open(q40.data_.Cube.getInstance().structure_,this.slice);};i40.prototype.onFieldsViewApplySlice=function(h20){h20=h20.data instanceof q40.data_._structure.Slice?h20.data:q40.data_._structure.Slice.fromObject(q40.model.report.SliceValueObject.fromObject(h20.data),q40.data_.Cube.getInstance().structure_);this.setSlice(h20);this.redraw();};i40.prototype.exportTo=function(V20,U20,M20){var Y29=T3yy;M20=this.slice?this.slice.flatten().length:this.data[Y29.N5B]?this.data[Y29.N5B].length:Y29.N5B;var H20=this.data?this.data.length+Y29.I5B:Y29.N5B;V20==q40.model._export.ExportType.HTML&&q40.model._export.ExportHTML.run(this,U20,M20,H20);V20==q40.model._export.ExportType.PDF&&q40.model._export.ExportPDF.run(this,U20,M20,H20);V20==q40.model._export.ExportType.EXCEL&&q40.model._export.ExportXLS.run(this,U20,M20,H20);};i40.prototype.saveData=function(G20,x20,t20){var r20=this;this.timer&&this.timer.running&&this.timer.stop();T3yy.r0B==this.timer&&(this.timer=new utils.Timer(C3yy.t4B,T3yy.I5B));this.timer.addEventListener(utils.TimerEvent.TIMER_COMPLETE,function(){return r20.onTimeComplete();});this.timer.start();(x20=this.getData(G20,x20))&&x20.label!=t20&&x20.value!=t20&&this.dataProvider.save(this.rowTuple,this.columnTuple,x20.hierarchy,t20,G20-T3yy.I5B);this.draw();};i40.prototype.onTimeComplete=function(){this._txtRowDetails.setLabel(this.getRowDetails(),!T3yy.N5B);this._txtColDetails.setLabel(this.getColDetails(),!T3yy.N5B);this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!T3yy.N5B);this.timer.stop();};return i40;}(uicontrols.containers.UIPopup);N40.DrillThroughView=I40;}(L40.grid||(L40.grid={})));}(q40._view||(q40._view={})));}(pivot||(pivot={})));(function(q20){(function(L20){(function(N20){(function(I20){var i20=function(){var i9u=T3yy;var v1R="isTotal";var Y1R="isGrandTotal";Object.defineProperty(T80.prototype,v1R,{get:function(){return this.isTotalRow||this.isTotalColumn;},enumerable:!i9u.N5B,configurable:!i9u.N5B});function T80(){this.value=NaN;this.label=i9u.o9B;this.level=NaN;this.sortedDesc=this.sortedAsc=this.sortable=this.drilledDown=this.drilledUp=this.draggable=this.collapsed=this.expanded=this.filtered=this.hasHierarchyName=this.showTooltip=this.isLink=this.isValue=this.isClassicTotalRow=this.isGrandTotalColumn=this.isGrandTotalRow=this.isTotalColumn=this.isTotalRow=this.isMeasureHeader=this.isColumnHeader=this.isRowHeader=this.isFrozen=this.isFilterHeader=this.isCustomized=this.numeric=!i9u.I5B;this.colIdx=this.rowIdx=-i9u.I5B;this.recordId=i9u.r0B;this.isDrillThrough=this.isExpandedArea=this.isEmpty=!i9u.I5B;this.conditions=[];this.url=i9u.o9B;this.isKPIStatus=this.isKPITrend=!i9u.I5B;this.activeElementType=I20.GridCellElementType.BACKGROUND;}Object.defineProperty(T80.prototype,Y1R,{get:function(){return this.isGrandTotalRow||this.isGrandTotalColumn;},enumerable:!i9u.N5B,configurable:!i9u.N5B});T80.prototype.getDrillLabel=function(){return this.drilledDown||this.drilledUp?this.hierarchy.levels_.getItemAt(this.member.level.num+i9u.I5B).caption:i9u.o9B;};T80.prototype.getLabel=function(){if(i9u.r0B!=T80.customizeCellFunction){var C80=new HtmlNodeWrapper();C80.clear();C80.tag=i9u.w9B;C80.text+=this.label;T80.customizeCellFunction(C80.node,this.toObject());var J80=C80.text,J80=q20.model.XSSCheck.valid(J80)?J80:q20.model.XSSCheck.validate(J80);C80.clear();C80=document.createElement(i9u.w9B);C80.innerHTML=J80;return C80.textContent?C80.textContent.trim():J80;}return this.label;};T80.prototype.customize=function(F80){this.isCustomized=!i9u.N5B;i9u.r0B==this.style&&(this.style=new I20.CellStyle());this.style.addCSS(F80);};T80.prototype.customizeWithClass=function(Q80){this.isCustomized=!i9u.N5B;i9u.r0B==this.style&&(this.style=new I20.CellStyle());this.style.addStyle(Q80);this.style.addCustomStyle(Q80);};T80.prototype.toObject=function(){var W1R="header";if(this.obj)return this.obj;var u80,e80=q20.model.PivotModel.getInstance(),Z80,B80=[];if(!q20.model._options.OptionsManager.flatView&&(Z80=this.isColumnHeader&&this.tuple?this.tuple:this.columnTuple))for(var P80=e80.cube_.slice_?e80.cube_.slice_.columnsOnly:new utils.AssociativeArray(),D80=i9u.N5B;D80<Z80.length;D80++)u80=P80.getItemAt(D80),u80=u80.members.getItemAt(Z80[D80]),B80.push({caption:u80.caption,uniqueName:u80.uniqueName,hierarchyCaption:u80.hierarchy_.caption,hierarchyUniqueName:u80.hierarchy_.uniqueName});P80=[];if(!q20.model._options.OptionsManager.flatView&&(Z80=this.isRowHeader&&this.tuple?this.tuple:this.rowTuple))for(e80=e80.cube_.slice_?e80.cube_.slice_.rowsOnly:new utils.AssociativeArray(),D80=i9u.N5B;D80<Z80.length;D80++)u80=e80.getItemAt(D80),u80=u80.members.getItemAt(Z80[D80]),P80.push({caption:u80.caption,uniqueName:u80.uniqueName,hierarchyCaption:u80.hierarchy_.caption,hierarchyUniqueName:u80.hierarchy_.uniqueName});Z80={columnIndex:this.colIdx,columns:B80,label:this.label,measure:this.measure?q20.data_._structure.GenericMeasure.toObject(this.measure):i9u.r0B,hierarchy:this.hierarchy?q20.data_._structure.GenericHierarchy.toObject(this.hierarchy):i9u.r0B,member:this.member?q20.data_._structure.GenericMember.toObject(this.member):i9u.r0B,rowIndex:this.rowIdx,rows:P80,type:this.isColumnHeader||this.isRowHeader||this.isFilterHeader?W1R:F3yy.c7R,value:this.value,recordId:this.recordId,isTotal:this.isTotal,isTotalRow:this.isTotalRow,isTotalColumn:this.isTotalColumn,isClassicTotalRow:this.isClassicTotalRow,isGrandTotal:this.isGrandTotal,isGrandTotalRow:this.isGrandTotalRow,isGrandTotalColumn:this.isGrandTotalColumn,isDrillThrough:this.isDrillThrough};isNaN(this.level)||(Z80.level=this.level);i9u.N5B<this.conditions.length&&(Z80.conditions=this.conditions);return this.obj=Z80;};T80.customizeCellFunction=i9u.r0B;return T80;}();I20.GridCell=i20;}(N20.vo||(N20.vo={})));}(L20.grid||(L20.grid={})));}(q20._view||(q20._view={})));}(pivot||(pivot={})));(function(O80){(function(j80){(function(k80){(function(g80){var y80=function(){a80.prototype.addStyle=function(X80){-T3yy.I5B==this.styleNames.indexOf(X80)&&this.styleNames.push(X80);};function a80(){this.styleNames=[];this.customStyleNames=[];this.css={};}a80.prototype.addCustomStyle=function(b80){-T3yy.I5B==this.customStyleNames.indexOf(b80)&&this.customStyleNames.push(b80);};a80.prototype.addCSS=function(S80){for(var z80 in S80)this.css[z80]=S80[z80];};a80.prototype.getClassString=function(){return this.styleNames.join(T3yy.L0B);};a80.prototype.getCustomClassString=function(){return this.customStyleNames.join(T3yy.L0B);};a80.prototype.getStyleString=function(){var m80=T3yy.o9B,R80;for(R80 in this.css)m80+=R80+C3yy.u3J+this.css[R80]+C3yy.N3J;return m80;};return a80;}();g80.CellStyle=y80;}(k80.vo||(k80.vo={})));}(j80.grid||(j80.grid={})));}(O80._view||(O80._view={})));}(pivot||(pivot={})));(function(s80){(function(f80){(function(K80){(function(v80){var E80=function(){var p1R="Bold";Y80.getFontStyle=function(W80){return T3yy.E0B<W80?Y80.BOLD:Y80.NORMAL;};Y80.NORMAL=T3yy.o9B;Y80.BOLD=p1R;function Y80(){}return Y80;}();v80.FontStylePDFType=E80;E80=function(){var w1R="border-color";var o1R="background-image";var n1R="fill";var H1R="background-color background-image color font-family font-size font-weight text-align padding-top padding-left padding-right padding-bottom border border-top-width border-top-color border-top-style border-bottom-width border-bottom-color border-bottom-style border-left-width border-left-color border-left-style border-right-width border-right-color border-right-style";p80.prototype.merge=function(o80){this.color=this.color||o80.color;this.backgroundColor=this.backgroundColor||o80.backgroundColor;this.backgroundImage=this.backgroundImage||o80.backgroundImage;this.borderColor=this.borderColor||o80.borderColor;this.fontSize=this.fontSize||o80.fontSize;this.fontWeight=this.fontWeight||o80.fontWeight;this.textAlign=this.textAlign||o80.textAlign;this.fontFamily=this.fontFamily||o80.fontFamily;this.width=this.width||o80.width;this.maxWidth=this.maxWidth||o80.maxWidth;this.height=this.height||o80.height;this.maxHeight=this.maxHeight||o80.maxHeight;};p80.prototype.clone=function(){var w80=new p80();w80.color=this.color;w80.backgroundColor=this.backgroundColor;w80.backgroundImage=this.backgroundImage;w80.borderColor=this.borderColor;w80.fontSize=this.fontSize;w80.fontWeight=this.fontWeight;w80.textAlign=this.textAlign;w80.fontFamily=this.fontFamily;w80.width=this.width;w80.maxWidth=this.maxWidth;w80.height=this.height;w80.maxHeight=this.maxHeight;return w80;};p80.fromItem=function(d80,n80){var w89=F3yy;var o89=J3yy;var p89=T3yy;void p89.N5B===n80&&(n80=p89.r0B);var c80=new p80();if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o89.u6t)!=d80.css(o89.u6t))c80.color=d80.css(o89.u6t);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o89.S9t)!=d80.css(o89.S9t))c80.backgroundColor=d80.css(o89.S9t);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o1R)!=d80.css(o1R))c80.backgroundImage=d80.css(o1R);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(w1R)!=d80.css(w1R))c80.borderColor=d80.css(w1R);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o89.s0t)!=d80.css(o89.s0t))c80.fontSize=parseInt(d80.css(o89.s0t));if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o89.R9t)!=d80.css(o89.R9t))c80.fontWeight=d80.css(o89.R9t);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(n1R)!=d80.css(n1R))c80.fill=d80.css(n1R);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o89.s9t)!=d80.css(o89.s9t))c80.textAlign=d80.css(o89.s9t);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(o89.R0t)!=d80.css(o89.R0t))c80.fontFamily=d80.css(o89.R0t);if(p89.r0B==n80||p89.r0B!=n80&&n80.css(p89.L9B)!=d80.css(p89.L9B))c80.width=parseInt(d80.css(p89.L9B));if(p89.r0B==n80||p89.r0B!=n80&&n80.css(w89.d1R)!=d80.css(w89.d1R))c80.maxWidth=parseInt(d80.css(w89.d1R));if(p89.r0B==n80||p89.r0B!=n80&&n80.css(p89.I9B)!=d80.css(p89.I9B))c80.height=parseInt(d80.css(p89.I9B));if(p89.r0B==n80||p89.r0B!=n80&&n80.css(w89.c1R)!=d80.css(w89.c1R))c80.maxHeight=parseInt(d80.css(w89.c1R));return c80;};p80.fromClass=function(A80,l80,M80){var n89=T3yy;void n89.N5B===l80&&(l80=n89.r0B);void n89.N5B===M80&&(M80=!n89.N5B);var h80=new uicontrols.UIElement(n89.w9B);h80.addClass(A80).hide();A80=new uicontrols.UIElement(n89.w9B);n89.r0B==l80?f80.PivotView.stage.container.append(h80).append(A80):l80.append(h80).append(A80);l80=p80.fromItem(h80,M80?A80:n89.r0B);h80.remove();A80.remove();return l80;};p80.fromString=function(H80){var d89=T3yy;var U80=new p80(),V80=d89.N5B;for(H80=H80.replace(/ /g,C3yy.N3J);-d89.I5B<(V80=H80.indexOf(C3yy.N3J));)this.defineStyle(H80.substring(d89.N5B,V80),U80),H80=H80.substring(V80+d89.I5B);return U80;};p80.hexToRgb=function(x80){var A89=T3yy;var A1R=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var h1R="rgb(";var l1R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;x80=x80.replace(A1R,function(q80,t80,G80,r80){return t80+t80+G80+G80+r80+r80;});x80=l1R.exec(x80);return A89.r0B==x80?A89.o9B:h1R+parseInt(x80[A89.I5B],A89.k1B)+C3yy.y2B+parseInt(x80[A89.i5B],A89.k1B)+C3yy.y2B+parseInt(x80[A89.T1B],A89.k1B)+C3yy.x3J;};p80.defineStyle=function(L80,N80){var M89=J3yy;var h89=T3yy;-h89.I5B<L80.indexOf(M89.S9t)?N80.backgroundColor=this.hexToRgb(L80.substring(h89.y1B,L80.length)):-h89.I5B<L80.indexOf(o1R)?N80.backgroundImage=L80.substring(h89.y1B,L80.length):-h89.I5B<L80.indexOf(w1R)?N80.borderColor=this.hexToRgb(L80.substring(h89.B1B,L80.length)):-h89.I5B<L80.indexOf(M89.u6t)?N80.color=this.hexToRgb(L80.substring(h89.F1B,L80.length)):-h89.I5B<L80.indexOf(M89.s0t)?N80.fontSize=parseInt(L80.substring(h89.D1B,L80.length)):-h89.I5B<L80.indexOf(n1R)?N80.fill=this.hexToRgb(L80.substring(h89.J1B,L80.length)):-h89.I5B<L80.indexOf(M89.s9t)?N80.textAlign=L80.substring(h89.e1B,L80.length):-h89.I5B<L80.indexOf(F3yy.d1R)?N80.maxWidth=parseInt(L80.substring(h89.D1B,L80.length)):-h89.I5B<L80.indexOf(F3yy.c1R)?N80.maxHeight=parseInt(L80.substring(h89.e1B,L80.length)):-h89.I5B<L80.indexOf(h89.L9B)&&(N80.width=parseInt(L80.substring(h89.F1B,L80.length)));};function p80(){}p80.fromItemToString=function(J32,I80,T32){var V89=T3yy;void V89.N5B===I80&&(I80=V89.r0B);void V89.N5B===T32&&(T32=V89.r0B);var C32=V89.o9B;V89.r0B==I80&&(I80=p80.DEFAULT_CSS_PROPERIES);for(var i80=V89.N5B;i80<I80.length;i80++)if(V89.r0B==T32||V89.r0B!=T32&&J32.css(I80[i80])!=T32.css(I80[i80]))C32+=I80[i80]+C3yy.u3J+J32.css(I80[i80])+C3yy.N3J;return C32;};p80.fromClassToString=function(Z32,u32,D32,F32){var x89=T3yy;void x89.N5B===u32&&(u32=x89.r0B);void x89.N5B===D32&&(D32=x89.r0B);void x89.N5B===F32&&(F32=void x89.N5B);var Q32=new uicontrols.UIElement(x89.w9B);Q32.addClass(Z32).hide();void x89.N5B===F32&&(F32=new uicontrols.UIElement(x89.w9B),F32.hide());x89.r0B==u32?f80.PivotView.stage.container.append(Q32).append(F32):u32.append(Q32).append(F32);Z32=p80.fromItemToString(Q32,D32,F32);Q32.remove();x89.r0B!=F32&&F32.remove();return Z32;};p80.parseRGB=function(e32){var t89=T3yy;var M1R="rgb";var B32=[],P32=e32.split(M1R);t89.i5B<P32.length&&(e32=P32[t89.i5B]);e32=e32.replace(/[^\d,]/g,t89.o9B);e32=e32.split(C3yy.y2B);for(P32=t89.N5B;P32<e32.length;P32++)B32[P32]=parseInt(e32[P32]);void t89.N5B==B32[t89.T1B]&&(B32[t89.T1B]=t89.I5B);return B32;};p80.DEFAULT_CSS_PROPERIES=H1R.split(T3yy.L0B);return p80;}();v80.StyleValueObject=E80;}(K80.vo||(K80.vo={})));}(f80.grid||(f80.grid={})));}(s80._view||(s80._view={})));}(pivot||(pivot={})));(function(O32){(function(j32){(function(k32){(function(g32){var y32=function(){var s0R="wdr-icon";var R0R="wdr-drilled-down";var N1R="wdr-filter-header";var t1R="wdr-sheet-header";var r1R="wdr-header-c";var q1R="wdr-header-r";var U1R="wdr-cell";var g0R="wdr-sort-icon";var a0R="wdr-expanded";var L1R="wdr-measure-header";var m0R="wdr-drilled-up";var X0R="wdr-expanded-icon";var I1R="wdr-page-header";var T0R="wdr-filter-icon";var Z0R="wdr-link";var e0R="wdr-v-sort-icon";var F0R="wdr-total";var G1R="wdr-header";var j0R="wdr-h-sort-icon";var P0R="wdr-v-sort-asc";var b0R="wdr-collapsed";var Q0R="wdr-grand-total";var O0R="wdr-h-sort";var B0R="wdr-v-sort-desc";var u0R="wdr-hierarchy-link";var D0R="wdr-v-sort";var z0R="wdr-collapsed-icon";var y0R="wdr-h-sort-desc";var i1R="wdr-page-header-items";var k0R="wdr-h-sort-asc";var x1R="wdr-empty";var J0R="wdr-filtered-icon";a32.TITLE=F3yy.V1R;a32.CELL=U1R;a32.CELL_EMPTY=x1R;a32.SHEET_HEADER=t1R;a32.HEADER=G1R;a32.HEADER_COLUMN=r1R;a32.HEADER_ROW=q1R;a32.MEASURE_HEADER=L1R;a32.FILTER_HEADER=N1R;a32.PAGE_HEADER=I1R;a32.PAGE_HEADER_ITEMS=i1R;a32.FILTER_ICON=T0R;a32.FILTERED=F3yy.C0R;a32.FILTERED_ICON=J0R;a32.HEADER_DRAGGABLE=T3yy.P9B;a32.HEADER_DROPPABLE=T3yy.f9B;a32.TOTAL=F0R;a32.GRAND_TOTAL=Q0R;a32.HIERARCHY=u0R;a32.LINK=Z0R;a32.V_SORT=D0R;a32.V_SORT_ICON=e0R;a32.V_SORT_ASC=P0R;a32.V_SORT_DESC=B0R;a32.H_SORT=O0R;a32.H_SORT_ICON=j0R;a32.H_SORT_ASC=k0R;a32.H_SORT_DESC=y0R;function a32(){}a32.SORT_ICON=g0R;a32.EXPANDED=a0R;a32.EXPANDED_ICON=X0R;a32.COLLAPSED=b0R;a32.COLLAPSED_ICON=z0R;a32.LEVEL=F3yy.S0R;a32.DRILLED_UP=m0R;a32.DRILLED_DOWN=R0R;a32.ICON=s0R;return a32;}();g32.GridStyleName=y32;}(k32.vo||(k32.vo={})));}(j32.grid||(j32.grid={})));}(O32._view||(O32._view={})));}(pivot||(pivot={})));(function(X32){(function(b32){(function(z32){(function(m32){var S32=function(){var v0R="drill";var Y0R="link";var f0R="left icon";var E0R="right icon";var W0R="backgroud";var K0R="main icon";R32.LEFT_ICON=f0R;function R32(){}R32.MAIN_ICON=K0R;R32.RIGHT_ICON=E0R;R32.LABEL=C3yy.s4B;R32.DRILL=v0R;R32.LINK=Y0R;R32.BACKGROUND=W0R;return R32;}();m32.GridCellElementType=S32;}(z32.vo||(z32.vo={})));}(b32.grid||(b32.grid={})));}(X32._view||(X32._view={})));}(pivot||(pivot={})));(function(s32){(function(f32){(function(K32){(function(v32){var E32=function(){var j29=T3yy;var J9R="colHeadersHeight";var r0R="availableHeight";var M0R="scrollBarWidth";var l0R="cellMaxWidth";var P9R="freeSpaceTop";var t0R="layoutWidth";var T9R="minDataWidth";var p0R="gridStartY";var G0R="layoutHeight";var F9R="hasHorizontalScroll";var C9R="rowHeadersWidth";var I0R="dataContentWidth";var h0R="cellMaxHeight";var u9R="canDrawAll";var V0R="scrollBarSize";var Q9R="hasVerticalScroll";var w0R=15E5;var Z9R="canDrawSmooth";var L0R="maxColsCount";var q0R="availableWidth";var N0R="maxRowsCount";var x0R="originalHeight";var e9R="freeSpaceRight";var i0R="dataContentHeight";var H0R="scrollBarHeight";var U0R="originalWidth";Object.defineProperty(Y32.prototype,p0R,{get:function(){return this.titleHeight+this.filtersHeight;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.getScrollBarSize=function(){return utils.browserVersion().isMobile||utils.OSUtil.isMac?j29.N5B:utils.browserVersion().isEdge?j29.P1B:j29.y1B;};Y32.getScaleTreshold=function(){var o0R=1E7;return utils.detectBrowser().isChrome||utils.detectBrowser().isFirefox?o0R:w0R;};Y32.prototype.clearColSizes=function(W32){this._colsWidth.length>W32&&(this._colsWidth.length=W32);this._colsWidthPending.length>W32&&(this._colsWidthPending.length=W32);this._colsWidthExplicit.length>W32&&(this._colsWidthExplicit.length=W32);this._dataContentWidth=-j29.I5B;};Y32.prototype.clearRowSizes=function(p32){this._rowsHeight.length>p32&&(this._rowsHeight.length=p32);this._rowsHeightPending.length>p32&&(this._rowsHeightPending.length=p32);this._rowsHeightExplicit.length>p32&&(this._rowsHeightExplicit.length=p32);this._dataContentHeight=-j29.I5B;};Y32.prototype.reset=function(){this._colsWidth.length=j29.N5B;this._rowsHeight.length=j29.N5B;this._colsWidthPending.length=j29.N5B;this._rowsHeightPending.length=j29.N5B;this._colsWidthExplicit.length=j29.N5B;this._rowsHeightExplicit.length=j29.N5B;this._dataContentHeight=this._dataContentWidth=-j29.I5B;this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=j29.N5B;this._sheetHeaderWidth=Y32.SHEET_HEADER_WIDTH;this._sheetHeaderHeight=Y32.SHEET_HEADER_HEIGHT;this._scaleY=this._scaleX=j29.I5B;this._cellMaxHeight=this._cellMaxWidth=-j29.I5B;this.setDefaults();};Y32.prototype.setDefaults=function(){var n0R="wdr-grid-column-mobile";var A0R="wdr-grid-row";var d0R="wdr-grid-column";var c0R="wdr-grid-row-mobile";var o32=f32.grid.vo.StyleValueObject.fromClass(utils.browserVersion().isMobile?n0R:d0R);Y32.CELL_WIDTH=isNaN(o32.width)?j29.F0B:Math.max(Y32.CELL_MIN_WIDTH,o32.width);isNaN(o32.maxWidth)||(this._cellMaxWidth=Math.max(Y32.CELL_MIN_WIDTH,o32.maxWidth));o32=f32.grid.vo.StyleValueObject.fromClass(utils.browserVersion().isMobile?c0R:A0R);Y32.CELL_HEIGHT=isNaN(o32.height)?j29.f1B:Math.max(Y32.CELL_MIN_HEIGHT,o32.height);isNaN(o32.maxHeight)||(this._cellMaxHeight=Math.max(Y32.CELL_MIN_HEIGHT,o32.maxHeight));};Object.defineProperty(Y32.prototype,l0R,{get:function(){return this._cellMaxWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,h0R,{get:function(){return this._cellMaxHeight;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.setScale=function(){var w32=this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);this._scaleY=w32>this._scaleTreshold?this._scaleTreshold/w32:j29.I5B;w32=this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount);this._scaleX=w32>this._scaleTreshold?this._scaleTreshold/w32:j29.I5B;};Y32.prototype.resize=function(d32,c32,n32){void j29.N5B===n32&&(n32=!j29.I5B);this._layoutWidth=d32;this._layoutHeight=c32;n32&&(this._originalWidth=d32,this._originalHeight=c32);};Object.defineProperty(Y32.prototype,M0R,{get:function(){return this.hasVerticalScroll?this._scrollBarSize:j29.N5B;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,H0R,{get:function(){return this.hasHorizontalScroll?this._scrollBarSize:j29.N5B;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,V0R,{get:function(){return this._scrollBarSize;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,U0R,{get:function(){return this._originalWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,x0R,{get:function(){return this._originalHeight;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,t0R,{get:function(){return this._layoutWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,G0R,{get:function(){return this._layoutHeight;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,r0R,{get:function(){return this._layoutHeight-this.scrollBarHeight-this.gridStartY;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,q0R,{get:function(){return this._layoutWidth-this.scrollBarWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,J3yy.j2t,{get:function(){return this._layoutWidth-this.rowHeadersWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,J3yy.k2t,{get:function(){return this._layoutHeight-this.colHeadersHeight-this.gridStartY;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,L0R,{get:function(){return this.frozenColsCount+this.dataColsCount;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,N0R,{get:function(){return this.frozenRowsCount+this.dataRowsCount;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.getRowHeight=function(A32){var l32=isNaN(this._rowsHeight[A32])?Y32.CELL_HEIGHT:this._rowsHeight[A32];return j29.N5B<this.cellMaxHeight&&!this.isRowHeightExplicit(A32)?Math.min(this.cellMaxHeight,l32):l32;};Y32.prototype.setRowHeight=function(h32,M32,H32,V32){void j29.N5B===H32&&(H32=!j29.I5B);void j29.N5B===V32&&(V32=!j29.I5B);M32=Math.max(M32,Y32.CELL_MIN_HEIGHT);if(H32){if(isNaN(this._rowsHeightPending[h32])||M32>this._rowsHeightPending[h32])this._rowsHeightPending[h32]=M32;}else this._rowsHeight[h32]=M32,this._dataContentHeight=-j29.I5B;V32&&(this._rowsHeightExplicit[h32]=!j29.N5B);};Y32.prototype.resetRowHeight=function(U32){this.isRowHeightExplicit(U32)&&(delete this._rowsHeight[U32],delete this._rowsHeightPending[U32],delete this._rowsHeightExplicit[U32],this._dataContentHeight=-j29.I5B);};Y32.prototype.getColWidth=function(x32){if(-j29.I5B==x32)return this.getSheetHeaderWidth();if(x32>=this.maxColsCount)return Math.max(j29.F0B,Y32.CELL_WIDTH);var t32=isNaN(this._colsWidth[x32])?Y32.CELL_WIDTH:this._colsWidth[x32];return j29.N5B<this.cellMaxWidth&&!this.isColWidthExplicit(x32)?Math.min(this.cellMaxWidth,t32):t32;};Y32.prototype.setColWidth=function(G32,r32,q32,L32){void j29.N5B===q32&&(q32=!j29.I5B);void j29.N5B===L32&&(L32=!j29.I5B);r32=Math.max(r32,Y32.CELL_MIN_WIDTH);if(q32){if(isNaN(this._colsWidthPending[G32])||r32>this._colsWidthPending[G32])this._colsWidthPending[G32]=r32;}else-j29.I5B==G32?this._sheetHeaderWidth=r32:this._colsWidth[G32]=r32,this._dataContentWidth=-j29.I5B;L32&&(this._colsWidthExplicit[G32]=!j29.N5B);};Y32.prototype.resetColWidth=function(N32){this.isColWidthExplicit(N32)&&(delete this._colsWidth[N32],delete this._colsWidthPending[N32],delete this._colsWidthExplicit[N32],this._dataContentWidth=-j29.I5B);};Y32.prototype.isColWidthExplicit=function(I32){return!j29.N5B===this._colsWidthExplicit[I32];};Y32.prototype.isRowHeightExplicit=function(i32){return!j29.N5B===this._rowsHeightExplicit[i32];};Y32.prototype.applyPendingSizes=function(){for(var T72=j29.N5B;T72<this._rowsHeightPending.length;T72++)if(!this.isRowHeightExplicit(T72)){var C72=this._rowsHeightPending[T72];!isNaN(C72)&&C72>this.getRowHeight(T72)&&this.setRowHeight(T72,C72);}this._rowsHeightPending.length=j29.N5B;for(T72=-j29.I5B;T72<this._colsWidthPending.length;T72++)this.isColWidthExplicit(T72)||(C72=this._colsWidthPending[T72],!isNaN(C72)&&C72>this.getColWidth(T72)&&this.setColWidth(T72,C72));this._colsWidthPending.length=j29.N5B;};Y32.prototype.getRowIndexAtPosition=function(Q72,u72){void j29.N5B===u72&&(u72=!j29.I5B);var F72=Q72/this.dataContentHeight*(this.layoutHeight/this._scaleY-this.layoutHeight)*this._scaleY;if(j29.I5B!=this._scaleY&&Q72+F72>=this.dataContentHeight-this.layoutHeight){for(var J72=this.maxRowsCount,F72=this.dataContentHeight;F72>Q72;)F72-=this.getRowHeight(J72),J72--;return J72+j29.I5B;}for(var J72=u72?j29.N5B:this.frozenRowsCount,Z72=j29.N5B;Z72<Q72+F72;)Z72+=this.getRowHeight(J72)*this._scaleY,J72++;return J72;};Y32.prototype.getColIndexAtPosition=function(P72,B72){void j29.N5B===B72&&(B72=!j29.I5B);var e72=P72/this.dataContentWidth*(this.layoutWidth/this._scaleX-this.layoutWidth)*this._scaleX;if(j29.I5B!=this._scaleX&&P72+e72>=this.dataContentWidth-this.layoutWidth){for(var D72=this.maxColsCount,e72=this.dataContentWidth;e72>P72;)e72-=this.getColWidth(D72),D72--;return D72+j29.I5B;}for(var D72=B72?j29.N5B:this.frozenColsCount,O72=j29.N5B;O72<P72+e72;)O72+=this.getColWidth(D72)*this._scaleX,D72++;return D72;};Y32.prototype.getVisibleRowsCount=function(g72){for(var j72=j29.N5B,k72=j29.N5B,y72=this.dataHeight;k72<y72;)k72+=this.getRowHeight(g72+j72),j72++;return j72;};Y32.prototype.getVisibleColsCount=function(z72){for(var a72=j29.N5B,X72=j29.N5B,b72=this.dataWidth;X72<b72;)X72+=this.getColWidth(z72+a72),a72++;return a72;};Object.defineProperty(Y32.prototype,I0R,{get:function(){return j29.N5B<=this._dataContentWidth?this._dataContentWidth:this._dataContentWidth=j29.I5B>this._scaleX?this._scaleTreshold:this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount);},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.calcRangeWidth=function(s72,m72){if(s72>=m72)return j29.N5B;var R72=j29.N5B,f72=j29.N5B,S72=j29.N5B,K72;for(K72 in this._colsWidth)S72=parseInt(K72),!isNaN(S72)&&!isNaN(this._colsWidth[S72])&&S72>=s72&&S72<m72&&(f72++,R72+=this.getColWidth(S72));S72=Math.min(m72,this.maxColsCount);R72+=(S72-s72-f72)*(j29.N5B<this.cellMaxWidth?Math.min(this.cellMaxWidth,Y32.CELL_WIDTH):Y32.CELL_WIDTH);m72>=this.maxColsCount&&(R72+=(m72-this.maxColsCount)*this.getColWidth(m72));return R72;};Object.defineProperty(Y32.prototype,i0R,{get:function(){return j29.N5B<=this._dataContentHeight?this._dataContentHeight:this._dataContentHeight=j29.I5B>this._scaleY?this._scaleTreshold:this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.calcRangeHeight=function(v72,Y72){if(v72>=Y72)return j29.N5B;var W72=j29.N5B,p72=j29.N5B,E72=j29.N5B,o72;for(o72 in this._rowsHeight)E72=parseInt(o72),!isNaN(E72)&&!isNaN(this._rowsHeight[E72])&&E72>=v72&&E72<Y72&&(p72++,W72+=this.getRowHeight(E72));return W72+=(Y72-v72-p72)*(j29.N5B<this.cellMaxHeight?Math.min(this.cellMaxHeight,Y32.CELL_HEIGHT):Y32.CELL_HEIGHT);};Y32.prototype.clearCache=function(){this._dataContentWidth=this._dataContentHeight=-j29.I5B;};Object.defineProperty(Y32.prototype,T9R,{get:function(){for(var w72=j29.N5B,d72=this.frozenColsCount+this.dataColsCount,n72=this.frozenColsCount;n72<d72;n72++)if(w72+=this.getColWidth(n72),w72>Y32.MIN_DATA_WIDTH)return Y32.MIN_DATA_WIDTH;return w72;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,C9R,{get:function(){for(var A72=this.getSheetHeaderWidth(),c72=j29.N5B;c72<this.frozenColsCount;c72++)A72+=this.getColWidth(c72);return A72;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,J9R,{get:function(){for(var h72=this.getSheetHeaderHeight(),l72=j29.N5B;l72<this.frozenRowsCount;l72++)h72+=this.getRowHeight(l72);return h72;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.getSheetHeaderWidth=function(){return s32.model._options.OptionsManager.showHeaders?this._sheetHeaderWidth:j29.N5B;};Y32.prototype.getSheetHeaderHeight=function(){return s32.model._options.OptionsManager.showHeaders?this._sheetHeaderHeight:j29.N5B;};Y32.prototype.getColIndexWithUndefinedWidth=function(){for(var M72=this.frozenColsCount;M72<this.dataColsCount;M72++)if(!this.isColWidthDefined(M72))return M72;return j29.r0B;};Y32.prototype.getColIndicesWithUndefinedWidth=function(U72){for(var V72=[],H72=this.frozenColsCount;H72<this.dataColsCount&&(this.isColWidthDefined(H72)||(V72.push(H72),!(V72.length>=U72)));H72++);return V72;};Y32.prototype.isColWidthDefined=function(t72,x72){void j29.N5B===x72&&(x72=!j29.N5B);return!isNaN(this._colsWidth[t72])||(x72?!isNaN(this._colsWidthPending[t72]):!j29.I5B);};Object.defineProperty(Y32.prototype,F9R,{get:function(){return this.dataContentWidth+(this.dataContentHeight>this.dataHeight?this.scrollBarSize:j29.N5B)>this.dataWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,Q9R,{get:function(){return this.dataContentHeight+(this.dataContentWidth>this.dataWidth?this.scrollBarSize:j29.N5B)>this.dataHeight;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.getRowY=function(q72,G72){void j29.N5B===G72&&(G72=!j29.I5B);var r72=s32.model._options.OptionsManager.showHeaders&&G72?this.getSheetHeaderHeight():j29.N5B;return r72+=this.calcRangeHeight(G72?j29.N5B:this.frozenRowsCount,q72);};Y32.prototype.getColX=function(I72,L72){void j29.N5B===L72&&(L72=!j29.I5B);var N72=s32.model._options.OptionsManager.showHeaders&&L72?this.getSheetHeaderWidth():j29.N5B;return N72+=this.calcRangeWidth(L72?j29.N5B:this.frozenColsCount,I72);};Object.defineProperty(Y32.prototype,u9R,{get:function(){return utils.browserVersion().isEdge||utils.browserVersion().isMsie?!j29.I5B:j29.E0B>this.maxColsCount*this.maxRowsCount;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,Z9R,{get:function(){return utils.browserVersion().isEdge||utils.browserVersion().isMsie?!j29.I5B:(this.hasVerticalScroll||this.hasHorizontalScroll)&&F3yy.D9R>this.maxColsCount*this.maxRowsCount;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.prototype.getBoundTop=function(i72){void j29.N5B===i72&&(i72=!j29.I5B);return this.canDrawAll?this.frozenRowsCount:i72?Math.max(this.frozenRowsCount,this.firstDataRowIdx-Y32.ROWS_OFFSET):Math.max(this.frozenRowsCount,this.firstDataRowIdx);};function Y32(){this._cellMaxHeight=this._cellMaxWidth=this._dataContentHeight=this._dataContentWidth=-j29.I5B;this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=this._sheetHeaderHeight=this._sheetHeaderWidth=j29.N5B;this._scaleTreshold=w0R;this._scaleY=this._scaleX=j29.I5B;this._colsWidth=[];this._rowsHeight=[];this._colsWidthPending=[];this._rowsHeightPending=[];this._colsWidthExplicit=[];this._rowsHeightExplicit=[];this._scrollBarSize=Y32.getScrollBarSize();this._scaleTreshold=Y32.getScaleTreshold();this._sheetHeaderWidth=Y32.SHEET_HEADER_WIDTH;this._sheetHeaderHeight=Y32.SHEET_HEADER_HEIGHT;this.setDefaults();}Y32.prototype.getBoundLeft=function(T52){void j29.N5B===T52&&(T52=!j29.I5B);return this.canDrawAll?this.frozenColsCount:T52?Math.max(this.frozenColsCount,this.firstDataColIdx-Y32.COLS_OFFSET):Math.max(this.frozenColsCount,this.firstDataColIdx);};Y32.prototype.getBoundBottom=function(J52){void j29.N5B===J52&&(J52=!j29.I5B);var C52=this.getVisibleRowsCount(this.firstDataRowIdx);return this.canDrawAll?this.hasVerticalScroll?this.maxRowsCount:this.firstDataRowIdx+C52:J52?Math.min(this.firstDataRowIdx+C52+(this.hasVerticalScroll?Y32.ROWS_OFFSET:j29.N5B),this.hasVerticalScroll?this.maxRowsCount:Number.MAX_VALUE):this.firstDataRowIdx+C52;};Y32.prototype.getBoundRight=function(Q52){void j29.N5B===Q52&&(Q52=!j29.I5B);var F52=this.getVisibleColsCount(this.firstDataColIdx);return this.canDrawAll?this.hasHorizontalScroll?this.maxColsCount:this.firstDataColIdx+F52:Q52?Math.min(this.firstDataColIdx+F52+(this.hasHorizontalScroll?Y32.COLS_OFFSET:j29.N5B),this.hasHorizontalScroll?this.maxColsCount:Number.MAX_VALUE):this.firstDataColIdx+F52;};Y32.prototype.isOnColEdge=function(u52){void j29.N5B===u52&&(u52=NaN);isNaN(u52)&&(u52=this.getBoundRight());return j29.N5B<this.scrollLeft&&u52>=this.maxColsCount;};Y32.prototype.isOnRowEdge=function(Z52){void j29.N5B===Z52&&(Z52=NaN);isNaN(Z52)&&(Z52=this.getBoundBottom());return j29.N5B<this.scrollTop&&Z52>=this.maxRowsCount;};Y32.prototype.getColEdgeOffset=function(D52){void j29.N5B===D52&&(D52=NaN);isNaN(D52)&&(D52=this.firstDataColIdx);return this.isOnColEdge()?this.dataContentWidth-this.scrollLeft-this.calcRangeWidth(D52,this.maxColsCount):j29.N5B;};Y32.prototype.getRowEdgeOffset=function(e52){void j29.N5B===e52&&(e52=NaN);isNaN(e52)&&(e52=this.firstDataRowIdx);return this.isOnRowEdge()?this.dataContentHeight-this.scrollTop-this.calcRangeHeight(e52,this.maxRowsCount):j29.N5B;};Y32.prototype.getRowIdxByRelativePosition=function(B52,k52){if(B52<this.gridStartY)return NaN;if(s32.model._options.OptionsManager.showHeaders&&B52<this.gridStartY+this.getSheetHeaderHeight())return-j29.I5B;var P52=j29.N5B,O52=this.gridStartY+this.getSheetHeaderHeight();if(B52>this.colHeadersHeight)if(P52=this.firstDataRowIdx,O52=this.gridStartY+this.colHeadersHeight,k52&&P52>this.frozenRowsCount){var j52=this.scrollTop-this.getRowY(P52-j29.I5B);j29.N5B<j52&&(O52-=j52,P52--);}else k52||(B52-=this.getRowEdgeOffset());for(;O52<B52;)O52+=this.getRowHeight(P52),P52++;return P52-j29.I5B;};Y32.prototype.getColIdxByRelativePosition=function(a52,b52){if(s32.model._options.OptionsManager.showHeaders&&a52<this.getSheetHeaderWidth())return-j29.I5B;var y52=j29.N5B,g52=this.getSheetHeaderWidth();if(a52>this.rowHeadersWidth)if(y52=this.firstDataColIdx,g52=this.rowHeadersWidth,b52&&y52>this.frozenColsCount){var X52=this.scrollLeft-this.getColX(y52-j29.I5B);j29.N5B<X52&&(g52-=X52,y52--);}else b52||(a52-=this.getColEdgeOffset());for(;g52<a52;)g52+=this.getColWidth(y52),y52++;return y52-j29.I5B;};Y32.prototype.getRelativeRowY=function(R52,s52,z52){void j29.N5B===z52&&(z52=!j29.N5B);var S52=j29.N5B,m52=(z52?this.gridStartY:j29.N5B)+this.getSheetHeaderHeight();R52>this.frozenRowsCount&&(S52=this.firstDataRowIdx,m52=(z52?this.gridStartY:j29.N5B)+this.colHeadersHeight,S52<=R52&&(m52+=s52?this.getRowY(this.firstDataRowIdx)-this.scrollTop:this.getRowEdgeOffset()));return m52+=this.calcRangeHeight(S52,R52);};Y32.prototype.getRelativeColX=function(E52,v52){var f52=j29.N5B,K52=this.getSheetHeaderWidth();E52>this.frozenColsCount&&(f52=this.firstDataColIdx,K52=this.rowHeadersWidth,f52<=E52&&(K52+=v52?this.getColX(this.firstDataColIdx)-this.scrollLeft:this.getColEdgeOffset()));return K52+=this.calcRangeWidth(f52,E52);};Y32.prototype.isRowHeightDefault=function(Y52){return isNaN(this._rowsHeight[Y52]);};Object.defineProperty(Y32.prototype,e9R,{get:function(){return this.scrollLeft+this.dataWidth-this.dataContentWidth-this.scrollBarWidth;},enumerable:!j29.N5B,configurable:!j29.N5B});Object.defineProperty(Y32.prototype,P9R,{get:function(){return this.scrollTop+this.dataHeight-this.dataContentHeight-this.scrollBarHeight;},enumerable:!j29.N5B,configurable:!j29.N5B});Y32.ROWS_OFFSET=j29.J1B;Y32.COLS_OFFSET=j29.J1B;Y32.CELL_WIDTH=j29.F0B;Y32.CELL_HEIGHT=j29.f1B;Y32.CELL_MIN_WIDTH=j29.c1B;Y32.CELL_MIN_HEIGHT=j29.f1B;Y32.SHEET_HEADER_HEIGHT=j29.m1B;Y32.SHEET_HEADER_WIDTH=j29.m1B;Y32.MIN_DATA_WIDTH=j29.j0B;return Y32;}();v32.GridCoords=E32;}(K32.sheet||(K32.sheet={})));}(f32.grid||(f32.grid={})));}(s32._view||(s32._view={})));}(pivot||(pivot={})));(function(W52){(function(p52){(function(o52){(function(w52){var n52=function(c52){var X9R="min-width";var B9R="isDirty";__extends(d52,c52);d52.prototype.calculateSizes=function(t52){var q89=T3yy;void q89.N5B===t52&&(t52=!q89.I5B);for(var H52=!q89.I5B,G52=this.element.children,U52=q89.N5B;U52<G52.length;U52++)for(var V52=G52.item(U52),H52=this.updateRowHeight(V52,!q89.N5B)||H52,V52=V52.children,x52=q89.N5B;x52<V52.length;x52++)H52=this.updateColWidth(V52.item(x52),t52)||H52;this._isDirty=H52;};Object.defineProperty(d52.prototype,B9R,{get:function(){return this._isDirty;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});d52.prototype.updateRowHeight=function(I52,q52){var L89=T3yy;void L89.N5B===q52&&(q52=!L89.I5B);if(L89.r0B!=this._coords){var N52=!L89.I5B,r52=parseInt(I52.getAttribute(F3yy.O9R));if(isNaN(r52)||this._coords.isRowHeightExplicit(r52))return!L89.I5B;var L52=I52.clientHeight;this._coords.getRowHeight(r52)<L52?(this._coords.setRowHeight(r52,Math.round(L52+L89.I5B),q52),N52=!L89.N5B):L52<=w52.GridCoords.CELL_HEIGHT&&this._coords.setRowHeight(r52,w52.GridCoords.CELL_HEIGHT,q52);return N52;}};d52.prototype.updateColWidth=function(J12,T12){var I89=T3yy;void I89.N5B===T12&&(T12=!I89.I5B);if(I89.r0B!=this._coords){var F12=!I89.I5B,i52=parseInt(J12.getAttribute(F3yy.j9R));if(isNaN(i52)||J12.classList.contains(o52.vo.GridStyleName.SHEET_HEADER)&&I89.N5B<=i52||this._coords.isColWidthExplicit(i52))return!I89.I5B;var C12=J12.clientWidth;this._coords.getColWidth(i52)<C12?(this._coords.setColWidth(i52,Math.round(C12+I89.i5B),T12),F12=!I89.N5B):-I89.I5B!=i52&&C12<=w52.GridCoords.CELL_WIDTH&&this._coords.setColWidth(i52,w52.GridCoords.CELL_WIDTH,T12);return F12;}};d52.prototype.createCell=function(u12,Z12,e12){var T3M=T3yy;var k9R='<span class="';var a9R="</span>";var y9R='" title="';void T3M.N5B===e12&&(e12=!T3M.I5B);var Q12=this._getDataFunc?this._getDataFunc(u12,Z12):T3M.r0B;this.cell.clear();this.cell.tag=T3M.w9B;this.cell.addClass(o52.vo.GridStyleName.CELL);var P12=u12>=this._coords.maxRowsCount||Z12>=this._coords.maxColsCount;!Q12&&P12&&this.cell.addClass(o52.vo.GridStyleName.CELL_EMPTY);Q12&&Q12.isRowHeader&&(this.cell.addClass(o52.vo.GridStyleName.HEADER),this.cell.addClass(o52.vo.GridStyleName.HEADER_ROW),this.cell.addClass(o52.vo.GridStyleName.LEVEL+Q12.level));Q12&&Q12.isColumnHeader&&(this.cell.addClass(o52.vo.GridStyleName.HEADER),this.cell.addClass(o52.vo.GridStyleName.HEADER_COLUMN));Q12&&Q12.isMeasureHeader&&this.cell.addClass(o52.vo.GridStyleName.MEASURE_HEADER);Q12&&Q12.isTotal&&this.cell.addClass(o52.vo.GridStyleName.TOTAL);Q12&&Q12.isGrandTotal&&this.cell.addClass(o52.vo.GridStyleName.GRAND_TOTAL);Q12&&Q12.expanded&&(this.cell.addClass(o52.vo.GridStyleName.EXPANDED),this.cell.text+=this.createIcon(o52.vo.GridStyleName.EXPANDED_ICON,W52.model._labels.Labels.TOOLTIPS_COLLAPSE_ICON));Q12&&Q12.collapsed&&(this.cell.addClass(o52.vo.GridStyleName.COLLAPSED),this.cell.text+=this.createIcon(o52.vo.GridStyleName.COLLAPSED_ICON,W52.model._labels.Labels.TOOLTIPS_EXPAND_ICON));this.cell.text+=Q12?Q12.label:T3M.o9B;Q12&&(Q12.drilledUp||Q12.drilledDown)&&(this.cell.text+=k9R+o52.vo.GridStyleName.HIERARCHY+y9R+(Q12.drilledUp?W52.model._labels.Labels.TOOLTIPS_DRILL_DOWN:W52.model._labels.Labels.TOOLTIPS_DRILL_UP)+F3yy.g9R+Q12.getDrillLabel()+a9R,Q12.drilledUp&&this.cell.addClass(o52.vo.GridStyleName.DRILLED_UP),Q12.drilledDown&&this.cell.addClass(o52.vo.GridStyleName.DRILLED_DOWN));Q12&&Q12.isColumnHeader&&(Q12.sortable&&!Q12.isEmpty&&(this.cell.text=Q12.sortedAsc?this.cell.text+this.createIcon([o52.vo.GridStyleName.SORT_ICON,o52.vo.GridStyleName.V_SORT_ASC],W52.model._labels.Labels.TOOLTIPS_SORTED_ASC):Q12.sortedDesc?this.cell.text+this.createIcon([o52.vo.GridStyleName.SORT_ICON,o52.vo.GridStyleName.V_SORT_DESC],W52.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([o52.vo.GridStyleName.SORT_ICON,o52.vo.GridStyleName.V_SORT_ICON],W52.model._labels.Labels.TOOLTIPS_SORT_ICON)),Q12.isEmpty&&this.cell.addClass(o52.vo.GridStyleName.CELL_EMPTY),Q12.isEmpty||this.cell.addClass(o52.vo.GridStyleName.V_SORT));Q12&&Q12.isRowHeader&&(Q12.sortable&&!Q12.isEmpty&&(this.cell.text=Q12.sortedAsc?this.cell.text+this.createIcon([o52.vo.GridStyleName.SORT_ICON,o52.vo.GridStyleName.H_SORT_ASC],W52.model._labels.Labels.TOOLTIPS_SORTED_ASC):Q12.sortedDesc?this.cell.text+this.createIcon([o52.vo.GridStyleName.SORT_ICON,o52.vo.GridStyleName.H_SORT_DESC],W52.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([o52.vo.GridStyleName.SORT_ICON,o52.vo.GridStyleName.H_SORT_ICON],W52.model._labels.Labels.TOOLTIPS_SORT_ICON)),this.cell.addClass(o52.vo.GridStyleName.H_SORT));this.cell.attr[F3yy.j9R]=Z12;this.cell.attr[F3yy.O9R]=u12;T3M.N5B!=Z12||W52.model._options.OptionsManager.showHeaders||(this.cell.style.height=this._coords.getRowHeight(u12)+T3M.m9B);if(Q12&&Q12.style){for(var D12=T3M.N5B;D12<Q12.style.styleNames.length;D12++)this.cell.addClass(Q12.style.styleNames[D12]);var D12=Q12.style.css,B12;for(B12 in D12)this.cell.style[B12]=D12[B12];}this.setCellSize(this.cell,u12,Z12,Q12&&Q12.isValue);e12&&(this.cell.style.top=this._coords.getRowY(u12,u12<this._coords.frozenRowsCount)+T3M.m9B,this.cell.style.left=this._coords.getColX(Z12,Z12<this._coords.frozenColsCount)+T3M.m9B);T3M.r0B==o52.vo.GridCell.customizeCellFunction||P12||(T3M.r0B==Q12&&(Q12=new o52.vo.GridCell(),Q12.rowIdx=u12,Q12.colIdx=Z12),o52.vo.GridCell.customizeCellFunction(this.cell.node,Q12.toObject()));return this.cell;};d52.prototype.isCellEmpty=function(j12,k12){if(this._getDataFunc){var O12=this._getDataFunc(j12,k12);return utils.nullOrUndefined(O12)||utils.nullOrEmpty(O12.label);}return!T3yy.N5B;};d52.prototype.setCellSize=function(y12,g12,a12,X12){var F3M=T3yy;void F3M.N5B===X12&&(X12=!F3M.I5B);this._coords.isColWidthExplicit(a12)||this._coords.isRowHeightExplicit(g12)?(y12.style.width=this._coords.getColWidth(a12)+F3M.m9B,y12.style.height=this._coords.getRowHeight(g12)+F3M.m9B):(y12.style[X9R]=this._coords.getColWidth(a12)+F3M.m9B,y12.style[X12?F3M.I9B:F3yy.b9R]=this._coords.getRowHeight(g12)+F3M.m9B);!this._coords.isColWidthExplicit(a12)&&F3M.N5B<this._coords.cellMaxWidth&&(y12.style[F3yy.d1R]=this._coords.cellMaxWidth+F3M.m9B);!this._coords.isRowHeightExplicit(g12)&&F3M.N5B<this._coords.cellMaxHeight&&(y12.style[F3yy.c1R]=this._coords.cellMaxHeight+F3M.m9B);};d52.prototype.createIcon=function(b12,z12){var u3M=T3yy;var S9R='title="';var m9R="></i>";var z9R='<i class="';void u3M.N5B===z12&&(z12=u3M.r0B);b12 instanceof Array&&(b12=b12.join(u3M.L0B));var S12=z9R+o52.vo.GridStyleName.ICON+u3M.L0B+b12+C3yy.o3J;z12&&(S12+=S9R+z12+C3yy.o3J);return S12+m9R;};d52.prototype.createSheetHeaderCell=function(){this.cell.clear();this.cell.tag=T3yy.w9B;this.cell.addClass(o52.vo.GridStyleName.CELL);this.cell.addClass(o52.vo.GridStyleName.SHEET_HEADER);this.cell.style.width=this._coords.getSheetHeaderWidth()+T3yy.m9B;this.cell.style.height=this._coords.getSheetHeaderHeight()+T3yy.m9B;return this.cell;};d52.prototype.createColumnSheetHeaderCell=function(m12,R12){var e3M=T3yy;void e3M.N5B===R12&&(R12=!e3M.I5B);this.cell.clear();this.cell.tag=e3M.w9B;this.cell.addClass(o52.vo.GridStyleName.CELL);this.cell.addClass(o52.vo.GridStyleName.SHEET_HEADER);this.cell.text+=m12+e3M.I5B;this.cell.style.width=this._coords.getColWidth(m12)+e3M.m9B;e3M.N5B<this._coords.cellMaxWidth&&!this._coords.isColWidthExplicit(m12)&&(this.cell.style[F3yy.d1R]=this._coords.cellMaxWidth+e3M.m9B);this.cell.style.height=this._coords.getSheetHeaderHeight()+e3M.m9B;this.cell.attr[F3yy.O9R]=-e3M.I5B;this.cell.attr[F3yy.j9R]=m12;R12&&(this.cell.style.left=this._coords.getColX(m12,!e3M.I5B)+e3M.m9B);return this.cell;};d52.prototype.createRowSheetHeaderCell=function(s12,f12){var O3M=F3yy;var B3M=T3yy;void B3M.N5B===f12&&(f12=!B3M.I5B);this.cell.clear();this.cell.tag=B3M.w9B;this.cell.addClass(o52.vo.GridStyleName.CELL);this.cell.addClass(o52.vo.GridStyleName.SHEET_HEADER);this.cell.text+=s12+B3M.I5B;this.cell.style[X9R]=this._coords.getSheetHeaderWidth()+B3M.m9B;this.cell.style.height=this._coords.getRowHeight(s12)+B3M.m9B;this.cell.style[O3M.R9R]=this._coords.getRowHeight(s12)-B3M.i5B+B3M.m9B;B3M.N5B<this._coords.cellMaxHeight&&!this._coords.isRowHeightExplicit(s12)&&(this.cell.style[O3M.c1R]=this._coords.cellMaxHeight+B3M.m9B);this.cell.attr[O3M.O9R]=s12;this.cell.attr[O3M.j9R]=-B3M.I5B;f12&&(this.cell.style.top=this._coords.getRowY(s12,!B3M.I5B)+B3M.m9B);return this.cell;};d52.prototype.getCellByPosition=function(Y12,W12){var j3M=T3yy;var E12=this._coords.getColIndexAtPosition(Y12)-j3M.I5B,v12=this._coords.getRowIndexAtPosition(W12)-j3M.I5B,K12=j3M.r0B;j3M.r0B!=this._getDataFunc&&(K12=this._getDataFunc(v12,E12));j3M.r0B==K12&&(K12=new o52.vo.GridCell(),K12.rowIdx=v12,K12.colIdx=E12);return K12;};d52.prototype.getCellByElement=function(p12){var k3M=T3yy;for(;!p12.hasClass(o52.vo.GridStyleName.CELL);)if(p12=p12.parent,k3M.r0B==p12)return k3M.r0B;var w12=parseInt(p12.attr(F3yy.j9R));p12=parseInt(p12.attr(F3yy.O9R));var o12=k3M.r0B;k3M.r0B!=this._getDataFunc&&(o12=this._getDataFunc(p12,w12));k3M.r0B==o12&&(o12=new o52.vo.GridCell(),o12.rowIdx=p12,o12.colIdx=w12);return o12;};function d52(l52,h52){var A52=c52.call(this,T3yy.w9B)||this;A52._isDirty=!T3yy.I5B;A52.cell=new HtmlNodeWrapper();A52._coords=l52;A52._getDataFunc=h52;A52.element.addEventListener(T3yy.b6B,function(M52){return A52.onMouseEvent(M52);});return A52;}d52.prototype.onMouseEvent=function(n12){var d12=uicontrols.UIElement.convert(n12.target),A12=this.getCellByElement(d12)||this.getCellByPosition(n12.offsetX,n12.offsetY),c12;switch(n12.type){case T3yy.b6B:c12=new o52.GridClickEvent(A12,d12);}c12&&this.dispatch(c12);};d52.prototype.dispose=function(){c52.prototype.dispose.call(this);this._coords=this._getDataFunc=T3yy.r0B;};return d52;}(uicontrols.UIElement);w52.AbstractSheet=n52;}(o52.sheet||(o52.sheet={})));}(p52.grid||(p52.grid={})));}(W52._view||(W52._view={})));}(pivot||(pivot={})));(function(l12){(function(h12){(function(M12){(function(H12){var V12=function(x12){var L19=T3yy;var f9R="scrollPane";var E9R="switched_to_smooth";var v9R="switched_to_simple";__extends(U12,x12);U12.prototype.draw=function(){};U12.prototype.drawSmooth=function(){};Object.defineProperty(U12.prototype,F3yy.s9R,{get:function(){return this._isSmooth;},set:function(q12){this._isSmooth!=q12&&(this._isSmooth=q12,this.dispatchWith(this.isSmooth?U12.EVENT_SWITCHED_TO_SMOOTH:U12.EVENT_SWITCHED_TO_SIMPLE));},enumerable:!L19.N5B,configurable:!L19.N5B});U12.prototype.switchToSimple=function(){!L19.I5B!=this.isSmooth&&(this._bounds.reset(),this._boundsSmooth.reset(),this.draw());};U12.prototype.clearBounds=function(){this._bounds.reset();};U12.prototype.clearBoundsSmooth=function(){this._boundsSmooth.reset();};U12.prototype.clearAllBounds=function(){this.clearBounds();this.clearBoundsSmooth();};U12.prototype.calculateSizes=function(I12){void L19.N5B===I12&&(I12=!L19.I5B);for(var L12=!L19.I5B,C02=this._scrollPane.content.element.children,i12=L19.N5B;i12<C02.length;i12++)for(var N12=C02.item(i12),L12=this.updateRowHeight(N12,I12)||L12,N12=N12.children,T02=L19.N5B;T02<N12.length;T02++)var J02=N12.item(T02),L12=this.updateColWidth(J02,I12)||L12;this._isDirty=L12;};U12.prototype.calculateSizesSmooth=function(Q02){void L19.N5B===Q02&&(Q02=!L19.I5B);for(var F02=!L19.I5B,Z02=this.scrollPane.placeholder.element.children,u02=L19.N5B;u02<Z02.length;u02++)var D02=Z02.item(u02),F02=this.updateColWidth(D02,Q02)||F02,F02=this.updateRowHeight(D02,Q02)||F02;this._isDirty=F02;};U12.prototype.setContentSize=function(){this._scrollPane.content.width=this._width-this._coords.scrollBarWidth;this._scrollPane.content.height=this._height-this._coords.scrollBarHeight;};Object.defineProperty(U12.prototype,f9R,{get:function(){return this._scrollPane;},enumerable:!L19.N5B,configurable:!L19.N5B});function U12(G12,r12){var K9R="wdr-sheet-canvas";var t12=x12.call(this,G12,r12)||this;t12.SWITCH_TO_SMOOTH_DELAY=C3yy.t4B;t12._isSmooth=!L19.I5B;t12.addClass(K9R);t12._scrollPane=new ScrollPane();t12.addChild(t12._scrollPane);t12._bounds=new H12.Bounds();t12._boundsSmooth=new H12.Bounds();return t12;}Object.defineProperty(U12.prototype,L19.L9B,{get:function(){return this._width;},set:function(e02){this._width!=e02&&(this.element.style.minWidth=e02+L19.m9B,this._width=e02,this._scrollPane.width=e02);},enumerable:!L19.N5B,configurable:!L19.N5B});Object.defineProperty(U12.prototype,L19.I9B,{get:function(){return this._height;},set:function(P02){this._height!=P02&&(this.element.style.height=P02+L19.m9B,this._height=P02,this._scrollPane.height=P02);},enumerable:!L19.N5B,configurable:!L19.N5B});U12.prototype.onMouseEvent=function(j02){var O02=L19.r0B,B02=L19.r0B;j02.target==this.scrollPane.placeholder.element?O02=this.getCellByPosition(j02.offsetX,j02.offsetY):(B02=uicontrols.UIElement.convert(j02.target),O02=this.getCellByElement(B02)||this.getCellByPosition(j02.offsetX,j02.offsetY));if(L19.r0B!=O02&&L19.r0B!=B02){var k02=M12.vo.GridCellElementType.BACKGROUND;B02.hasClass(M12.vo.GridStyleName.HIERARCHY)?k02=M12.vo.GridCellElementType.DRILL:B02.hasClass(M12.vo.GridStyleName.EXPANDED_ICON)||B02.hasClass(M12.vo.GridStyleName.COLLAPSED_ICON)?k02=M12.vo.GridCellElementType.LEFT_ICON:B02.hasClass(M12.vo.GridStyleName.SORT_ICON)?k02=M12.vo.GridCellElementType.RIGHT_ICON:B02.hasClass(M12.vo.GridStyleName.LINK)&&(k02=M12.vo.GridCellElementType.LINK);O02.activeElementType=k02;}var y02;switch(j02.type){case L19.b6B:y02=new M12.GridClickEvent(O02,B02);break;case L19.B9B:y02=new M12.GridMouseDownEvent(O02);break;case L19.y9B:y02=new M12.GridMouseUpEvent(O02);break;case L19.j9B:y02=new M12.GridMouseMoveEvent(O02);}y02&&this.dispatch(y02);};U12.EVENT_SWITCHED_TO_SMOOTH=E9R;U12.EVENT_SWITCHED_TO_SIMPLE=v9R;return U12;}(H12.AbstractSheet);H12.BaseSheet=V12;}(M12.sheet||(M12.sheet={})));}(h12.grid||(h12.grid={})));}(l12._view||(l12._view={})));}(pivot||(pivot={})));(function(g02){(function(a02){(function(X02){(function(z02){var b02=function(){S02.prototype.set=function(K02){this.left=K02.left;this.top=K02.top;this.right=K02.right;this.bottom=K02.bottom;};S02.prototype.reset=function(){this.bottom=this.right=this.top=this.left=T3yy.N5B;};function S02(m02,R02,s02,f02){var S3M=T3yy;void S3M.N5B===m02&&(m02=S3M.N5B);void S3M.N5B===R02&&(R02=S3M.N5B);void S3M.N5B===s02&&(s02=S3M.N5B);void S3M.N5B===f02&&(f02=S3M.N5B);this.left=m02;this.top=R02;this.right=s02;this.bottom=f02;}S02.prototype.contains=function(E02){return this.left<=E02.left&&this.top<=E02.top&&this.right>=E02.right&&this.bottom>=E02.bottom;};S02.prototype.clone=function(){return new S02(this.left,this.top,this.right,this.bottom);};return S02;}();z02.Bounds=b02;}(X02.sheet||(X02.sheet={})));}(a02.grid||(a02.grid={})));}(g02._view||(g02._view={})));}(pivot||(pivot={})));(function(v02){(function(Y02){(function(W02){(function(o02){var p02=function(){w02.prototype.reset=function(){this.data=[];this.frozenCells=[];};w02.prototype.setData=function(d02,c02,A02,l02){void T3yy.N5B===l02&&(l02=!T3yy.I5B);A02.rowIdx=d02;A02.colIdx=c02;if(c02<this.coords.frozenColsCount||l02)T3yy.r0B==this.data[d02]&&(this.data[d02]=[]),this.data[d02][c02]=A02;};w02.prototype.setDataFrozen=function(h02,M02,H02){T3yy.r0B==this.frozenCells[h02]&&(this.frozenCells[h02]=[]);this.frozenCells[h02][M02]=H02;};w02.prototype.positionFrozenCells=function(V02){var s3M=T3yy;if(s3M.r0B!=this.frozenCells[V02]){for(var x02=[],G02=!s3M.I5B,U02=s3M.N5B;U02<this.frozenCells[V02].length;U02++){if(s3M.r0B!=this.frozenCells[V02][U02]||!G02){var t02=this.frozenCells[V02][U02];s3M.r0B!=t02&&(t02.colIdx=x02.length);x02.push(t02);}s3M.r0B!=this.frozenCells[V02][U02]&&(G02=!s3M.N5B);}this.frozenCells[V02]=x02;}};w02.prototype.cellExists=function(r02,q02){void T3yy.N5B===this.data[r02]&&(this.data[r02]=[]);return void T3yy.N5B!==this.data[r02][q02];};w02.prototype.getData=function(L02,N02,i02){var K3M=T3yy;void K3M.N5B===i02&&(i02=!K3M.N5B);if(!K3M.I5B==this.cellExists(L02,N02)){var I02=this.getDataFunction(L02,N02);K3M.r0B!=I02&&(I02.rowIdx=L02,I02.colIdx=N02);if(!i02)return I02;this.data[L02][N02]=I02;}return K3M.r0B===this.data[L02][N02]?void K3M.N5B:this.data[L02][N02];};w02.prototype.clearDataRow=function(T92){var E3M=T3yy;if(T92<this.coords.frozenRowsCount)for(var J92=this.data[T92]?this.data[T92].length:E3M.N5B,C92=E3M.I5B;C92<J92;C92++)this.data[T92]&&(this.data[T92][C92]=E3M.r0B);else this.data[T92]&&(this.data[T92]=E3M.r0B);};function w02(n02){this.frozenCells=[];this.data=[];this.coords=n02;}w02.prototype.clearDataColumn=function(Q92){for(var u92=this.data.length,F92=T3yy.N5B;F92<u92;F92++)T3yy.N5B==Q92&&F92<this.coords.frozenRowsCount||this.data[F92]&&(this.data[F92][Q92]=T3yy.r0B);};w02.prototype.getDataFrozen=function(Z92,D92){return this.frozenCells[Z92]&&this.frozenCells[Z92][D92]?this.frozenCells[Z92][D92]:T3yy.r0B;};w02.prototype.clearCell=function(e92,P92){T3yy.r0B!=this.data[e92]&&(this.data[e92][P92]=this.getData(e92,P92));};w02.prototype.dispose=function(){this.reset();this.getDataFunction=T3yy.r0B;};return w02;}();o02.SheetDataProvider=p02;}(W02.sheet||(W02.sheet={})));}(Y02.grid||(Y02.grid={})));}(v02._view||(v02._view={})));}(pivot||(pivot={})));(function(B92){(function(O92){(function(j92){(function(y92){var g92=function(){var S2u=T3yy;var W9R="blur";var o9R="from";var n9R="row";var Y9R="focus";var w9R="column";var p9R="to";a92.prototype.dispose=function(){this.gridLayout.element&&this.gridLayout.element.removeEventListener(Y9R,this.focusHandler);this.gridLayout.element&&this.gridLayout.element.removeEventListener(W9R,this.blurHandler);this.keyboardListener.removeEventListener(utils.KeyboardEvent.KEY_DOWN,this.keydownHandler);this.keyboardListener=this.gridLayout=S2u.r0B;};a92.prototype.draw=function(){this.selectionCanvas.redraw();};a92.prototype.select=function(S92,m92){this.deselect();this._from=S92;this._to=m92;this.draw();};a92.prototype.selectAll=function(){this.select(new k92(S2u.N5B,S2u.N5B),new k92(this.coords.getBoundRight(),this.coords.getBoundBottom()));};function a92(b92){var X92=this;this._to=this._from=S2u.r0B;this._column=this._row=-S2u.I5B;this._isFocused=!S2u.I5B;this.focusHandler=function(){X92._isFocused=!S2u.N5B;};this.blurHandler=function(){X92._isFocused=!S2u.I5B;};this.keydownHandler=function(z92){return X92.onKeyDown(z92);};this.gridLayout=b92;this.gridLayout.element.setAttribute(F3yy.D5R,C3yy.I8B);this.gridLayout.element.addEventListener(Y9R,this.focusHandler);this.gridLayout.element.addEventListener(W9R,this.blurHandler);this.coords=this.gridLayout.coords;this.selectionCanvas=new y92.SelectionCanvas(this,this.gridLayout);this.gridLayout.addChild(this.selectionCanvas);this.keyboardListener=utils.KeyboardListener.getInstance();this.keyboardListener.addEventListener(utils.KeyboardEvent.KEY_DOWN,this.keydownHandler);}a92.prototype.selectTo=function(s92){var R92=this._from;this.deselect();this._from=R92;this._to=s92;this.draw();};a92.prototype.selectRow=function(f92){this.deselect();this._row=f92;this.draw();};a92.prototype.selectColumn=function(K92){this.deselect();this._column=K92;this.draw();};a92.prototype.deselect=function(){this._to=this._from=S2u.r0B;this._column=this._row=-S2u.I5B;};a92.prototype.clear=function(){this.deselect();this.draw();};a92.prototype.isSelectedRow=function(E92){return S2u.r0B==this._from||S2u.r0B==this._to?!S2u.I5B:this._row==E92||E92>=this._from.y&&E92<=this._to.y||E92>=this._to.y&&E92<=this._from.y;};a92.prototype.isSelectedColumn=function(v92){return S2u.r0B==this._from||S2u.r0B==this._to?!S2u.I5B:this._column==v92||v92>=this._from.x&&v92<=this._to.x||v92>=this._to.x&&v92<=this._from.x;};Object.defineProperty(a92.prototype,p9R,{get:function(){return this._to;},enumerable:!S2u.N5B,configurable:!S2u.N5B});Object.defineProperty(a92.prototype,o9R,{get:function(){return this._from;},enumerable:!S2u.N5B,configurable:!S2u.N5B});Object.defineProperty(a92.prototype,w9R,{get:function(){return this._column;},enumerable:!S2u.N5B,configurable:!S2u.N5B});Object.defineProperty(a92.prototype,n9R,{get:function(){return this._row;},enumerable:!S2u.N5B,configurable:!S2u.N5B});a92.prototype.move=function(p92,Y92,W92){void S2u.N5B===Y92&&(Y92=!S2u.I5B);void S2u.N5B===W92&&(W92=!S2u.I5B);switch(p92){case S2u.W1B:this.moveLeft(Y92,W92);break;case S2u.p1B:this.moveUp(Y92,W92);break;case S2u.o1B:this.moveRight(Y92,W92);break;case S2u.w1B:this.moveDown(Y92,W92);}};a92.prototype.moveLeft=function(w92,o92){void S2u.N5B===o92&&(o92=!S2u.I5B);S2u.r0B!=this.from&&this.moveHorizontal(-S2u.I5B,o92);};a92.prototype.moveRight=function(d92,n92){void S2u.N5B===n92&&(n92=!S2u.I5B);S2u.r0B!=this.from&&this.moveHorizontal(S2u.I5B,n92);};a92.prototype.moveUp=function(A92,c92){void S2u.N5B===c92&&(c92=!S2u.I5B);S2u.r0B!=this.from&&this.moveVertical(-S2u.I5B,c92);};a92.prototype.moveDown=function(h92,l92){void S2u.N5B===l92&&(l92=!S2u.I5B);S2u.r0B!=this.from&&this.moveVertical(S2u.I5B,l92);};a92.prototype.moveHorizontal=function(x92,V92){void S2u.N5B===V92&&(V92=!S2u.I5B);var M92=V92?this.to.x:this.from.x,U92=V92?this.to.x:this.from.x,M92=Math.max(S2u.N5B,Math.min(M92+x92,this.coords.maxColsCount-S2u.I5B)),H92=S2u.N5B;M92<this.coords.firstDataColIdx?(H92=Math.max(M92,this.coords.frozenColsCount),this.gridLayout.scrollToColumn(H92)):M92>=this.coords.getBoundRight()-S2u.I5B&&(H92=this.coords.firstDataColIdx+(M92-U92),this.gridLayout.scrollToColumn(H92));U92=V92?this.to.y:this.from.y;H92=M92;this.select(new k92(V92?this.from.x:M92,this.from.y),new k92(H92,U92));};a92.prototype.moveVertical=function(L92,r92){void S2u.N5B===r92&&(r92=!S2u.I5B);var t92=r92?this.to.y:this.from.y,q92=r92?this.to.y:this.from.y,t92=Math.max(S2u.N5B,Math.min(t92+L92,this.coords.maxRowsCount-S2u.I5B)),G92=S2u.N5B;t92<this.coords.firstDataRowIdx?(G92=Math.max(t92,this.coords.frozenRowsCount),this.gridLayout.scrollToRow(G92)):t92>=this.coords.getBoundBottom()-S2u.I5B&&(G92=this.coords.firstDataRowIdx+(t92-q92),this.gridLayout.scrollToRow(G92));q92=t92;G92=r92?this.to.x:this.from.x;this.select(new k92(this.from.x,r92?this.from.y:t92),new k92(G92,q92));};a92.prototype.onKeyDown=function(N92){var G1B=65;if(S2u.r0B!=this.keyboardListener&&(this._isFocused||this.keyboardListener.isFocused)){var I92=N92.ctrlKey||N92.metaKey;switch(N92.keyCode){case S2u.E1B:I92||this.gridLayout.triggerCellAction(this.gridLayout.selectedCell);break;case G1B:I92&&this.selectAll();break;case S2u.W1B:case S2u.p1B:case S2u.o1B:case S2u.w1B:this.move(N92.keyCode,N92.ctrlKey,N92.shiftKey);}!I92||N92.altKey||N92.shiftKey||this.keyboardListener.isFocused||this.copy();}};a92.prototype.copy=function(){if(S2u.r0B!=this.from&&S2u.r0B!=this.to&&!(C3yy.r7J===typeof window.getSelection&&S2u.N5B<window.getSelection().toString().length||!utils.nullOrUndefined(document.selection)&&S2u.N5B<document.selection.createRange().text.length)){var T62=S2u.o9B,i92,F62=Math.min(this.from.x,this.to.x),u62=Math.max(this.from.x,this.to.x);i92=Math.min(this.from.y,this.to.y);for(var Q62=Math.max(this.from.y,this.to.y),J62=i92;J62<=Q62;J62++){for(var C62=F62;C62<=u62;C62++)C62>F62&&(T62+=C3yy.a3J),i92=this.gridLayout.getCell(J62,C62,!S2u.N5B),S2u.r0B!=i92&&(i92.isFrozen&&C62>i92.colIdx||(T62+=i92.label));J62<Q62&&(T62+=C3yy.v2B);}S2u.N5B<T62.length&&this.keyboardListener.copy(T62);}};return a92;}();y92.SelectionManager=g92;var k92=function(){Z62.prototype.equals=function(P62){return P62.x==this.x&&P62.y==this.y;};function Z62(D62,e62){var d3M=T3yy;void d3M.N5B===D62&&(D62=d3M.N5B);void d3M.N5B===e62&&(e62=d3M.N5B);this.x=D62;this.y=e62;}return Z62;}();y92.Point=k92;}(j92.sheet||(j92.sheet={})));}(O92.grid||(O92.grid={})));}(B92._view||(B92._view={})));}(pivot||(pivot={})));(function(B62){(function(O62){(function(j62){(function(k62){var y62=function(a62){var d9R="started";var U9R="wdr-clear-border";__extends(g62,a62);Object.defineProperty(g62.prototype,d9R,{get:function(){return this._started;},set:function(R62){this._started=R62;this.started||(this.gridLayout.element.removeEventListener(T3yy.j9B,this.mouseEventHandler),document.removeEventListener(T3yy.j9B,this.mouseLeaveHandler));},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});g62.prototype.onMouseEvent=function(K62){var A3M=T3yy;var s62=K62.target;if(!(s62.classList.contains(j62.vo.GridStyleName.FILTER_HEADER)||s62.classList.contains(j62.vo.GridStyleName.FILTER_ICON)||s62.classList.contains(j62.vo.GridStyleName.FILTERED_ICON)||A3M.r0B!=uicontrols.UIElement.convert(s62).closest(F3yy.c9R))){var f62=this.gridLayout.getOffset(),s62=K62.clientX-f62.left,f62=K62.clientY-f62.top;if(!(s62>this.coords.availableWidth||f62>this.coords.gridStartY+this.coords.availableHeight||(f62=this.coords.getRowIdxByRelativePosition(f62,this.gridLayout.isSmooth),s62=this.coords.getColIdxByRelativePosition(s62,this.gridLayout.isSmooth),isNaN(f62)||isNaN(s62))))switch(K62.type){case A3M.B9B:this.onMouseDown(f62,s62);break;case A3M.j9B:this.onMouseMove(f62,s62);break;case A3M.y9B:this.onMouseUp(f62,s62);}}};g62.prototype.onMouseLeave=function(E62){var v62=uicontrols.UIElement.convert(this.gridLayout.element),Y62=E62.clientX;E62=E62.clientY;(Y62<v62.left||E62<v62.top||Y62>v62.left+this.gridLayout.width||E62>v62.top+this.gridLayout.height)&&this.stopSelection();};g62.prototype.select=function(W62,p62,o62,w62){this.started=!T3yy.I5B;this.manager.select(new k62.Point(p62,W62),new k62.Point(w62,o62));};g62.prototype.stopSelection=function(){this.started=!T3yy.I5B;};g62.prototype.onMouseDown=function(n62,d62){this.started=!T3yy.N5B;this.manager.select(new k62.Point(d62,n62),new k62.Point(d62,n62));this.gridLayout.element.addEventListener(T3yy.j9B,this.mouseEventHandler);utils.fmdocument.addEventListener(T3yy.j9B,this.mouseLeaveHandler);};g62.prototype.onMouseUp=function(c62,A62){this.started&&(this.started=!T3yy.I5B,-T3yy.I5B==c62?this.manager.selectColumn(A62):-T3yy.I5B==A62?this.manager.selectRow(c62):this.manager.selectTo(new k62.Point(A62,c62)));};g62.prototype.onMouseMove=function(l62,h62){this.started&&(!this.manager.to||this.manager.to.x==h62&&this.manager.to.y==l62||this.manager.selectTo(new k62.Point(h62,l62)));};function g62(b62,z62){var U3M=T3yy;var M9R="wdr-clear-border-top";var A9R="wdr-sheet-selection-canvas";var h9R="wdr-clear-border-left";var l9R="wdr-sheet-selection-header";var X62=a62.call(this,U3M.w9B,A9R)||this;X62._started=!U3M.I5B;X62.allowed=!U3M.N5B;X62.mouseEventHandler=function(S62){return X62.onMouseEvent(S62);};X62.mouseLeaveHandler=function(m62){return X62.onMouseLeave(m62);};X62.manager=b62;X62.gridLayout=z62;X62.coords=X62.gridLayout.coords;X62.colOverlay=new uicontrols.UIElement(U3M.w9B,A9R);X62.colOverlay.addClass(l9R);X62.colOverlay.hide();X62.gridLayout.addChild(X62.colOverlay);X62.rowOverlay=new uicontrols.UIElement(U3M.w9B,A9R);X62.rowOverlay.addClass(l9R);X62.rowOverlay.hide();X62.gridLayout.addChild(X62.rowOverlay);X62.colFix=new uicontrols.UIElement(U3M.w9B,A9R);X62.colFix.addClass(h9R);X62.colFix.hide();X62.gridLayout.addChild(X62.colFix);X62.rowFix=new uicontrols.UIElement(U3M.w9B,A9R);X62.rowFix.addClass(M9R);X62.rowFix.hide();X62.gridLayout.addChild(X62.rowFix);X62.gridLayout.element.addEventListener(U3M.B9B,X62.mouseEventHandler);X62.gridLayout.element.addEventListener(U3M.y9B,X62.mouseEventHandler);return X62;}g62.prototype.preventSelection=function(){this.started=this.allowed=!T3yy.I5B;};g62.prototype.allowSelection=function(){this.allowed=!T3yy.N5B;this.started=!T3yy.I5B;};g62.prototype.redraw=function(){var G3M=T3yy;var H9R="wdr-clear-border-bottom";var V9R="wdr-clear-border-right";this.colOverlay.hide();this.rowOverlay.hide();this.colFix.hide();this.rowFix.hide();-G3M.I5B!=this.manager.row&&this.drawSelectedRow(this.manager.row);-G3M.I5B!=this.manager.column&&this.drawSelectedColumn(this.manager.column);if(G3M.r0B!=this.manager.from&&this.allowed){var L62=Math.min(this.manager.from.x,this.manager.to.x),G62=Math.min(this.manager.from.y,this.manager.to.y),r62=Math.max(this.manager.from.x,this.manager.to.x),q62=Math.max(this.manager.from.y,this.manager.to.y);B62.model._options.OptionsManager.showHeaders&&this.drawHeaderSelection(L62,r62,G62,q62);var I62=this.coords.availableWidth,i62=this.coords.gridStartY+this.coords.availableHeight,V62=Math.max(this.coords.gridStartY,this.coords.getRelativeRowY(G62,this.gridLayout.isSmooth)-G3M.I5B),U62=this.coords.getRelativeRowY(q62+G3M.I5B,this.gridLayout.isSmooth),M62=Math.min(i62,U62),x62=Math.max(G3M.N5B,this.coords.getRelativeColX(L62,this.gridLayout.isSmooth)-G3M.I5B),t62=this.coords.getRelativeColX(r62+G3M.I5B,this.gridLayout.isSmooth),H62=Math.min(I62,t62),T42=M62-V62,N62=H62-x62;G3M.i5B>=N62||G3M.i5B>=T42?this.hide():x62<I62&&V62<i62?(this.show(),this.top=V62,this.left=x62,this.width=N62,this.height=T42,G62<this.coords.frozenRowsCount&&t62>H62&&(this.colFix.top=V62,this.colFix.left=H62,this.colFix.width=Math.min(t62,this.coords.layoutWidth)-H62,this.colFix.height=Math.min(M62,this.coords.gridStartY+this.coords.colHeadersHeight)-V62,this.colFix.toggleClass(H9R,q62>this.coords.frozenRowsCount),this.colFix.toggleClass(V9R,t62>this.coords.layoutWidth),this.colFix.removeClass(U9R),this.colFix.show()),L62<this.coords.frozenColsCount&&U62>M62&&(this.rowFix.top=M62,this.rowFix.left=x62,this.rowFix.width=Math.min(H62,this.coords.rowHeadersWidth)-x62,this.rowFix.height=Math.min(U62,this.coords.layoutHeight)-M62,this.rowFix.toggleClass(H9R,U62>this.coords.layoutHeight),this.rowFix.toggleClass(V9R,r62>this.coords.frozenColsCount),this.rowFix.removeClass(U9R),this.rowFix.show()),this.toggleClass(V9R,t62>H62),this.toggleClass(H9R,U62>M62)):this.hide();}else this.hide();};g62.prototype.drawSelectedRow=function(C42){if(!isNaN(C42)){var F42=this.coords.getRelativeRowY(C42,this.gridLayout.isSmooth);C42=this.coords.getRelativeRowY(C42+T3yy.I5B,this.gridLayout.isSmooth);var J42=Math.min(this.coords.gridStartY+this.coords.availableHeight,C42);F42<this.coords.gridStartY+this.coords.availableHeight?(this.rowOverlay.left=T3yy.N5B,this.rowOverlay.top=F42,this.rowOverlay.width=this.coords.availableWidth,this.rowOverlay.height=J42-F42,this.rowOverlay.show(),C42>J42&&(this.rowFix.top=J42,this.rowFix.left=T3yy.N5B,this.rowFix.width=this.coords.rowHeadersWidth,this.rowFix.height=Math.min(C42,this.coords.layoutHeight)-J42,this.rowFix.addClass(U9R),this.rowFix.show())):this.rowOverlay.hide();}};g62.prototype.drawSelectedColumn=function(Q42){if(!isNaN(Q42)){var Z42=this.coords.getRelativeColX(Q42,this.gridLayout.isSmooth);Q42=this.coords.getRelativeColX(Q42+T3yy.I5B,this.gridLayout.isSmooth);var u42=Math.min(this.coords.availableWidth,Q42);Z42<this.coords.availableWidth?(this.colOverlay.left=Z42,this.colOverlay.top=this.coords.gridStartY,this.colOverlay.width=u42-Z42,this.colOverlay.height=this.coords.availableHeight,this.colOverlay.show(),Q42>u42&&(this.colFix.top=this.coords.gridStartY,this.colFix.left=u42,this.colFix.width=Math.min(Q42,this.coords.layoutWidth)-u42,this.colFix.height=this.coords.colHeadersHeight,this.colFix.addClass(U9R),this.colFix.show())):this.colOverlay.hide();}};g62.prototype.drawHeaderSelection=function(D42,P42,e42,B42){D42=this.coords.getRelativeColX(D42,this.gridLayout.isSmooth);P42=Math.min(this.coords.layoutWidth,this.coords.getRelativeColX(P42+T3yy.I5B,this.gridLayout.isSmooth));D42<this.coords.layoutWidth?(this.colOverlay.left=D42,this.colOverlay.top=this.coords.gridStartY,this.colOverlay.width=P42-D42,this.colOverlay.height=this.coords.getSheetHeaderHeight(),this.colOverlay.show()):this.colOverlay.hide();e42=this.coords.getRelativeRowY(e42,this.gridLayout.isSmooth);B42=Math.min(this.coords.layoutHeight,this.coords.getRelativeRowY(B42+T3yy.I5B,this.gridLayout.isSmooth));this.rowOverlay.left=T3yy.N5B;this.rowOverlay.top=e42;this.rowOverlay.width=this.coords.getSheetHeaderWidth();this.rowOverlay.height=B42-e42;this.rowOverlay.show();};return g62;}(uicontrols.UIElement);k62.SelectionCanvas=y62;}(j62.sheet||(j62.sheet={})));}(O62.grid||(O62.grid={})));}(B62._view||(B62._view={})));}(pivot||(pivot={})));var ScrollPane=function(j42){var d1a=T3yy;var L9R="placeholder";var C6R="verticalScroll";var t9R="contentHeight";var r9R="scrollTop";var q9R="content";var T6R="horizontalScroll";var x9R="contentWidth";var G9R="scrollLeft";__extends(O42,j42);Object.defineProperty(O42.prototype,x9R,{get:function(){return this._placeholder.width;},set:function(y42){this._placeholder.width=y42;},enumerable:!d1a.N5B,configurable:!d1a.N5B});Object.defineProperty(O42.prototype,t9R,{get:function(){return this._placeholder.height;},set:function(g42){this._placeholder.height=g42;},enumerable:!d1a.N5B,configurable:!d1a.N5B});Object.defineProperty(O42.prototype,G9R,{get:function(){return this.element.scrollLeft;},set:function(a42){this.element.scrollLeft=a42;},enumerable:!d1a.N5B,configurable:!d1a.N5B});Object.defineProperty(O42.prototype,r9R,{get:function(){return this.element.scrollTop;},set:function(X42){this.element.scrollTop=X42;},enumerable:!d1a.N5B,configurable:!d1a.N5B});Object.defineProperty(O42.prototype,q9R,{get:function(){return this._content;},enumerable:!d1a.N5B,configurable:!d1a.N5B});Object.defineProperty(O42.prototype,L9R,{get:function(){return this._placeholder;},enumerable:!d1a.N5B,configurable:!d1a.N5B});function O42(){var i9R="wdr-scroll-content";var I9R="wdr-scroll-placeholder";var N9R="wdr-scroll-pane";var k42=j42.call(this,d1a.w9B,N9R)||this;k42._placeholder=new uicontrols.UIElement(d1a.w9B,I9R);k42._content=new uicontrols.UIElement(d1a.w9B,i9R);k42.addChild(k42._content);k42.addChild(k42._placeholder);return k42;}Object.defineProperty(O42.prototype,T6R,{set:function(b42){this.element.style.overflowX=b42?C3yy.c4B:J3yy.s8t;},enumerable:!d1a.N5B,configurable:!d1a.N5B});Object.defineProperty(O42.prototype,C6R,{set:function(z42){this.element.style.overflowY=z42?C3yy.c4B:J3yy.s8t;},enumerable:!d1a.N5B,configurable:!d1a.N5B});return O42;}(uicontrols.UIElement);(function(S42){(function(m42){(function(R42){(function(s42){var f42=function(E42){__extends(K42,E42);K42.prototype.draw=function(){var N3M=T3yy;var o42=[],W42=new HtmlNodeWrapper();if(S42.model._options.OptionsManager.showHeaders){W42.tag=N3M.w9B;W42.addClass(F3yy.J6R);W42.text+=this.createSheetHeaderCell().toHtml();for(var p42=N3M.N5B;p42<this._coords.frozenColsCount;p42++)W42.text+=this.createColumnSheetHeaderCell(p42).toHtml();o42.push(W42.toHtml());for(p42=N3M.N5B;p42<this._coords.frozenRowsCount;p42++)W42.text=this.createRowSheetHeaderCell(p42).toHtml(),o42.push(W42.toHtml());}o42=o42.join(N3M.o9B);this.element.innerHTML!=o42&&this.html(o42);};K42.prototype.clear=function(){};function K42(Y42){var v42=E42.call(this,Y42,T3yy.r0B)||this;v42._coords=Y42;return v42;}return K42;}(s42.AbstractSheet);s42.SheetHeaders=f42;}(R42.sheet||(R42.sheet={})));}(m42.grid||(m42.grid={})));}(S42._view||(S42._view={})));}(pivot||(pivot={})));var HtmlNode=function(){w42.prototype.addClass=function(d42){T3yy.N5B>this.classes.indexOf(d42)&&this.classes.push(d42);};w42.prototype.toHtml=function(){var r0a=T3yy;var G0a=C3yy;var u6R=' class="';var F6R=' style="';var Q6R=';"';var Z6R='="';var D6R="</";var c42=F3yy.K7R+this.tag,A42=[],l42;for(l42 in this.style)A42.push(l42+G0a.u3J+this.style[l42]);r0a.N5B<A42.length&&(c42+=F6R+A42.join(G0a.N3J)+Q6R);r0a.N5B<this.classes.length&&(c42+=u6R+this.classes.join(r0a.L0B)+G0a.o3J);for(var h42 in this.attr)c42+=r0a.L0B+h42+Z6R+this.attr[h42]+G0a.o3J;return c42+=F3yy.E7R+(this.text||r0a.o9B)+D6R+this.tag+F3yy.E7R;};function w42(n42){void T3yy.N5B===n42&&(n42=T3yy.w9B);this.text=this.tag=T3yy.o9B;this.style={};this.attr={};this.classes=[];this.tag=n42;}return w42;}(),HtmlNodeWrapper=function(){var c1a=T3yy;var B6R="style";var P6R="tag";var O6R="attr";var e6R="node";Object.defineProperty(M42.prototype,e6R,{get:function(){return this._node;},enumerable:!c1a.N5B,configurable:!c1a.N5B});Object.defineProperty(M42.prototype,P6R,{get:function(){return this.node.tag;},set:function(V42){this.node.tag=V42;},enumerable:!c1a.N5B,configurable:!c1a.N5B});Object.defineProperty(M42.prototype,c1a.A6B,{get:function(){return this.node.text;},set:function(U42){this.node.text=U42;},enumerable:!c1a.N5B,configurable:!c1a.N5B});Object.defineProperty(M42.prototype,B6R,{get:function(){return this.node.style;},set:function(x42){this.node.style=x42;},enumerable:!c1a.N5B,configurable:!c1a.N5B});Object.defineProperty(M42.prototype,O6R,{get:function(){return this.node.attr;},set:function(t42){this.node.attr=t42;},enumerable:!c1a.N5B,configurable:!c1a.N5B});M42.prototype.addClass=function(G42){this.node.addClass(G42);};M42.prototype.clear=function(){this.tag=c1a.w9B;this.text=c1a.o9B;this.style={};this.attr={};this.node.classes=[];};function M42(H42){void c1a.N5B===H42&&(H42=c1a.w9B);this._node=new HtmlNode();this.clear();this.tag=H42;}M42.prototype.toHtml=function(q42){void c1a.N5B===q42&&(q42=!c1a.N5B);var r42=this.node.toHtml();q42&&this.clear();c1a.r0B!=pivot._view.grid.vo.GridCell.customizeCellFunction&&(r42=pivot.model.XSSCheck.valid(r42)?r42:pivot.model.XSSCheck.validate(r42));return r42;};return M42;}();(function(L42){(function(N42){(function(I42){(function(i42){var T22=function(J22){__extends(C22,J22);C22.prototype.draw=function(){var T7M=T3yy;this.setContentSize();var F22=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(F22.bottom)||this._coords.isOnColEdge(F22.right)||!this._bounds.contains(F22)){var Q22=F22.clone();T7M.N5B!=this._coords.maxColsCount&&(Q22.right=Math.min(Q22.right,this._coords.maxColsCount));T7M.N5B!=this._coords.maxRowsCount&&(Q22.bottom=Math.min(Q22.bottom,this._coords.maxRowsCount));if(!this.isSmooth||!this._boundsSmooth.contains(Q22)||!this._coords.canDrawAll&&(F22.left>this._coords.frozenColsCount&&F22.left<=this._boundsSmooth.left||F22.top>this._coords.frozenRowsCount&&F22.top<=this._boundsSmooth.top)){this._coords.isOnColEdge(F22.right)&&(F22.left=Math.max(F22.left-T7M.I5B,this._coords.frozenColsCount));this._coords.isOnRowEdge(F22.bottom)&&(F22.top=Math.max(F22.top-T7M.I5B,this._coords.frozenRowsCount));for(var Q22=[],u22=new HtmlNodeWrapper(),Z22=F22.top;Z22<F22.bottom;Z22++){u22.tag=T7M.w9B;u22.addClass(F3yy.J6R);u22.attr[F3yy.O9R]=Z22;for(var D22=F22.left;D22<F22.right;++D22)u22.text+=this.createCell(Z22,D22).toHtml();Q22.push(u22.toHtml());}this.scrollPane.placeholder.html(T7M.o9B);this.scrollPane.placeholder.visible=this._coords.hasHorizontalScroll||this._coords.hasVerticalScroll;this.scrollPane.content.html(Q22.join(T7M.o9B));this.scrollPane.content.show();Q22.length=T7M.N5B;this.isSmooth=!T7M.I5B;this._bounds.set(F22);}}};function C22(){return T3yy.r0B!==J22&&J22.apply(this,arguments)||this;}C22.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left);this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top);};C22.prototype.drawSmooth=function(){var F7M=T3yy;var e22=this.getBounds(!F7M.N5B);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(e22))){this._boundsSmooth=e22;for(var e22=[],P22=this._boundsSmooth.top;P22<this._boundsSmooth.bottom;P22++){this._coords.getRowHeight(P22);for(var B22=this._boundsSmooth.left;B22<this._boundsSmooth.right;++B22)e22.push(this.createCell(P22,B22,!F7M.N5B).toHtml());}this.scrollPane.placeholder.html(e22.join(F7M.o9B));this.scrollPane.placeholder.show();this.scrollPane.content.hide();this.scrollPane.content.html(F7M.o9B);e22=this.getBounds();this.isSmooth||this._coords.isOnRowEdge(e22.bottom)||(this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!F7M.I5B));this.isSmooth||this._coords.isOnColEdge(e22.right)||(this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!F7M.I5B));this.isSmooth=!F7M.N5B;}};C22.prototype.getBounds=function(O22){void T3yy.N5B===O22&&(O22=!T3yy.I5B);var j22=new i42.Bounds();j22.top=this._coords.getBoundTop(O22);j22.left=this._coords.getBoundLeft(O22);j22.bottom=this._coords.getBoundBottom(O22);j22.right=this._coords.getBoundRight(O22);return j22;};C22.prototype.setContentSize=function(){this.scrollPane.contentWidth=Math.max(this._coords.dataContentWidth,this._coords.dataWidth-this._coords.scrollBarWidth);this.scrollPane.contentHeight=Math.max(this._coords.dataContentHeight,this._coords.dataHeight-this._coords.scrollBarHeight);this.scrollPane.content.right=this._coords.scrollBarWidth;this.scrollPane.content.bottom=this._coords.scrollBarHeight;this.scrollPane.horizontalScroll=this._coords.hasHorizontalScroll;this.scrollPane.verticalScroll=this._coords.hasVerticalScroll;};return C22;}(i42.BaseSheet);i42.DataSheet=T22;}(I42.sheet||(I42.sheet={})));}(N42.grid||(N42.grid={})));}(L42._view||(L42._view={})));}(pivot||(pivot={})));(function(k22){(function(y22){(function(g22){(function(a22){var X22=function(z22){__extends(b22,z22);b22.prototype.draw=function(){var u7M=T3yy;this.setContentSize();var S22=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(S22.bottom)||!this._bounds.contains(S22)){var m22=S22.clone();u7M.N5B!=this._coords.maxRowsCount&&(m22.bottom=Math.min(m22.bottom,this._coords.maxRowsCount));if(!this.isSmooth||!this._boundsSmooth.contains(m22)){this._coords.isOnRowEdge(S22.bottom)&&(S22.top=Math.max(S22.top-u7M.I5B,this._coords.frozenRowsCount));for(var m22=[],R22=new HtmlNodeWrapper(),s22=S22.top;s22<S22.bottom;s22++){R22.tag=u7M.w9B;R22.addClass(F3yy.J6R);R22.attr[F3yy.O9R]=s22;k22.model._options.OptionsManager.showHeaders&&(R22.text+=this.createRowSheetHeaderCell(s22).toHtml());for(var f22=S22.left;f22<S22.right;++f22)R22.text+=this.createCell(s22,f22).toHtml();m22.push(R22.toHtml());}this.scrollPane.placeholder.html(u7M.o9B);this.scrollPane.placeholder.hide();this.scrollPane.content.html(m22.join(u7M.o9B));this.scrollPane.content.show();m22.length=u7M.N5B;this._isSmooth=!u7M.I5B;this._bounds.set(S22);}}};b22.prototype.createRowSheetHeaderCell=function(E22,K22){void T3yy.N5B===K22&&(K22=!T3yy.I5B);this.cell=z22.prototype.createRowSheetHeaderCell.call(this,E22,K22);K22||(this.cell.style[F3yy.b9R]=this.cell.style.height,delete this.cell.style.height,delete this.cell.style[F3yy.R9R]);return this.cell;};b22.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top);};b22.prototype.getBounds=function(Y22){void T3yy.N5B===Y22&&(Y22=!T3yy.I5B);var v22=new a22.Bounds();v22.top=this._coords.getBoundTop(Y22);v22.left=T3yy.N5B;v22.bottom=this._coords.getBoundBottom(Y22);v22.right=this._coords.frozenColsCount;Y22&&v22.bottom==this._coords.maxRowsCount&&v22.bottom++;return v22;};b22.prototype.drawSmooth=function(){var B7M=T3yy;var W22=this.getBounds(!B7M.N5B);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(W22))){this._boundsSmooth=W22;for(var W22=[],p22=this._boundsSmooth.top;p22<this._boundsSmooth.bottom;p22++){k22.model._options.OptionsManager.showHeaders&&W22.push(this.createRowSheetHeaderCell(p22,!B7M.N5B).toHtml());for(var o22=this._boundsSmooth.left;o22<this._boundsSmooth.right;++o22)W22.push(this.createCell(p22,o22,!B7M.N5B).toHtml());}this.scrollPane.placeholder.html(W22.join(B7M.o9B));this.scrollPane.content.hide();this.scrollPane.content.html(B7M.o9B);this.scrollPane.placeholder.show();this.isSmooth||this._coords.isOnRowEdge(this._bounds.bottom)?this._scrollPane.scrollTop=this._coords.scrollTop:this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!B7M.I5B);this.isSmooth=!B7M.N5B;}};b22.prototype.setContentSize=function(){this.scrollPane.contentHeight=this._coords.dataContentHeight+this._coords.scrollBarHeight;this.scrollPane.content.bottom=T3yy.N5B;this.scrollPane.scrollTop=this._coords.scrollTop;};function b22(){return T3yy.r0B!==z22&&z22.apply(this,arguments)||this;}b22.prototype.getCellByPosition=function(c22,A22){var k7M=T3yy;var n22=this._coords.getColIndexAtPosition(c22,!k7M.N5B)-k7M.I5B,d22=this._coords.getRowIndexAtPosition(A22)-k7M.I5B,w22=this._getDataFunc(d22,n22);k7M.r0B==w22&&(w22=new g22.vo.GridCell(),w22.rowIdx=d22,w22.colIdx=n22);return w22;};return b22;}(a22.BaseSheet);a22.RowHeadersSheet=X22;}(g22.sheet||(g22.sheet={})));}(y22.grid||(y22.grid={})));}(k22._view||(k22._view={})));}(pivot||(pivot={})));(function(l22){(function(h22){(function(M22){(function(H22){var V22=function(x22){__extends(U22,x22);U22.prototype.draw=function(){var y7M=T3yy;utils.fmClearTimeout(this._bgTimeout);this.setContentSize();var t22=this.getBounds();if(this.isSmooth||this._coords.isOnColEdge(t22.right)||!this._bounds.contains(t22)){var G22=t22.clone();y7M.N5B!=this._coords.maxColsCount&&(G22.right=Math.min(G22.right,this._coords.maxColsCount));if(!this.isSmooth||!this._boundsSmooth.contains(G22)){this._coords.isOnColEdge(t22.right)&&(t22.left=Math.max(t22.left-y7M.I5B,this._coords.frozenColsCount));G22=[];l22.model._options.OptionsManager.showHeaders&&G22.push(this.createSheetHeaders(t22));for(var r22=new HtmlNodeWrapper(),q22=t22.top;q22<t22.bottom;q22++){r22.tag=y7M.w9B;r22.addClass(F3yy.J6R);r22.attr[F3yy.O9R]=q22;for(var L22=t22.left;L22<t22.right;++L22)r22.text+=this.createCell(q22,L22).toHtml();G22.push(r22.toHtml());}this.scrollPane.placeholder.html(y7M.o9B);this.scrollPane.placeholder.hide();this.scrollPane.content.html(G22.join(y7M.o9B));this.scrollPane.content.show();G22.length=y7M.N5B;this.isSmooth=!y7M.I5B;this._bounds.set(t22);}}};U22.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left);};U22.prototype.getBounds=function(I22){void T3yy.N5B===I22&&(I22=!T3yy.I5B);var N22=new H22.Bounds();N22.top=T3yy.N5B;N22.left=this._coords.getBoundLeft(I22);N22.bottom=this._coords.frozenRowsCount;N22.right=this._coords.getBoundRight(I22);I22&&N22.right==this._coords.maxColsCount&&N22.right++;return N22;};U22.prototype.drawSmooth=function(){var X7M=T3yy;var T82=this.getBounds(!X7M.N5B);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(T82))){this._boundsSmooth=T82;utils.fmClearTimeout(this._bgTimeout);for(var T82=[],i22=this._boundsSmooth.top;i22<this._boundsSmooth.bottom;i22++)for(var C82=this._boundsSmooth.left;C82<this._boundsSmooth.right;++C82)T82.push(this.createCell(i22,C82,!X7M.N5B).toHtml());i22=X7M.o9B;l22.model._options.OptionsManager.showHeaders&&(i22+=this.createSheetHeaders(this._boundsSmooth,!X7M.N5B));i22+=T82.join(X7M.o9B);this.scrollPane.placeholder.html(i22);this.scrollPane.content.hide();this.scrollPane.content.html(X7M.o9B);this.scrollPane.placeholder.show();this.isSmooth||this._coords.isOnColEdge(this._bounds.right)?this.scrollPane.scrollLeft=this._coords.scrollLeft:this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!X7M.I5B);this.isSmooth=!X7M.N5B;}};U22.prototype.setContentSize=function(){this.scrollPane.contentWidth=this._coords.dataContentWidth+this._coords.scrollBarWidth;this.scrollPane.content.right=T3yy.N5B;};U22.prototype.backgroundProcess=function(){var z7M=T3yy;var u82=this;utils.fmClearTimeout(this._bgTimeout);for(var Z82=[],e82=this._coords.getColIndicesWithUndefinedWidth(z7M.c1B),F82=z7M.N5B;F82<this._coords.frozenRowsCount;F82++)for(var D82=z7M.N5B;D82<e82.length;D82++){var P82=e82[D82];this.isCellEmpty(F82,P82)||Z82.push(this.createCell(F82,P82,!z7M.N5B).toHtml());}if(z7M.N5B<Z82.length){var J82=this._scrollPane.placeholder.element,Q82=J82.children.length,B82=J82.innerHTML;J82.innerHTML=B82+Z82.join();this.requestAnimationFrame(function(){for(Q82;Q82<J82.children.length;Q82++)u82.updateColWidth(J82.children.item(Q82));J82.innerHTML=B82;u82._bgTimeout=utils.fmSetTimeout(function(){return u82.backgroundProcess();},z7M.E0B);});}};U22.prototype.createSheetHeaders=function(y82,k82){var m7M=T3yy;void m7M.N5B===k82&&(k82=!m7M.I5B);for(var j82=m7M.o9B,O82=y82.left;O82<y82.right;++O82)j82+=this.createColumnSheetHeaderCell(O82,k82).toHtml();k82||(O82=new HtmlNodeWrapper(),O82.tag=m7M.w9B,O82.addClass(F3yy.J6R),O82.text=j82,j82=O82.toHtml());return j82;};function U22(){return T3yy.r0B!==x22&&x22.apply(this,arguments)||this;}U22.prototype.getCellByPosition=function(b82,z82){var f7M=T3yy;var a82=this._coords.getColIndexAtPosition(b82)-f7M.I5B,X82=this._coords.getRowIndexAtPosition(z82,!f7M.N5B)-f7M.I5B,g82=this._getDataFunc(X82,a82);f7M.r0B==g82&&(g82=new M22.vo.GridCell(),g82.rowIdx=X82,g82.colIdx=a82);return g82;};U22.prototype.clearDrawings=function(){utils.fmClearTimeout(this._bgTimeout);};U22.prototype.dispose=function(){this.clearDrawings();x22.prototype.dispose.call(this);};return U22;}(H22.BaseSheet);H22.ColumnHeadersSheet=V22;}(M22.sheet||(M22.sheet={})));}(h22.grid||(h22.grid={})));}(l22._view||(l22._view={})));}(pivot||(pivot={})));(function(S82){(function(m82){(function(R82){(function(s82){var f82=function(E82){var E29=T3yy;var R6R="getDataFunction";var K6R="dataProvider";var S6R="coords";var p6R="wdr-header-drop-indicator";var m6R="selectedCell";var E6R="selectionManager";__extends(K82,E82);K82.prototype.setControls=function(){this.createTitle();this.createSheetHeaders();this.createColsSheet();this.createRowsSheet();this.createDataSheet();this.createResizeHandles();};K82.prototype.createTitle=function(){var j6R="wdr-grid-title";this._title=new uicontrols.UILabel();this._title.container.display=E29.D6B;this._title.setId(j6R);this._title.addClass(F3yy.V1R);this._title.setSelectable(!E29.N5B);this._title.container.css(E29.N6B,C3yy.X8B);this._title.hide();this.addComponent(this._title);};K82.prototype.createSheetHeaders=function(){var k6R="wdr-sheet-headers";this._sheetHeaders=new s82.SheetHeaders(this._coords);this._sheetHeaders.id=k6R;this.addChild(this._sheetHeaders);};K82.prototype.createColsSheet=function(){var o82=this;this._colsSheet=new s82.ColumnHeadersSheet(this._coords,function(w82,n82){return o82.getCell(w82,n82);});this._colsSheet.id=F3yy.y6R;this._colsSheet.scrollPane.element.addEventListener(F3yy.g6R,this.colsScrollHandler);this._colsSheet.addEventListener(R82.GridEvent.MOUSE_CLICK,function(d82){return o82.onClick(d82);});this.addChild(this._colsSheet);};K82.prototype.createRowsSheet=function(){var a6R="wdr-rows-sheet";var c82=this;this._rowsSheet=new s82.RowHeadersSheet(this._coords,function(A82,l82){return c82.getCell(A82,l82);});this._rowsSheet.id=a6R;this._rowsSheet.scrollPane.element.addEventListener(F3yy.g6R,this.rowsScrollHandler);this._rowsSheet.addEventListener(R82.GridEvent.MOUSE_CLICK,function(h82){return c82.onClick(h82);});this.addChild(this._rowsSheet);};K82.prototype.createDataSheet=function(){var X6R="wdr-data-sheet";var M82=this;this._dataSheet=new s82.DataSheet(this._coords,function(H82,V82){return M82.getCell(H82,V82);});this._dataSheet.id=X6R;this._dataSheet.scrollPane.element.addEventListener(C3yy.c4B,this.dataScrollHandler,!E29.N5B);this._dataSheet.addEventListener(s82.BaseSheet.EVENT_SWITCHED_TO_SIMPLE,function(U82){return M82.onModeSwitched(U82);});this._dataSheet.addEventListener(s82.BaseSheet.EVENT_SWITCHED_TO_SMOOTH,function(x82){return M82.onModeSwitched(x82);});this._dataSheet.addEventListener(R82.GridEvent.MOUSE_CLICK,function(t82){return M82.onClick(t82);});this.addChild(this._dataSheet);};K82.prototype.createResizeHandles=function(){var G82=this;this._colResizeHandles=new s82.ColumnResizeHandles(this);this._colResizeHandles.id=F3yy.b6R;this._colResizeHandles.addEventListener(R82.GridEvent.RESIZE_COLUMN,function(r82){return G82.onColResize(r82);});this.addChild(this._colResizeHandles);this._rowResizeHandles=new s82.RowResizeHandles(this);this._rowResizeHandles.id=F3yy.z6R;this._rowResizeHandles.addEventListener(R82.GridEvent.RESIZE_ROW,function(q82){return G82.onRowResize(q82);});this.addChild(this._rowResizeHandles);this.element.addEventListener(F3yy.c5R,this.sheetHeaderDbClickHandler);};K82.prototype.draw=function(){var L82=this;this._coords.clearCache();this._dataSheet.width&&this._dataSheet.height||this.drawLayout();this._coords.setScale();this.adjustScrollPosition()||(utils.fmClearTimeout(this._drawSmoothTimer),this.disposeAnimationDraws(),this.animationDraws.push(this.requestAnimationFrame(function(){return L82._draw();})));};K82.prototype.disposeAnimationDraws=function(){for(;E29.N5B<this.animationDraws.length;)this.cancelAnimationFrame(this.animationDraws.pop());};K82.prototype._draw=function(){var N82=this;m82.PivotView.stage.dispatchWith(m82.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!E29.I5B});this._coords.applyPendingSizes();this.drawFirst();this._isHeadersDirty&&(this.calculateSizesFirst()&&(this._coords.applyPendingSizes(),this._colsSheet.clearBounds(),this._rowsSheet.clearBounds(),this.drawFirst()),this._isHeadersDirty=!E29.I5B);this.drawLast();S82.model.JavaScriptHandlers.getInstance().dispatch(new S82.model.APIEvent(S82.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!E29.I5B}));this.animationDraws.push(this.requestAnimationFrame(function(){N82.drawLayout();N82._selectionManager.draw();}));this.animationDraws.push(this.requestAnimationFrame(function(){var I82=N82.calculateSizesAll();I82?(N82._colsSheet.clearBounds(),N82._rowsSheet.clearBounds(),N82._dataSheet.clearBounds(),N82.draw()):N82._coords.canDrawSmooth&&(utils.fmClearTimeout(N82._drawSmoothTimer),N82._drawSmoothTimer=utils.fmSetTimeout(function(){return N82.drawSmooth();},N82.smoothTimeout));I82||N82.makeFieldsDraggable();}));this.animationDraws.push(this.requestAnimationFrame(function(){m82.PivotView.stage.dispatchWith(m82.ViewEvent.AFTER_GRID_DRAW,N82,{smooth:!E29.I5B});}));};K82.prototype.drawFirst=function(){this._coords.titleHeight=utils.nullOrEmpty(S82.model._options.OptionsManager.gridTitle)?E29.N5B:this._title.getHeight(!E29.N5B);this._colsSheet.draw();this._colsSheet.adjustScrollPaneOffset();this._rowsSheet.draw();this._rowsSheet.adjustScrollPaneOffset();};K82.prototype.drawLast=function(){this._sheetHeaders.draw();this._selectionManager.draw();this._colResizeHandles.draw();this._rowResizeHandles.draw();this._dataSheet.draw();this._dataSheet.adjustScrollPaneOffset();};K82.prototype.calculateSizesFirst=function(){this._colsSheet.calculateSizes(!E29.N5B);this._rowsSheet.calculateSizes(!E29.N5B);return this._colsSheet.isDirty||this._rowsSheet.isDirty;};K82.prototype.calculateSizesAll=function(){this._dataSheet.calculateSizes(!E29.N5B);this._colsSheet.calculateSizes(!E29.N5B);this._rowsSheet.calculateSizes(!E29.N5B);return this._dataSheet.isDirty||this._colsSheet.isDirty||this._rowsSheet.isDirty;};K82.prototype.drawSmooth=function(){var i82=this;this.disposeAnimationDraws();this.animationDraws.push(this.requestAnimationFrame(function(){return i82._drawSmooth();}));};K82.prototype._drawSmooth=function(){var T3G=this;m82.PivotView.stage.dispatchWith(m82.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!E29.N5B});this._colsSheet.drawSmooth();this._rowsSheet.drawSmooth();this._dataSheet.drawSmooth();S82.model.JavaScriptHandlers.getInstance().dispatch(new S82.model.APIEvent(S82.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!E29.N5B}));this.type==s82.flat.FlatGridLayout.TYPE&&this.makeFieldsDraggable();this.animationDraws.push(this.requestAnimationFrame(function(){T3G._colsSheet.calculateSizesSmooth(!E29.N5B);T3G._rowsSheet.calculateSizesSmooth(!E29.N5B);T3G._dataSheet.calculateSizesSmooth(!E29.N5B);if(T3G._colsSheet.isDirty||T3G._rowsSheet.isDirty||T3G._dataSheet.isDirty)T3G._colsSheet.clearBoundsSmooth(),T3G._rowsSheet.clearBoundsSmooth(),T3G._dataSheet.clearBoundsSmooth();T3G._coords.canDrawAll||T3G._colsSheet.backgroundProcess();}));this.animationDraws.push(this.requestAnimationFrame(function(){m82.PivotView.stage.dispatchWith(m82.ViewEvent.AFTER_GRID_DRAW,T3G,{smooth:!E29.N5B});}));};K82.prototype.onModeSwitched=function(J3G){var C3G=this;J3G.type==s82.BaseSheet.EVENT_SWITCHED_TO_SIMPLE&&this.animationDraws.push(this.requestAnimationFrame(function(){C3G._colsSheet.switchToSimple();C3G._rowsSheet.switchToSimple();}));};K82.prototype.onDataScroll=function(){this.setScroll(this._dataSheet.scrollPane.scrollTop,this._dataSheet.scrollPane.scrollLeft);};K82.prototype.onRowsScroll=function(F3G){this.coords.hasVerticalScroll&&(F3G=F3G.wheelDeltaY||F3G.deltaY||F3G.wheelDelta||E29.N5B,utils.browserVersion().isFirefox&&(F3G*=-E29.w1B),utils.browserVersion().isMsie&&(F3G*=-E29.I5B),isNaN(F3G)||E29.N5B==F3G||(this._dataSheet.scrollPane.scrollTop=this._coords.scrollTop-F3G));};K82.prototype.onColsScroll=function(Q3G){this.coords.hasHorizontalScroll&&(Q3G=Q3G.wheelDeltaX||Q3G.deltaX||E29.N5B,utils.browserVersion().isFirefox&&(Q3G*=-E29.w1B),utils.browserVersion().isMsie&&(Q3G*=-E29.I5B),E29.N5B!=Q3G&&(this._dataSheet.scrollPane.scrollLeft=this._coords.scrollLeft-Q3G));};Object.defineProperty(K82.prototype,E29.c6B,{get:function(){return this._type;},enumerable:!E29.N5B,configurable:!E29.N5B});Object.defineProperty(K82.prototype,S6R,{get:function(){return this._coords;},enumerable:!E29.N5B,configurable:!E29.N5B});K82.prototype.drawLayout=function(){this.width=this.coords.layoutWidth;this.height=this.coords.layoutHeight;utils.nullOrEmpty(S82.model._options.OptionsManager.gridTitle)?this._title.hide():(this._title.setLabel(S82.model._options.OptionsManager.gridTitle),this._title.show());this._colResizeHandles.left=E29.N5B;this._colResizeHandles.top=this.coords.gridStartY;this._colResizeHandles.right=E29.N5B;this._colResizeHandles.height=this.coords.getSheetHeaderHeight();this._rowResizeHandles.left=E29.N5B;this._rowResizeHandles.top=this.coords.gridStartY;this._rowResizeHandles.bottom=E29.N5B;this._rowResizeHandles.width=this.coords.getSheetHeaderWidth();};K82.prototype.triggerCellAction=function(u3G){E29.r0B!=u3G&&this.dispatch(new R82.GridClickEvent(u3G));};Object.defineProperty(K82.prototype,m6R,{get:function(){var Z3G;E29.r0B!=this._selectionManager.from&&(Z3G=this.getCell(this._selectionManager.from.y,this._selectionManager.from.x,!E29.N5B),E29.r0B==Z3G&&(Z3G=new R82.vo.GridCell(),Z3G.rowIdx=this._selectionManager.from.y,Z3G.colIdx=this._selectionManager.from.x));return Z3G;},enumerable:!E29.N5B,configurable:!E29.N5B});K82.prototype.getCell=function(P3G,B3G,e3G,D3G){void E29.N5B===D3G&&(D3G=!E29.I5B);e3G=this._dataProvider.getData(P3G,B3G,!D3G);return D3G&&E29.r0B==e3G?this._dataProvider.getDataFrozen(P3G,B3G):e3G;};function K82(){var v82=E82.call(this,E29.w9B,F3yy.Y5R)||this;v82.smoothTimeout=C3yy.t4B;v82.animationDraws=[];v82._isHeadersDirty=!E29.I5B;v82.colsScrollHandler=function(Y82){return v82.onColsScroll(Y82);};v82.rowsScrollHandler=function(W82){return v82.onRowsScroll(W82);};v82.dataScrollHandler=function(){return v82.onDataScroll();};v82.sheetHeaderDbClickHandler=function(p82){return v82.onSheetHeaderDbClick(p82);};v82.clicks=E29.N5B;v82.disableSelection();v82._coords=new s82.GridCoords();v82._dataProvider=new s82.SheetDataProvider(v82._coords);v82._selectionManager=new s82.SelectionManager(v82);v82.setControls();return v82;}K82.prototype.insertCell=function(j3G,k3G,y3G,O3G){void E29.N5B===O3G&&(O3G=!E29.I5B);this._dataProvider.setData(j3G,k3G,y3G,O3G);};K82.prototype.resize=function(g3G,a3G){this._coords.resize(g3G,a3G,!E29.N5B);};Object.defineProperty(K82.prototype,R6R,{set:function(X3G){this._dataProvider.getDataFunction=X3G;},enumerable:!E29.N5B,configurable:!E29.N5B});K82.prototype.setDataSize=function(b3G,z3G){this._coords.dataRowsCount=b3G;this._coords.dataColsCount=z3G;};K82.prototype.freezeRows=function(S3G){S3G!=this._coords.frozenRowsCount&&(this._coords.firstDataRowIdx=S3G+(this._coords.firstDataRowIdx-this._coords.frozenRowsCount));this._coords.frozenRowsCount=S3G;};K82.prototype.freezeColumns=function(m3G){m3G!=this._coords.frozenColsCount&&(this._coords.firstDataColIdx=m3G+(this._coords.firstDataColIdx-this._coords.frozenColsCount));this._coords.firstDataColIdx<m3G&&(this._coords.firstDataColIdx=m3G);this._coords.frozenColsCount=m3G;};K82.prototype.clearAll=function(){this._isHeadersDirty=!E29.N5B;this._dataProvider.reset();this._coords.reset();this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this._selectionManager.clear();this._dataSheet.scrollPane.scrollTop=E29.N5B;this._dataSheet.scrollPane.scrollLeft=E29.N5B;this.clearDrawings();};K82.prototype.clearData=function(){this._dataProvider.reset();this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this._coords.clearCache();};K82.prototype.clearColSizes=function(R3G){this._isHeadersDirty=!E29.N5B;this._coords.clearColSizes(R3G);};K82.prototype.clearRowSizes=function(s3G){this._isHeadersDirty=!E29.N5B;this._coords.clearRowSizes(s3G);};K82.prototype.select=function(f3G,K3G,E3G,v3G){this._selectionManager.select(new s82.Point(K3G,f3G),new s82.Point(v3G,E3G));};K82.prototype.deselect=function(){this._selectionManager.clear();};K82.prototype.clearDrawings=function(){this.disposeAnimationDraws();utils.fmClearTimeout(this._drawSmoothTimer);utils.fmClearTimeout(this.clickTimeout);this._colsSheet.clearDrawings();};K82.prototype.dispose=function(){var s6R="dbclick";this._dataProvider.dispose();this._selectionManager.dispose();this.clearDrawings();this._colsSheet.removeAllEventListeners();this._colsSheet.scrollPane.element&&this._colsSheet.scrollPane.element.removeEventListener(F3yy.g6R,this.colsScrollHandler);this._colsSheet.dispose();this._rowsSheet.removeAllEventListeners();this._rowsSheet.scrollPane.element&&this._rowsSheet.scrollPane.element.removeEventListener(F3yy.g6R,this.rowsScrollHandler);this._rowsSheet.dispose();this._dataSheet.removeAllEventListeners();this._dataSheet.scrollPane.element&&this._dataSheet.scrollPane.element.removeEventListener(C3yy.c4B,this.dataScrollHandler);this._dataSheet.dispose();this._colResizeHandles.removeAllEventListeners();this._colResizeHandles.dispose();this._rowResizeHandles.removeAllEventListeners();this._rowResizeHandles.dispose();this.element&&this.element.removeEventListener(s6R,this.sheetHeaderDbClickHandler);E82.prototype.dispose.call(this);};K82.prototype.onClick=function(Y3G){E29.r0B!=Y3G.cell&&this.dispatch(Y3G);this.onClickForApi(Y3G);};K82.prototype.onFilterClick=function(W3G){this.dispatch(W3G);};K82.prototype.onClickForApi=function(p3G){var s0B=300;var o3G=this;this.clicks++;E29.I5B==this.clicks&&(this.clickTimeout=utils.fmSetTimeout(function(){if(E29.I5B==o3G.clicks){if(p3G.cell){var w3G=new R82.GridSingleDoubleClickEvent(p3G.cell,!E29.N5B,p3G.element);o3G.dispatch(w3G);}}else p3G.cell&&(w3G=new R82.GridSingleDoubleClickEvent(p3G.cell,!E29.I5B,p3G.element),o3G.dispatch(w3G));o3G.clicks=E29.N5B;},s0B));};K82.prototype.setScroll=function(n3G,d3G){void E29.N5B===n3G&&(n3G=NaN);void E29.N5B===d3G&&(d3G=NaN);var c3G=!E29.I5B;isNaN(n3G)||n3G==this.coords.scrollTop||(this.coords.scrollTop=n3G,this.coords.firstDataRowIdx=this.coords.getRowIndexAtPosition(n3G),this._rowsSheet.scrollPane.scrollTop=n3G,c3G=!E29.N5B);isNaN(d3G)||d3G==this.coords.scrollLeft||(this.coords.scrollLeft=d3G,this.coords.firstDataColIdx=this.coords.getColIndexAtPosition(d3G),this._colsSheet.scrollPane.scrollLeft=d3G,c3G=!E29.N5B);c3G&&this.draw();};K82.prototype.onColResize=function(A3G){this.dispatch(A3G);this._coords.applyPendingSizes();E29.N5B<A3G.data.width?this._coords.setColWidth(A3G.data.colIdx,A3G.data.width,!E29.I5B,!E29.N5B):this._coords.resetColWidth(A3G.data.colIdx);this.drawAfterResize();};K82.prototype.onRowResize=function(l3G){this.dispatch(l3G);this._coords.applyPendingSizes();E29.N5B<l3G.data.height?this._coords.setRowHeight(l3G.data.rowIdx,l3G.data.height,!E29.I5B,!E29.N5B):this._coords.resetRowHeight(l3G.data.rowIdx);this.drawAfterResize();};K82.prototype.onSheetHeaderDbClick=function(h3G){if(!E29.I5B!=S82.model._options.OptionsManager.showHeaders){var H3G=this.getOffset(),M3G=h3G.clientX-H3G.left;h3G=h3G.clientY-H3G.top;M3G>this.coords.getSheetHeaderWidth()&&h3G>this.coords.gridStartY+this.coords.getSheetHeaderHeight()||(h3G=this.coords.getRowIdxByRelativePosition(h3G,this.isSmooth),M3G=this.coords.getColIdxByRelativePosition(M3G,this.isSmooth),-E29.I5B!=h3G||isNaN(M3G)||this._colResizeHandles.dispatchWith(R82.GridEvent.RESIZE_COLUMN,this,{width:-E29.I5B,colIdx:M3G}),-E29.I5B!=M3G||isNaN(h3G)||this._rowResizeHandles.dispatchWith(R82.GridEvent.RESIZE_ROW,this,{height:-E29.I5B,rowIdx:h3G}));}};K82.prototype.drawAfterResize=function(){this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this.adjustScrollPosition()||this.draw();};K82.prototype.adjustScrollPosition=function(){var V3G=!E29.I5B;E29.N5B<this._coords.scrollLeft&&this._coords.freeSpaceRight>this._coords.scrollLeft&&(this._dataSheet.scrollPane.scrollLeft=E29.N5B,V3G=!E29.N5B);E29.N5B<this._coords.scrollTop&&this._coords.freeSpaceTop>this._coords.scrollTop&&(this._dataSheet.scrollPane.scrollTop=E29.N5B,V3G=!E29.N5B);return V3G;};K82.prototype.getCellByElement=function(x3G){var U3G=uicontrols.UIElement.convert(x3G).closest(F3yy.f6R);return E29.r0B!=U3G?(x3G=parseInt(U3G.attr(F3yy.O9R)),U3G=parseInt(U3G.attr(F3yy.j9R)),this.getCell(x3G,U3G,!E29.N5B,!E29.N5B)):E29.r0B;};Object.defineProperty(K82.prototype,F3yy.s9R,{get:function(){return this._dataSheet.isSmooth;},enumerable:!E29.N5B,configurable:!E29.N5B});K82.prototype.scrollToRow=function(t3G){this._dataSheet.scrollPane.scrollTop=this.coords.getRowY(t3G);};K82.prototype.scrollToColumn=function(G3G){this._dataSheet.scrollPane.scrollLeft=this.coords.getColX(G3G);};Object.defineProperty(K82.prototype,K6R,{get:function(){return this._dataProvider;},enumerable:!E29.N5B,configurable:!E29.N5B});Object.defineProperty(K82.prototype,E6R,{get:function(){return this._selectionManager;},enumerable:!E29.N5B,configurable:!E29.N5B});K82.prototype.resizeColumn=function(r3G,q3G){this.coords.setColWidth(r3G,q3G,!E29.I5B,!E29.N5B);};K82.prototype.resizeRow=function(L3G,N3G){this.coords.setRowHeight(L3G,N3G,!E29.I5B,!E29.N5B);};K82.prototype.makeFieldsDraggable=function(){var I3G=this;this.droppable({onDrop:function(i3G,T7G,C7G,J7G){return I3G.onDrop(i3G,T7G,C7G,J7G);},onDragOver:function(F7G,Q7G,u7G,Z7G){return I3G.onDragOver(F7G,Q7G,u7G,Z7G);},onDragLeave:function(D7G,e7G,P7G,B7G){return I3G.onDragLeave(D7G,e7G,P7G,B7G);}});};K82.prototype.createHeaderDragHelper=function(j7G){var Y6R="wdr-header-helper";var O7G=new uicontrols.UIElement(E29.f6B);O7G.addClass(F3yy.v6R);O7G.addClass(E29.P9B);O7G.addClass(Y6R);O7G.css(E29.N6B,E29.I6B);O7G.css(F3yy.W6R,E29.F0B);O7G.text(j7G.element.firstChild.textContent);return O7G;};K82.prototype.onDragOver=function(k7G,g7G,a7G,y7G){k7G=uicontrols.UIElement.convert(y7G.target);k7G.hasClass(p6R)||this.showIndicator(k7G,k7G);};K82.prototype.onDragLeave=function(X7G,b7G,z7G,S7G){this.removeDropIndicator();};K82.prototype.onDrop=function(m7G,R7G,s7G,f7G){};K82.prototype.showIndicator=function(K7G,E7G){};K82.prototype.createDropIndicator=function(){return this._dropIndicator?this._dropIndicator:new uicontrols.UIElement(E29.w9B,p6R);};K82.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!E29.N5B),this._dropIndicator=E29.r0B);};return K82;}(uicontrols.UIElement);s82.BaseGridLayout=f82;}(R82.sheet||(R82.sheet={})));}(m82.grid||(m82.grid={})));}(S82._view||(S82._view={})));}(pivot||(pivot={})));(function(v7G){(function(Y7G){(function(W7G){(function(p7G){var o7G=function(n7G){__extends(w7G,n7G);w7G.prototype.draw=function(){var V7M=T3yy;for(var l7G=[],h7G=new HtmlNodeWrapper(),M7G=V7M.N5B;M7G<this._coords.frozenRowsCount;M7G++){h7G.tag=V7M.w9B;h7G.addClass(F3yy.J6R);for(var H7G=V7M.N5B;H7G<this._coords.frozenColsCount;H7G++)if(v7G.model._options.OptionsManager.showHierarchyCaptions){var V7G=M7G-this._coords.frozenRowsCount+this._hierarchies.length;h7G.text+=this.createFilterCell(M7G,H7G,V7M.N5B<=V7G?this._hierarchies[V7G]:V7M.r0B).toHtml();}else h7G.text+=this.createCell(M7G,H7G).toHtml();l7G.push(h7G.toHtml());}l7G=l7G.join(V7M.o9B);this.element.innerHTML!=l7G&&this.html(l7G);};w7G.prototype.createFilterCell=function(t7G,G7G,U7G){var x7G=this._hierarchies.indexOf(U7G);this.cell.clear();this.cell.tag=T3yy.w9B;this.cell.addClass(W7G.vo.GridStyleName.CELL);this.cell.addClass(W7G.vo.GridStyleName.HEADER);this.cell.addClass(W7G.vo.GridStyleName.HEADER_ROW);U7G?(this.cell.addClass(W7G.vo.GridStyleName.LEVEL+x7G),this.cell.text=U7G.caption,v7G.model._options.OptionsManager.showFilter&&(this.cell.addClass(W7G.vo.GridStyleName.FILTER_HEADER),U7G.hasFilter()&&(this.cell.addClass(W7G.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(W7G.vo.GridStyleName.FILTERED_ICON,v7G.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=v7G.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(W7G.vo.GridStyleName.FILTER_ICON))):this.cell.addClass(W7G.vo.GridStyleName.CELL_EMPTY);this.setCellSize(this.cell,t7G,G7G);this.cell.attr[F3yy.j9R]=G7G;this.cell.attr[F3yy.O9R]=t7G;T3yy.N5B<=x7G&&(this.cell.attr[F3yy.o6R]=x7G);return this.cell;};function w7G(c7G){var d7G=n7G.call(this,c7G,T3yy.r0B)||this;d7G._coords=c7G;d7G._hierarchies=[];d7G.addClass(F3yy.w6R);d7G.addEventListener(W7G.GridEvent.MOUSE_CLICK,function(A7G){return d7G.onClick(A7G);});return d7G;}w7G.prototype.setHierarchies=function(L7G){for(var r7G=this._hierarchies.length=T3yy.N5B;r7G<L7G.length;r7G++){var q7G=L7G.getItemAt(r7G);!T3yy.I5B==q7G.isMeasures&&this._hierarchies.push(q7G);}};w7G.prototype.onClick=function(I7G){var N7G=I7G.element;N7G.hasClass(W7G.vo.GridStyleName.FILTER_HEADER)&&(N7G=parseInt(N7G.attr(F3yy.o6R)),isNaN(N7G)||this.dispatch(new W7G.FilterClickEvent(this._hierarchies[N7G],I7G.cell)));};w7G.prototype.clear=function(){this._hierarchies.length=T3yy.N5B;this.draw();};return w7G;}(p7G.AbstractSheet);p7G.RowsFilter=o7G;}(W7G.sheet||(W7G.sheet={})));}(Y7G.grid||(Y7G.grid={})));}(v7G._view||(v7G._view={})));}(pivot||(pivot={})));(function(i7G){(function(T5G){(function(C5G){(function(J5G){var F5G=function(u5G){__extends(Q5G,u5G);Q5G.prototype.draw=function(){var I7M=T3yy;this.removeAllChildren();if(i7G.model._options.OptionsManager.showHierarchyCaptions){var P5G=new HtmlNodeWrapper(I7M.w9B);P5G.addClass(F3yy.J6R);P5G.style.height=this._coords.getRowHeight(this.rowIndex)+I7M.m9B;for(var B5G=I7M.N5B;B5G<this._hierarchies.length;B5G++)P5G.text+=this.createFilterCell(this.rowIndex,B5G,this._hierarchies[B5G]).toHtml();this.html(P5G.toHtml());I7M.N5B==this._hierarchies.length?this.hide():this.show();}else this.hide();};Q5G.prototype.createFilterCell=function(j5G,k5G,O5G){this.cell.clear();this.cell.tag=T3yy.w9B;this.cell.addClass(C5G.vo.GridStyleName.CELL);this.cell.addClass(C5G.vo.GridStyleName.HEADER);O5G&&(this.cell.text=O5G.caption,i7G.model._options.OptionsManager.showFilter&&(this.cell.addClass(C5G.vo.GridStyleName.FILTER_HEADER),this.cell.attr.title=i7G.model._labels.Labels.TOOLTIPS_FILTER_ICON,O5G.hasFilter()&&(this.cell.addClass(C5G.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(C5G.vo.GridStyleName.FILTERED_ICON,i7G.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.text+=this.createIcon(C5G.vo.GridStyleName.FILTER_ICON)));this.cell.style[F3yy.b9R]=this._coords.getRowHeight(j5G)+T3yy.m9B;this.cell.attr[F3yy.O9R]=j5G;this.cell.attr[F3yy.o6R]=k5G;return this.cell;};Q5G.prototype.setHierarchies=function(a5G){for(var y5G=this._hierarchies.length=T3yy.N5B;y5G<a5G.length;y5G++){var g5G=a5G.getItemAt(y5G);!T3yy.I5B==g5G.isMeasures&&this._hierarchies.push(g5G);}T3yy.N5B==this._hierarchies.length?this.hide():this.show();};Q5G.prototype.onClick=function(X5G){X5G=X5G.element;if(X5G.hasClass(C5G.vo.GridStyleName.FILTER_HEADER)){var b5G=parseInt(X5G.attr(F3yy.o6R));isNaN(b5G)||this.dispatch(new C5G.FilterClickEvent(this._hierarchies[b5G],T3yy.r0B,X5G));}};function Q5G(D5G){var Z5G=u5G.call(this,D5G,T3yy.r0B)||this;Z5G.rowIndex=T3yy.N5B;Z5G._coords=D5G;Z5G._hierarchies=[];Z5G.addClass(F3yy.w6R);Z5G.hide();Z5G.addEventListener(C5G.GridEvent.MOUSE_CLICK,function(e5G){return Z5G.onClick(e5G);});return Z5G;}Q5G.prototype.clear=function(){this._hierarchies.length=T3yy.N5B;this.draw();};return Q5G;}(J5G.AbstractSheet);J5G.ColumnsFilter=F5G;}(C5G.sheet||(C5G.sheet={})));}(T5G.grid||(T5G.grid={})));}(i7G._view||(i7G._view={})));}(pivot||(pivot={})));(function(z5G){(function(S5G){(function(m5G){(function(s5G){var f5G=function(E5G){__extends(K5G,E5G);K5G.prototype.draw=function(){var p5G=this;this.removeAllChildren();if(z5G.model._options.OptionsManager.showFilter&&z5G.model._options.OptionsManager.showReportFiltersArea){for(var Y5G=T3yy.N5B;Y5G<this._hierarchies.length;Y5G++){var W5G=new R5G(this._hierarchies[Y5G],!T3yy.N5B);W5G.container.attr(F3yy.o6R,Y5G);W5G.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(o5G){return p5G.onClick(o5G);});this.addChild(W5G.container);}T3yy.N5B==this._hierarchies.length?this.hide():this.show();}else this.hide();};function K5G(){var v5G=E5G.call(this)||this;v5G._hierarchies=[];v5G.addClass(C3yy.e4B);v5G.addClass(F3yy.w6R);v5G.hide();return v5G;}K5G.prototype.setHierarchies=function(d5G){for(var w5G=this._hierarchies.length=T3yy.N5B;w5G<d5G.length;w5G++){var n5G=d5G.getItemAt(w5G);!T3yy.I5B==n5G.isMeasures&&this._hierarchies.push(n5G);}this.draw();};K5G.prototype.onClick=function(c5G){c5G=c5G.target;this.dispatch(new m5G.FilterClickEvent(c5G.hierarchy,T3yy.r0B,c5G.container));};K5G.prototype.clear=function(){this._hierarchies.length=T3yy.N5B;this.draw();};Object.defineProperty(K5G.prototype,J3yy.O2t,{get:function(){return T3yy.N5B==this._hierarchies.length;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});return K5G;}(uicontrols.UIElement);s5G.PagesFilter=f5G;var R5G=function(l5G){var y99=T3yy;var n6R="isFiltered";__extends(A5G,l5G);Object.defineProperty(A5G.prototype,J3yy.J8t,{get:function(){return this._hierarchy;},enumerable:!y99.N5B,configurable:!y99.N5B});Object.defineProperty(A5G.prototype,n6R,{get:function(){return this.container.hasClass(F3yy.C0R);},set:function(V5G){this.container.toggleClass(F3yy.C0R,V5G);},enumerable:!y99.N5B,configurable:!y99.N5B});A5G.prototype.getFilterDescription=function(){var U5G=z5G.model._labels.Labels.FILTER_ALL;this.hierarchy.hasFilter()&&(U5G=y99.I5B==this.hierarchy.filter.length?this.hierarchy.filter.getItemAt(y99.N5B).caption:z5G.model._labels.Labels.FILTER_MULTIPLE_ITEMS);return U5G;};function A5G(H5G,M5G){var c6R="wdr-filter-desc";void y99.N5B===M5G&&(M5G=!y99.I5B);var h5G=l5G.call(this)||this;h5G._isPage=!y99.I5B;h5G._hierarchy=H5G;h5G._isPage=M5G;h5G.setLabel(h5G._hierarchy.caption);h5G.removeClass(y99.X6B);h5G.addClass(m5G.vo.GridStyleName.FILTER_HEADER);h5G.addClass(m5G.vo.GridStyleName.HEADER);h5G._filterIcon=new uicontrols.UIElement(F3yy.d6R,m5G.vo.GridStyleName.ICON);h5G._filterIcon.addClass(m5G.vo.GridStyleName.FILTER_ICON);h5G.container.append(h5G._filterIcon);h5G._filteredIcon=new uicontrols.UIElement(F3yy.d6R,m5G.vo.GridStyleName.ICON);h5G._filteredIcon.addClass(m5G.vo.GridStyleName.FILTERED_ICON);h5G.container.append(h5G._filteredIcon);h5G.isFiltered=h5G._hierarchy.hasFilter();h5G._isPage&&(h5G._description=new uicontrols.UILabel(),h5G._description.setLabel(h5G.getFilterDescription()),h5G._description.addClass(c6R),h5G.addChild(h5G._description));return h5G;}return A5G;}(uicontrols.UIButton);s5G.FilterCell=R5G;}(m5G.sheet||(m5G.sheet={})));}(S5G.grid||(S5G.grid={})));}(z5G._view||(z5G._view={})));}(pivot||(pivot={})));(function(x5G){(function(t5G){(function(G5G){(function(r5G){var q5G=function(N5G){var j09=T3yy;var r6R="rowsFilter";var G6R="colsFilter";var q6R="pageFilter";var M6R=".wdr-header:not(.wdr-empty)";__extends(L5G,N5G);L5G.prototype.setControls=function(){N5G.prototype.setControls.call(this);this.createColsFilter();this.createRowsFilter();this.createPageFilter();};L5G.prototype.createColsFilter=function(){var A6R="wdr-cols-filter";var i5G=this;this._colsFilter=new r5G.ColumnsFilter(this._coords);this._colsFilter.id=A6R;this._colsFilter.addEventListener(G5G.GridEvent.FILTER_CLICK,function(T1G){return i5G.onFilterClick(T1G);});this.addChild(this._colsFilter);};L5G.prototype.createRowsFilter=function(){var C1G=this;this._rowsFilter=new r5G.RowsFilter(this._coords);this._rowsFilter.id=F3yy.l6R;this._rowsFilter.addEventListener(G5G.GridEvent.FILTER_CLICK,function(J1G){return C1G.onFilterClick(J1G);});this._rowsFilter.addEventListener(G5G.GridEvent.MOUSE_CLICK,function(F1G){return C1G.onClick(F1G);});this.addChild(this._rowsFilter);};L5G.prototype.createPageFilter=function(){var h6R="wdr-page-filter";var Q1G=this;this._pageFilter=new r5G.PagesFilter();this._pageFilter.id=h6R;this._pageFilter.addEventListener(G5G.GridEvent.FILTER_CLICK,function(u1G){return Q1G.onFilterClick(u1G);});this.addChild(this._pageFilter);};L5G.prototype.drawFirst=function(){this._coords.filtersHeight=this._pageFilter.isEmpty?j09.N5B:this._pageFilter.element.offsetHeight;N5G.prototype.drawFirst.call(this);this._rowsFilter.draw();};L5G.prototype.drawLast=function(){N5G.prototype.drawLast.call(this);this._colsFilter.draw();};L5G.prototype.calculateSizesFirst=function(){this._rowsFilter.calculateSizes(!j09.N5B);return N5G.prototype.calculateSizesFirst.call(this)||this._rowsFilter.isDirty;};L5G.prototype.calculateSizesAll=function(){this._rowsFilter.calculateSizes(!j09.N5B);return N5G.prototype.calculateSizesAll.call(this)||this._rowsFilter.isDirty;};L5G.prototype.drawLayout=function(){N5G.prototype.drawLayout.call(this);this._pageFilter.isEmpty||(this._pageFilter.top=this._coords.titleHeight,this._pageFilter.left=j09.N5B,this._pageFilter.right=j09.N5B);this._colResizeHandles.top=this._coords.gridStartY;this._rowResizeHandles.top=this._coords.gridStartY;this._sheetHeaders.top=this._coords.gridStartY;this._sheetHeaders.left=j09.N5B;this._sheetHeaders.width=this._coords.rowHeadersWidth;this._sheetHeaders.height=this._coords.colHeadersHeight;this._rowsFilter.left=this._coords.getColX(j09.N5B,!j09.N5B);this._rowsFilter.top=this._coords.gridStartY+this._coords.getRowY(j09.N5B,!j09.N5B);this._colsFilter.top=this._coords.gridStartY+this._coords.getRowY(this._colsFilter.rowIndex,!j09.N5B);this._colsFilter.left=this._coords.rowHeadersWidth;this._colsFilter.right=Math.max(j09.N5B,this._coords.layoutWidth-this._coords.getRelativeColX(this._coords.maxColsCount,this.isSmooth));this._colsSheet.left=this._coords.rowHeadersWidth;this._colsSheet.top=this._coords.gridStartY;this._colsSheet.width=this._coords.dataWidth;this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY;this._rowsSheet.left=j09.N5B;this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY;this._rowsSheet.width=this._coords.layoutWidth;this._rowsSheet.height=this._coords.dataHeight;this._dataSheet.left=this._coords.rowHeadersWidth-j09.I5B;this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-j09.I5B;this._dataSheet.width=this._coords.dataWidth;this._dataSheet.height=this._coords.dataHeight+j09.I5B;};L5G.prototype.drawAfterResize=function(){N5G.prototype.drawAfterResize.call(this);this._rowsFilter.draw();this._colsFilter.draw();};L5G.prototype.makeFieldsDraggable=function(){var P1G=this;N5G.prototype.makeFieldsDraggable.call(this);for(var e1G={createHelper:function(B1G){return P1G.createHeaderDragHelper(B1G);}},D1G=this._colsFilter.find(M6R,!j09.N5B),Z1G=j09.N5B;Z1G<D1G.length;Z1G++)D1G[Z1G].draggable(e1G);D1G=this._rowsFilter.find(M6R,!j09.N5B);for(Z1G=j09.N5B;Z1G<D1G.length;Z1G++)D1G[Z1G].draggable(e1G);D1G=this._pageFilter.find(M6R,!j09.N5B);for(Z1G=j09.N5B;Z1G<D1G.length;Z1G++)D1G[Z1G].draggable(e1G);};L5G.prototype.onDrop=function(a1G,O1G,k1G,g1G){k1G=this.getDropTargetFilter(k1G);if(j09.r0B==k1G)this.removeDropIndicator();else if(g1G=this.getDropPosition(k1G,this._dropIndicator),this.removeDropIndicator(),!isNaN(g1G)){var y1G=parseInt(a1G.attr(F3yy.o6R)),X1G=a1G.closest(F3yy.c9R);O1G=x5G.data_.Cube.getInstance().slice_.clone();var j1G;X1G==this._colsFilter?(j1G=O1G.columnsOnly.getItemAt(y1G),y1G=O1G.columns.indexOf(j1G.uniqueName)):X1G==this._rowsFilter?(j1G=O1G.rowsOnly.getItemAt(y1G),y1G=O1G.rows.indexOf(j1G.uniqueName)):X1G==this._pageFilter&&(j1G=O1G.pages.getItemAt(y1G),y1G=O1G.pages.indexOf(j1G.uniqueName));j09.r0B==j1G||k1G==X1G&&y1G==g1G||(a1G.hide(),k1G==X1G?k1G==this._colsFilter?O1G.columns.moveItemAt(y1G,g1G):k1G==this._rowsFilter?O1G.rows.moveItemAt(y1G,g1G):k1G==this._pageFilter&&O1G.pages.moveItemAt(y1G,g1G):(O1G.columns.removeItem(j1G.uniqueName),O1G.rows.removeItem(j1G.uniqueName),O1G.pages.removeItem(j1G.uniqueName),k1G==this._colsFilter?O1G.columns.addItemAt(j1G.uniqueName,j1G,g1G):k1G==this._rowsFilter?O1G.rows.addItemAt(j1G.uniqueName,j1G,g1G):k1G==this._pageFilter&&O1G.pages.addItemAt(j1G.uniqueName,j1G,g1G)),j09.I5B<O1G.columns.length&&O1G.columns.getItemAt(j09.N5B).isMeasures&&(a1G=O1G.columns.getItemAt(j09.N5B),O1G.columns.splice(j09.N5B,j09.I5B),O1G.columns.addItemAt(a1G.uniqueName,a1G,O1G.columns.length)),x5G.model.PivotModel.getInstance().runQuery(O1G));}};L5G.prototype.getDropPosition=function(b1G,z1G){return b1G==this._colsFilter?this.getColumnDropPosition(z1G):b1G==this._rowsFilter?this.getRowDropPosition(z1G):b1G==this._pageFilter?this.getPageDropPosition(z1G):NaN;};L5G.prototype.getColumnDropPosition=function(S1G){var m1G=x5G.data_.Cube.getInstance().slice_;if(j09.r0B!=S1G){S1G=S1G.index();if(S1G>m1G.columns.length)return m1G.columns.length;m1G=m1G.columns.indexOf(F3yy.H6R);j09.N5B<=m1G&&m1G<=S1G&&j09.N5B!=S1G&&S1G++;return S1G;}return NaN;};L5G.prototype.getRowDropPosition=function(R1G){var R5M=F3yy;var s1G=x5G.data_.Cube.getInstance().slice_;if(j09.r0B!=R1G){R1G=R1G.parent.hasClass(R5M.w6R)?s1G.rows.length:(R1G=R1G.parent.find(R5M.V6R))?parseInt(R1G.attr(R5M.o6R)):j09.N5B;if(R1G>s1G.rows.length)return s1G.rows.length;s1G=s1G.rows.indexOf(R5M.H6R);j09.N5B<=s1G&&s1G<=R1G&&j09.N5B!=R1G&&R1G++;return R1G;}return NaN;};L5G.prototype.getPageDropPosition=function(f1G){var K1G=x5G.data_.Cube.getInstance().slice_;return j09.r0B!=f1G?(f1G=f1G.index(),f1G>K1G.columns.length?K1G.columns.length:f1G):NaN;};L5G.prototype.getDropTargetFilter=function(Y1G){var s5M=F3yy;var U6R=".wdr-resize-handles";var v1G=Y1G.closest(s5M.c9R);if(j09.r0B==v1G){var E1G=Y1G.closest(s5M.f6R);j09.r0B!=E1G?(Y1G=parseInt(E1G.attr(s5M.O9R)),E1G=parseInt(E1G.attr(s5M.j9R)),this.isOverColumns(Y1G,E1G)?v1G=this._colsFilter:this.isOverRows(Y1G,E1G)&&(v1G=this._rowsFilter)):(E1G=Y1G.closest(U6R),j09.r0B!=E1G&&(s5M.b6R==E1G.id?v1G=this._colsFilter:s5M.z6R==E1G.id&&(v1G=this._rowsFilter)));}return v1G;};function L5G(){var I5G=N5G.call(this)||this;I5G._type=L5G.TYPE;I5G.addClass(F3yy.x6R);return I5G;}L5G.prototype.isOverColumns=function(p1G,W1G){return W1G>=this.coords.frozenColsCount;};L5G.prototype.isOverRows=function(w1G,o1G){return o1G<=this.coords.frozenColsCount;};L5G.prototype.showIndicator=function(n1G,d1G){var K5M=F3yy;var t6R=".wdr-row";n1G=this.getDropTargetFilter(n1G);if(j09.r0B==n1G)this.removeDropIndicator();else{var c1G=d1G.closest(M6R);j09.r0B!=d1G.closest(K5M.c9R)&&j09.r0B!=c1G?(this._dropIndicator=this.createDropIndicator(),n1G==this._pageFilter?c1G.before(this._dropIndicator):d1G.before(this._dropIndicator)):(this._dropIndicator=this.createDropIndicator(),n1G==this._colsFilter?this._colsFilter.find(t6R).append(this._dropIndicator):n1G==this._rowsFilter?j09.r0B!=d1G.closest(K5M.c9R)?this._rowsFilter.find(K5M.V6R).before(this._dropIndicator):this._type==r5G.classic.ClassicGridLayout.TYPE?this._rowsFilter.find(K5M.V6R).parent.append(this._dropIndicator):this._rowsFilter.append(this._dropIndicator):n1G==this._pageFilter&&this._pageFilter.append(this._dropIndicator));}};L5G.prototype.clearAll=function(){N5G.prototype.clearAll.call(this);this._colsFilter.clear();this._pageFilter.clear();this._rowsFilter.clear();};Object.defineProperty(L5G.prototype,G6R,{get:function(){return this._colsFilter;},enumerable:!j09.N5B,configurable:!j09.N5B});Object.defineProperty(L5G.prototype,r6R,{get:function(){return this._rowsFilter;},enumerable:!j09.N5B,configurable:!j09.N5B});Object.defineProperty(L5G.prototype,q6R,{get:function(){return this._pageFilter;},enumerable:!j09.N5B,configurable:!j09.N5B});L5G.prototype.dispose=function(){this._colsFilter.removeAllEventListeners();this._colsFilter.dispose();this._rowsFilter.removeAllEventListeners();this._rowsFilter.dispose();this._pageFilter.removeAllEventListeners();N5G.prototype.dispose.call(this);};L5G.TYPE=F3yy.N5R;return L5G;}(r5G.BaseGridLayout);r5G.CompactGridLayout=q5G;}(G5G.sheet||(G5G.sheet={})));}(t5G.grid||(t5G.grid={})));}(x5G._view||(x5G._view={})));}(pivot||(pivot={})));(function(A1G){(function(l1G){(function(h1G){(function(H1G){var M1G=function(U1G){var J4R="wdr-active";var T4R="wdr-handle";var C4R="data-idx";__extends(V1G,U1G);V1G.prototype.draw=function(){this._wrapper.attr(F3yy.L6R,A1G.model._labels.Labels.TOOLTIPS_HEADER_FIT);};function V1G(t1G){var v5M=T3yy;var N6R="wdr-resize-handles";var I6R="wdr-indicator";var i6R="wdr-wrapper";var x1G=U1G.call(this,v5M.w9B,N6R)||this;x1G._mouseDownHandler=function(G1G){return x1G.onMouseDown(G1G);};x1G._mouseUpHandler=function(r1G){return x1G.onMouseUp(r1G);};x1G._mouseMoveHandler=function(q1G){return x1G.onMouseMove(q1G);};x1G._handle=new HtmlNodeWrapper();x1G._gridLayout=t1G;x1G._coords=t1G.coords;x1G.element.addEventListener(v5M.B9B,x1G._mouseDownHandler);document.body.addEventListener(v5M.y9B,x1G._mouseUpHandler);x1G._indicator=new uicontrols.UIElement(v5M.w9B,I6R);x1G._indicator.hide();x1G.addChild(x1G._indicator);x1G._wrapper=new uicontrols.UIElement(v5M.w9B,i6R);x1G._wrapper.attr(F3yy.L6R,A1G.model._labels.Labels.TOOLTIPS_HEADER_FIT);x1G.addChild(x1G._wrapper);return x1G;}V1G.prototype.createHandle=function(L1G){this._handle.tag=T3yy.w9B;this._handle.addClass(T4R);this._handle.attr[C4R]=L1G;this._handle.attr.title=A1G.model._labels.Labels.TOOLTIPS_HEADER_RESIZE;return this._handle;};V1G.prototype.onMouseDown=function(N1G){if(N1G.target.classList.contains(T4R)){this._currentHandle=N1G.target;this._currentHandle.classList.add(J4R);this._baseOffset=this.getOffset();document.body.addEventListener(T3yy.j9B,this._mouseMoveHandler);N1G.stopImmediatePropagation();var I1G=parseInt(this._currentHandle.getAttribute(C4R));this.startResizing(this._currentHandle,I1G);N1G.preventDefault();N1G.stopImmediatePropagation();}};V1G.prototype.startResizing=function(i1G,T0G){};V1G.prototype.onMouseUp=function(C0G){document.body.removeEventListener(T3yy.j9B,this._mouseMoveHandler);this._currentHandle&&(this._currentHandle.classList.remove(J4R),C0G=parseInt(this._currentHandle.getAttribute(C4R)),this.stopResizing(this._currentHandle,C0G),this._currentHandle=T3yy.r0B,this._indicator.hide());};V1G.prototype.stopResizing=function(J0G,F0G){};V1G.prototype.onMouseMove=function(Z0G){var Q0G=Z0G.clientX-this._baseOffset.left,u0G=Z0G.clientY-this._baseOffset.top;if(T3yy.N5B>Q0G||T3yy.N5B>u0G||Q0G>this._coords.layoutWidth||u0G>this._coords.layoutHeight)this.onMouseUp(Z0G);else this.positionHandle(this._currentHandle,Q0G,u0G),this._indicator.show();};V1G.prototype.positionHandle=function(D0G,e0G,P0G){};V1G.prototype.dispose=function(){this.element&&this.element.removeEventListener(T3yy.B9B,this._mouseDownHandler);document.body.removeEventListener(T3yy.j9B,this._mouseMoveHandler);document.body.removeEventListener(T3yy.y9B,this._mouseUpHandler);U1G.prototype.dispose.call(this);};return V1G;}(uicontrols.UIElement);H1G.ResizeHandles=M1G;}(h1G.sheet||(h1G.sheet={})));}(l1G.grid||(l1G.grid={})));}(A1G._view||(A1G._view={})));}(pivot||(pivot={})));(function(B0G){(function(O0G){(function(j0G){(function(k0G){var y0G=function(a0G){__extends(g0G,a0G);g0G.prototype.draw=function(){var d5M=T3yy;a0G.prototype.draw.call(this);this._wrapper.removeAllChildren();for(var b0G=d5M.o9B,X0G=d5M.N5B;X0G<this._coords.frozenRowsCount;X0G++)b0G+=this.createHandle(X0G).toHtml(!d5M.N5B);for(var X0G=this._coords.getBoundTop(),z0G=Math.min(this._coords.maxRowsCount,this._coords.getBoundBottom());X0G<z0G;X0G++)b0G+=this.createHandle(X0G).toHtml(!d5M.N5B);this._wrapper.html(b0G);};g0G.prototype.createHandle=function(S0G){a0G.prototype.createHandle.call(this,S0G);this._handle.style.top=this._coords.getRelativeRowY(S0G,this._gridLayout.isSmooth,!T3yy.I5B)+this._coords.getRowHeight(S0G)+T3yy.m9B;return this._handle;};g0G.prototype.startResizing=function(R0G,m0G){this._startY=this._coords.getRelativeRowY(m0G,this._gridLayout.isSmooth,!T3yy.I5B);};function g0G(){return T3yy.r0B!==a0G&&a0G.apply(this,arguments)||this;}g0G.prototype.stopResizing=function(f0G,K0G){var s0G=Math.round(f0G.offsetTop+f0G.clientHeight/T3yy.i5B-this._startY),s0G=Math.max(k0G.GridCoords.CELL_MIN_HEIGHT,s0G);this.dispatchWith(j0G.GridEvent.RESIZE_ROW,this,{height:s0G,rowIdx:K0G});};g0G.prototype.positionHandle=function(v0G,Y0G,E0G){E0G=Math.max(this._startY+k0G.GridCoords.CELL_MIN_HEIGHT,E0G);v0G.style.top=E0G+T3yy.m9B;this._indicator.top=E0G;this._indicator.width=this._coords.availableWidth;};return g0G;}(k0G.ResizeHandles);k0G.RowResizeHandles=y0G;}(j0G.sheet||(j0G.sheet={})));}(O0G.grid||(O0G.grid={})));}(B0G._view||(B0G._view={})));}(pivot||(pivot={})));(function(W0G){(function(p0G){(function(o0G){(function(w0G){var n0G=function(c0G){__extends(d0G,c0G);d0G.prototype.draw=function(){var H5M=T3yy;c0G.prototype.draw.call(this);this._wrapper.removeAllChildren();for(var l0G=H5M.o9B,A0G=H5M.N5B;A0G<this._coords.frozenColsCount;A0G++)l0G+=this.createHandle(A0G).toHtml(!H5M.N5B);for(var h0G=Math.min(this._coords.maxColsCount,this._coords.getBoundRight()),A0G=this._coords.getBoundLeft();A0G<h0G;A0G++)l0G+=this.createHandle(A0G).toHtml(!H5M.N5B);this._wrapper.html(l0G);};d0G.prototype.createHandle=function(M0G){c0G.prototype.createHandle.call(this,M0G);this._handle.style.left=this._coords.getRelativeColX(M0G,this._gridLayout.isSmooth)+this._coords.getColWidth(M0G)+T3yy.m9B;return this._handle;};d0G.prototype.startResizing=function(V0G,H0G){this._startX=this._coords.getRelativeColX(H0G,this._gridLayout.isSmooth);};d0G.prototype.stopResizing=function(x0G,t0G){var U0G=Math.round(x0G.offsetLeft+x0G.clientWidth/T3yy.i5B-this._startX),U0G=Math.max(w0G.GridCoords.CELL_MIN_WIDTH,U0G);this.dispatchWith(o0G.GridEvent.RESIZE_COLUMN,this,{width:U0G,colIdx:t0G});};function d0G(){return T3yy.r0B!==c0G&&c0G.apply(this,arguments)||this;}d0G.prototype.positionHandle=function(r0G,G0G,q0G){G0G=Math.max(this._startX+w0G.GridCoords.CELL_MIN_WIDTH,G0G);r0G.style.left=G0G+T3yy.m9B;this._indicator.left=G0G;this._indicator.height=this._coords.availableHeight;};return d0G;}(w0G.ResizeHandles);w0G.ColumnResizeHandles=n0G;}(o0G.sheet||(o0G.sheet={})));}(p0G.grid||(p0G.grid={})));}(W0G._view||(W0G._view={})));}(pivot||(pivot={})));(function(L0G){(function(N0G){(function(I0G){(function(i0G){(function(T9G){var C9G=function(F9G){var F4R="isClassicViewOk";__extends(J9G,F9G);J9G.prototype.createRowsFilter=function(){var u9G=this;this._rowsFilter=new T9G.ClassicRowsFilter(this._coords);this._rowsFilter.id=F3yy.l6R;this._rowsFilter.addEventListener(I0G.GridEvent.FILTER_CLICK,function(Z9G){return u9G.onFilterClick(Z9G);});this._rowsFilter.addEventListener(I0G.GridEvent.MOUSE_CLICK,function(D9G){return u9G.onClick(D9G);});this.addChild(this._rowsFilter);};J9G.prototype.drawFirst=function(){this.isClassicViewOk?F9G.prototype.drawFirst.call(this):(L0G.uialert(L0G.model._labels.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE,L0G.model._labels.Labels.CONFIRMATION,L0G.AlertType.CONFIRMATION),L0G.model.PivotModel.getInstance().setOptions({gridType:I0G.GridType.COMPACT}),L0G.model.PivotModel.getInstance().refresh());};Object.defineProperty(J9G.prototype,F4R,{get:function(){return this._coords.dataWidth>this._coords.minDataWidth;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function J9G(){var Q4R="wdr-classic-view";var Q9G=F9G.call(this)||this;Q9G._type=J9G.TYPE;Q9G.removeClass(F3yy.x6R);Q9G.addClass(Q4R);return Q9G;}J9G.prototype.clearDrawings=function(){F9G.prototype.clearDrawings.call(this);this._rowsFilter.clearDrawings();};J9G.prototype.getRowDropPosition=function(e9G){var P9G=L0G.data_.Cube.getInstance().slice_;if(T3yy.r0B!=e9G){e9G=e9G.index();if(e9G>P9G.rows.length)return P9G.rows.length;P9G=P9G.rows.indexOf(F3yy.H6R);T3yy.N5B<=P9G&&P9G<=e9G&&T3yy.N5B!=e9G&&e9G++;return e9G;}return NaN;};J9G.TYPE=F3yy.I5R;return J9G;}(i0G.CompactGridLayout);T9G.ClassicGridLayout=C9G;}(i0G.classic||(i0G.classic={})));}(I0G.sheet||(I0G.sheet={})));}(N0G.grid||(N0G.grid={})));}(L0G._view||(L0G._view={})));}(pivot||(pivot={})));(function(B9G){(function(O9G){(function(j9G){(function(k9G){(function(g9G){var y9G=function(X9G){__extends(a9G,X9G);a9G.prototype.dispose=function(){utils.fmClearTimeout(this._timeout);X9G.prototype.dispose.call(this);};a9G.prototype.draw=function(){var Y9M=T3yy;for(var s9G=this,R9G=[],z9G=new HtmlNodeWrapper(),S9G=Y9M.N5B;S9G<this._coords.frozenRowsCount;S9G++){z9G.tag=Y9M.w9B;z9G.addClass(F3yy.J6R);for(var m9G=Y9M.N5B;m9G<this._coords.frozenColsCount;m9G++)z9G.text=B9G.model._options.OptionsManager.showHierarchyCaptions?z9G.text+this.createFilterCell(S9G,m9G,S9G==this._coords.frozenRowsCount-Y9M.I5B?this._hierarchies[m9G]:Y9M.r0B).toHtml():z9G.text+this.createCell(S9G,m9G).toHtml();R9G.push(z9G.toHtml());}this.html(R9G.join(Y9M.o9B));this._timeout=utils.fmSetTimeout(function(){return s9G.calculateSizes(!Y9M.N5B);},Y9M.N5B);};a9G.prototype.clearDrawings=function(){utils.fmClearTimeout(this._timeout);};function a9G(b9G){return X9G.call(this,b9G)||this;}return a9G;}(k9G.RowsFilter);g9G.ClassicRowsFilter=y9G;}(k9G.classic||(k9G.classic={})));}(j9G.sheet||(j9G.sheet={})));}(O9G.grid||(O9G.grid={})));}(B9G._view||(B9G._view={})));}(pivot||(pivot={})));(function(f9G){(function(K9G){(function(E9G){(function(v9G){(function(Y9G){var W9G=function(o9G){var u4R="isDrillThrough";__extends(p9G,o9G);p9G.prototype.createColsSheet=function(){var d9G=this;this._colsSheet=new Y9G.FlatColumnsSheet(this._coords,function(c9G,A9G){return d9G.getCell(c9G,A9G);});this._colsSheet.id=F3yy.y6R;this._colsSheet.scrollPane.element.addEventListener(F3yy.g6R,this.colsScrollHander);this._colsSheet.addEventListener(E9G.GridEvent.MOUSE_CLICK,function(l9G){return d9G.onClick(l9G);});this._colsSheet.addEventListener(E9G.GridEvent.MOUSE_CLICK,function(h9G){return d9G.onClickForApi(h9G);});this._colsSheet.addEventListener(E9G.GridEvent.FILTER_CLICK,function(M9G){return d9G.onFilterClick(M9G);});this.addChild(this._colsSheet);};p9G.prototype.drawLayout=function(){var E9M=T3yy;o9G.prototype.drawLayout.call(this);this._sheetHeaders.top=this._coords.gridStartY;this._sheetHeaders.left=E9M.N5B;this._sheetHeaders.width=this._coords.rowHeadersWidth;this._sheetHeaders.height=this._coords.colHeadersHeight;this._colsSheet.left=this._coords.rowHeadersWidth;this._colsSheet.top=this._coords.gridStartY;this._colsSheet.width=this._coords.dataWidth;this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY;this._rowsSheet.left=E9M.N5B;this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY;this._rowsSheet.width=this._coords.layoutWidth;this._rowsSheet.height=this._coords.dataHeight;this._dataSheet.left=this._coords.rowHeadersWidth-E9M.I5B;this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-E9M.I5B;this._dataSheet.width=this._coords.dataWidth;this._dataSheet.height=this._coords.dataHeight+E9M.I5B;};p9G.prototype.drawLast=function(){o9G.prototype.drawLast.call(this);};Object.defineProperty(p9G.prototype,u4R,{get:function(){return this._isDrillThrough;},set:function(H9G){this._isDrillThrough=H9G;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});p9G.prototype.makeFieldsDraggable=function(){var x9G=this;o9G.prototype.makeFieldsDraggable.call(this);for(var t9G={createHelper:function(G9G){return x9G.createHeaderDragHelper(G9G);}},U9G=this._colsSheet.find(F3yy.V6R,!T3yy.N5B),V9G=T3yy.N5B;V9G<U9G.length;V9G++)U9G[V9G].draggable(t9G);};p9G.prototype.showIndicator=function(L9G,q9G){var s9M=T3yy;var r9G=q9G.closest(F3yy.f6R);s9M.r0B!=r9G?(r9G=parseInt(r9G.attr(F3yy.j9R)),r9G=Math.min(r9G,this.coords.dataColsCount),this._dropIndicator=this.createDropIndicator(),this._dropIndicator.left=this.coords.getRelativeColX(r9G,this.isSmooth)-(r9G==this.coords.dataColsCount?s9M.N5B:this._dropIndicator.width),this._dropIndicator.top=this._coords.gridStartY+this.coords.getRelativeRowY(s9M.N5B,this.isSmooth)-s9M.I5B,this._dropIndicator.height=this.coords.getRowHeight(s9M.N5B)+s9M.I5B,this.append(this._dropIndicator)):this.removeDropIndicator();};p9G.prototype.onDrop=function(T6G,N9G,I9G,i9G){var m9M=T3yy;this.removeDropIndicator();i9G=I9G.closest(F3yy.f6R);m9M.r0B!=i9G&&(N9G=f9G.data_.Cube.getInstance().slice_.clone(),I9G=this.isDrillThrough&&m9M.r0B!=this._hierachiesList?this._hierachiesList:N9G.flatten(),i9G=parseInt(i9G.attr(F3yy.j9R)),T6G=parseInt(T6G.attr(F3yy.j9R)),i9G=Math.max(m9M.N5B,Math.min(i9G,I9G.length-m9M.I5B)),T6G!=i9G&&(I9G.moveItemAt(T6G,i9G),m9M.N5B<N9G.flatOrder.length&&(N9G.flatOrder=I9G.toKeyArray()),this.isDrillThrough?(this._hierachiesList=I9G,N9G.flatOrder=I9G.toKeyArray(),this.dispatchWith(K9G.config.FieldsView.EVENT_APPLY_SLICE,this,N9G)):(N9G.rows=I9G,f9G.model.PivotModel.getInstance().runQuery(N9G))));};p9G.TYPE=J3yy.S2t;function p9G(){var Z4R="wdr-flat-view";var w9G=o9G.call(this)||this;w9G._isDrillThrough=!T3yy.I5B;w9G._hierachiesList=T3yy.r0B;w9G.colsScrollHander=function(n9G){return w9G.onColsScroll(n9G);};w9G._type=p9G.TYPE;w9G.addClass(Z4R);return w9G;}return p9G;}(v9G.BaseGridLayout);Y9G.FlatGridLayout=W9G;}(v9G.flat||(v9G.flat={})));}(E9G.sheet||(E9G.sheet={})));}(K9G.grid||(K9G.grid={})));}(f9G._view||(f9G._view={})));}(pivot||(pivot={})));(function(C6G){(function(J6G){(function(F6G){(function(Q6G){(function(Z6G){var u6G=function(e6G){__extends(D6G,e6G);D6G.prototype.onFilterClick=function(k6G){T3yy.r0B!=k6G.cell&&k6G.cell.isFilterHeader&&T3yy.r0B!=k6G.cell.hierarchy&&k6G.cell.activeElementType!=F6G.vo.GridCellElementType.RIGHT_ICON&&this.dispatch(new F6G.FilterClickEvent(k6G.cell.hierarchy,k6G.cell));};function D6G(B6G,O6G){var P6G=e6G.call(this,B6G,O6G)||this;P6G.addEventListener(F6G.GridEvent.MOUSE_CLICK,function(j6G){return P6G.onFilterClick(j6G);});return P6G;}D6G.prototype.createCell=function(y6G,a6G,g6G){void T3yy.N5B===g6G&&(g6G=!T3yy.I5B);this.cell=e6G.prototype.createCell.call(this,y6G,a6G,g6G);(y6G=this._getDataFunc?this._getDataFunc(y6G,a6G):T3yy.r0B)&&y6G.isFilterHeader&&(this.cell.addClass(F6G.vo.GridStyleName.FILTER_HEADER),y6G.filtered&&(this.cell.addClass(F6G.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(F6G.vo.GridStyleName.FILTERED_ICON,C6G.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=C6G.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(F6G.vo.GridStyleName.FILTER_ICON));return this.cell;};return D6G;}(Q6G.ColumnHeadersSheet);Z6G.FlatColumnsSheet=u6G;}(Q6G.flat||(Q6G.flat={})));}(F6G.sheet||(F6G.sheet={})));}(J6G.grid||(J6G.grid={})));}(C6G._view||(C6G._view={})));}(pivot||(pivot={})));(function(X6G){(function(b6G){(function(S6G){var z6G=function(R6G){var D4R="#wdr-aggregations-view";__extends(m6G,R6G);m6G.prototype.showWith=function(W6G,v6G){var e59=T3yy;this.origin=v6G;this.fieldData=W6G;this.setData(W6G);this.show();this.container.addEventListener(e59.E9B,this.leaveHandler);document.body.addEventListener(e59.B9B,this.leaveHandler);var Y6G=v6G.getOffset(this.container.element.offsetParent);this.container.css(e59.C6B,this.container.element.offsetParent.clientWidth-Y6G.left+e59.m9B);this.container.css(e59.T6B,Y6G.top-this.getHeight()/e59.i5B+v6G.getHeight()/e59.i5B+e59.m9B);};m6G.prototype.onMouseLeave=function(p6G){var x79=T3yy;if(x79.B9B!=p6G.type||x79.r0B==uicontrols.UIElement.convert(event.target).closest(D4R))this.container.removeEventListener(x79.E9B,this.leaveHandler),document.body.removeEventListener(x79.B9B,this.leaveHandler),this.hide();};m6G.prototype.onStageMouseDown=function(o6G){T3yy.r0B==uicontrols.UIElement.convert(o6G.target).closest(D4R)&&this.hide();};function m6G(){var e4R="wdr-arrow";var s6G=R6G.call(this,T3yy.w9B)||this;s6G.leaveHandler=function(K6G){return s6G.onMouseLeave(K6G);};s6G.list=new uicontrols.lists.UIList();s6G.list.markSelected=!T3yy.N5B;s6G.list.setItemRendererFactory(s6G.itemRendererFactory);s6G.list.setLabelField(C3yy.u0t);s6G.list.addEventListener(events._Event.CHANGE,function(E6G){return s6G.onListChange(E6G);});s6G.addChild(s6G.list);s6G.container.disableSelection();var f6G=new uicontrols.UIElement(T3yy.w9B,e4R);s6G.container.addChild(f6G);return s6G;}m6G.prototype.setData=function(n6G){var V8u=T3yy;for(var d6G,c6G=V8u.N5B,A6G=[],w6G=V8u.N5B;w6G<n6G.availableAggregations.length;w6G++)d6G={caption:n6G.availableAggregationsCaptions[w6G],aggregation:n6G.availableAggregations[w6G]},void V8u.N5B!=n6G.availableAggregationsTotalCaptions&&(d6G.totalCaption=n6G.availableAggregationsTotalCaptions[w6G]),A6G.push(d6G),n6G.availableAggregations[w6G]==n6G.aggregation&&(c6G=w6G);this.list.setDataProvider(A6G);this.list.setSelectedIndex(c6G);this.list.container.setScrollTop(V8u.N5B);};m6G.prototype.onListChange=function(l6G){this.dispatchWith(events._Event.CHANGE,this,{fieldData:this.fieldData,aggrData:l6G.data.selectedItem,origin:this.origin});this.hide();};m6G.prototype.itemRendererFactory=function(M6G,H6G){var h6G=new uicontrols.renderers.SelectItemRenderer();h6G.setData(M6G);h6G.setIndex(H6G);return h6G;};return m6G;}(uicontrols.UIComponentBase);S6G.AggregationsView=z6G;}(b6G.config||(b6G.config={})));}(X6G._view||(X6G._view={})));}(pivot||(pivot={})));(function(V6G){(function(U6G){(function(x6G){(function(G6G){var t6G=function(){var f4u=T3yy;var g4R="isCalculatedAvailable";var y4R="isSearchNeeded";var k4R="isSearch";var j4R="hasFolders";var B4R="isMeasuresAsHierarchies";r6G.prototype.update=function(q6G,L6G,N6G){this._structure=q6G;this._slice=L6G;this._dataSourceType=N6G;this.clearSearch();this.updateSlice();this.updateStructure();};r6G.prototype.updateSlice=function(){this.pages=this.getPages();this.rows=this.getRows();this.markValues(this.rows);this.columns=this.getColumns();this.markValues(this.columns);this.measures=this.getMeasures();this.markMeasures(this.measures);};r6G.prototype.updateStructure=function(){this._hierarchies=[];this.allHierarchies=[];this.addHierarchies(this._hierarchies,this.getAllHierarchies());this.removeSingleDimensions(this._hierarchies);this.addMeasures(this._hierarchies,this.getAllMeasures());this.sortHierarchies(this._hierarchies);if(r6G.expandFormulas){r6G.expandFormulas=!f4u.I5B;var I6G=utils.ArrayUtils.find(this._hierarchies,C3yy.l2B+V6G.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME,J3yy.R2t);f4u.r0B!=I6G&&this.expandField(I6G);}this.markSelected(this.pages);this.markSelected(this.columns);this.markSelected(this.rows);this.markSelected(this.measures);};r6G.prototype.onCalculatedValueAdded=function(T4G){if(f4u.r0B!=this._structure){var i6G=utils.ArrayUtils.find(this.getAllMeasures(),T4G,J3yy.R2t);f4u.r0B!=i6G&&(i6G.isMeasure=!f4u.N5B,i6G.showAggregations=this.isMeasuresAsHierarchies,T4G=utils.ArrayUtils.findIndex(this.measures,T4G,J3yy.R2t),f4u.N5B<=T4G?(i6G.isChanged=!f4u.N5B,this.measures[T4G]=i6G):this.measures.push(i6G));this.updateStructure();}};r6G.prototype.onCalculatedValueRemoved=function(C4G){f4u.r0B!=this._slice&&f4u.r0B!=this._structure&&(this.updateSlice(),this.updateStructure());};r6G.prototype.removeItemByName=function(F4G,Q4G){for(var J4G=f4u.N5B;J4G<F4G.length;J4G++)if(F4G[J4G].uniqueName==Q4G){F4G.splice(J4G,f4u.I5B);break;}};r6G.prototype.markValues=function(u4G){u4G=utils.ArrayUtils.find(u4G,V6G.data_.Cube.MEASURES_NAME,J3yy.R2t);f4u.r0B!=u4G&&(u4G.caption=V6G.model._labels.Labels.FIELDS_LIST_VALUES,u4G.isValues=!f4u.N5B);};r6G.prototype.markMeasures=function(D4G){for(var Z4G=f4u.N5B;Z4G<D4G.length;Z4G++)D4G[Z4G].isMeasure=!f4u.N5B,D4G[Z4G].showAggregations=V6G.model._options.OptionsManager.showAggregations;};r6G.prototype.markSelected=function(P4G){for(var B4G,e4G=f4u.N5B;e4G<P4G.length;e4G++)P4G[e4G].isSelected=!f4u.N5B,B4G=this.findItem(P4G[e4G].uniqueName,P4G[e4G].isMeasure),this._slice.allHierarchies().getItem(P4G[e4G].uniqueName),f4u.r0B!=B4G&&this.selectField(B4G,!f4u.N5B);};r6G.prototype.selectField=function(O4G,j4G){O4G.isSelected=j4G;f4u.r0B!=O4G.parent&&O4G.parent.isSelected!=j4G&&(!f4u.N5B==j4G?this.selectField(O4G.parent,j4G):!f4u.I5B==this.hasSelected(O4G.parent.children)&&this.selectField(O4G.parent,j4G));if(O4G.isLevelFolder&&!f4u.I5B==j4G)for(var k4G=f4u.N5B;k4G<O4G.children.length;k4G++)this.selectField(O4G.children[k4G],j4G);};r6G.prototype.hasSelected=function(g4G){for(var y4G=f4u.N5B;y4G<g4G.length;y4G++)if(!f4u.N5B===g4G[y4G].isSelected)return!f4u.N5B;return!f4u.I5B;};r6G.prototype.addHierarchies=function(S4G,X4G){var Y1M=J3yy;var P4R="Folder.";for(var b4G,z4G,a4G=f4u.N5B;a4G<X4G.length;a4G++)b4G=this._structure.hierarchyToMeasure(X4G[a4G].uniqueName),f4u.r0B!=b4G&&b4G.type!=V6G.data_.types.MeasureType.COUNT&&f4u.o9B!=X4G[a4G].folder?(z4G=utils.ArrayUtils.find(this.allHierarchies,P4R+X4G[a4G].folder,Y1M.R2t),f4u.r0B==z4G&&(z4G={isFolder:!f4u.N5B},z4G.uniqueName=P4R+X4G[a4G].folder,z4G.caption=X4G[a4G].folder,z4G.children=[],S4G.push(z4G),this.allHierarchies.push(z4G)),X4G[a4G].level=f4u.I5B,X4G[a4G].parent=z4G,z4G.children.push(X4G[a4G])):(b4G=utils.ArrayUtils.find(S4G,X4G[a4G].dimensionUniqueName,Y1M.R2t),f4u.r0B==b4G&&(b4G={isFolder:!f4u.N5B},b4G.uniqueName=X4G[a4G].dimensionUniqueName,b4G.caption=X4G[a4G].dimensionCaption,b4G.children=[],b4G.level=f4u.N5B,S4G.push(b4G),this.allHierarchies.push(b4G)),X4G[a4G].isLevel?(b4G=f4u.o9B==X4G[a4G].folder?b4G:z4G,b4G=utils.ArrayUtils.find(b4G.children,X4G[a4G].hierarchyName,Y1M.R2t),X4G[a4G].level=b4G.level+f4u.I5B,X4G[a4G].parent=b4G,f4u.r0B==b4G.children&&(b4G.children=[]),b4G.children.push(X4G[a4G]),b4G.isLevelFolder=!f4u.N5B):f4u.o9B!=X4G[a4G].folder?(z4G=utils.ArrayUtils.find(b4G.children,b4G.uniqueName+X4G[a4G].folder,Y1M.R2t),f4u.r0B==z4G&&(z4G={isFolder:!f4u.N5B},z4G.uniqueName=b4G.uniqueName+X4G[a4G].folder,z4G.caption=X4G[a4G].folder,z4G.children=[],z4G.level=f4u.I5B,z4G.parent=b4G,b4G.children.push(z4G),this.allHierarchies.push(z4G)),X4G[a4G].level=f4u.i5B,X4G[a4G].parent=z4G,z4G.children.push(X4G[a4G])):(X4G[a4G].level=f4u.I5B,X4G[a4G].parent=b4G,b4G.children.push(X4G[a4G]))),this.allHierarchies.push(X4G[a4G]);};r6G.prototype.addMeasures=function(E4G,R4G){for(var s4G,v4G={},m4G=f4u.N5B;m4G<R4G.length;m4G++){R4G[m4G].isMeasure=!f4u.N5B;R4G[m4G].showAggregations=V6G.model._options.OptionsManager.showAggregations;R4G[m4G].calculated&&(R4G[m4G].groupName=V6G.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME);this.isMeasuresAsHierarchies&&(s4G=this.toHierarchyUniqueName(R4G[m4G].uniqueName),s4G=utils.ArrayUtils.find(this.allHierarchies,s4G,J3yy.R2t));if(this.isMeasuresAsHierarchies&&f4u.r0B!=s4G)s4G.measureItem=R4G[m4G],s4G.measureItem.hierarchyItem=s4G,R4G[m4G].parent=s4G.parent;else if(f4u.o9B!=R4G[m4G].groupName){var f4G=this.addMeasureFolders(v4G,R4G[m4G].groupName,R4G[m4G].folder.split(J3yy.S4t),R4G[m4G].calculated),K4G=f4G.folder;f4u.r0B!=K4G&&f4u.N5B>K4G.children.indexOf(R4G[m4G])&&K4G.children.push(R4G[m4G]);f4u.r0B!=f4G.root&&f4u.N5B>E4G.indexOf(f4G.root)&&E4G.push(f4G.root);R4G[m4G].level=f4G.folder.level+f4u.I5B;R4G[m4G].parent=K4G;}else R4G[m4G].level=f4u.N5B,E4G.push(R4G[m4G]);this.allHierarchies.push(R4G[m4G]);}};r6G.prototype.addMeasureFolders=function(n4G,p4G,o4G,l4G){void f4u.N5B===l4G&&(l4G=!f4u.I5B);o4G.unshift(p4G);p4G=f4u.o9B;for(var d4G=f4u.N5B,w4G,Y4G,A4G,W4G=f4u.N5B;W4G<o4G.length;W4G++){var c4G=p4G+C3yy.l2B+o4G[W4G];utils.nullOrEmpty(o4G[W4G])||(Y4G=n4G[c4G],f4u.r0B==Y4G&&(Y4G={},Y4G.caption=o4G[W4G],Y4G.uniqueName=c4G,Y4G.folder=p4G,Y4G.children=[],Y4G.level=d4G,Y4G.isFolder=!f4u.N5B,Y4G.isMeasuresFolder=!f4u.N5B,Y4G.isCalculatedMeasuresFolder=l4G,this.allHierarchies.push(Y4G),n4G[Y4G.uniqueName]=Y4G),(Y4G.parent=w4G)&&w4G.children&&f4u.N5B>w4G.children.indexOf(Y4G)&&w4G.children.push(Y4G),f4u.r0B==A4G&&(A4G=Y4G),p4G+=C3yy.l2B+o4G[W4G],n4G=n4G[p4G],w4G=Y4G,d4G++);}return{folder:Y4G,root:A4G};};r6G.prototype.removeSingleDimensions=function(M4G){for(var H4G,h4G=f4u.N5B;h4G<M4G.length;h4G++)if(!f4u.N5B===M4G[h4G].isFolder&&f4u.I5B==M4G[h4G].children.length&&!f4u.N5B!==M4G[h4G].children[f4u.N5B].isFolder&&!M4G[h4G].children[f4u.N5B].calculated&&(H4G=M4G[h4G].children[f4u.N5B],H4G.level=f4u.N5B,H4G.parent=f4u.r0B,M4G.splice(h4G,f4u.I5B,H4G),H4G.children))for(var V4G=f4u.N5B;V4G<H4G.children.length;V4G++)H4G.children[V4G].level-=f4u.I5B;};r6G.prototype.sortHierarchies=function(x4G){var U4G=this;x4G.sort(function(r4G,q4G){var t4G=U4G.getFieldRank(r4G),G4G=U4G.getFieldRank(q4G);return t4G==G4G?r4G.caption.localeCompare(q4G.caption):G4G-t4G;});};r6G.prototype.getFieldRank=function(L4G){return!f4u.N5B===L4G.isLevel?f4u.N5B:!f4u.N5B===L4G.isFolder&&!f4u.N5B!==L4G.isMeasuresFolder?f4u.T1B:!f4u.N5B!==L4G.isFolder&&!f4u.N5B!==L4G.isMeasure?f4u.i5B:!f4u.N5B===L4G.isFolder&&!f4u.N5B===L4G.isMeasuresFolder?f4u.I5B:f4u.N5B;};r6G.prototype.collapseField=function(N4G){if(!this.isSearch){for(var i4G=this._hierarchies.indexOf(N4G)+f4u.I5B,I4G=f4u.N5B;I4G<N4G.children.length;I4G++)!f4u.N5B===N4G.children[I4G].isExpanded&&this.collapseField(N4G.children[I4G]);this._hierarchies.splice(i4G,N4G.children.length);N4G.isExpanded=!f4u.I5B;}};r6G.prototype.expandField=function(T2G){if(!this.isSearch){var C2G=this._hierarchies.indexOf(T2G)+f4u.I5B;T2G.isLevelFolder||this.sortHierarchies(T2G.children);utils.ArrayUtils.insert(this._hierarchies,T2G.children,C2G);T2G.isExpanded=!f4u.N5B;}};r6G.prototype.toHierarchyUniqueName=function(J2G){J2G=this._structure.measureToHierarchy(J2G);return f4u.r0B!=J2G?J2G.uniqueName:f4u.o9B;};r6G.prototype.toMeasureUniqueName=function(F2G){F2G=this._structure.hierarchyToMeasure(F2G);return f4u.r0B!=F2G?F2G.uniqueName:f4u.o9B;};r6G.prototype.findHierarchy=function(u2G){for(var Q2G=f4u.N5B;Q2G<this.allHierarchies.length;Q2G++)if(!this.allHierarchies[Q2G].isMeasure&&!this.allHierarchies[Q2G].isFolder&&this.allHierarchies[Q2G].uniqueName==u2G)return this.allHierarchies[Q2G];};r6G.prototype.findMeasure=function(D2G){for(var Z2G=f4u.N5B;Z2G<this.allHierarchies.length;Z2G++)if(this.allHierarchies[Z2G].isMeasure&&!this.allHierarchies[Z2G].isFolder&&this.allHierarchies[Z2G].uniqueName==D2G)return this.allHierarchies[Z2G];};r6G.prototype.findItem=function(P2G,e2G){void f4u.N5B===e2G&&(e2G=!f4u.I5B);return e2G?this.findMeasure(P2G):this.findHierarchy(P2G);};r6G.prototype.isValidSlice=function(){return f4u.N5B<this.measures.length;};r6G.prototype.getSlice=function(){return{pages:this.toPlainArray(this.pages),rows:this.toPlainArray(this.rows),columns:this.toPlainArray(this.columns),measures:this.toPlainArray(this.measures),flatOrder:this._slice?this._slice.flatOrder:[]};};r6G.prototype.isSliceDifferent=function(B2G){return f4u.r0B==this._slice?!f4u.N5B:this.isDifferent(B2G.pages,this._slice.pages.toArray())||this.isDifferent(B2G.rows,this._slice.rows.toArray())||this.isDifferent(B2G.columns,this._slice.columns.toArray())||this.isDifferent(B2G.measures,this._slice.measures_.toArray());};r6G.prototype.toPlainArray=function(j2G){for(var y2G=[],k2G,O2G=f4u.N5B;O2G<j2G.length;O2G++)k2G={uniqueName:j2G[O2G].uniqueName},j2G[O2G].isMeasure&&(k2G.aggregation=j2G[O2G].aggregation,k2G.isChanged=j2G[O2G].isChanged),j2G[O2G].isLevel&&(k2G.activeLevelName=j2G[O2G].uniqueName,k2G.uniqueName=j2G[O2G].hierarchyName),y2G.push(k2G);return y2G;};r6G.prototype.isDifferent=function(a2G,X2G){if(a2G.length!=X2G.length)return!f4u.N5B;for(var g2G=f4u.N5B;g2G<X2G.length;g2G++)if(a2G[g2G].uniqueName!=X2G[g2G].uniqueName||a2G[g2G].aggregation!=X2G[g2G].aggregation||a2G[g2G].activeLevelName!=X2G[g2G].activeLevelName||a2G[g2G].isChanged)return!f4u.N5B;return!f4u.I5B;};Object.defineProperty(r6G.prototype,B4R,{get:function(){var b2G=this._dataSourceType;return b2G==V6G.data_.consts.DataSourceType.CSV||b2G==V6G.data_.consts.DataSourceType.JSON;},enumerable:!f4u.N5B,configurable:!f4u.N5B});Object.defineProperty(r6G.prototype,F3yy.O4R,{get:function(){for(var z2G=f4u.N5B;z2G<this._hierarchies.length;z2G++)if((this._hierarchies[z2G].isFolder||this._hierarchies[z2G].isMeasuresFolder||this._hierarchies[z2G].isLevelFolder)&&!this._hierarchies[z2G].isExpanded)return!f4u.N5B;return!f4u.I5B;},enumerable:!f4u.N5B,configurable:!f4u.N5B});Object.defineProperty(r6G.prototype,j4R,{get:function(){for(var S2G=f4u.N5B;S2G<this._hierarchies.length;S2G++)if(this._hierarchies[S2G].isFolder||this._hierarchies[S2G].isMeasuresFolder||this._hierarchies[S2G].isLevelFolder)return!f4u.N5B;return!f4u.I5B;},enumerable:!f4u.N5B,configurable:!f4u.N5B});r6G.prototype.collapseAll=function(){if(!this.isSearch){for(var m2G=f4u.N5B;m2G<this._hierarchies.length;m2G++)if(this._hierarchies[m2G].isFolder||this._hierarchies[m2G].isMeasuresFolder||this._hierarchies[m2G].isLevelFolder)this._hierarchies[m2G].isExpanded=!f4u.I5B;for(var R2G=[],m2G=f4u.N5B;m2G<this._hierarchies.length;m2G++)f4u.N5B==this._hierarchies[m2G].level&&R2G.push(this._hierarchies[m2G]);this._hierarchies.splice(f4u.N5B,this._hierarchies.length);utils.ArrayUtils.insert(this._hierarchies,R2G,f4u.N5B);}};r6G.prototype.expandAll=function(){if(!this.isSearch){this.collapseAll();for(var s2G=f4u.N5B;s2G<this._hierarchies.length;s2G++)(this._hierarchies[s2G].isFolder||this._hierarchies[s2G].isLevelFolder)&&this._expandField(this._hierarchies[s2G],s2G+f4u.I5B);}};r6G.prototype._expandField=function(f2G,K2G){f2G.isExpanded=!f4u.N5B;f4u.r0B!=f2G.children&&f4u.N5B<f2G.children.length&&(this.sortHierarchies(f2G.children),utils.ArrayUtils.insert(this._hierarchies,f2G.children,K2G));};r6G.prototype.getPages=function(){return f4u.r0B!=this._slice?this.convertHierarchies(this._slice.pages):[];};r6G.prototype.getRows=function(){return f4u.r0B!=this._slice?this.convertHierarchies(this._slice.rows):[];};r6G.prototype.getColumns=function(){return f4u.r0B!=this._slice?this.convertHierarchies(this._slice.columns):[];};r6G.prototype.getMeasures=function(){return f4u.r0B!=this._slice?this.convertMeasures(this._slice.measures_):[];};r6G.prototype.getAllHierarchies=function(){return f4u.r0B!=this._structure?this.convertHierarchies(this._structure.allHierarchies(!f4u.I5B),!f4u.N5B):[];};r6G.prototype.getAllMeasures=function(){return f4u.r0B!=this._structure?this.convertMeasures(this._structure.measures_):[];};r6G.prototype.convertHierarchies=function(w2G,Y2G){void f4u.N5B===Y2G&&(Y2G=!f4u.I5B);for(var W2G=[],p2G=f4u.N5B;p2G<w2G.length;p2G++){var E2G=w2G.getItemAt(p2G);W2G.push({caption:E2G.caption,uniqueName:E2G.uniqueName,dimensionUniqueName:E2G.dimension.uniqueName,dimensionCaption:E2G.dimension.caption,folder:E2G.folder,isLevel:!f4u.I5B,isLevelFolder:E2G.isHierarchy&&Y2G});if(E2G.isHierarchy&&Y2G)for(var v2G=f4u.N5B;v2G<E2G.levels_.length;v2G++)if(f4u.N5B!=v2G){var o2G=E2G.levels_.getItemAt(v2G);W2G.push({caption:o2G.caption,uniqueName:o2G.uniqueName,dimensionUniqueName:E2G.dimension.uniqueName,dimensionCaption:E2G.dimension.caption,folder:E2G.folder,hierarchyName:E2G.uniqueName,hierarchyCaption:E2G.caption,isLevel:!f4u.N5B,isLevelFolder:!f4u.I5B});}}return W2G;};r6G.prototype.convertMeasures=function(h2G){for(var l2G=[],A2G=f4u.N5B;A2G<h2G.length;A2G++){var n2G=h2G.getItemAt(A2G),d2G=V6G.data_._structure.GenericMeasure.toObject(n2G),c2G=n2G.availableAggregations;f4u.N5B!=n2G.availableAggregations.length||n2G.calculated||(c2G=V6G.data_.consts.AggregationName.ALL_AGGREGATIONS);d2G.availableAggregations=c2G;d2G.availableAggregationsCaptions=V6G.data_.consts.AggregationName.aggregationCaptions(c2G);d2G.availableAggregationsTotalCaptions=V6G.data_.consts.AggregationName.aggregationTotalCaptions(c2G);l2G.push(d2G);}return l2G;};r6G.prototype.search=function(H2G){H2G=H2G.toLowerCase();if(this.searchPhrase!=H2G){this.searchPhrase=H2G;this.searchedHierarchies=[];for(var U2G=this.allHierarchies.length,V2G=f4u.N5B;V2G<U2G;V2G++){var M2G=this.allHierarchies[V2G];M2G.isFolder||M2G.isMeasure&&this.isMeasuresAsHierarchies||!utils.StringUtils.contains(M2G.caption,H2G)||(this.addParents(M2G,this.searchedHierarchies),this.searchedHierarchies.push(M2G));}}};r6G.prototype.addParents=function(t2G,r2G){if(t2G.parent&&f4u.N5B>r2G.indexOf(t2G.parent)){for(var x2G=[];f4u.r0B!=t2G.parent;)x2G.push(t2G.parent),t2G=t2G.parent;for(var x2G=x2G.reverse(),G2G=f4u.N5B;G2G<x2G.length;G2G++)f4u.N5B>r2G.indexOf(x2G[G2G])&&r2G.push(x2G[G2G]);}};function r6G(){}r6G.prototype.clearSearch=function(){this.searchPhrase=f4u.o9B;this.searchedHierarchies=f4u.r0B;};Object.defineProperty(r6G.prototype,k4R,{get:function(){return!utils.nullOrEmpty(this.searchPhrase);},enumerable:!f4u.N5B,configurable:!f4u.N5B});Object.defineProperty(r6G.prototype,y4R,{get:function(){return this.allHierarchies&&f4u.c1B<this.allHierarchies.length;},enumerable:!f4u.N5B,configurable:!f4u.N5B});Object.defineProperty(r6G.prototype,g4R,{get:function(){return V6G.model._options.OptionsManager.showCalculatedValuesButton;},enumerable:!f4u.N5B,configurable:!f4u.N5B});Object.defineProperty(r6G.prototype,J3yy.W8t,{get:function(){return this.isSearch?this.searchedHierarchies:this._hierarchies;},enumerable:!f4u.N5B,configurable:!f4u.N5B});r6G.expandFormulas=!f4u.I5B;return r6G;}();G6G.PivotFieldsModel=t6G;}(x6G._pivot||(x6G._pivot={})));}(U6G.config||(U6G.config={})));}(V6G._view||(V6G._view={})));}(pivot||(pivot={})));(function(q2G){(function(L2G){(function(N2G){(function(I2G){var i2G=function(C8G){__extends(T8G,C8G);T8G.prototype.onCancelClick=function(){this.view.close();};T8G.prototype.onOkClick=function(){this.applySlice();this.view.close();};T8G.prototype.onSearchChange=function(){var a4R="wdr-searched";this.model.search(this.view.inpSearch.getText());this.view.lstHierarchies.container.toggleClass(a4R,this.model.isSearch);this.view.lstHierarchies.setDataProvider(this.model.hierarchies);this.validateList(this.view.lstHierarchies);this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders&&!this.model.isSearch);};T8G.prototype.applySlice=function(){var r8G=this.model.getSlice();this.model.isSliceDifferent(r8G)&&this.dispatchWith(N2G.FieldsView.EVENT_APPLY_SLICE,this,r8G);};T8G.prototype.onCalculatedValueAdded=function(q8G){q2G.model.PivotModel.getInstance().removeEventListener(L2G.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);this.model.onCalculatedValueAdded(q8G.data.measureUniqueName);this.updateView();};T8G.prototype.onCalculatedValueRemoved=function(L8G){q2G.model.PivotModel.getInstance().removeEventListener(L2G.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);this.model.onCalculatedValueRemoved(L8G.data);this.updateView();};T8G.prototype.onAddMeasureClick=function(){q2G.model.PivotModel.getInstance().dispatchWith(L2G.ViewEvent.CALCULATED_VIEW_OPEN);q2G.model.PivotModel.getInstance().addEventListener(L2G.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);};T8G.prototype.onCollapseExpandClick=function(){this.model.isExpandAll?this.model.expandAll():this.model.collapseAll();this.validateList(this.view.lstHierarchies);this.view.setLabels();};T8G.prototype.onFieldDoubleClick=function(N8G){var I8G=uicontrols.UIElement.convert(N8G.target).closest(C3yy.m4B);T3yy.r0B!=I8G&&(I8G=this.getListById(I8G.attr(T3yy.W9B)),N8G=uicontrols.UIElement.convert(N8G.target).closest(C3yy.f4B),T3yy.r0B!=N8G&&(N8G=parseInt(N8G.attr(C3yy.K4B)),this.removeField(I8G,N8G)));};T8G.prototype.onMeasureFieldClick=function(T3k){var i8G=uicontrols.UIElement.convert(T3k.target).closest(C3yy.f4B);T3yy.r0B!=i8G&&(i8G=parseInt(i8G.attr(C3yy.K4B)),i8G=this.model.measures[i8G],F3yy.X4R==uicontrols.UIElement.convert(T3k.target).attr(T3yy.W9B)&&this.view.aggrView.showWith(i8G,uicontrols.UIElement.convert(T3k.target)));};T8G.prototype.onAggregationChange=function(C3k){var J3k=C3k.data.fieldData,F3k=C3k.data.aggrData;uicontrols.UIElement.convert(C3k.data.origin);J3k.aggregation=F3k.aggregation;J3k.caption=q2G.model._options.OptionsManager.showAggregationLabels?utils.StringUtils.bind(F3k.totalCaption,J3k.name):J3k.name;this.view.lstMeasures.validateItem(J3k);C3k=utils.ArrayUtils.find(this.model.hierarchies,J3k.uniqueName,J3yy.R2t);T3yy.r0B!=C3k&&(this.model.isMeasuresAsHierarchies&&T3yy.r0B!=C3k.measureItem&&(C3k=C3k.measureItem),C3k.aggregation=J3k.aggregation,C3k.caption=J3k.caption,this.view.lstHierarchies.validateItem(C3k));};T8G.prototype.onHierarchyFieldClick=function(u3k){var M1M=T3yy;var Z3k=uicontrols.UIElement.convert(u3k.target).closest(C3yy.f4B);if(M1M.r0B!=Z3k){var Z3k=parseInt(Z3k.attr(C3yy.K4B)),Q3k=this.model.hierarchies[Z3k];if(F3yy.X4R==uicontrols.UIElement.convert(u3k.target).attr(M1M.W9B))this.view.aggrView.showWith(Q3k,uicontrols.UIElement.convert(u3k.target));else if(F3yy.b4R==uicontrols.UIElement.convert(u3k.target).attr(M1M.W9B))q2G.model.PivotModel.getInstance().dispatchWith(L2G.ViewEvent.CALCULATED_VIEW_OPEN,M1M.r0B,{measureName:Q3k.uniqueName}),q2G.model.PivotModel.getInstance().addEventListener(L2G.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),q2G.model.PivotModel.getInstance().addEventListener(L2G.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);else if(Q3k.isFolder||Q3k.isLevelFolder&&F3yy.z4R!=uicontrols.UIElement.convert(u3k.target).attr(M1M.W9B))!M1M.N5B===Q3k.isExpanded?this.model.collapseField(Q3k):this.model.expandField(Q3k),this.validateList(this.view.lstHierarchies),this.view.setLabels();else{if(!M1M.N5B==Q3k.isSelected||M1M.r0B!=Q3k.measureItem&&!M1M.N5B==Q3k.measureItem.isSelected)!M1M.N5B==Q3k.isSelected&&(this.model.selectField(Q3k,!M1M.I5B),this.findAndRemoveField(Q3k)),M1M.r0B!=Q3k.measureItem&&!M1M.N5B==Q3k.measureItem.isSelected&&(this.model.selectField(Q3k.measureItem,!M1M.I5B),this.findAndRemoveField(Q3k.measureItem));else if(Q3k.isMeasure)this.model.selectField(Q3k,!M1M.N5B),this.model.measures.push(Q3k),this.validateList(this.view.lstMeasures);else if(Q3k.measureItem&&Q3k.measureItem.type!=q2G.data_.types.MeasureType.COUNT&&Q3k.measureItem.type!=q2G.data_.types.MeasureType.DATE)this.model.selectField(Q3k.measureItem,!M1M.N5B),this.model.measures.push(Q3k.measureItem),this.validateList(this.view.lstMeasures);else{if(Q3k.isLevel)for(Q3k.parent.isSelected&&this.findAndRemoveField(Q3k.parent),u3k=M1M.N5B;u3k<Q3k.parent.children.length;u3k++){var D3k=Q3k.parent.children[u3k];D3k.uniqueName!=Q3k.uniqueName&&(D3k.isSelected&&this.findAndRemoveField(D3k),D3k.isSelected=!M1M.I5B);}this.model.selectField(Q3k,!M1M.N5B);this.model.rows.push(Q3k);this.validateList(this.view.lstRows);}this.validateItemRecursivelyAt(this.view.lstHierarchies,Z3k);this.validateSlice();}}};T8G.prototype.validateItemRecursivelyAt=function(B3k,O3k){B3k.validateItemAt(O3k);var e3k=B3k.getDataProvider()[O3k];T3yy.r0B!=e3k.parent&&this.validateItemRecursively(B3k,e3k.parent);if(e3k.isLevelFolder)for(var P3k=T3yy.N5B;P3k<e3k.children.length;P3k++)B3k.validateItem(e3k.children[P3k]);if(e3k.isLevel)for(P3k=T3yy.N5B;P3k<e3k.parent.children.length;P3k++)B3k.validateItem(e3k.parent.children[P3k]);};function T8G(F8G){var G1M=F3yy;var x1M=T3yy;var J8G=C8G.call(this)||this;J8G.type=J3yy.z2t;J8G.calculatedValueAddedHandler=function(Q8G){return J8G.onCalculatedValueAdded(Q8G);};J8G.calculatedValueRemovedHandler=function(u8G){return J8G.onCalculatedValueRemoved(u8G);};J8G.model=new I2G.PivotFieldsModel();J8G.view=new I2G.PivotFieldsView(J8G,F8G);J8G.view.addEventListener(events._Event.CLOSED,function(Z8G){return J8G.dispatch(Z8G);});J8G.lists=[J8G.view.lstPages,J8G.view.lstRows,J8G.view.lstColumns,J8G.view.lstMeasures];J8G.view.btnOk&&J8G.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return J8G.onOkClick();});J8G.view.btnCancel&&J8G.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return J8G.onCancelClick();});x1M.r0B!=J8G.view.aggrView&&J8G.view.aggrView.addEventListener(events._Event.CHANGE,function(D8G){return J8G.onAggregationChange(D8G);});J8G.view.lstHierarchies&&(J8G.view.lstHierarchies.container.addEventListener(x1M.b6B,function(e8G){return J8G.onHierarchyFieldClick(e8G);}),J8G.view.lstHierarchies.droppable({onDrop:function(P8G,B8G,O8G,j8G){return J8G.onHierarchiesDrop(P8G,B8G,O8G,j8G);},onDragEnter:function(k8G,y8G,g8G,a8G){return J8G.onHierarchiesDragEnterOrOver(k8G,y8G,g8G,a8G);},onDragOver:function(X8G,b8G,z8G,S8G){return J8G.onHierarchiesDragEnterOrOver(X8G,b8G,z8G,S8G);},onDragLeave:function(m8G,R8G,s8G,f8G){return J8G.onDragLeave(m8G,R8G,s8G,f8G);},itemSelector:C3yy.f4B}),J8G.view.lstHierarchies.container.disableSelection());F8G={onDrop:function(K8G,E8G,v8G,Y8G){return J8G.onDrop(K8G,E8G,v8G,Y8G);},onDragEnter:function(W8G,p8G,o8G,w8G){return J8G.onDragEnterOrOver(W8G,p8G,o8G,w8G);},onDragOver:function(n8G,d8G,c8G,A8G){return J8G.onDragEnterOrOver(n8G,d8G,c8G,A8G);},onDragLeave:function(l8G,h8G,M8G,H8G){return J8G.onDragLeave(l8G,h8G,M8G,H8G);},itemSelector:C3yy.f4B};J8G.view.lstPages&&(J8G.view.lstPages.droppable(F8G),J8G.view.lstPages.container.addEventListener(G1M.c5R,function(V8G){return J8G.onFieldDoubleClick(V8G);}),J8G.view.lstPages.container.disableSelection());J8G.view.lstRows&&(J8G.view.lstRows.droppable(F8G),J8G.view.lstRows.container.addEventListener(G1M.c5R,function(U8G){return J8G.onFieldDoubleClick(U8G);}),J8G.view.lstRows.container.disableSelection());J8G.view.lstColumns&&(J8G.view.lstColumns.droppable(F8G),J8G.view.lstColumns.container.addEventListener(G1M.c5R,function(x8G){return J8G.onFieldDoubleClick(x8G);}),J8G.view.lstColumns.container.disableSelection());J8G.view.lstMeasures&&(J8G.view.lstMeasures.container.addEventListener(x1M.b6B,function(t8G){return J8G.onMeasureFieldClick(t8G);}),J8G.view.lstMeasures.container.addEventListener(G1M.c5R,function(G8G){return J8G.onFieldDoubleClick(G8G);}),J8G.view.lstMeasures.droppable(F8G),J8G.view.lstMeasures.container.disableSelection());J8G.view.btnAddMeasure&&J8G.view.btnAddMeasure.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return J8G.onAddMeasureClick();});J8G.view.btnCollapseExpand&&J8G.view.btnCollapseExpand.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return J8G.onCollapseExpandClick();});J8G.view.inpSearch&&(J8G.view.inpSearch.setChangeDelay(x1M.E0B),J8G.view.inpSearch.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return J8G.onSearchChange();}));return J8G;}T8G.prototype.validateItemRecursively=function(y3k,j3k){y3k.validateItem(j3k);j3k.parent&&this.validateItemRecursively(y3k,j3k.parent);if(j3k.isLevelFolder)for(var k3k=T3yy.N5B;k3k<j3k.children.length;k3k++)y3k.validateItem(j3k.children[k3k]);if(j3k.isLevel)for(k3k=T3yy.N5B;k3k<j3k.parent.children.length;k3k++)y3k.validateItem(j3k.parent.children[k3k]);};T8G.prototype.onDragStart=function(g3k){return!T3yy.N5B;};T8G.prototype.onHierarchiesDrop=function(a3k,X3k,b3k,z3k){a3k&&a3k.closest(C3yy.m4B)&&(X3k=parseInt(a3k.attr(C3yy.K4B)),a3k=this.getListById(a3k.closest(C3yy.m4B).attr(T3yy.W9B)),a3k!=this.view.lstHierarchies&&this.removeField(a3k,X3k));};T8G.prototype.onHierarchiesDragEnterOrOver=function(S3k,m3k,R3k,s3k){S3k&&S3k.closest(C3yy.m4B)&&(S3k=this.getListById(S3k.closest(C3yy.m4B).attr(T3yy.W9B)),S3k!=this.view.lstHierarchies&&(S3k.container.hasClass(T3yy.f9B)?m3k&&m3k.addClass(F3yy.S4R):m3k&&m3k.addClass(F3yy.m4R)));};T8G.prototype.onDragEnterOrOver=function(f3k,K3k,E3k,v3k){var J0M=T3yy;this.removeDropIndicator();f3k&&f3k.closest(C3yy.m4B)&&(E3k instanceof uicontrols.lists.UIList||(E3k=this.getListById(E3k.attr(J0M.W9B))),K3k=this.getListById(f3k.closest(C3yy.m4B).attr(J0M.W9B)),K3k.container.hasClass(J0M.f9B)&&this.isDropAllowed(this.getDataByElement(f3k,K3k),K3k,E3k)&&(v3k instanceof MouseEvent?this.showIndicator(uicontrols.UIElement.convert(v3k.target)):(f3k=v3k.changedTouches[J0M.N5B],this.showIndicator(uicontrols.UIElement.convert(document.elementFromPoint(f3k.clientX,f3k.clientY))))));};T8G.prototype.isDropAllowed=function(W3k,p3k,Y3k){var F0M=T3yy;return W3k.isValues&&Y3k!=this.view.lstColumns&&Y3k!=this.view.lstRows||!F0M.I5B==this.model.isMeasuresAsHierarchies&&(Y3k!=this.view.lstMeasures&&W3k.isMeasure||Y3k==this.view.lstMeasures&&!W3k.isMeasure)||W3k.calculated&&Y3k!=this.view.lstMeasures||p3k==this.view.lstHierarchies&&F0M.r0B!=utils.ArrayUtils.find(Y3k.getDataProvider(),W3k.uniqueName,J3yy.R2t)?!F0M.I5B:!F0M.N5B;};T8G.prototype.getDataByElement=function(w3k,n3k){var o3k=parseInt(w3k.attr(C3yy.K4B));return n3k.getDataProvider()[o3k];};T8G.prototype.onDragLeave=function(c3k,d3k,A3k,l3k){this.removeDropIndicator();c3k&&c3k.closest(C3yy.m4B)&&d3k&&(d3k.removeClass(F3yy.S4R),d3k.removeClass(F3yy.m4R));};T8G.prototype.onDrop=function(h3k,M3k,V3k,H3k){var e0M=C3yy;this.removeDropIndicator();h3k&&h3k.closest(e0M.m4B)&&(M3k instanceof uicontrols.lists.UIList||(M3k=this.getListById(M3k.attr(T3yy.W9B))),H3k=this.getListById(h3k.closest(e0M.m4B).attr(T3yy.W9B)),!T3yy.I5B!=this.isDropAllowed(this.getDataByElement(h3k,H3k),H3k,M3k)&&(V3k=V3k?parseFloat(V3k.attr(e0M.K4B)):M3k.getDataProvider().length,h3k=parseInt(h3k.attr(e0M.K4B)),H3k!=M3k||h3k!=V3k))&&(H3k==this.view.lstHierarchies&&M3k!=this.view.lstHierarchies?this.addField(H3k,M3k,h3k,V3k):this.moveField(H3k,M3k,h3k,V3k),this.validateView());};T8G.prototype.showIndicator=function(U3k){var x3k=U3k.closest(C3yy.f4B);T3yy.r0B!=x3k?(this._dropIndicator=this.createDropIndicator(),x3k.before(this._dropIndicator)):(U3k=U3k.closest(C3yy.m4B),T3yy.r0B!=U3k&&(this._dropIndicator=this.createDropIndicator(),T3yy.N5B<U3k.element.children.length?U3k.append(this._dropIndicator):U3k.prepend(this._dropIndicator)));};T8G.prototype.createDropIndicator=function(){return new uicontrols.UIElement(T3yy.w9B,F3yy.R4R);};T8G.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!T3yy.N5B),this._dropIndicator=T3yy.r0B);};T8G.prototype.moveField=function(G3k,r3k,q3k,L3k){var g0M=T3yy;var t3k=G3k.getDataProvider()[q3k];G3k==r3k?(G3k=r3k.getDataProvider(),q3k<L3k&&(L3k-=g0M.I5B),G3k.splice(L3k,g0M.N5B,G3k.splice(q3k,g0M.I5B)[g0M.N5B])):(t3k=G3k.getDataProvider()[q3k],G3k.getDataProvider().splice(q3k,g0M.I5B),G3k.validateNow(),r3k==this.view.lstMeasures&&(this.model.selectField(t3k,!g0M.I5B),t3k=this.model.findMeasure(this.model.toMeasureUniqueName(t3k.uniqueName))),G3k==this.view.lstMeasures&&(this.model.selectField(t3k,!g0M.I5B),t3k=this.model.findHierarchy(this.model.toHierarchyUniqueName(t3k.uniqueName))),g0M.r0B!=t3k&&(this.model.selectField(t3k,!g0M.N5B),this.findAndRemoveField(t3k),r3k.getDataProvider().splice(L3k,g0M.N5B,t3k)));this.validateList(r3k);this.validateSlice();};T8G.prototype.addField=function(I3k,C7k,N3k,J7k){var a0M=T3yy;N3k=I3k.getDataProvider()[N3k];if(N3k.isLevel){N3k.parent.isSelected&&this.findAndRemoveField(N3k.parent);for(var T7k=a0M.N5B;T7k<N3k.parent.children.length;T7k++){var i3k=N3k.parent.children[T7k];i3k.uniqueName!=N3k.uniqueName&&(i3k.isSelected&&this.findAndRemoveField(i3k),i3k.isSelected=!a0M.I5B);}this.validateItemRecursively(this.view.lstHierarchies,N3k);}this.model.isMeasuresAsHierarchies&&C7k==this.view.lstMeasures&&a0M.r0B!=N3k.measureItem&&(N3k=N3k.measureItem);N3k.isSelected?(this.model.selectField(N3k,!a0M.I5B),this.findAndRemoveField(N3k,I3k,!a0M.N5B),this.model.selectField(N3k,!a0M.N5B)):(this.model.selectField(N3k,!a0M.N5B),I3k=utils.ArrayUtils.findIndex(this.view.lstHierarchies.getDataProvider(),N3k.uniqueName,J3yy.R2t),this.validateItemRecursivelyAt(this.view.lstHierarchies,I3k),this.view.lstHierarchies.validateItemAt(I3k));C7k.getDataProvider().splice(J7k,a0M.N5B,N3k);this.validateList(C7k);this.validateSlice();};T8G.prototype.removeField=function(Q7k,u7k){var b0M=T3yy;if(!(Q7k.getDataProvider().length<=u7k)){var F7k=Q7k.getDataProvider()[u7k];F7k.isValues||(Q7k.getDataProvider().splice(u7k,b0M.I5B),this.validateList(Q7k),F7k=this.model.findItem(F7k.uniqueName,F7k.isMeasure),b0M.r0B!=F7k&&(this.model.selectField(F7k,!b0M.I5B),this.validateItemRecursively(this.view.lstHierarchies,b0M.r0B!=F7k.hierarchyItem?F7k.hierarchyItem:F7k),F7k.isLevel&&(this.model.selectField(F7k.parent,!b0M.I5B),this.validateItemRecursively(this.view.lstHierarchies,F7k.parent))),this.validateSlice());}};T8G.prototype.findAndRemoveField=function(B7k,e7k,P7k){var z0M=T3yy;var s4R="hierarchyName";void z0M.N5B===e7k&&(e7k=z0M.r0B);void z0M.N5B===P7k&&(P7k=!z0M.I5B);for(var D7k=-z0M.I5B,Z7k=z0M.N5B;Z7k<this.lists.length;Z7k++)this.lists[Z7k]==e7k||this.lists[Z7k]==this.view.lstMeasures&&P7k||(D7k=utils.ArrayUtils.findIndex(this.lists[Z7k].getDataProvider(),B7k.uniqueName,J3yy.R2t),-z0M.I5B==D7k&&(D7k=utils.ArrayUtils.findIndex(this.lists[Z7k].getDataProvider(),B7k.uniqueName,s4R)),-z0M.I5B<D7k&&(this.lists[Z7k].getDataProvider().splice(D7k,z0M.I5B),this.validateList(this.lists[Z7k])));};T8G.prototype.getListById=function(O7k){switch(O7k){case this.view.lstHierarchies.getId():return this.view.lstHierarchies;case this.view.lstPages.getId():return this.view.lstPages;case this.view.lstRows.getId():return this.view.lstRows;case this.view.lstColumns.getId():return this.view.lstColumns;case this.view.lstMeasures.getId():return this.view.lstMeasures;}return T3yy.r0B;};T8G.prototype.update=function(y7k,g7k,j7k,k7k){var R0M=T3yy;void R0M.N5B===j7k&&(j7k=R0M.o9B);void R0M.N5B===k7k&&(k7k=!R0M.N5B);k7k&&this.model.update(y7k,g7k,j7k);this.updateView();};T8G.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model.isValidSlice());};Object.defineProperty(T8G.prototype,F3yy.O4R,{get:function(){return this.model.isExpandAll;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});T8G.prototype.updateView=function(){var s0M=T3yy;var a7k=this;this.view.reset&&this.view.reset();this.view.btnAddMeasure&&this.view.btnAddMeasure.isVisible(this.model.isCalculatedAvailable);this.view.lstHierarchies&&this.view.lstHierarchies.setDataProvider(this.model.hierarchies,!s0M.I5B);this.view.lstPages&&this.view.lstPages.setDataProvider(this.model.pages,!s0M.I5B);this.view.lstRows&&this.view.lstRows.setDataProvider(this.model.rows,!s0M.I5B);this.view.lstColumns&&this.view.lstColumns.setDataProvider(this.model.columns,!s0M.I5B);this.view.lstMeasures&&this.view.lstMeasures.setDataProvider(this.model.measures,!s0M.I5B);this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders);this.view.searchWrap&&this.view.searchWrap.isVisible(this.model.isSearchNeeded);this.view.inpSearch&&(this.view.inpSearch.clear(!s0M.I5B),this.model.clearSearch());this.view.setLabels();this.view.container.requestAnimationFrame(function(){a7k.validateView();});};T8G.prototype.validateList=function(X7k){var b7k=this;X7k.validateNow();var S7k={onDragStart:function(m7k){return b7k.onDragStart(m7k);},createHelper:function(R7k){return b7k.view.createHelper(R7k);}};utils.browserVersion().isMobile&&(S7k.handle=F3yy.f4R);var z7k=X7k.container.find(C3yy.f4B,!T3yy.N5B);if(X7k==this.view.lstHierarchies)for(X7k=T3yy.N5B;X7k<z7k.length;X7k++)z7k[X7k].hasClass(F3yy.K4R)&&!z7k[X7k].hasClass(F3yy.E4R)||z7k[X7k].draggable(S7k);else for(X7k.droppable({onDrop:function(s7k,f7k,K7k,E7k){return b7k.onDrop(s7k,f7k,K7k,E7k);},onDragEnter:function(v7k,Y7k,W7k,p7k){return b7k.onDragEnterOrOver(v7k,Y7k,W7k,p7k);},onDragOver:function(o7k,w7k,n7k,d7k){return b7k.onDragEnterOrOver(o7k,w7k,n7k,d7k);},onDragLeave:function(c7k,A7k,l7k,h7k){return b7k.onDragLeave(c7k,A7k,l7k,h7k);},itemSelector:C3yy.f4B}),X7k=T3yy.N5B;X7k<z7k.length;X7k++)z7k[X7k].draggable(S7k);};T8G.prototype.validateView=function(){try{this.validateSlice(),this.validateList(this.view.lstHierarchies),this.validateList(this.view.lstPages),this.validateList(this.view.lstRows),this.validateList(this.view.lstColumns),this.validateList(this.view.lstMeasures);}catch(M7k){}};return T8G;}(events.EventDispatcher);I2G.PivotFieldsController=i2G;}(N2G._pivot||(N2G._pivot={})));}(L2G.config||(L2G.config={})));}(q2G._view||(q2G._view={})));}(pivot||(pivot={})));(function(H7k){(function(V7k){(function(U7k){(function(t7k){var x7k=function(r7k){__extends(G7k,r7k);G7k.prototype.onViewResize=function(i7k){this.setWidth(i7k.size.width+(i7k.size.width-i7k.originalSize.width));this.addLayoutClasses();this.centerPosition();};G7k.prototype.setControls=function(){var W0M=C3yy;var Y0M=F3yy;var v0M=T3yy;var T2R="wdr-lst-pages";var I4R="wdr-wrap-pages";var Q2R="wdr-lst-rows";var J2R="wdr-list-wrap wdr-list-wrap-rows";var c4R="wdr-ui-col-3";var l4R="wdr-list-header wdr-list-header-wide";var h4R="wdr-list-header-label-wrap";var e2R="wdr-list-wrap wdr-list-wrap-measures";var M4R="wdr-ui-link-btn";var N4R="wdr-list-wrap wdr-list-wrap-pages";var D2R="wdr-lst-columns";var A4R="wdr-list-wrap wdr-list-wrap-all";var U4R="button";var u2R="wdr-list-wrap wdr-list-wrap-cols";var Z2R="wdr-wrap-columns";var P2R="wdr-wrap-measures";var F2R="wdr-wrap-rows";var H4R="wdr-btn-collapse-expand-all";var F5k=this,Q5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.v4R);this.addChild(Q5k);var T5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.Y4R);Q5k.addChild(T5k);this.lblTitle=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_TITLE);this.lblTitle.addClass(Y0M.C1R);T5k.addChild(this.lblTitle);this.lblSubtitle=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_SUBTITLE);this.lblSubtitle.addClass(Y0M.W4R);T5k.addChild(this.lblSubtitle);T5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.p4R);Q5k.addChild(T5k);this.btnAddMeasure=new uicontrols.UIButton(Y0M.o4R);this.btnAddMeasure.setId(Y0M.w4R);this.btnAddMeasure.setLabel(H7k.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE);T5k.addChild(this.btnAddMeasure);this.btnCancel=new uicontrols.UIButton();this.btnCancel.setLabel(H7k.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(Y0M.P1R);this.btnOk.setLabel(H7k.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(T5k.addChild(this.btnCancel),T5k.addChild(this.btnOk)):(T5k.addChild(this.btnOk),T5k.addChild(this.btnCancel));Q5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.n4R);this.addChild(Q5k);var u5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.d4R);Q5k.addChild(u5k);T5k=new uicontrols.UIComponentBase(v0M.w9B,c4R);u5k.addChild(T5k);var J5k=new uicontrols.UIComponentBase(v0M.w9B,A4R);T5k.addChild(J5k);var C5k=new uicontrols.UIComponentBase(v0M.w9B,l4R);J5k.addChild(C5k);T5k=new uicontrols.UIComponentBase(v0M.w9B,h4R);C5k.addChild(T5k);this.lblHierarchies=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_ALL_FIELDS);T5k.addChild(this.lblHierarchies);this.btnCollapseExpand=new uicontrols.UIButton(M4R);this.btnCollapseExpand.removeClass(v0M.X6B);this.btnCollapseExpand.setId(H4R);this.btnCollapseExpand.setLabel(H7k.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL);T5k.addChild(this.btnCollapseExpand);this.searchWrap=new uicontrols.UIComponentBase(v0M.w9B,Y0M.V4R);C5k.addChild(this.searchWrap);T5k=new uicontrols.UIComponentBase(U4R,Y0M.x4R);T5k.addEventListener(v0M.b6B,function(){return F5k.onSearchClick();});this.searchWrap.addChild(T5k);C5k=new uicontrols.UIComponentBase(v0M.f6B,Y0M.t4R);T5k.addChild(C5k);this.inpSearch=new uicontrols.UITextInput();this.inpSearch.addClass(Y0M.G4R);this.searchWrap.addChild(this.inpSearch);T5k=new uicontrols.UIComponentBase(v0M.f6B,Y0M.r4R);T5k.addEventListener(v0M.b6B,function(){return F5k.onSearchCloseClick();});this.searchWrap.addChild(T5k);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.q4R);J5k.addChild(C5k);this.lstHierarchies=new uicontrols.lists.UIList();this.lstHierarchies.setId(Y0M.L4R);this.lstHierarchies.setItemRendererFactory(function(Z5k,D5k){return F5k.selectableItemRendererFactory(Z5k,D5k);});this.lstHierarchies.setLabelField(W0M.u0t);C5k.addChild(this.lstHierarchies);T5k=new uicontrols.UIComponentBase(v0M.w9B,c4R);u5k.addChild(T5k);J5k=new uicontrols.UIComponentBase(v0M.w9B,N4R);J5k.setId(I4R);T5k.addChild(J5k);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.i4R);J5k.addChild(C5k);this.lblPages=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_FILTERS);C5k.addChild(this.lblPages);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.q4R);J5k.addChild(C5k);this.lstPages=new uicontrols.lists.UIList();this.lstPages.setId(T2R);this.lstPages.setItemRendererFactory(function(e5k,P5k){return F5k.fieldItemRendererFactory(e5k,P5k);});this.lstPages.setLabelField(W0M.u0t);C5k.addChild(this.lstPages);this.lblPagesPrompt=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblPagesPrompt.addClass(Y0M.C2R);J5k.addChild(this.lblPagesPrompt);J5k=new uicontrols.UIComponentBase(v0M.w9B,J2R);J5k.setId(F2R);T5k.addChild(J5k);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.i4R);J5k.addChild(C5k);this.lblRows=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_ROWS);C5k.addChild(this.lblRows);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.q4R);J5k.addChild(C5k);this.lstRows=new uicontrols.lists.UIList();this.lstRows.setId(Q2R);this.lstRows.setItemRendererFactory(function(B5k,O5k){return F5k.fieldItemRendererFactory(B5k,O5k);});this.lstRows.setLabelField(W0M.u0t);C5k.addChild(this.lstRows);this.lblRowsPrompt=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblRowsPrompt.addClass(Y0M.C2R);J5k.addChild(this.lblRowsPrompt);T5k=new uicontrols.UIComponentBase(v0M.w9B,c4R);u5k.addChild(T5k);J5k=new uicontrols.UIComponentBase(v0M.w9B,u2R);J5k.setId(Z2R);T5k.addChild(J5k);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.i4R);J5k.addChild(C5k);this.lblColumns=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_COLUMNS);C5k.addChild(this.lblColumns);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.q4R);J5k.addChild(C5k);this.lstColumns=new uicontrols.lists.UIList();this.lstColumns.setId(D2R);this.lstColumns.setItemRendererFactory(function(j5k,k5k){return F5k.fieldItemRendererFactory(j5k,k5k);});this.lstColumns.setLabelField(W0M.u0t);C5k.addChild(this.lstColumns);this.lblColumnsPrompt=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblColumnsPrompt.addClass(Y0M.C2R);J5k.addChild(this.lblColumnsPrompt);J5k=new uicontrols.UIComponentBase(v0M.w9B,e2R);J5k.setId(P2R);T5k.addChild(J5k);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.i4R);J5k.addChild(C5k);this.lblMeasures=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_VALUES);C5k.addChild(this.lblMeasures);C5k=new uicontrols.UIComponentBase(v0M.w9B,Y0M.q4R);J5k.addChild(C5k);this.lstMeasures=new uicontrols.lists.UIList();this.lstMeasures.setId(Y0M.B2R);this.lstMeasures.setItemRendererFactory(function(y5k,g5k){return F5k.fieldItemRendererFactory(y5k,g5k);});this.lstMeasures.setLabelField(W0M.u0t);C5k.addChild(this.lstMeasures);this.lblMeasuresPrompt=new uicontrols.UILabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblMeasuresPrompt.addClass(Y0M.C2R);J5k.addChild(this.lblMeasuresPrompt);this.aggrView=new U7k.AggregationsView();this.aggrView.setId(Y0M.O2R);this.aggrView.hide();Q5k.addChild(this.aggrView);};G7k.prototype.setLabels=function(){this.lblTitle.setLabel(H7k.model._labels.Labels.FIELDS_LIST_TITLE);this.lblSubtitle.setLabel(H7k.model._labels.Labels.FIELDS_LIST_SUBTITLE);this.btnCancel.setLabel(H7k.model._labels.Labels.BUTTON_CANCEL);this.btnOk.setLabel(H7k.model._labels.Labels.BUTTON_APPLY);this.lblHierarchies.setLabel(H7k.model._labels.Labels.FIELDS_LIST_ALL_FIELDS);this.lblPages.setLabel(H7k.model._labels.Labels.FIELDS_LIST_FILTERS);this.lblRows.setLabel(H7k.model._labels.Labels.FIELDS_LIST_ROWS);this.lblColumns.setLabel(H7k.model._labels.Labels.FIELDS_LIST_COLUMNS);this.lblMeasures.setLabel(H7k.model._labels.Labels.FIELDS_LIST_VALUES);this.btnAddMeasure.setLabel(H7k.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE);this.lblPagesPrompt.setLabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblRowsPrompt.setLabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblColumnsPrompt.setLabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblMeasuresPrompt.setLabel(H7k.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.btnCollapseExpand.setLabel(this.controller.isExpandAll?H7k.model._labels.Labels.FIELDS_LIST_EXPAND_ALL:H7k.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL);};G7k.prototype.fieldItemRendererFactory=function(X5k,b5k){var a5k=new U7k.renderers.FieldItemRenderer();a5k.setData(X5k);a5k.setIndex(b5k);return a5k;};G7k.prototype.selectableItemRendererFactory=function(m5k,S5k){var z5k=new U7k.renderers.SelectableItemRenderer(m5k,S5k);z5k.setIndex(S5k);return z5k;};G7k.prototype.onSearchClick=function(){this.searchWrap.addClass(F3yy.j2R);this.inpSearch.container.focus();};G7k.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass(F3yy.j2R);this.inpSearch.clear();};G7k.prototype.reset=function(){this.searchWrap.removeClass(F3yy.j2R);this.inpSearch.clear(!T3yy.I5B);};G7k.prototype.createHelper=function(s5k){var c0M=F3yy;var d0M=T3yy;var R5k=new uicontrols.UIElement(d0M.f6B);R5k.attr(d0M.W9B,c0M.k2R);R5k.addClass(c0M.v6R);R5k.addClass(d0M.P9B);R5k.toggleClass(c0M.y2R,s5k.hasClass(c0M.y2R));R5k.css(d0M.L9B,s5k.css(d0M.L9B));R5k.css(d0M.N6B,d0M.I6B);R5k.css(c0M.W6R,d0M.F0B);R5k.attr(C3yy.K4B,s5k.attr(C3yy.K4B));R5k.text(s5k.text());return R5k;};G7k.prototype.addLayoutClasses=function(f5k){r7k.prototype.addLayoutClasses.call(this,!T3yy.N5B);};function G7k(L7k,N7k){var g2R="wdr-pivot-fields";var q7k=r7k.call(this,N7k)||this;q7k.toolbarHeight=T3yy.N5B;q7k.controller=L7k;q7k.addClass(g2R);q7k.setControls();q7k.container.disableSelection();q7k.container.resizable({sides:[T3yy.i9B,T3yy.C6B],resize:function(I7k){return q7k.onViewResize(I7k);}});return q7k;}return G7k;}(uicontrols.containers.UIPopup);t7k.PivotFieldsView=x7k;}(U7k._pivot||(U7k._pivot={})));}(V7k.config||(V7k.config={})));}(H7k._view||(H7k._view={})));}(pivot||(pivot={})));(function(K5k){(function(E5k){(function(v5k){var Y5k=function(p5k){var k7u=T3yy;var Y2R="modalParent";var s2R="isDataSourceChange";var w2R="EVENT_OPEN";var f2R="isSliceChange";var p2R="isOpen";var R2R="isActiveChange";var v2R="isForDillThrough";var X2R="wdr-fields-opened";var W2R="containtment";var K2R="hasChanged";var o2R="EVENT_APPLY_SLICE";var m2R="isFlatChange";__extends(W5k,p5k);W5k.prototype.setControls=function(){var a2R="wdr-btn-open-fields";var w5k=this;this.openBtn=new uicontrols.UIButton();this.openBtn.setId(a2R);this.openBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(n5k){return w5k.onOpenClick();});this.addChild(this.openBtn);};W5k.prototype.open=function(c5k,A5k,d5k){var b2R="wdr-fields-view";var z2R="wdr-dt-fields";var S2R="wdr-dt-fields-overlay";void k7u.N5B===d5k&&(d5k=k7u.o9B);this.container.toggleClass(X2R,!k7u.N5B);this.isForDillThrough||(K5k.model.JavaScriptHandlers.getInstance().dispatch(new K5k.model.APIEvent(K5k.model.JavaScriptHandlers.FILDS_LIST_OPEN)),K5k.model._options.OptionsManager.configuratorOpened=!k7u.N5B);this._isFlat=K5k.model._options.OptionsManager.flatView;this.controller=this.getController();this.controller.update(c5k,A5k,d5k,this.hasChanged);this.controller.view.setId(b2R);this.controller.view.container.toggleClass(z2R,this.isForDillThrough);this.controller.view.overlay.container.toggleClass(S2R,this.isForDillThrough);this._modalParent?this._modalParent.addChild(this.controller.view.container):this.addChild(this.controller.view);this.isVisible()||this.show();this.controller.view.open();this._isActive=!k7u.N5B;this._prevSlice=K5k.data_.Cube.getInstance().slice_?K5k.data_.Cube.getInstance().slice_.clone():k7u.r0B;this._connectionInfo=K5k.data_.Cube.getInstance().connectionInfo_;};Object.defineProperty(W5k.prototype,m2R,{get:function(){return this._isFlat!=K5k.model._options.OptionsManager.flatView;},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,R2R,{get:function(){return this._isActive!=K5k.model._options.OptionsManager.configuratorOpened;},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,s2R,{get:function(){return k7u.r0B==this._connectionInfo||k7u.r0B==K5k.data_.Cube.getInstance().structure_||!this._connectionInfo.isEqual(K5k.data_.Cube.getInstance().connectionInfo_);},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,f2R,{get:function(){return k7u.r0B==K5k.data_.Cube.getInstance().slice_&&k7u.r0B!=this._prevSlice||k7u.r0B!=K5k.data_.Cube.getInstance().slice_&&k7u.r0B==this._prevSlice||K5k.data_.Cube.getInstance().slice_&&this._prevSlice&&!K5k.data_.Cube.getInstance().slice_.isEqual(this._prevSlice);},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,K2R,{get:function(){return this.isActiveChange||this.isDataSourceChange||this.isSliceChange||this.isFlatChange;},enumerable:!k7u.N5B,configurable:!k7u.N5B});W5k.prototype.getController=function(){var H5k=this,l5k=k7u.r0B,M5k=this._isFlat||this._isForDillThrough,h5k=this._modalParent||E5k.PivotView.stage.container;k7u.r0B==this.controller?l5k=M5k?new v5k.flat.FlatFieldsController(h5k):new v5k._pivot.PivotFieldsController(h5k):M5k&&J3yy.S2t!=this.controller.type?l5k=new v5k.flat.FlatFieldsController(h5k):M5k||J3yy.z2t==this.controller.type||(l5k=new v5k._pivot.PivotFieldsController(h5k));if(k7u.r0B==l5k)return this.controller;this.controller&&this.controller.removeAllEventListeners();l5k.addEventListener(events._Event.CLOSED,function(){return H5k.onViewClosed();});l5k.addEventListener(W5k.EVENT_APPLY_SLICE,function(V5k){return H5k.onApplySlice(V5k);});return l5k;};W5k.prototype.onApplySlice=function(U5k){this.dispatch(U5k);};W5k.prototype.onViewClosed=function(){this._isActive=void k7u.N5B;this._connectionInfo=k7u.r0B;this._isFlat=void k7u.N5B;this.isForDillThrough||(K5k.model.JavaScriptHandlers.getInstance().dispatch(new K5k.model.APIEvent(K5k.model.JavaScriptHandlers.FILDS_LIST_CLOSE)),K5k.model._options.OptionsManager.getInstance(),K5k.model._options.OptionsManager.configuratorButton?this.show():this.hide(),K5k.model._options.OptionsManager.configuratorOpened=!k7u.I5B,this.dispatchWith(events._Event.CLOSED));this.container.toggleClass(X2R,!k7u.I5B);};W5k.prototype.close=function(){this.controller&&this.controller.view.close();};W5k.prototype.onOpenClick=function(){this.dispatchWith(W5k.EVENT_OPEN);};function W5k(){var E2R="wdr-fields-view-wrap";var o5k=p5k.call(this)||this;o5k.addClass(E2R);o5k.setControls();return o5k;}Object.defineProperty(W5k.prototype,v2R,{get:function(){return this._isForDillThrough;},set:function(x5k){this._isForDillThrough=x5k;},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,Y2R,{set:function(t5k){this._modalParent=t5k;},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,W2R,{set:function(G5k){},enumerable:!k7u.N5B,configurable:!k7u.N5B});Object.defineProperty(W5k.prototype,p2R,{get:function(){return this._isActive;},enumerable:!k7u.N5B,configurable:!k7u.N5B});W5k.EVENT_APPLY_SLICE=o2R;W5k.EVENT_OPEN=w2R;return W5k;}(uicontrols.UIComponentBase);v5k.FieldsView=Y5k;}(E5k.config||(E5k.config={})));}(K5k._view||(K5k._view={})));}(pivot||(pivot={})));function PivotApi(l7B){var d7B={version:pivot.Pivot.BUILD_VERSION},c7B=new pivot.Pivot(l7B,d7B);d7B.getAllConditions=function(){return c7B.getAllConditions();};d7B.getCondition=function(h7B){return c7B.getCondition(h7B);};d7B.addCondition=function(M7B){return c7B.addCondition(M7B);};d7B.removeCondition=function(H7B){return c7B.removeCondition(H7B);};d7B.removeAllConditions=function(){return c7B.removeAllConditions();};d7B.open=function(){return c7B.open();};d7B.load=function(V7B){return c7B.load(V7B);};d7B.getReport=function(U7B){return c7B.getReport(U7B);};d7B.setReport=function(x7B){return c7B.setReport(x7B);};d7B.getData=function(t7B,G7B,r7B){return c7B.getData(t7B,G7B,r7B);};d7B.save=function(q7B,L7B,N7B,I7B,i7B){var N0a=T3yy;void N0a.N5B===q7B&&(q7B={filename:C3yy.d1t});void N0a.N5B===L7B&&(L7B=N0a.r0B);void N0a.N5B===N7B&&(N7B=N0a.r0B);void N0a.N5B===I7B&&(I7B=N0a.r0B);void N0a.N5B===i7B&&(i7B=!N0a.I5B);return c7B.save(q7B,L7B,N7B,I7B,i7B);};d7B.updateData=function(T5B,C5B){return c7B.updateData(T5B,C5B);};d7B.connectTo=function(J5B){return c7B.connectTo(J5B);};d7B.addCalculatedMeasure=function(F5B){return c7B.addCalculatedMeasure(F5B);};d7B.removeCalculatedMeasure=function(Q5B){return c7B.removeCalculatedMeasure(Q5B);};d7B.removeAllCalculatedMeasures=function(){return c7B.removeAllCalculatedMeasures();};d7B.clear=function(){return c7B.clear();};d7B.dispose=function(){c7B.dispose();};d7B.refresh=function(){return c7B.refresh();};d7B.expandAllData=function(u5B){void T3yy.N5B===u5B&&(u5B=!T3yy.N5B);return c7B.expandAllData(u5B);};d7B.expandData=function(Z5B){return c7B.expandData(Z5B);};d7B.collapseAllData=function(){return c7B.collapseAllData();};d7B.collapseData=function(D5B){return c7B.collapseData(D5B);};d7B.print=function(e5B){void T3yy.N5B===e5B&&(e5B=T3yy.r0B);return c7B.print(e5B);};d7B.exportTo=function(O5B,P5B,B5B){var C9a=T3yy;void C9a.N5B===P5B&&(P5B=C9a.r0B);void C9a.N5B===B5B&&(B5B=C9a.r0B);return c7B.exportTo(O5B,P5B,B5B);};d7B.getFilter=function(j5B){return c7B.getFilter(j5B);};d7B.getFilterProperties=function(k5B){return c7B.getFilterProperties(k5B);};d7B.setFilter=function(g5B,a5B,y5B){void T3yy.N5B===y5B&&(y5B=!T3yy.I5B);return c7B.setFilter(g5B,a5B,y5B);};d7B.clearFilter=function(X5B){return c7B.clearFilter(X5B);};d7B.runQuery=function(b5B){return c7B.runQuery(b5B);};d7B.on=function(z5B,S5B){return c7B.on(z5B,S5B);};d7B.off=function(m5B,R5B){return c7B.off(m5B,R5B);};d7B.getRows=function(){return c7B.getRows();};d7B.getColumns=function(){return c7B.getColumns();};d7B.getReportFilters=function(){return c7B.getPages();};d7B.getMeasures=function(){return c7B.getMeasures();};d7B.getAllMeasures=function(){return c7B.getAllMeasures();};d7B.sortValues=function(s5B,f5B,K5B,E5B){return c7B.sortValues(s5B,f5B,K5B,E5B);};d7B.setSort=function(v5B,Y5B){return c7B.setSort(v5B,Y5B);};d7B.getSort=function(W5B){return c7B.getSort(W5B);};d7B.setTopX=function(p5B,o5B,w5B){return c7B.setTopX(p5B,o5B,w5B);};d7B.setBottomX=function(n5B,d5B,c5B){return c7B.setBottomX(n5B,d5B,c5B);};d7B.getOptions=function(){return c7B.getOptions();};d7B.setOptions=function(A5B){return c7B.setOptions(A5B);};d7B.getMembers=function(l5B,h5B,M5B){return c7B.getMembers(l5B,h5B,M5B);};d7B.getAllHierarchies=function(){return c7B.getAllHierarchies();};d7B.replaceHierarchyCaption=function(H5B){return c7B.replaceHierarchyCaption(H5B);};d7B.getFormat=function(V5B){return c7B.getFormat(V5B);};d7B.setFormat=function(U5B,x5B){return c7B.setFormat(U5B,x5B);};d7B.getCell=function(t5B,G5B){return c7B.getCell(t5B,G5B);};d7B.getSelectedCell=function(){return c7B.getSelectedCell();};d7B.setSelectedCell=function(r5B,q5B){return c7B.setSelectedCell(r5B,q5B);};d7B.removeSelection=function(){return c7B.removeSelection();};d7B.openFieldsList=function(){return c7B.openFieldsList();};d7B.closeFieldsList=function(){return c7B.closeFieldsList();};d7B.customizeCell=function(L5B){return c7B.customizeCell(L5B);};if(void T3yy.N5B!==window.WebDataRocksHighcharts){d7B.highcharts={instance:d7B};for(var A7B in window.WebDataRocksHighcharts)d7B.highcharts[A7B]=window.WebDataRocksHighcharts[A7B];}if(void T3yy.N5B!==window.WebDataRocksFusioncharts)for(A7B in d7B.fusioncharts={instance:d7B},window.WebDataRocksFusioncharts)d7B.fusioncharts[A7B]=window.WebDataRocksFusioncharts[A7B];if(void T3yy.N5B!==window.WebDataRocksGooglecharts)for(A7B in d7B.googlecharts={instance:d7B},window.WebDataRocksGooglecharts)d7B.googlecharts[A7B]=window.WebDataRocksGooglecharts[A7B];return window.webdatarocks=d7B;}(function(r5k){(function(q5k){(function(L5k){(function(I5k){var N5k=function(T1k){__extends(i5k,T1k);i5k.prototype.createTextDisplay=function(){T3yy.r0B==this.textDisplay&&(this.textDisplay=new uicontrols.UIElement(T3yy.f6B),this.textDisplay.attr(T3yy.W9B,F3yy.n2R));};i5k.prototype.createArrgDisplay=function(){T3yy.r0B==this.aggrDisplay&&(this.aggrDisplay=new uicontrols.UIElement(T3yy.f6B),this.aggrDisplay.attr(T3yy.W9B,F3yy.X4R));};function i5k(){var C1k=T1k.call(this)||this;C1k.createTextDisplay();return C1k;}i5k.prototype.createDragHandle=function(){T3yy.r0B==this.dragHandle&&(this.dragHandle=new uicontrols.UIElement(T3yy.f6B),this.dragHandle.attr(T3yy.W9B,F3yy.k2R));};i5k.prototype.draw=function(){var r0M=F3yy;var G0M=T3yy;var J1k=this.getData();this.container.empty();var F1k=G0M.o9B,F1k=G0M.r0B!=this.getLabelFunction()?this.getLabelFunction()(J1k):J1k.isLevel?J1k.hierarchyCaption+r0M.K1R+J1k[this.getLabelField()]:J1k[this.getLabelField()];this.textDisplay.text(F1k);this.textDisplay.attr(r0M.L6R,F1k);this.container.append(this.textDisplay);!G0M.N5B==J1k.isMeasure&&!G0M.N5B==J1k.showAggregations&&G0M.I5B<J1k.availableAggregations.length&&r5k.model._options.OptionsManager.showAggregations&&(this.createArrgDisplay(),this.container.append(this.aggrDisplay));this.createDragHandle();this.container.append(this.dragHandle);this.container.toggleClass(r0M.d2R,!G0M.N5B===J1k.isMeasure);this.container.toggleClass(r0M.y2R,!G0M.N5B===J1k.isValues);this.container.toggleClass(G0M.H6B,!G0M.N5B===J1k.isSelected);this.container.toggleClass(r0M.c2R,!G0M.N5B===J1k.isLevel);};return i5k;}(uicontrols.renderers.UIItemRenderer);I5k.FieldItemRenderer=N5k;}(L5k.renderers||(L5k.renderers={})));}(q5k.config||(q5k.config={})));}(r5k._view||(r5k._view={})));}(pivot||(pivot={})));(function(Q1k){(function(u1k){(function(Z1k){(function(e1k){var D1k=function(B1k){__extends(P1k,B1k);P1k.prototype.createIconDisplay=function(){var A2R="wdr-icon-display";T3yy.r0B==this.iconDisplay&&(this.iconDisplay=new uicontrols.UIElement(T3yy.f6B),this.iconDisplay.attr(T3yy.W9B,A2R));};P1k.prototype.createMoreIconDisplay=function(){T3yy.r0B==this.moreIconDisplay&&(this.moreIconDisplay=new uicontrols.UIElement(T3yy.f6B),this.moreIconDisplay.attr(T3yy.W9B,F3yy.z4R));};P1k.prototype.createTextDisplay=function(){T3yy.r0B==this.textDisplay&&(this.textDisplay=new uicontrols.UIElement(T3yy.f6B),this.textDisplay.attr(T3yy.W9B,F3yy.n2R));};P1k.prototype.createArrgDisplay=function(){T3yy.r0B==this.aggrDisplay&&(this.aggrDisplay=new uicontrols.UIElement(T3yy.f6B),this.aggrDisplay.attr(T3yy.W9B,F3yy.X4R));};P1k.prototype.createCalcDisplay=function(){T3yy.r0B==this.calcDisplay&&(this.calcDisplay=new uicontrols.UIElement(T3yy.f6B),this.calcDisplay.attr(T3yy.W9B,F3yy.b4R));};P1k.prototype.createDragHandle=function(){T3yy.r0B==this.dragHandle&&(this.dragHandle=new uicontrols.UIElement(T3yy.f6B),this.dragHandle.attr(T3yy.W9B,F3yy.k2R));};function P1k(j1k,k1k){void T3yy.N5B===j1k&&(j1k=T3yy.r0B);var O1k=B1k.call(this)||this;O1k.data=j1k;O1k.createIconDisplay();O1k.createTextDisplay();return O1k;}P1k.prototype.draw=function(){var e9M=T3yy;var D9M=F3yy;var M2R="wdr-measures-folder";var H2R="wdr-measures-calculated-folder";var l2R="wdr-checked";var h2R="wdr-unchecked";var V2R="wdr-calculated";var y1k=this.getData();this.container.empty();this.container.append(this.iconDisplay);y1k.isLevelFolder&&(this.createMoreIconDisplay(),this.container.append(this.moreIconDisplay));this.textDisplay.text(y1k[this.getLabelField()]);this.textDisplay.attr(D9M.L6R,y1k[this.getLabelField()]);this.container.append(this.textDisplay);!e9M.N5B===y1k.isMeasure&&!e9M.N5B===y1k.calculated&&!e9M.N5B===y1k.showAggregations&&(this.createCalcDisplay(),this.container.append(this.calcDisplay));y1k.isFolder||y1k.isMeasuresFolder?e9M.r0B!=this.dragHandle&&this.dragHandle.remove():(this.createDragHandle(),this.container.append(this.dragHandle));for(var a1k=!e9M.N5B===y1k.isSelected||e9M.r0B!=y1k.measureItem&&!e9M.N5B===y1k.measureItem.isSelected,g1k=e9M.I5B;e9M.D1B>g1k;g1k++)this.container.toggleClass(D9M.S0R+g1k,y1k.level===g1k);this.container.toggleClass(e9M.H6B,!e9M.N5B===a1k);this.container.toggleClass(l2R,!e9M.N5B!==y1k.isFolder&&!e9M.N5B!==y1k.isLevel&&!e9M.N5B===a1k);this.container.toggleClass(h2R,!e9M.N5B!==y1k.isFolder&&!e9M.N5B!==y1k.isLevel&&!e9M.N5B!==a1k);this.container.toggleClass(D9M.d2R,!e9M.N5B===y1k.isMeasure);this.container.toggleClass(D9M.K4R,!e9M.N5B===y1k.isFolder||!e9M.N5B===y1k.isLevelFolder);this.container.toggleClass(D9M.E4R,!e9M.N5B===y1k.isLevelFolder);this.container.toggleClass(D9M.c2R,!e9M.N5B===y1k.isLevel);this.container.toggleClass(M2R,!e9M.N5B===y1k.isMeasuresFolder);this.container.toggleClass(H2R,!e9M.N5B===y1k.isMeasuresFolder&&!e9M.N5B===y1k.isCalculatedMeasuresFolder);this.container.toggleClass(V2R,!e9M.N5B===y1k.calculated);this.container.toggleClass(u1k.grid.vo.GridStyleName.COLLAPSED,(!e9M.N5B===y1k.isFolder||!e9M.N5B===y1k.isLevelFolder)&&!e9M.N5B!==y1k.isExpanded);this.container.toggleClass(u1k.grid.vo.GridStyleName.EXPANDED,(!e9M.N5B===y1k.isFolder||!e9M.N5B===y1k.isLevelFolder)&&!e9M.N5B===y1k.isExpanded);};return P1k;}(uicontrols.renderers.UIItemRenderer);e1k.SelectableItemRenderer=D1k;}(Z1k.renderers||(Z1k.renderers={})));}(u1k.config||(u1k.config={})));}(Q1k._view||(Q1k._view={})));}(pivot||(pivot={})));(function(X1k){(function(b1k){(function(z1k){(function(m1k){var S1k=function(){R1k.prototype.update=function(p1k,W1k){var P9M=T3yy;this._structure=p1k;this._slice=W1k;this.hierarchies=[];var s1k,K1k=P9M.r0B,v1k=this._structure.calculatedMeasures;if(P9M.r0B!=this._slice)for(var K1k=this._slice.flatten(!P9M.N5B),f1k=P9M.N5B;f1k<K1k.length;f1k++)s1k=K1k.getItemAt(f1k),v1k.keyExists(s1k.uniqueName)&&(s1k=v1k.getItem(s1k.uniqueName),s1k.showAggregations=X1k.model._options.OptionsManager.showAggregations,s1k.isMeasure=!P9M.N5B),s1k.isSelected=!P9M.N5B,this.hierarchies.push(s1k);for(var E1k=[],Y1k=this._structure.allHierarchies(!P9M.I5B),f1k=P9M.N5B;f1k<Y1k.length;f1k++)s1k=Y1k.getItemAt(f1k),P9M.r0B==K1k||K1k.keyExists(s1k.uniqueName)||(s1k.isSelected=!P9M.I5B,E1k.push(s1k));for(f1k=P9M.N5B;f1k<v1k.length;f1k++)s1k=v1k.getItemAt(f1k),P9M.r0B==K1k||K1k.keyExists(s1k.uniqueName)||(s1k.isSelected=W1k.measures_.keyExists(s1k.uniqueName)||-P9M.I5B<this.newCalculated.indexOf(s1k.uniqueName),s1k.showAggregations=X1k.model._options.OptionsManager.showAggregations,s1k.isMeasure=!P9M.N5B,E1k.push(s1k));E1k.sort(function(o1k,w1k){return o1k.caption<w1k.caption?-P9M.I5B:o1k.caption>w1k.caption?P9M.I5B:P9M.N5B;});for(f1k=P9M.N5B;f1k<E1k.length;f1k++)s1k=E1k[f1k],this.hierarchies.push(s1k);};R1k.prototype.isValidSlice=function(){return!T3yy.N5B;};function R1k(){this.newCalculated=[];}R1k.prototype.toPlainArray=function(l1k,A1k){for(var d1k=[],n1k=T3yy.N5B;n1k<A1k.length;n1k++){var c1k=l1k[A1k[n1k]];c1k.isSelected&&d1k.push(c1k.uniqueName);}return d1k;};R1k.prototype.getSlice=function(U1k){var k9M=T3yy;var h1k=this._slice.clone();U1k=this.toPlainArray(this.hierarchies,U1k);h1k.flatOrder=U1k;for(var t1k=h1k.flatten(!k9M.N5B),H1k,x1k=h1k.measures_,V1k=k9M.N5B;V1k<U1k.length;V1k++){var M1k=U1k[V1k];t1k.keyExists(M1k)||((H1k=this._structure.allHierarchies().getItem(M1k))?h1k.rows.addItem(M1k,H1k):this._structure.calculatedMeasures.keyExists(M1k)&&(x1k.addItem(M1k,this._structure.calculatedMeasures.getItem(M1k)),h1k.measures_=x1k));}for(V1k=k9M.N5B;V1k<t1k.length;V1k++)H1k=t1k.getItemAt(V1k),-k9M.I5B==U1k.indexOf(H1k.uniqueName)&&(h1k.columns.keyExists(H1k.uniqueName)&&h1k.columns.removeItem(H1k.uniqueName),h1k.rows.keyExists(H1k.uniqueName)&&h1k.rows.removeItem(H1k.uniqueName),M1k=this._structure.hierarchyToMeasure(H1k.uniqueName),k9M.r0B==M1k&&(M1k=this._structure.calculatedMeasures.getItem(H1k.uniqueName)),x1k.keyExists(M1k.uniqueName)&&x1k.removeItem(M1k.uniqueName));h1k.measures_=x1k;this.newCalculated=[];return h1k;};R1k.prototype.onCalculatedValueAdded=function(r1k){var y9M=T3yy;if(y9M.r0B!=this._slice&&y9M.r0B!=this._structure){this.update(this._structure,this._slice);var G1k=utils.ArrayUtils.find(this.hierarchies,r1k,J3yy.R2t);y9M.r0B!=G1k&&(G1k.isSelected=!y9M.N5B);this.newCalculated.push(r1k);}};R1k.prototype.onCalculatedValueRemoved=function(q1k){T3yy.r0B!=this._slice&&T3yy.r0B!=this._structure&&this.update(this._structure,this._slice);};R1k.prototype.isSliceDifferent=function(L1k){var B9M=T3yy;L1k=L1k.flatten(!B9M.N5B);var I1k=this._slice.flatten(!B9M.N5B);if(L1k.length!=I1k.length)return!B9M.N5B;for(var N1k=B9M.N5B;N1k<L1k.length;N1k++)if(L1k.getKeyAt(N1k)!=I1k.getKeyAt(N1k))return!B9M.N5B;return!B9M.I5B;};R1k.prototype.getSelectAllSelection=function(){for(var i1k=T3yy.N5B,T0k=T3yy.N5B;T0k<this.hierarchies.length;T0k++)this.hierarchies[T0k].isSelected&&i1k++;return T3yy.N5B==i1k?uicontrols.UICheckBox.UNSELECTED:i1k==this.hierarchies.length?uicontrols.UICheckBox.SELECTED:uicontrols.UICheckBox.SEMI_SELECTED;};return R1k;}();m1k.FlatFieldsModel=S1k;}(z1k.flat||(z1k.flat={})));}(b1k.config||(b1k.config={})));}(X1k._view||(X1k._view={})));}(pivot||(pivot={})));(function(C0k){(function(J0k){(function(F0k){(function(Q0k){var u0k=function(D0k){var U2R="wdr-drag-over";__extends(Z0k,D0k);Z0k.prototype.onDragEnterOrOver=function(p0k,o0k,n0k,w0k){this.removeDropIndicator();p0k&&p0k.closest(C3yy.m4B)&&(o0k&&o0k.addClass(F3yy.S4R),p0k.addClass(U2R),this.showIndicator(uicontrols.UIElement.convert(w0k.target)));};Z0k.prototype.onDragLeave=function(c0k,d0k,A0k,l0k){this.removeDropIndicator();c0k&&c0k.closest(C3yy.m4B)&&(d0k&&d0k.removeClass(F3yy.S4R),d0k&&d0k.removeClass(F3yy.m4R),c0k.removeClass(U2R));};Z0k.prototype.onDrop=function(h0k,H0k,M0k,V0k){var b1M=T3yy;this.removeDropIndicator();h0k&&h0k.closest(C3yy.m4B)&&(h0k=parseInt(h0k.attr(C3yy.K4B)),M0k=M0k?parseFloat(M0k.attr(C3yy.K4B)):this.view.lstHierarchies.getDataProvider().length,h0k!=M0k&&(H0k=this.view.lstHierarchies.getDataProvider(),h0k<M0k&&(M0k-=b1M.I5B),H0k.splice(M0k,b1M.N5B,H0k.splice(h0k,b1M.I5B)[b1M.N5B]),this.updateView()));};Z0k.prototype.onCancelClick=function(){this.view.close();};Z0k.prototype.onOkClick=function(){this.applySlice();this.view.close();};Z0k.prototype.onSelectAllChange=function(){for(var t0k=this.view.selectAllCbx.checked,x0k=this.model_.hierarchies,U0k=T3yy.N5B;U0k<x0k.length;U0k++)x0k[U0k].isSelected=t0k;this.view.lstHierarchies.validateNow();};function Z0k(P0k){var e0k=D0k.call(this)||this;e0k.type=J3yy.S2t;e0k.calculatedValueAddedHandler=function(B0k){return e0k.onCalculatedValueAdded(B0k);};e0k.calculatedValueRemovedHandler=function(O0k){return e0k.onCalculatedValueRemoved(O0k);};e0k.model_=new Q0k.FlatFieldsModel();e0k.view=new Q0k.FlatFieldsView(e0k,P0k);e0k.view.addEventListener(events._Event.CLOSED,function(j0k){return e0k.dispatch(j0k);});e0k.view.btnOk&&e0k.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return e0k.onOkClick();});e0k.view.btnCancel&&e0k.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return e0k.onCancelClick();});e0k.view.lstHierarchies&&(e0k.view.lstHierarchies.container.addEventListener(T3yy.b6B,function(k0k){return e0k.onHierarchyFieldClick(k0k);}),e0k.view.lstHierarchies.container.droppable({onDrop:function(y0k,g0k,a0k,X0k){return e0k.onDrop(y0k,g0k,a0k,X0k);},onDragEnter:function(b0k,z0k,S0k,m0k){return e0k.onDragEnterOrOver(b0k,z0k,S0k,m0k);},onDragOver:function(R0k,s0k,f0k,K0k){return e0k.onDragEnterOrOver(R0k,s0k,f0k,K0k);},onDragLeave:function(E0k,v0k,Y0k,W0k){return e0k.onDragLeave(E0k,v0k,Y0k,W0k);},itemSelector:C3yy.f4B}));e0k.view.selectAllCbx&&e0k.view.selectAllCbx.addEventListener(events._Event.CHANGE,function(){return e0k.onSelectAllChange();});e0k.view.btnAddMeasure&&e0k.view.btnAddMeasure.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return e0k.onAddMeasureClick();});return e0k;}Z0k.prototype.onHierarchyFieldClick=function(q0k){var G0k=uicontrols.UIElement.convert(q0k.target).closest(C3yy.f4B);if(T3yy.r0B!=G0k){var G0k=parseInt(G0k.attr(C3yy.K4B)),r0k=this.model_.hierarchies[G0k];F3yy.b4R==uicontrols.UIElement.convert(q0k.target).attr(T3yy.W9B)?C0k.model.PivotModel.getInstance().dispatchWith(J0k.ViewEvent.CALCULATED_VIEW_OPEN,T3yy.r0B,{measureName:r0k.uniqueName}):(r0k.isSelected=!r0k.isSelected,this.view.lstHierarchies&&this.view.lstHierarchies.validateItemAt(G0k),this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection()));}};Z0k.prototype.onAddMeasureClick=function(){C0k.model.PivotModel.getInstance().dispatchWith(J0k.ViewEvent.CALCULATED_VIEW_OPEN);C0k.model.PivotModel.getInstance().addEventListener(J0k.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);C0k.model.PivotModel.getInstance().addEventListener(J0k.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);};Z0k.prototype.onCalculatedValueAdded=function(L0k){C0k.model.PivotModel.getInstance().removeEventListener(J0k.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);this.model_.onCalculatedValueAdded(L0k.data.measureUniqueName);this.updateView();};Z0k.prototype.onCalculatedValueRemoved=function(N0k){C0k.model.PivotModel.getInstance().removeEventListener(J0k.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);this.model_.onCalculatedValueRemoved(N0k.data);this.updateView();};Z0k.prototype.updateView=function(){var C9k=this;if(this.view.lstHierarchies){this.view.lstHierarchies.setDataProvider(this.model_.hierarchies);this.validateSlice();this.view.lstHierarchies.validateNow();var i0k={createHelper:function(J9k){return C9k.view.createHelper(J9k);}};utils.browserVersion().isMobile&&(i0k.handle=F3yy.f4R);for(var T9k=this.view.lstHierarchies.container.find(C3yy.f4B,!T3yy.N5B),I0k=T3yy.N5B;I0k<T9k.length;I0k++)T9k[I0k].draggable(i0k);}};Z0k.prototype.update=function(F9k,Q9k){this.model_.update(F9k,Q9k);this.updateView();this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection());this.view.setLabels();};Z0k.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model_.isValidSlice());};Z0k.prototype.applySlice=function(){for(var u9k=[],D9k=this.view.lstHierarchies.container.find(C3yy.f4B,!T3yy.N5B),Z9k=T3yy.N5B;Z9k<D9k.length;Z9k++){var e9k=parseInt(D9k[Z9k].attr(C3yy.K4B));u9k.push(e9k);}u9k=this.model_.getSlice(u9k);this.model_.isSliceDifferent(u9k)&&this.dispatchWith(F0k.FieldsView.EVENT_APPLY_SLICE,this,u9k);};Z0k.prototype.showIndicator=function(P9k){var B9k=P9k.closest(C3yy.f4B);T3yy.r0B!=B9k?(this._dropIndicator=this.createDropIndicator(),B9k.before(this._dropIndicator)):(P9k=P9k.closest(C3yy.m4B),T3yy.r0B!=P9k&&(this._dropIndicator=this.createDropIndicator(),T3yy.N5B<P9k.element.children.length?P9k.append(this._dropIndicator):P9k.prepend(this._dropIndicator)));};Z0k.prototype.createDropIndicator=function(){return new uicontrols.UIElement(T3yy.w9B,F3yy.R4R);};Z0k.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!T3yy.N5B),this._dropIndicator=T3yy.r0B);};return Z0k;}(events.EventDispatcher);Q0k.FlatFieldsController=u0k;}(F0k.flat||(F0k.flat={})));}(J0k.config||(J0k.config={})));}(C0k._view||(C0k._view={})));}(pivot||(pivot={})));(function(O9k){(function(j9k){(function(k9k){(function(g9k){var y9k=function(X9k){__extends(a9k,X9k);a9k.prototype.setControls=function(){var r5M=F3yy;var G5M=T3yy;var t2R="wdr-select-all-cbx";var x2R="wdr-list-wrap";var R9k=new uicontrols.UIComponentBase(G5M.w9B,r5M.v4R);this.addChild(R9k);var m9k=new uicontrols.UIComponentBase(G5M.w9B,r5M.Y4R);R9k.addChild(m9k);this.lblTitle=new uicontrols.UILabel(O9k.model._labels.Labels.FIELDS_LIST_TITLE);this.lblTitle.addClass(r5M.C1R);m9k.addChild(this.lblTitle);this.lblSubtitle=new uicontrols.UILabel(O9k.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX);this.lblSubtitle.addClass(r5M.W4R);m9k.addChild(this.lblSubtitle);m9k=new uicontrols.UIComponentBase(G5M.w9B,r5M.p4R);R9k.addChild(m9k);this.btnAddMeasure=new uicontrols.UIButton(r5M.o4R);this.btnAddMeasure.setId(r5M.w4R);m9k.addChild(this.btnAddMeasure);this.btnCancel=new uicontrols.UIButton();this.btnCancel.setLabel(O9k.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(r5M.P1R);this.btnOk.setLabel(O9k.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(m9k.addChild(this.btnCancel),m9k.addChild(this.btnOk)):(m9k.addChild(this.btnOk),m9k.addChild(this.btnCancel));m9k=new uicontrols.UIComponentBase(G5M.w9B,r5M.n4R);this.addChild(m9k);R9k=new uicontrols.UIComponentBase(G5M.w9B,x2R);m9k.addChild(R9k);m9k=new uicontrols.UIComponentBase(G5M.w9B,r5M.i4R);R9k.addChild(m9k);this.selectAllCbx=new uicontrols.UICheckBox();this.selectAllCbx.setId(t2R);this.selectAllCbx.setLabel(O9k.model._labels.Labels.FILTER_SELECT_ALL);m9k.addChild(this.selectAllCbx);m9k=new uicontrols.UIComponentBase(G5M.w9B,r5M.q4R);R9k.addChild(m9k);this.lstHierarchies=new uicontrols.lists.UIList();this.lstHierarchies.setId(r5M.L4R);this.lstHierarchies.setItemRendererFactory(this.selectableItemRendererFactory);this.lstHierarchies.setLabelField(C3yy.u0t);m9k.addChild(this.lstHierarchies);};function a9k(z9k,S9k){var G2R="wdr-flat-fields";var b9k=X9k.call(this,S9k)||this;b9k.addClass(G2R);b9k.controller=z9k;b9k.setControls();return b9k;}a9k.prototype.selectableItemRendererFactory=function(f9k,K9k){var s9k=new k9k.renderers.SelectableItemRenderer(f9k,K9k);s9k.setData(f9k);s9k.setIndex(K9k);return s9k;};a9k.prototype.setLabels=function(){this.lblTitle.setLabel(O9k.model._labels.Labels.FIELDS_LIST_TITLE);this.lblSubtitle.setLabel(O9k.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX);this.btnCancel.setLabel(O9k.model._labels.Labels.BUTTON_CANCEL);this.btnOk.setLabel(O9k.model._labels.Labels.BUTTON_APPLY);this.selectAllCbx.setLabel(O9k.model._labels.Labels.FILTER_SELECT_ALL);};a9k.prototype.createHelper=function(v9k){var l7M=F3yy;var A7M=T3yy;var E9k=new uicontrols.UIElement(A7M.f6B);E9k.attr(A7M.W9B,l7M.k2R);E9k.addClass(l7M.v6R);E9k.addClass(A7M.P9B);E9k.toggleClass(l7M.y2R,v9k.hasClass(l7M.y2R));E9k.css(A7M.L9B,v9k.css(A7M.L9B));E9k.css(A7M.N6B,A7M.I6B);E9k.css(l7M.W6R,A7M.F0B);E9k.attr(C3yy.K4B,v9k.attr(C3yy.K4B));E9k.text(v9k.text());return E9k;};return a9k;}(uicontrols.containers.UIPopup);g9k.FlatFieldsView=y9k;}(k9k.flat||(k9k.flat={})));}(j9k.config||(j9k.config={})));}(O9k._view||(O9k._view={})));}(pivot||(pivot={})));(function(Y9k){(function(W9k){(function(p9k){var o9k=function(n9k){var r2R="EVENT_CALCULATED_VALUE_ADDED";var N2R="EVENT_CALCULATED_VALUE_REMOVED";__extends(w9k,n9k);w9k.prototype.openView=function(c9k){this.controller.update(c9k);this.open();};w9k.prototype.close=function(){n9k.prototype.close.call(this);this.controller.clear();};w9k.EVENT_CALCULATED_VALUE_ADDED=r2R;function w9k(){var L2R="wdr-calculated-view-overlay";var q2R="wdr-calculated-view";var d9k=n9k.call(this,W9k.PivotView.stage.container)||this;d9k.setId(q2R);d9k.container.disableSelection();d9k.overlay.addClass(L2R);d9k.controller=new p9k.CalculatedController();d9k.controller.addEventListener(events._Event.CLOSE,function(){return d9k.close();});d9k.addChild(d9k.controller.view);return d9k;}w9k.EVENT_CALCULATED_VALUE_REMOVED=N2R;w9k.addingMeasureFlag=!T3yy.I5B;return w9k;}(uicontrols.containers.UIPopup);p9k.CalculatedView=o9k;}(W9k.calculated||(W9k.calculated={})));}(Y9k._view||(Y9k._view={})));}(pivot||(pivot={})));(function(A9k){(function(l9k){(function(h9k){var M9k=function(){H9k.prototype.update=function(V9k){utils.nullOrEmpty(V9k)||(this.currentMeasure=this.model_.cube_.structure_.findMeasure(V9k));};function H9k(){var Z99=F3yy;var T8R="_multiplyBtn";var J8R="_divideBtn";var m8R="ABS";var S8R="_absBtn";var Z8R="_lessBtn";var z8R="IF";var s8R="MIN";var Q8R="_powerBtn";var I2R="_addBtn";var D8R="_greaterBtn";var y8R="_orBtn";var g8R="OR";var X8R="AND";var e8R="_lessOrEqualBtn";var B8R="_greaterOrEqualBtn";var i2R="_subtractBtn";var K8R="MAX";var j8R="_equalBtn2";var a8R="_andBtn";var R8R="_minBtn";var F8R="\u00f7";var b8R="_ifBtn";var k8R="_notEqualBtn";var C8R="\u00d7";var u8R="_equalBtn";var O8R="\u2265";var P8R="\u2264";var f8R="_maxBtn";this.model_=A9k.model.PivotModel.getInstance();this.funcButtonsDataProvider=[{name:I2R,label:C3yy.G8B,func:A9k.data_.consts.FunctionName.ADD},{name:i2R,label:T3yy.P6B,func:A9k.data_.consts.FunctionName.SUBTRACT},{name:T8R,label:C8R,func:A9k.data_.consts.FunctionName.MULTIPLY},{name:J8R,label:F8R,func:A9k.data_.consts.FunctionName.DIVIDE},{name:Q8R,label:C3yy.J7J,func:A9k.data_.consts.FunctionName.POWER},{name:u8R,label:C3yy.B2B,func:A9k.data_.consts.FunctionName.EQUAL},{name:Z8R,label:Z99.K7R,func:A9k.data_.consts.FunctionName.LESS},{name:D8R,label:Z99.E7R,func:A9k.data_.consts.FunctionName.GREATER},{name:e8R,label:P8R,func:A9k.data_.consts.FunctionName.LESS_OR_EQUAL},{name:B8R,label:O8R,func:A9k.data_.consts.FunctionName.GREATER_OR_EQUAL},{name:j8R,label:Z99.v7R,func:A9k.data_.consts.FunctionName.EQUAL_2},{name:k8R,label:Z99.Y7R,func:A9k.data_.consts.FunctionName.NOT_EQUAL},{name:y8R,label:g8R,func:A9k.data_.consts.FunctionName.OR},{name:a8R,label:X8R,func:A9k.data_.consts.FunctionName.AND},{name:b8R,label:z8R,func:A9k.data_.consts.FunctionName.IF},{name:S8R,label:m8R,func:A9k.data_.consts.FunctionName.ABS},{name:R8R,label:s8R,func:A9k.data_.consts.FunctionName.MIN},{name:f8R,label:K8R,func:A9k.data_.consts.FunctionName.MAX}];}Object.defineProperty(H9k.prototype,J3yy.L0t,{get:function(){return!T3yy.N5B;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});H9k.prototype.getAllMeasures=function(){return this.model_.getAllMeasures();};H9k.prototype.removeMeasure=function(U9k){h9k.CalculatedView.addingMeasureFlag=!T3yy.N5B;this.model_.removeCalculatedMeasure(U9k.uniqueName);this.model_.dispatchWith(h9k.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,T3yy.r0B,U9k.uniqueName);utils.fmSetTimeout(function(){h9k.CalculatedView.addingMeasureFlag=!T3yy.I5B;},C3yy.t4B);};H9k.prototype.addMeasure=function(r9k,x9k,G9k){var o09=T3yy;void o09.N5B===x9k&&(x9k=o09.o9B);void o09.N5B===G9k&&(G9k=!o09.I5B);x9k=o09.N5B<x9k.length?x9k:this.generateMeasureName();var t9k;if(o09.r0B!=this.currentMeasure){if(this.currentMeasure.caption!=x9k||this.currentMeasure.formula!=r9k||this.currentMeasure.individual!=G9k)t9k=new A9k.data_._structure.GenericMeasure(this.currentMeasure.uniqueName,x9k),t9k.formula=r9k,t9k.individual=G9k;}else t9k=new A9k.data_._structure.GenericMeasure(x9k,x9k),t9k.formula=r9k,t9k.individual=G9k;o09.r0B!=t9k&&(h9k.CalculatedView.addingMeasureFlag=!o09.N5B,l9k.config._pivot.PivotFieldsModel.expandFormulas=!o09.N5B,this.model_.addCalculatedMeasure(t9k),this.model_.dispatchWith(h9k.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,o09.r0B,{measureUniqueName:t9k.uniqueName}),utils.fmSetTimeout(function(){h9k.CalculatedView.addingMeasureFlag=!o09.I5B;},C3yy.t4B));};H9k.prototype.isValidFormula=function(q9k){q9k=new utils.Lexer().parse(q9k);return T3yy.r0B!=q9k&&void T3yy.N5B!=q9k.length;};H9k.prototype.generateMeasureName=function(){var Y09=T3yy;var E8R=" #";for(var T6k=A9k.model._labels.Labels.CALCULATED_VIEW_FORMULA+E8R,L9k=Y09.N5B,I9k=this.model_.cube_.structure_.calculatedMeasures,C6k=RegExp(A9k.model._labels.Labels.CALCULATED_VIEW_FORMULA+E8R),N9k=Y09.N5B;N9k<I9k.length;N9k++){var i9k=I9k.getItemAt(N9k).caption;C6k.test(i9k)&&(L9k=Math.max(L9k,parseInt(i9k.substr(A9k.model._labels.Labels.CALCULATED_VIEW_FORMULA.length+Y09.i5B))));}return T6k+(L9k+Y09.I5B);};return H9k;}();h9k.CalculatedModel=M9k;}(l9k.calculated||(l9k.calculated={})));}(A9k._view||(A9k._view={})));}(pivot||(pivot={})));(function(J6k){(function(F6k){(function(Q6k){var u6k=function(D6k){var c3u=T3yy;var v8R="wdr-droppable-over";var o8R="funcButtonsDataProvider";var w8R="isFormulaEmpty";__extends(Z6k,D6k);Z6k.prototype.onFormulaDragEnterOrOver=function(){this.view.formulaInput.addClass(v8R);};Z6k.prototype.onFormulaDragLeave=function(){this.view.formulaInput.removeClass(v8R);};function Z6k(){var e6k=D6k.call(this)||this;e6k.model_=new Q6k.CalculatedModel();e6k.view=new Q6k.CalculatedViewContent(e6k);e6k.view.removeButton&&e6k.view.removeButton.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(B6k){return e6k.onRemoveBtnClick(B6k);});e6k.view.measuresDragList&&e6k.view.measuresDragList.setItemRendererFactory(function(O6k,j6k){return e6k.fieldItemRendererFactory(O6k,j6k);});e6k.view.formulaInput&&e6k.view.formulaInput.container.droppable({onDrop:function(k6k){return e6k.onMeasureDrop(k6k);},onDragEnter:function(){return e6k.onFormulaDragEnterOrOver();},onDragOver:function(){return e6k.onFormulaDragEnterOrOver();},onDragLeave:function(){return e6k.onFormulaDragLeave();},itemSelector:C3yy.f4B});e6k.view.btnOk&&e6k.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return e6k.onOkClick();});e6k.view.btnCancel&&e6k.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return e6k.onCancelClick();});e6k.view.aggrView&&e6k.view.aggrView.addEventListener(events._Event.CHANGE,function(y6k){return e6k.onAggrChange(y6k);});if(e6k.view.funcBtns)for(var P6k=c3u.N5B;P6k<e6k.view.funcBtns.length;P6k++)e6k.view.funcBtns[P6k].addEventListener(uicontrols.UIButton.CLICK_EVENT,function(g6k){return e6k.onFuncBtnClick(g6k);});return e6k;}Z6k.prototype.onMeasureDrop=function(a6k){var W8R='{0}("{1}")';var Y8R='"{0}"';this.view.formulaInput.removeClass(v8R);a6k=parseInt(a6k.attr(C3yy.K4B));a6k=this.view.measuresDragList.getDataProvider()[a6k];a6k.aggregation==J6k.data_.consts.AggregationName.NONE?this.insertText(utils.StringUtils.bind(Y8R,a6k.uniqueName)):this.insertText(utils.StringUtils.bind(W8R,a6k.aggregation,a6k.uniqueName));};Z6k.prototype.fieldItemRendererFactory=function(z6k,S6k){var b6k=this,X6k=new F6k.config.renderers.FieldItemRenderer();X6k.setData(z6k);X6k.setIndex(S6k);X6k.setLabelFunction(function(m6k){var p8R=" (";return m6k.name+p8R+J6k.data_.consts.AggregationName.aggregationCaption(m6k.aggregation)+C3yy.x3J;});X6k.addEventListener(c3u.b6B,function(R6k){return b6k.onAggrClick(R6k);});return X6k;};Object.defineProperty(Z6k.prototype,o8R,{get:function(){return this.model_.funcButtonsDataProvider;},enumerable:!c3u.N5B,configurable:!c3u.N5B});Object.defineProperty(Z6k.prototype,w8R,{get:function(){return c3u.N5B==this.view.formulaInput.getText().length;},enumerable:!c3u.N5B,configurable:!c3u.N5B});Z6k.prototype.update=function(s6k){var n8R="wdr-compact";this.model_.update(s6k);c3u.r0B!=this.model_.currentMeasure?(this.view.nameInput&&(this.view.nameInput.setText(this.model_.currentMeasure.caption),this.view.nameInput.container.toggleClass(n8R,!c3u.N5B)),this.view.formulaInput&&this.view.formulaInput.setText(this.model_.currentMeasure.formula),this.view.removeButton&&this.view.removeButton.isVisible(!c3u.N5B)):(this.view.nameInput&&this.view.nameInput.container.toggleClass(n8R,!c3u.I5B),this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=!c3u.I5B),this.view.removeButton&&this.view.removeButton.isVisible(!c3u.I5B));this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=this.model_.currentMeasure?this.model_.currentMeasure.individual:!c3u.I5B);this.view.setLabels();this.updateMeasuresList();};Z6k.prototype.updateMeasuresList=function(){for(var v6k=this,K6k=this.model_.getAllMeasures(),E6k=[],f6k=c3u.N5B;f6k<K6k.length;f6k++)if(c3u.r0B==this.model_.currentMeasure||this.model_.currentMeasure.uniqueName!=K6k[f6k].uniqueName)K6k[f6k].isMeasure=!c3u.N5B,K6k[f6k].showAggregations=this.model_.showAggregations&&!K6k[f6k].calculated&&K6k[f6k].type!=J6k.data_.types.MeasureType.COUNT,E6k.push(K6k[f6k]);E6k.sort(this.compareFunction);if(this.view.measuresDragList)for(this.view.measuresDragList.setDataProvider(E6k),K6k={createHelper:function(Y6k){return v6k.view.createHelper(Y6k);}},utils.browserVersion().isMobile&&(K6k.handle=F3yy.f4R),E6k=this.view.measuresDragList.container.find(C3yy.f4B,!c3u.N5B),f6k=c3u.N5B;f6k<E6k.length;f6k++)E6k[f6k].draggable(K6k);};Z6k.prototype.clear=function(){this.view.nameInput&&this.view.nameInput.setText(c3u.o9B);this.view.formulaInput&&this.view.formulaInput.setText(c3u.o9B);this.model_.currentMeasure=c3u.r0B;};Z6k.prototype.compareFunction=function(W6k,p6k){return W6k.name>p6k.name?c3u.I5B:-c3u.I5B;};Z6k.prototype.onRemoveBtnClick=function(o6k){if(utils.browserVersion().isMobile)this.onRemoveMeasure();else this.showRemoveAlert();};Z6k.prototype.showRemoveAlert=function(){var w6k=this,n6k,d6k;utils.OSUtil.isIOS||utils.OSUtil.isMac?(n6k=[J6k.model._labels.Labels.BUTTON_NO,J6k.model._labels.Labels.BUTTON_YES],d6k=[c3u.r0B,function(){return w6k.onRemoveMeasure();}]):(n6k=[J6k.model._labels.Labels.BUTTON_YES,J6k.model._labels.Labels.BUTTON_NO],d6k=[function(){return w6k.onRemoveMeasure();},c3u.r0B]);var c6k=J6k.model.XSSCheck.valid(this.model_.currentMeasure.caption)?this.model_.currentMeasure.caption:J6k.model.XSSCheck.validate(this.model_.currentMeasure.caption);J6k.uialert(J6k.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE,utils.StringUtils.bind(J6k.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE,c6k),J6k.AlertType.ALERT,n6k,d6k);};Z6k.prototype.onRemoveMeasure=function(){this.model_.removeMeasure(this.model_.currentMeasure);this.close();};Z6k.prototype.onAggrClick=function(l6k){if(F3yy.X4R==l6k.target.id){var A6k=parseInt(uicontrols.UIElement.convert(l6k.target).closest(C3yy.f4B).attr(C3yy.K4B)),A6k=this.view.measuresDragList.getDataProvider()[A6k];this.view.aggrView.showWith(A6k,uicontrols.UIElement.convert(l6k.target));}};Z6k.prototype.onAggrChange=function(h6k){var d8R=" of ";var M6k=h6k.data.fieldData;h6k=h6k.data.aggrData;M6k.aggregation=h6k.aggregation;M6k.caption=h6k.caption+d8R+M6k.name;this.view.measuresDragList.validateItem(M6k);};Z6k.prototype.onFuncBtnClick=function(H6k){H6k=parseInt(H6k.target.container.attr(C3yy.K4B));H6k=this.funcButtonsDataProvider[H6k].func;H6k==J6k.data_.consts.FunctionName.IF||H6k==J6k.data_.consts.FunctionName.ABS||H6k==J6k.data_.consts.FunctionName.MIN||H6k==J6k.data_.consts.FunctionName.MAX||H6k==J6k.data_.consts.FunctionName.VALUE?this.addSpecialOperation(H6k):this.addOperation(H6k);};Z6k.prototype.onCancelClick=function(){this.close();};Z6k.prototype.onOkClick=function(){var V6k=this.view.formulaInput.getText();c3u.N5B==V6k.length?this.close():!c3u.I5B==this.model_.isValidFormula(V6k)?J6k.uialert(J6k.model._labels.Labels.MESSAGE_WRONG_FORMULA_FORMAT):(this.model_.addMeasure(V6k,this.view.nameInput.getText(),this.view.cbxIndiValues.checked),this.close());};Z6k.prototype.close=function(){this.dispatchWith(events._Event.CLOSE);};Z6k.prototype.insertText=function(x6k,t6k){void c3u.N5B===t6k&&(t6k=c3u.N5B);var U6k=this.view.formulaInput.getSelectionBeginIndex();this.view.formulaInput.getSelectionEndIndex();var G6k=this.view.formulaInput.getText();-c3u.I5B==U6k&&(U6k=this.lastPosition);c3u.N5B==U6k||c3u.L0B==G6k.charAt(U6k-c3u.I5B)?(this.view.formulaInput.insertText(x6k+c3u.L0B),this.lastPosition=U6k+x6k.length+c3u.I5B):(this.view.formulaInput.insertText(c3u.L0B+x6k+c3u.L0B),this.lastPosition=U6k+x6k.length+c3u.i5B);this.lastPosition-=t6k;this.view.formulaInput.setSelection(this.lastPosition);};Z6k.prototype.addOperation=function(r6k){this.insertText(r6k);};Z6k.prototype.addSpecialOperation=function(q6k){var u09=C3yy;var c8R=", , )";var L6k=this.view.formulaInput.getSelectionBeginIndex(),N6k=this.view.formulaInput.getSelectionEndIndex(),I6k=this.view.formulaInput.getText();u09.d5t==q6k?this.insertText(q6k+u09.q3J+I6k.slice(L6k,N6k)+c8R,c3u.F1B):this.insertText(q6k+u09.q3J+I6k.slice(L6k,N6k)+u09.x3J,c3u.i5B);};return Z6k;}(events.EventDispatcher);Q6k.CalculatedController=u6k;}(F6k.calculated||(F6k.calculated={})));}(J6k._view||(J6k._view={})));}(pivot||(pivot={})));(function(i6k){(function(T4k){(function(J4k){var C4k=function(Q4k){__extends(F4k,Q4k);F4k.prototype.setControls=function(){var F09=F3yy;var J09=T3yy;var M8R="wdr-func-btn-group";var U8R="wdr-formula-input";var V8R="wdr-formula-wrap";var h8R="wdr-name-input";var A8R="wdr-ui-btn-light wdr-icon-act_trash";var l8R="wdr-remove-btn";var H8R="wdr-ui-col-9 wdr-calc-action";var O4k=this,e4k=new uicontrols.UIComponentBase(J09.w9B,F09.v4R);this.addChild(e4k);var D4k=new uicontrols.UIComponentBase(J09.w9B,F09.Y4R);e4k.addChild(D4k);this.titleLabel=new uicontrols.UILabel(i6k.model._labels.Labels.CALCULATED_VIEW_TITLE);this.titleLabel.addClass(F09.C1R);D4k.addChild(this.titleLabel);this.subtitleLabel=new uicontrols.UILabel(i6k.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX);this.subtitleLabel.addClass(F09.W4R);D4k.addChild(this.subtitleLabel);D4k=new uicontrols.UIComponentBase(J09.w9B,F09.p4R);e4k.addChild(D4k);this.removeButton=new uicontrols.UIButton(A8R);this.removeButton.setId(l8R);this.removeButton.container.attr(F09.L6R,i6k.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE);D4k.addChild(this.removeButton);this.btnCancel=new uicontrols.UIButton(J09.X6B);this.btnCancel.setLabel(i6k.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(F09.P1R);this.btnOk.setLabel(i6k.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(D4k.addChild(this.btnCancel),D4k.addChild(this.btnOk)):(D4k.addChild(this.btnOk),D4k.addChild(this.btnCancel));e4k=new uicontrols.UIComponentBase(J09.w9B,F09.n4R);this.addChild(e4k);this.nameInput=new uicontrols.UITextInput();this.nameInput.setId(h8R);this.nameInput.setPrompt(i6k.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME);e4k.addChild(this.nameInput);this.measuresDragList=new uicontrols.lists.UIList();this.measuresDragList.setId(F09.B2R);this.measuresDragList.useCache=!J09.I5B;this.measuresDragList.setLabelField(C3yy.u0t);e4k.addChild(this.measuresDragList);this.cbxIndiValues=new uicontrols.UICheckBox();this.cbxIndiValues.setLabel(i6k.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES);e4k.addChild(this.cbxIndiValues);this.funcBtnsContainer=new uicontrols.UIComponentBase(J09.w9B,F09.d4R);this.funcBtnsContainer.setId(M8R);e4k.addChild(this.funcBtnsContainer);this.funcBtns=[];for(var D4k=this.controller.funcButtonsDataProvider,B4k=J09.N5B;B4k<D4k.length;B4k++){var P4k=new uicontrols.UIButton(H8R);P4k.removeClass(J09.X6B);P4k.setName(D4k[B4k].name);P4k.setLabel(D4k[B4k].label);P4k.container.attr(C3yy.K4B,B4k);this.funcBtnsContainer.addChild(P4k);this.funcBtns.push(P4k);}D4k=new uicontrols.UIComponentBase(J09.w9B,V8R);e4k.addChild(D4k);this.formulaInput=new uicontrols.UITextArea();this.formulaInput.setId(U8R);this.formulaInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return O4k.onFormulaChange();});D4k.addChild(this.formulaInput);this.lblFormulaPrompt=new uicontrols.UILabel(i6k.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT);this.lblFormulaPrompt.addClass(F09.C2R);D4k.addChild(this.lblFormulaPrompt);this.aggrView=new T4k.config.AggregationsView();this.aggrView.setId(F09.O2R);this.aggrView.hide();e4k.addChild(this.aggrView);};F4k.prototype.setLabels=function(){this.titleLabel.setLabel(i6k.model._labels.Labels.CALCULATED_VIEW_TITLE);this.subtitleLabel.setLabel(i6k.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX);this.btnOk.setLabel(i6k.model._labels.Labels.BUTTON_APPLY);this.btnCancel.setLabel(i6k.model._labels.Labels.BUTTON_CANCEL);this.nameInput.setPrompt(i6k.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME);this.cbxIndiValues.setLabel(i6k.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES);this.lblFormulaPrompt.setLabel(i6k.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT);this.removeButton.container.attr(F3yy.L6R,i6k.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE);};F4k.prototype.createHelper=function(k4k){var I19=T3yy;var j4k=new uicontrols.UIElement(I19.f6B);j4k.attr(I19.W9B,F3yy.k2R);j4k.addClass(F3yy.v6R);j4k.addClass(I19.P9B);j4k.css(I19.L9B,k4k.css(I19.L9B));j4k.css(I19.N6B,I19.I6B);j4k.css(F3yy.W6R,I19.F0B);j4k.attr(C3yy.K4B,k4k.attr(C3yy.K4B));j4k.text(k4k.text());return j4k;};function F4k(Z4k){var u4k=Q4k.call(this)||this;u4k.controller=Z4k;u4k.setControls();return u4k;}F4k.prototype.onFormulaChange=function(){this.lblFormulaPrompt.isVisible(T3yy.N5B==this.formulaInput.getText().length);};return F4k;}(uicontrols.UIComponentBase);J4k.CalculatedViewContent=C4k;}(T4k.calculated||(T4k.calculated={})));}(i6k._view||(i6k._view={})));}(pivot||(pivot={})));(function(y4k){(function(a4k){var g4k=function(){var i8R="CONTEXT_MENU_OPEN";var x8R="FILTER_OPEN";var G8R="FILTER_SELECTION_CHANGE";var L8R="CALCULATED_VIEW_CLOSE";var r8R="FILTER_COLLAPSE_EXPAND";var C3a="RENDER_COMPLETE";var T3a="CLASSIC_TO_COMPACT";var N8R="DRILL_THROUGH_OPEN";var t8R="FILTER_CLOSE";var I8R="DRILL_THROUGH_CLOSE";var q8R="CALCULATED_VIEW_OPEN";b4k.FILTER_OPEN=x8R;b4k.FILTER_CLOSE=t8R;b4k.FILTER_SELECTION_CHANGE=G8R;b4k.FILTER_COLLAPSE_EXPAND=r8R;b4k.CALCULATED_VIEW_OPEN=q8R;b4k.CALCULATED_VIEW_CLOSE=L8R;b4k.DRILL_THROUGH_OPEN=N8R;b4k.DRILL_THROUGH_CLOSE=I8R;b4k.CONTEXT_MENU_OPEN=i8R;function b4k(){}b4k.CLASSIC_TO_COMPACT=T3a;b4k.RENDER_COMPLETE=C3a;b4k.BEFORE_GRID_DRAW=C3yy.A5J;b4k.AFTER_GRID_DRAW=C3yy.l5J;return b4k;}();a4k.ViewEvent=g4k;var X4k=function(z4k){__extends(S4k,z4k);function S4k(R4k){var m4k=z4k.call(this,g4k.FILTER_OPEN)||this;m4k.hierarchy=R4k;return m4k;}return S4k;}(events._Event);a4k.FilterOpenEvent=X4k;}(y4k._view||(y4k._view={})));}(pivot||(pivot={})));(function(s4k){(function(f4k){(function(E4k){var K4k=function(){v4k.prototype.setHierarchy=function(Y4k){this.currentHierarchy=Y4k;};v4k.prototype.getHierarchy=function(){return this.currentHierarchy;};v4k.prototype.setSortType=function(W4k){this.sortType=W4k;this.allMembers=this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!T3yy.I5B,this.sortType).toArray();};v4k.prototype.getSortType=function(){return this.sortType;};v4k.prototype.select=function(o4k,w4k){if(this.isAllSelected!=w4k)this.selectedMembers.push(o4k);else{var p4k=this.selectedMembers.indexOf(o4k);-T3yy.I5B<p4k&&this.selectedMembers.splice(p4k,T3yy.I5B);}this.selectedMembers.length==this.allMembers.length&&this.selectAll(!this.isAllSelected);};v4k.prototype.search=function(d4k,c4k){var t19=T3yy;d4k=d4k.toLowerCase();if(this.searchPhrase===d4k)c4k();else if(this.searchPhrase=d4k,t19.N5B==this.searchPhrase.length)c4k();else{this.searchedMembers.length=t19.N5B;for(var A4k=this.allMembers.length,n4k=t19.N5B,n4k=t19.N5B;n4k<A4k;n4k++)utils.StringUtils.contains(this.allMembers[n4k].caption,d4k)&&this.searchedMembers.push(this.allMembers[n4k]);c4k(this.searchedMembers);}};v4k.prototype.setSearchedMembers=function(l4k){T3yy.r0B!=l4k?this.searchedMembers=l4k:this.searchedMembers.length=T3yy.N5B;};v4k.prototype.selectAll=function(M4k){if(this.isSearched())for(var H4k=this.searchedMembers.length,h4k=T3yy.N5B;h4k<H4k;h4k++)utils.StringUtils.contains(this.searchedMembers[h4k].caption,this.searchPhrase)&&this.select(this.searchedMembers[h4k],M4k);else this.isAllSelected=M4k,this.selectedMembers.length=T3yy.N5B;};v4k.prototype.selectDescendants=function(V4k){};function v4k(){this.allMembers=[];this.selectedMembers=[];this.searchedMembers=[];this.searchPhrase=T3yy.o9B;this.isAllSelected=!T3yy.N5B;}v4k.prototype.getTotalSelectedLength=function(){var c19=T3yy;var U4k=c19.N5B,U4k=this.isAllSelected||this.isSearched()?this.isAllSelected&&this.isSearched()?this.searchedMembers.length+this.countTheDifference()-this.selectedMembers.length:this.isAllSelected||c19.N5B!=this.selectedMembers.length?this.allMembers.length-this.selectedMembers.length:this.selectedMembers.length:this.selectedMembers.length;return c19.N5B<U4k?U4k:c19.N5B;};v4k.prototype.countTheDifference=function(){var d19=T3yy;for(var G4k=d19.N5B,t4k=d19.N5B,x4k=d19.N5B;t4k<this.selectedMembers.length;){for(;x4k<this.searchedMembers.length&&this.searchedMembers[x4k].uniqueName!=this.selectedMembers[t4k].uniqueName;)x4k++;this.searchedMembers.length==x4k&&G4k++;x4k=d19.N5B;t4k++;}return G4k;};v4k.prototype.getSelectedLength=function(){if(this.isSearched()){for(var q4k=T3yy.N5B,r4k=T3yy.N5B;r4k<this.searchedMembers.length;r4k++)T3yy.N5B>utils.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[r4k].uniqueName,J3yy.R2t)==this.isAllSelected&&q4k++;return q4k;}return this.getTotalSelectedLength();};v4k.prototype.setFilterItems=function(I4k){this.selectedMembers.length=T3yy.N5B;var N4k=I4k.length;this.isAllSelected=T3yy.N5B==N4k;if(!this.isAllSelected)for(var L4k=T3yy.N5B;L4k<N4k;L4k++)this.selectedMembers.push(I4k[L4k]);};v4k.prototype.getFilterItems=function(){var v19=T3yy;var i4k=v19.N5B,C2k=[],T2k=[],T2k=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers,J2k=T2k.length;if(this.isSearched()&&this.isAllSelected)for(T2k=i4k=v19.N5B;i4k<this.searchedMembers.length;){for(;T2k<this.selectedMembers.length&&this.searchedMembers[i4k].uniqueName!=this.selectedMembers[T2k].uniqueName;)T2k++;T2k==this.selectedMembers.length&&C2k.push(this.searchedMembers[i4k]);T2k=v19.N5B;i4k++;}else for(;i4k<J2k;i4k++)C2k[i4k]=T2k[i4k];i4k=this.isSearched()&&this.isAllSelected?!v19.I5B:v19.N5B==C2k.length?!v19.I5B:this.isAllSelected;return{items:C2k,negation:i4k};};v4k.prototype.setItems=function(F2k){this.allMembers=F2k;this.searchPhrase=T3yy.o9B;this.searchedMembers.length=T3yy.N5B;};v4k.prototype.getItems=function(e2k,P2k){var B19=T3yy;for(var Q2k,D2k=[],u2k=e2k,B2k=RegExp(C3yy.q3J+this.searchPhrase+C3yy.x3J,F3yy.d6R),Z2k=this.isSearched()?this.searchedMembers:this.allMembers;u2k<P2k&&!(u2k>Z2k.length-B19.I5B);u2k++)Q2k=Z2k[u2k],Q2k={member:Q2k,label:this.isSearched()?Q2k.caption.replace(B2k,F3yy.J3a):Q2k.caption,isSelected:(-B19.I5B==this.selectedMembers.indexOf(Q2k)?this.isAllSelected:!this.isAllSelected)?B19.I5B:B19.N5B,levelNum:B19.N5B,rightMargin:P2k-e2k<Z2k.length-B19.I5B?B19.j1B:B19.N5B},D2k.push(Q2k);return D2k;};v4k.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.allMembers.length;};v4k.prototype.getTotalLength=function(){return this.getLength();};v4k.prototype.isSearched=function(){return T3yy.N5B<this.searchPhrase.length;};v4k.prototype.expand=function(O2k){};v4k.prototype.collapse=function(j2k){};return v4k;}();E4k.MembersFilterDataProvider=K4k;}(f4k.filter||(f4k.filter={})));}(s4k._view||(s4k._view={})));}(pivot||(pivot={})));(function(k2k){(function(y2k){(function(a2k){var g2k=function(){X2k.prototype.setHierarchy=function(b2k){this.currentHierarchy=b2k;this.members.length=T3yy.N5B;};X2k.prototype.getHierarchy=function(){return this.currentHierarchy;};X2k.prototype.setSortType=function(z2k){this.sortType=z2k;this.members.length=T3yy.N5B;this.insertDescendants(this.currentHierarchy.allMember,-T3yy.I5B);};X2k.prototype.getSortType=function(){return this.sortType;};X2k.prototype.setItems=function(R2k){for(var m2k=T3yy.N5B,s2k=R2k.length,S2k;m2k<s2k;m2k++)S2k=R2k[m2k],S2k.isAll||(this.members.push(S2k),S2k.isDrilledDown&&S2k.children&&T3yy.N5B<S2k.children.length&&(this.expandedMembers.push(S2k),this.setItems(this.sortType===k2k.data_.consts.SortType.UNSORTED?S2k.children.toArray():this.currentHierarchy.sortChildren(S2k,!T3yy.I5B,this.sortType).toArray())));};X2k.prototype.getItems=function(Y2k,W2k){var Y2u=T3yy;for(var K2k=Y2k,v2k=[],f2k,p2k=RegExp(C3yy.q3J+this.searchPhrase+C3yy.x3J,F3yy.d6R),E2k=this.isSearched()?this.searchedMembers:this.members;K2k<W2k&&!(K2k>E2k.length-Y2u.I5B);K2k++)f2k=E2k[K2k],f2k={member:f2k,levelNum:f2k.level.num,label:this.isSearched()?f2k.caption.replace(p2k,F3yy.J3a):f2k.caption,isSelected:this.isSelected(f2k),isSearched:this.isSearched(),isExpanded:this.isExpanded(f2k),rightMargin:W2k-Y2k<E2k.length-Y2u.I5B?Y2u.y1B:Y2u.N5B},v2k.push(f2k);return v2k;};X2k.prototype.isSelected=function(w2k){var K2u=T3yy;var o2k=(-K2u.I5B==this.selectedMembers.indexOf(w2k)?this.isAllSelected:!this.isAllSelected)?K2u.I5B:K2u.N5B;K2u.N5B<this.selectedMembers.length&&-K2u.I5B!=this.partlySelectedMembers.indexOf(w2k)&&(o2k=-K2u.I5B);return o2k;};X2k.prototype.isExpanded=function(n2k){var f2u=T3yy;return this.isSearched()||n2k.isLeaf?-f2u.I5B:-f2u.I5B!=this.expandedMembers.indexOf(n2k)?f2u.I5B:f2u.N5B;};X2k.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.members.length;};X2k.prototype.getTotalLength=function(){return this.isSearched()?this.searchedMembers.length-this.numParentsInSearch:this.currentHierarchy?this.currentHierarchy.members.length-T3yy.I5B:T3yy.N5B;};X2k.prototype.select=function(c2k,A2k){var m2u=T3yy;var d2k=-m2u.I5B,d2k=this.selectedMembers.indexOf(c2k);this.isAllSelected!==A2k?(-m2u.I5B==d2k&&this.selectedMembers.push(c2k),m2u.N5B<c2k.children.length&&this.pushDescendantsToSelected(c2k)):(-m2u.I5B!=d2k&&this.selectedMembers.splice(d2k,m2u.I5B),m2u.N5B<c2k.children.length&&this.removeDescendantsFromSelected(c2k));d2k=utils.ArrayUtils.findIndex(this.partlySelectedMembers,c2k.uniqueName,J3yy.R2t);-m2u.I5B!=d2k&&this.partlySelectedMembers.splice(d2k,m2u.I5B);this.selectParents(c2k);this.selectedMembers.length===this.currentHierarchy.members.length-m2u.I5B&&(this.selectedMembers.length=m2u.N5B,this.partlySelectedMembers.length=m2u.N5B,this.isAllSelected=!this.isAllSelected);};X2k.prototype.selectDescendants=function(l2k){-T3yy.I5B==this.partlySelectedMembers.indexOf(l2k)&&(-T3yy.I5B==this.selectedMembers.indexOf(l2k)?this.removeDescendantsFromSelected(l2k):this.pushDescendantsToSelected(l2k));};X2k.prototype.selectParents=function(M2k){var a2u=T3yy;var H2k,h2k=M2k.parent;if(h2k&&!h2k.isAll){M2k=utils.ArrayUtils.findIndex(this.selectedMembers,h2k.uniqueName,J3yy.R2t);H2k=utils.ArrayUtils.findIndex(this.partlySelectedMembers,h2k.uniqueName,J3yy.R2t);var V2k=-a2u.I5B!=M2k;this.hasSelectedChildren(h2k,!a2u.I5B)?(this.hasSelectedChildren(h2k)?(-a2u.I5B==H2k&&this.partlySelectedMembers.push(h2k),this.isAllSelected&&V2k&&this.selectedMembers.splice(M2k,a2u.I5B)):(-a2u.I5B!=H2k&&this.partlySelectedMembers.splice(H2k,a2u.I5B),this.isAllSelected&&!V2k&&this.selectedMembers.push(h2k)),!this.isAllSelected&&V2k&&this.selectedMembers.splice(M2k,a2u.I5B)):(-a2u.I5B!=H2k&&this.partlySelectedMembers.splice(H2k,a2u.I5B),this.isAllSelected&&V2k?this.selectedMembers.splice(M2k,a2u.I5B):this.isAllSelected||V2k||this.selectedMembers.push(h2k));this.selectParents(h2k);}};X2k.prototype.hasSelectedChildren=function(q2k,x2k){var B2u=T3yy;void B2u.N5B===x2k&&(x2k=!B2u.N5B);for(var U2k=B2u.N5B,t2k=q2k.children.toArray(),r2k=t2k.length,G2k;U2k<r2k;U2k++)if(G2k=t2k[U2k],-B2u.I5B==utils.ArrayUtils.findIndex(this.selectedMembers,G2k.uniqueName,J3yy.R2t)==this.isAllSelected==x2k||-B2u.I5B!=utils.ArrayUtils.findIndex(this.partlySelectedMembers,G2k.uniqueName,J3yy.R2t))return!B2u.N5B;return!B2u.I5B;};X2k.prototype.pushDescendantsToSelected=function(I2k){var F2u=T3yy;for(var N2k=F2u.N5B,i2k,L2k,T8k=I2k.children.toArray(),C8k=T8k.length;N2k<C8k;N2k++)L2k=T8k[N2k],I2k=utils.ArrayUtils.findIndex(this.selectedMembers,L2k.uniqueName,J3yy.R2t),i2k=utils.ArrayUtils.findIndex(this.partlySelectedMembers,L2k.uniqueName,J3yy.R2t),-F2u.I5B==I2k&&this.selectedMembers.push(L2k),-F2u.I5B!=i2k&&this.partlySelectedMembers.splice(i2k,F2u.I5B),F2u.N5B<L2k.children.length&&this.pushDescendantsToSelected(L2k);};X2k.prototype.removeDescendantsFromSelected=function(F8k){var C2u=T3yy;for(var Q8k=C2u.N5B,u8k,J8k,Z8k=F8k.children.toArray(),D8k=Z8k.length;Q8k<D8k;Q8k++)J8k=Z8k[Q8k],F8k=utils.ArrayUtils.findIndex(this.selectedMembers,J8k.uniqueName,J3yy.R2t),u8k=utils.ArrayUtils.findIndex(this.partlySelectedMembers,J8k.uniqueName,J3yy.R2t),-C2u.I5B!=F8k&&this.selectedMembers.splice(F8k,C2u.I5B),-C2u.I5B!=u8k&&this.partlySelectedMembers.splice(u8k,C2u.I5B),C2u.N5B<J8k.children.length&&this.removeDescendantsFromSelected(J8k);};X2k.prototype.selectAll=function(P8k){if(this.isSearched())for(var B8k=this.searchedMembers.length,e8k=T3yy.N5B;e8k<B8k;e8k++)utils.StringUtils.contains(this.searchedMembers[e8k].caption,this.searchPhrase)&&this.select(this.searchedMembers[e8k],P8k);else this.isAllSelected=P8k,this.selectedMembers.length=T3yy.N5B,this.partlySelectedMembers.length=T3yy.N5B;};X2k.prototype.getSelectedLength=function(){if(this.isSearched()){for(var j8k=T3yy.N5B,k8k=this.searchedMembers.length,O8k=T3yy.N5B;O8k<k8k;O8k++)utils.StringUtils.contains(this.searchedMembers[O8k].caption,this.searchPhrase)&&T3yy.N5B>utils.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[O8k].uniqueName,J3yy.R2t)==this.isAllSelected&&j8k++;return j8k;}return this.getTotalSelectedLength();};X2k.prototype.getTotalSelectedLength=function(){var y8k=this.isAllSelected?this.currentHierarchy.members.length-this.selectedMembers.length-this.partlySelectedMembers.length-T3yy.I5B:this.selectedMembers.length;return T3yy.N5B>y8k?T3yy.N5B:y8k;};X2k.prototype.setFilterItems=function(z8k){var x4u=T3yy;var b8k=z8k.length;this.selectedMembers.length=x4u.N5B;this.partlySelectedMembers.length=x4u.N5B;if(x4u.N5B==b8k)this.isAllSelected=!x4u.N5B;else{this.isAllSelected=!x4u.I5B;for(var g8k,a8k,X8k=x4u.N5B;X8k<b8k;X8k++)for(g8k=z8k[X8k],a8k=g8k.children.toArray(),a8k=a8k.length,this.selectedMembers.push(g8k),x4u.N5B<a8k&&this.pushDescendantsToSelected(g8k);g8k.parent&&!g8k.parent.isAll;)g8k=g8k.parent,-x4u.I5B==utils.ArrayUtils.findIndex(this.partlySelectedMembers,g8k.uniqueName,J3yy.R2t)&&this.partlySelectedMembers.push(g8k);}};X2k.prototype.getFilterItems=function(){var M4u=T3yy;for(var S8k=M4u.N5B,R8k=[],s8k,f8k,K8k,m8k=[],m8k=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers,E8k=m8k.length;S8k<E8k;S8k++)s8k=m8k[S8k],f8k=s8k.parent,K8k=-M4u.I5B,utils.nullOrUndefined(f8k)||(K8k=utils.ArrayUtils.findIndex(m8k,f8k.uniqueName,J3yy.R2t)),-M4u.I5B===K8k&&R8k.push(s8k);S8k=this.isSearched()&&this.isAllSelected?!M4u.I5B:M4u.N5B==R8k.length?!M4u.I5B:this.isAllSelected;return{items:R8k,negation:S8k};};X2k.prototype.search=function(Y8k,p8k){var h4u=T3yy;Y8k=Y8k.toLowerCase();if(this.searchPhrase===Y8k)p8k();else if(this.searchPhrase=Y8k,h4u.N5B==this.searchPhrase.length)p8k();else{this.numParentsInSearch=this.searchedMembers.length=h4u.N5B;this.fillSearchTree(this.currentHierarchy.allMember,Y8k);for(var W8k=h4u.N5B,v8k=h4u.N5B,v8k=h4u.N5B;v8k<this.searchedMembers.length;v8k++)W8k=this.insertParentsToSearch(this.searchedMembers[v8k],v8k),this.numParentsInSearch+=W8k,v8k+=W8k;p8k(this.searchedMembers);}};X2k.prototype.setSearchedMembers=function(o8k){T3yy.r0B!=o8k?this.searchedMembers=o8k:this.searchedMembers.length=T3yy.N5B;};X2k.prototype.insertParentsToSearch=function(c8k,d8k){var w8k=c8k.parent,n8k=T3yy.N5B;utils.nullOrUndefined(w8k)||w8k.isAll||(-T3yy.I5B==utils.ArrayUtils.findIndex(this.searchedMembers,w8k.uniqueName,J3yy.R2t)&&(n8k++,this.searchedMembers.splice(d8k,T3yy.N5B,w8k)),n8k+=this.insertParentsToSearch(w8k,d8k));return n8k;};X2k.prototype.fillSearchTree=function(V8k,M8k){for(var h8k=V8k.children,H8k=h8k.length,A8k,l8k=T3yy.N5B;l8k<H8k;l8k++)A8k=h8k.getItemAt(l8k),utils.StringUtils.contains(A8k.caption,M8k)&&this.searchedMembers.push(A8k),this.fillSearchTree(A8k,M8k);};X2k.prototype.isSearched=function(){return T3yy.N5B<this.searchPhrase.length;};function X2k(){this.numParentsInSearch=T3yy.N5B;this.members=[];this.selectedMembers=[];this.searchedMembers=[];this.partlySelectedMembers=[];this.expandedMembers=[];this.searchPhrase=T3yy.o9B;this.isAllSelected=!T3yy.N5B;this.sortType=k2k.data_.consts.SortType.UNSORTED;}X2k.prototype.expand=function(U8k){-T3yy.I5B==this.expandedMembers.indexOf(U8k)&&this.expandedMembers.push(U8k);this.showDescendants(U8k,!T3yy.N5B);};X2k.prototype.collapse=function(t8k){var x8k=this.expandedMembers.indexOf(t8k);-T3yy.I5B!=x8k&&this.expandedMembers.splice(x8k,T3yy.I5B);this.showDescendants(t8k,!T3yy.I5B);};X2k.prototype.showDescendants=function(G8k,q8k){var r8k=utils.ArrayUtils.findIndex(this.members,G8k.uniqueName,J3yy.R2t);q8k?this.insertDescendants(G8k,r8k):this.members.splice(r8k+T3yy.I5B,this.getNumDescendants(G8k));};X2k.prototype.insertDescendants=function(T3o,C3o){var s4u=T3yy;for(var I8k=this.sortType===k2k.data_.consts.SortType.UNSORTED?T3o.children.toArray():this.currentHierarchy.sortChildren(T3o,!s4u.I5B,this.sortType).toArray(),L8k,N8k=I8k.length-s4u.I5B,i8k=C3o+s4u.I5B;-s4u.I5B<N8k;N8k--)L8k=I8k[N8k],this.members.splice(i8k,s4u.N5B,L8k),-s4u.I5B<this.expandedMembers.indexOf(L8k)&&this.insertDescendants(L8k,i8k);};X2k.prototype.getNumDescendants=function(J3o){J3o=J3o.children.toArray();for(var Q3o=J3o.length,u3o=Q3o,Z3o,F3o=T3yy.N5B;F3o<Q3o;F3o++)Z3o=J3o[F3o],-T3yy.I5B<this.expandedMembers.indexOf(Z3o)&&(u3o+=this.getNumDescendants(Z3o));return u3o;};return X2k;}();a2k.MembersTreeDataProvider=g2k;}(y2k.filter||(y2k.filter={})));}(k2k._view||(k2k._view={})));}(pivot||(pivot={})));(function(D3o){(function(e3o){(function(P3o){var B3o=function(j3o){var d3u=T3yy;var X3a="membersFilterList";var z3a="searchInput";var a3a="selectAllCbx";var b3a="selectedAmountLabel";__extends(O3o,j3o);O3o.prototype.setControls=function(){var m4u=F3yy;var B3a="wdr-top10-btn";var Z3a="wdr-sort-label";var k3a="wdr-clear-top-btn";var D3a="wdr-sort-btns";var F3a="wdr-ui-col-2 wdr-vam";var O3a="wdr-ui-toggle-btn-dark";var u3a="wdr-ui-col-2";var g3a="wdr-ft-contentheight-220";var e3a="wdr-sort-btn";var y3a="wdr-filters-topx-view";var Q3a="wdr-ui-col wdr-vam wdr-ui-btns-row";var P3a="wdr-ui-col-2 wdr-tar wdr-topx-col";var j3a="wdr-btn-canceltopx";var a3o=new uicontrols.UIComponentBase(d3u.w9B,m4u.v4R);this.addChild(a3o);var g3o=new uicontrols.UIComponentBase(d3u.w9B,F3a);a3o.addChild(g3o);this.titleLabel=new uicontrols.UILabel();this.titleLabel.addClass(m4u.C1R);g3o.addChild(this.titleLabel);g3o=new uicontrols.UIComponentBase(d3u.w9B,Q3a);a3o.addChild(g3o);this.cancelBtn=new uicontrols.UIButton(d3u.X6B);this.cancelBtn.setLabel(D3o.model._labels.Labels.BUTTON_CANCEL);this.okBtn=new uicontrols.UIButton(m4u.P1R);this.okBtn.setLabel(D3o.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(g3o.addChild(this.cancelBtn),g3o.addChild(this.okBtn)):(g3o.addChild(this.okBtn),g3o.addChild(this.cancelBtn));a3o=new uicontrols.UIComponentBase(d3u.w9B,m4u.d4R);this.addChild(a3o);this.sortContainer=new uicontrols.UIComponentBase(d3u.w9B,u3a);this.sortContainer.container.display=d3u.S6B;a3o.addChild(this.sortContainer);this.sortLabel=new uicontrols.UILabel();this.sortLabel.setId(Z3a);this.sortLabel.addClass(m4u.R1R);this.sortLabel.setLabel(D3o.model._labels.Labels.FILTER_SORT);this.sortContainer.addChild(this.sortLabel);g3o=new uicontrols.UIComponentBase(d3u.w9B,D3a);this.sortContainer.addChild(g3o);this.azBtn=new uicontrols.UIToggleButton();this.azBtn.container.addClass(e3a);this.azBtn.setLabel(D3o.model._labels.Labels.FILTER_ASC_SORT);g3o.addChild(this.azBtn);this.zaBtn=new uicontrols.UIToggleButton();this.zaBtn.container.addClass(e3a);this.zaBtn.setLabel(D3o.model._labels.Labels.FILTER_DESC_SORT);g3o.addChild(this.zaBtn);g3o=new uicontrols.UIComponentBase(d3u.w9B,P3a);g3o.container.display=d3u.S6B;a3o.addChild(g3o);this.top10Btn=new uicontrols.UIToggleButton();this.top10Btn.setId(B3a);this.top10Btn.addClass(O3a);this.top10Btn.setLabel(D3o.model._labels.Labels.FILTER_TOP_X);g3o.addChild(this.top10Btn);this.clearTopBtn=new uicontrols.UIComponentBase(d3u.f6B,j3a);this.clearTopBtn.setId(k3a);this.clearTopBtn.container.attr(m4u.L6R,D3o.model._labels.Labels.FILTER_TOP_X_CLEAR);this.top10Btn.addChild(this.clearTopBtn);this.topBottomView=new P3o.TopBottomView();this.topBottomView.setId(y3a);this.topBottomView.hide();this.addChild(this.topBottomView);this.membersView=new P3o.MembersView();this.membersView.addClass(g3a);this.addChild(this.membersView);};Object.defineProperty(O3o.prototype,a3a,{get:function(){return this.membersView.selectAllCbx;},enumerable:!d3u.N5B,configurable:!d3u.N5B});function O3o(y3o){var k3o=j3o.call(this)||this;k3o.controller=y3o;k3o.setControls();return k3o;}Object.defineProperty(O3o.prototype,X3a,{get:function(){return this.membersView.membersFilterList;},enumerable:!d3u.N5B,configurable:!d3u.N5B});Object.defineProperty(O3o.prototype,b3a,{get:function(){return this.membersView.selectedAmountLabel;},enumerable:!d3u.N5B,configurable:!d3u.N5B});Object.defineProperty(O3o.prototype,z3a,{get:function(){return this.membersView.searchInput;},enumerable:!d3u.N5B,configurable:!d3u.N5B});O3o.prototype.setLabels=function(){this.top10Btn.setLabel(D3o.model._labels.Labels.FILTER_TOP_X);this.clearTopBtn.container.attr(F3yy.L6R,D3o.model._labels.Labels.FILTER_TOP_X_CLEAR);this.azBtn.setLabel(D3o.model._labels.Labels.FILTER_ASC_SORT);this.zaBtn.setLabel(D3o.model._labels.Labels.FILTER_DESC_SORT);this.searchInput.setPrompt(D3o.model._labels.Labels.FILTER_SEARCH);this.selectAllCbx.setLabel(D3o.model._labels.Labels.FILTER_SELECT_ALL);this.okBtn.setLabel(D3o.model._labels.Labels.BUTTON_APPLY);this.cancelBtn.setLabel(D3o.model._labels.Labels.BUTTON_CANCEL);this.sortLabel.setLabel(D3o.model._labels.Labels.FILTER_SORT);this.topBottomView.setLabels();};return O3o;}(uicontrols.containers.UIContainer);P3o.FilterViewContent=B3o;}(e3o.filter||(e3o.filter={})));}(D3o._view||(D3o._view={})));}(pivot||(pivot={})));(function(X3o){(function(b3o){(function(z3o){var S3o=function(R3o){__extends(m3o,R3o);function m3o(){var b4u=F3yy;var X4u=T3yy;var f3a="wdr-members-filter-list";var S3a="wdr-filters-table";var s3a="wdr-filters-table-content";var R3a="wdr-select-counter";var m3a="wdr-filters-table-header wdr-fth-withsearch";var s3o=R3o.call(this,X4u.w9B,S3a)||this,f3o=new uicontrols.UIComponentBase(X4u.w9B,m3a);s3o.addChild(f3o);s3o.selectAllCbx=new uicontrols.UICheckBox();s3o.selectAllCbx.setLabel(X3o.model._labels.Labels.FILTER_SELECT_ALL);f3o.addChild(s3o.selectAllCbx);s3o.selectedAmountLabel=new uicontrols.UILabel();s3o.selectedAmountLabel.setId(R3a);f3o.addChild(s3o.selectedAmountLabel);s3o.searchWrap=new uicontrols.UIComponentBase(X4u.w9B,b4u.V4R);f3o.addChild(s3o.searchWrap);f3o=new uicontrols.UIComponentBase(X4u.a6B,b4u.x4R);f3o.container.text(X3o.model._labels.Labels.FILTER_SEARCH);f3o.addEventListener(X4u.b6B,function(){return s3o.onSearchClick();});s3o.searchWrap.addChild(f3o);var K3o=new uicontrols.UIComponentBase(X4u.f6B,b4u.t4R);f3o.addChild(K3o);s3o.searchInput=new uicontrols.UITextInput();s3o.searchInput.addClass(b4u.G4R);s3o.searchWrap.addChild(s3o.searchInput);f3o=new uicontrols.UIComponentBase(X4u.f6B,b4u.r4R);f3o.addEventListener(X4u.b6B,function(){return s3o.onSearchCloseClick();});s3o.searchWrap.addChild(f3o);f3o=new uicontrols.UIComponentBase(X4u.w9B,s3a);s3o.addChild(f3o);s3o.membersFilterList=new z3o.FilterList();s3o.membersFilterList.setSmartDataProvider(new z3o.MembersFilterDataProvider());s3o.membersFilterList.setId(f3a);f3o.addChild(s3o.membersFilterList);return s3o;}m3o.prototype.onSearchClick=function(){this.searchWrap.addClass(F3yy.j2R);this.searchInput.container.focus();this.selectedAmountLabel.hide();};m3o.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass(F3yy.j2R);this.searchInput.clear();this.selectedAmountLabel.show();};m3o.prototype.reset=function(){this.onSearchCloseClick();};return m3o;}(uicontrols.UIComponentBase);z3o.MembersView=S3o;}(b3o.filter||(b3o.filter={})));}(X3o._view||(X3o._view={})));}(pivot||(pivot={})));(function(E3o){(function(v3o){(function(Y3o){var W3o=function(o3o){__extends(p3o,o3o);function p3o(){var y4u=T3yy;var K3a="wdr-expand-toggle-btn";var w3o=o3o.call(this)||this;w3o.levelMargin=y4u.X1B;w3o.expandBtn=new uicontrols.UIToggleButton();w3o.expandBtn.removeClass(y4u.V6B);w3o.expandBtn.addClass(K3a);w3o.expandBtn.addEventListener(events._Event.CHANGE,function(){return w3o.onCollapseExpand();});w3o.container.append(w3o.expandBtn.container);w3o.selectedCheckBox=new uicontrols.UICheckBox();w3o.selectedCheckBox.addEventListener(events._Event.CHANGE,function(){return w3o.onSelect();});w3o.container.append(w3o.selectedCheckBox.container);w3o.container.addEventListener(y4u.b6B,function(n3o){return w3o.onClick(n3o);});w3o.invalidate(y4u.Y9B);return w3o;}p3o.prototype.onCollapseExpand=function(){var d3o=this.getData();d3o.isExpanded=this.expandBtn.getSelection();this.container.dispatchWith(Y3o.FilterList.EXPAND_EVENT,this,d3o);};p3o.prototype.onClick=function(c3o){c3o.target==this.container.element&&(this.selectedCheckBox.toggle(),this.onSelect());};p3o.prototype.onSelect=function(){var A3o=this.getData();A3o.isSelected=this.selectedCheckBox.getSelection();this.container.dispatchWith(Y3o.FilterList.SELECT_EVENT,this,A3o);};p3o.prototype.draw=function(){var k4u=T3yy;if(this.isInvalid(C3yy.S4B)){var l3o=this.getData();if(this.expandBtn&&this.selectedCheckBox&&l3o){this.container.css(J3yy.n0t,k4u.o9B);var h3o=this.levelMargin*(l3o.levelNum-k4u.I5B);l3o.isSearched||-k4u.I5B!==l3o.isExpanded||(h3o+=k4u.f1B);k4u.N5B<h3o&&this.container.css(J3yy.n0t,h3o+k4u.m9B);isNaN(l3o.isExpanded)||-k4u.I5B===l3o.isExpanded||l3o.isSearched?this.expandBtn.hide():(this.expandBtn.show(),this.expandBtn.setSelection(l3o.isExpanded));h3o=l3o[this.getLabelField()];h3o=h3o.replace(/<(?:.|\n)*?>/gi,k4u.o9B);this.selectedCheckBox.setLabel(h3o,!k4u.N5B);this.selectedCheckBox.setSelection(l3o.isSelected);}}};return p3o;}(uicontrols.renderers.UIItemRenderer);Y3o.FilterListItemRenderer=W3o;}(v3o.filter||(v3o.filter={})));}(E3o._view||(E3o._view={})));}(pivot||(pivot={})));(function(M3o){(function(H3o){(function(V3o){var U3o=function(t3o){var E3a="__";__extends(x3o,t3o);x3o.prototype.getItemRendererFactory=function(I3o,i3o){var N3o=this,L3o=new V3o.FilterListItemRenderer();L3o.setData(I3o);L3o.setIndex(i3o);L3o.addEventListener(x3o.SELECT_EVENT,function(T7o){return N3o.onSelect(T7o);});L3o.addEventListener(x3o.EXPAND_EVENT,function(C7o){return N3o.onExpand(C7o);});return L3o;};x3o.prototype.onSelect=function(J7o){J7o=J7o.data;this.setSelected(J7o,T3yy.I5B===J7o.isSelected);this.dispatch(new events._Event(x3o.SELECT_EVENT,this));};x3o.prototype.onExpand=function(u7o){var Q7o=this,F7o=u7o.data;if(T3yy.I5B===F7o.isExpanded)if(T3yy.N5B===F7o.member.children.length)M3o.model.PivotModel.getInstance().cube_.loadMemberChildren(F7o.member.hierarchy_,F7o.member,function(Z7o){return Q7o.onChildrenLoaded(F7o.member);});else this.onChildrenLoaded(F7o.member);else this.getSmartDataProvider().collapse(F7o.member),this.invalidate(C3yy.S4B),this.dispatch(new events._Event(x3o.EXPAND_EVENT,this));};x3o.prototype.onChildrenLoaded=function(D7o){M3o.preloader(!T3yy.I5B);this.getSmartDataProvider().selectDescendants(D7o);this.getSmartDataProvider().expand(D7o);this.invalidate(C3yy.S4B);this.dispatch(new events._Event(x3o.EXPAND_EVENT,this));};x3o.prototype.getSmartDataProvider=function(){return this.filterDataProvider;};x3o.prototype.setSmartDataProvider=function(e7o){this.filterDataProvider=e7o;};x3o.prototype.getFilterItems=function(){return this.getSmartDataProvider().getFilterItems();};x3o.prototype.setFilterItems=function(P7o){this.getSmartDataProvider().setFilterItems(P7o);this.invalidate(C3yy.S4B);};x3o.prototype.getSelectedLength=function(){return this.getSmartDataProvider().getSelectedLength();};x3o.prototype.getTotalSelectedLength=function(){return this.getSmartDataProvider().getTotalSelectedLength();};x3o.prototype.getTotalLength=function(){return this.getSmartDataProvider().getLength();};x3o.prototype.getTotalItemsCount=function(){return this.getSmartDataProvider().getTotalLength();};x3o.prototype.setSelected=function(B7o,O7o){this.getSmartDataProvider().select(B7o.member,O7o);this.invalidate(C3yy.S4B);};x3o.prototype.selectAll=function(j7o){this.getSmartDataProvider().selectAll(j7o);this.invalidate(C3yy.S4B);};x3o.prototype.search=function(y7o,g7o){var k7o=this;this.getSmartDataProvider().search(y7o,function(a7o){k7o.getSmartDataProvider().setSearchedMembers(a7o);k7o.invalidate(C3yy.S4B);g7o();});};x3o.prototype.isSearched=function(){return this.getSmartDataProvider().isSearched();};x3o.prototype.setHierarchy=function(X7o){this.getSmartDataProvider().setHierarchy(X7o);};x3o.prototype.sort=function(b7o){b7o!==this.getSmartDataProvider().getSortType()&&(this.getSmartDataProvider().setSortType(b7o),this.invalidate(C3yy.S4B));};x3o.SELECT_EVENT=T3yy.M6B;x3o.EXPAND_EVENT=E3a;function x3o(){var G3o=t3o.call(this)||this;G3o.setItemRendererFactory(function(r3o,q3o){return G3o.getItemRendererFactory(r3o,q3o);});return G3o;}return x3o;}(uicontrols.lists.UIVirtualList);V3o.FilterList=U3o;}(H3o.filter||(H3o.filter={})));}(M3o._view||(M3o._view={})));}(pivot||(pivot={})));(function(z7o){(function(S7o){(function(R7o){var m7o=function(f7o){__extends(s7o,f7o);s7o.prototype.onBtnTopChange=function(){this._isEmpty=!T3yy.I5B;this.btnBottom.setSelection(T3yy.I5B-this.btnTop.getSelection());this.dispatch(new events._Event(s7o.CHANGE_EVENT,this));};s7o.prototype.onBtnBottomChange=function(){this._isEmpty=!T3yy.I5B;this.btnTop.setSelection(T3yy.I5B-this.btnBottom.getSelection());this.dispatch(new events._Event(s7o.CHANGE_EVENT,this));};s7o.prototype.onMeasuresChange=function(Y7o){this._isEmpty=!T3yy.I5B;this.dispatch(new events._Event(s7o.CHANGE_EVENT,this));};s7o.prototype.onQuantityChange=function(){this._isEmpty=!T3yy.I5B;T3yy.o9B==this.getFilterType()&&this.setFilterType(z7o.data_.consts.FilterType.TOP);this.dispatch(new events._Event(s7o.CHANGE_EVENT,this));};s7o.prototype.setMeasures=function(W7o){this.measuresDropDown.setDataProvider(W7o);this.measuresDropDown.setSelectedIndex(T3yy.N5B);};function s7o(){var q6u=T3yy;var Y3a="wdr-top-amount-input";var W3a=/^\d+$/;var o3a="wdr-btn-top";var v3a="wdr-filters-subview";var p3a="wdr-topx-btns";var d3a="wdr-top-measures-dropdown";var w3a="wdr-topx-btn";var n3a="wdr-btn-bottom";var K7o=f7o.call(this,q6u.w9B)||this;K7o._isEmpty=!q6u.N5B;K7o.addClass(v3a);K7o.quantityInput=new uicontrols.UITextInput();K7o.quantityInput.setId(Y3a);K7o.quantityInput.setRestriction(W3a);K7o.quantityInput.setType(q6u.r9B);K7o.quantityInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return K7o.onQuantityChange();});K7o.addChild(K7o.quantityInput);var E7o=new uicontrols.UIComponentBase(q6u.w9B);E7o.setId(p3a);K7o.addChild(E7o);K7o.btnTop=new uicontrols.UIToggleButton();K7o.btnTop.setId(o3a);K7o.btnTop.addClass(w3a);K7o.btnTop.setLabel(z7o.model._labels.Labels.FILTER_TOP);K7o.btnTop.addEventListener(events._Event.CHANGE,function(){return K7o.onBtnTopChange();});E7o.addChild(K7o.btnTop);K7o.btnBottom=new uicontrols.UIToggleButton();K7o.btnBottom.setId(n3a);K7o.btnBottom.addClass(w3a);K7o.btnBottom.setLabel(z7o.model._labels.Labels.FILTER_BOTTOM);K7o.btnBottom.addEventListener(events._Event.CHANGE,function(){return K7o.onBtnBottomChange();});E7o.addChild(K7o.btnBottom);K7o.measuresDropDown=new uicontrols.lists.UIDropDownList();K7o.measuresDropDown.setId(d3a);K7o.measuresDropDown.setLabelField(C3yy.u0t);K7o.measuresDropDown.setPrompt(q6u.o9B);K7o.measuresDropDown.addEventListener(events._Event.CHANGE,function(v7o){return K7o.onMeasuresChange(v7o);});K7o.addChild(K7o.measuresDropDown);return K7o;}s7o.prototype.getSelectedMeasure=function(){return this.measuresDropDown.getSelectedItem();};s7o.prototype.setSelectedMeasure=function(p7o){this._isEmpty=!T3yy.I5B;this.measuresDropDown.setSelectedItem(p7o,J3yy.R2t);};s7o.prototype.reset=function(){var w6u=T3yy;var c3a="10";this._isEmpty=!w6u.N5B;var o7o=z7o.model._options.OptionsManager.flatView;this.btnTop.setSelection(o7o?w6u.N5B:w6u.I5B);this.btnBottom.setSelection(w6u.N5B);this.measuresDropDown.setSelectedIndex(w6u.N5B);this.measuresDropDown.isVisible(!o7o);this.quantityInput.setText(c3a);};s7o.prototype.setLabels=function(){this.btnTop.setLabel(z7o.model._labels.Labels.FILTER_TOP);this.btnBottom.setLabel(z7o.model._labels.Labels.FILTER_BOTTOM);this.measuresDropDown.setPrompt(T3yy.o9B);};s7o.prototype.getFilterType=function(){return T3yy.I5B===this.btnTop.getSelection()?z7o.data_.consts.FilterType.TOP:T3yy.I5B===this.btnBottom.getSelection()?z7o.data_.consts.FilterType.BOTTOM:T3yy.o9B;};s7o.prototype.setFilterType=function(w7o){var R6u=T3yy;w7o==z7o.data_.consts.FilterType.TOP?(this._isEmpty=!R6u.I5B,this.btnTop.setSelection(R6u.I5B),this.btnBottom.setSelection(R6u.N5B)):w7o==z7o.data_.consts.FilterType.BOTTOM&&(this._isEmpty=!R6u.I5B,this.btnTop.setSelection(R6u.N5B),this.btnBottom.setSelection(R6u.I5B));};s7o.prototype.getFilterQuantity=function(){return parseInt(this.quantityInput.getText());};s7o.prototype.setFilterQuantity=function(n7o){this._isEmpty=!T3yy.I5B;this.quantityInput.setText(n7o.toString());};Object.defineProperty(s7o.prototype,J3yy.O2t,{get:function(){return this._isEmpty;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});s7o.CHANGE_EVENT=T3yy.M6B;return s7o;}(uicontrols.UIComponentBase);R7o.TopBottomView=m7o;}(S7o.filter||(S7o.filter={})));}(z7o._view||(z7o._view={})));}(pivot||(pivot={})));(function(d7o){(function(c7o){(function(l7o){var A7o=function(){var W3u=T3yy;var M3a="isPages";var l3a="isValuesFilterEmpty";var h3a="isValuesFilterChanged";h7o.getInstance=function(){W3u.r0B==h7o.instance&&(h7o.instance=new h7o());return h7o.instance;};h7o.dispose=function(){h7o.instance=W3u.r0B;};function h7o(){var A3a="FilterModel is singleton!";this.sortTypeChanged=!W3u.I5B;if(W3u.r0B!=h7o.instance)throw A3a;this.pivotInstance=d7o.Pivot.instance;this.modelLocator=d7o.model.PivotModel.getInstance();this.zeroCoord=c7o.PivotView.stage.position();}h7o.prototype.getHierarchies=function(){return this.hierarchies;};h7o.prototype.setHierarchies=function(M7o){this.hierarchies=M7o;};h7o.prototype.update=function(V7o){this.currentCoord={top:this.zeroCoord.top,left:this.zeroCoord.left};var H7o=this.modelLocator.cube_.slice_.allHierarchies(!W3u.I5B,!W3u.N5B,this.isFlatTable).toArray();this.setHierarchies(H7o);this.setCurrentHierarchy(V7o);this.measures=this.modelLocator.cube_.slice_.measures_.toArray();};h7o.prototype.clearValuesFilter=function(){this.filterType=d7o.data_.consts.FilterType.NONE;this.filterQuantity=-W3u.I5B;this.filterMeasureName=W3u.o9B;};h7o.prototype.setCurrentHierarchy=function(U7o){if(this.currentHierarchy=U7o)this.sortType=this.currentHierarchy.sortName,this.sortTypeChanged=!W3u.I5B,this.filterMeasureName=this.currentHierarchy.filterMeasureName,this.filterQuantity=this.currentHierarchy.filterQuantity,this.filterType=this.currentHierarchy.filterType,this.members=this.sortType!==d7o.data_.consts.SortType.UNSORTED?this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!W3u.I5B,this.sortType).toArray():this.currentHierarchy.allMember.children.toArray();};h7o.prototype.getTopBottomMeasures=function(){return this.isFlatTable?[this.modelLocator.cube_.structure_.hierarchyToMeasure(this.currentHierarchy.uniqueName)]:this.measures;};h7o.prototype.getSortType=function(){return this.sortType;};h7o.prototype.setSortType=function(x7o){this.sortType=x7o;this.sortTypeChanged=!W3u.N5B;};h7o.prototype.applyChanges=function(){this.currentHierarchy.hasValuesFilter()&&this.isValuesFilterEmpty&&this.modelLocator.clearFilter(this.currentHierarchy.uniqueName);this.applyMembersFilter();this.applyValuesFilter();this.applySort();};Object.defineProperty(h7o.prototype,l3a,{get:function(){return!this.filterMeasureName||W3u.N5B===this.filterMeasureName.length||isNaN(this.filterQuantity)||W3u.I5B>this.filterQuantity||!this.filterType||W3u.N5B===this.filterType.length||this.filterType===d7o.data_.consts.FilterType.NONE;},enumerable:!W3u.N5B,configurable:!W3u.N5B});Object.defineProperty(h7o.prototype,h3a,{get:function(){return this.currentHierarchy.filterMeasureName!==this.filterMeasureName||this.currentHierarchy.filterQuantity!==this.filterQuantity||this.currentHierarchy.filterType!==this.filterType?!W3u.N5B:!W3u.I5B;},enumerable:!W3u.N5B,configurable:!W3u.N5B});h7o.prototype.applyValuesFilter=function(){!this.isValuesFilterEmpty&&this.isValuesFilterChanged&&(W3u.T6B===this.filterType?this.modelLocator.setTopX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName):W3u.J6B===this.filterType&&this.modelLocator.setBottomX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName));};h7o.prototype.isMembersFilterChanged=function(){if(this.filteredMembers.length!==this.currentHierarchy.filterMembers.length&&!this.filterNegation)return!W3u.N5B;for(var t7o=W3u.N5B,G7o=this.filteredMembers.length;t7o<G7o;t7o++)if(this.filterNegation===this.currentHierarchy.filterMembers.keyExists(this.filteredMembers[t7o].uniqueName))return!W3u.N5B;return this.filterNegation&&this.currentHierarchy&&this.currentHierarchy.filterMembers.length+this.filteredMembers.length!==this.currentHierarchy.members.length-W3u.I5B?!W3u.N5B:!W3u.I5B;};h7o.prototype.applyMembersFilter=function(){this.isMembersFilterChanged()&&this.modelLocator.setFilter(this.currentHierarchy.uniqueName,this.filteredMembers,this.filterNegation);};h7o.prototype.isSortTypeChanged=function(){return this.sortTypeChanged;};h7o.prototype.applySort=function(){this.isSortTypeChanged()&&this.modelLocator.setSort(this.currentHierarchy.uniqueName,this.sortType);};Object.defineProperty(h7o.prototype,M3a,{get:function(){return!this.isFlatTable&&this.modelLocator.cube_.slice_.pages.keyExists(this.currentHierarchy.uniqueName);},enumerable:!W3u.N5B,configurable:!W3u.N5B});Object.defineProperty(h7o.prototype,F3yy.W5R,{get:function(){return d7o.model._options.OptionsManager.flatView;},enumerable:!W3u.N5B,configurable:!W3u.N5B});return h7o;}();l7o.FilterModel=A7o;}(c7o.filter||(c7o.filter={})));}(d7o._view||(d7o._view={})));}(pivot||(pivot={})));(function(r7o){(function(q7o){(function(L7o){var N7o=function(i7o){var G3a="isAvailableTopX";var H3a="wdr-not-empty";__extends(I7o,i7o);I7o.prototype.onDataUpdated=function(){this.update(this.model.currentHierarchy);};I7o.prototype.onClearTop=function(Z5o){Z5o.stopImmediatePropagation();this.model.clearValuesFilter();this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.hide());this.view.top10Btn&&(this.view.top10Btn.container.removeClass(H3a),this.view.top10Btn.setSelection(T3yy.N5B));};I7o.prototype.onTopBottomChange=function(){if(this.view.topBottomView){this.model.filterType=this.view.topBottomView.getFilterType();this.model.filterQuantity=this.view.topBottomView.getFilterQuantity();var D5o=this.view.topBottomView.getSelectedMeasure();this.model.filterMeasureName=D5o?D5o.uniqueName:T3yy.o9B;}this.view.top10Btn&&this.view.top10Btn.container.addClass(H3a);};I7o.prototype.onTop10Change=function(){this.view.topBottomView&&this.view.topBottomView.isVisible(T3yy.I5B===this.view.top10Btn.getSelection());};I7o.prototype.onOkClick=function(e5o){this.dispatchWith(F3yy.V3a);e5o=this.view.membersFilterList.getFilterItems();this.model.filteredMembers=e5o.items;this.model.filterNegation=e5o.negation;this.model.applyChanges();};function I7o(){var r9u=T3yy;var T5o=i7o.call(this)||this;T5o.model=L7o.FilterModel.getInstance();T5o.view=new L7o.FilterViewContent(T5o);r9u.r0B!=T5o.view.hierarchiesList&&T5o.view.hierarchiesList.addEventListener(events._Event.CHANGE,function(C5o){return T5o.onHierarchiesListChange(C5o);});r9u.r0B!=T5o.view.searchInput&&T5o.view.searchInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(J5o){return T5o.onSearchInputChange(J5o.data);});r9u.r0B!=T5o.view.membersFilterList&&(T5o.view.membersFilterList.addEventListener(L7o.FilterList.SELECT_EVENT,function(){return T5o.onMembersFilterSelect();}),T5o.view.membersFilterList.addEventListener(L7o.FilterList.EXPAND_EVENT,function(){return T5o.onMembersFilterExpand();}));r9u.r0B!=T5o.view.selectAllCbx&&T5o.view.selectAllCbx.addEventListener(events._Event.CHANGE,function(){return T5o.onSelectAllChange();});r9u.r0B!=T5o.view.azBtn&&T5o.view.azBtn.addEventListener(events._Event.CHANGE,function(){return T5o.onAzBtnChange();});r9u.r0B!=T5o.view.zaBtn&&T5o.view.zaBtn.addEventListener(events._Event.CHANGE,function(){return T5o.onZaBtnChange();});r9u.r0B!=T5o.view.top10Btn&&T5o.view.top10Btn.addEventListener(events._Event.CHANGE,function(){return T5o.onTop10Change();});r9u.r0B!=T5o.view.clearTopBtn&&T5o.view.clearTopBtn.container.addEventListener(r9u.b6B,function(F5o){return T5o.onClearTop(F5o);});r9u.r0B!=T5o.view.topBottomView&&T5o.view.topBottomView.addEventListener(L7o.TopBottomView.CHANGE_EVENT,function(){return T5o.onTopBottomChange();});r9u.r0B!=T5o.view.okBtn&&T5o.view.okBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(Q5o){return T5o.onOkClick(Q5o);});r9u.r0B!=T5o.view.cancelBtn&&T5o.view.cancelBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(u5o){return T5o.onCancelClick(u5o);});return T5o;}I7o.prototype.onCancelClick=function(P5o){this.dispatchWith(F3yy.V3a);};I7o.prototype.onAzBtnChange=function(){var K29=T3yy;K29.I5B===this.view.azBtn.getSelection()&&(this.view.zaBtn.setSelection(K29.N5B),this.model.setSortType(r7o.data_.consts.SortType.ASC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));K29.N5B===this.view.azBtn.getSelection()&&K29.N5B===this.view.zaBtn.getSelection()&&(this.model.setSortType(r7o.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));};I7o.prototype.onZaBtnChange=function(){var m29=T3yy;m29.I5B===this.view.zaBtn.getSelection()&&(this.view.azBtn.setSelection(m29.N5B),this.model.setSortType(r7o.data_.consts.SortType.DESC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));m29.N5B===this.view.azBtn.getSelection()&&m29.N5B===this.view.zaBtn.getSelection()&&(this.model.setSortType(r7o.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));};I7o.prototype.onSelectAllChange=function(){this.view.membersFilterList&&(this.view.membersFilterList.selectAll(T3yy.I5B==this.view.selectAllCbx.getSelection()),this.view.membersFilterList.getTotalSelectedLength(),this.view.okBtn.setEnabled(T3yy.N5B<this.view.membersFilterList.getTotalSelectedLength()));this.updateSelectedLabel();};I7o.prototype.onMembersFilterSelect=function(){this.view.okBtn.setEnabled(T3yy.N5B<this.view.membersFilterList.getTotalSelectedLength());this.updateAllSelectedCbx();this.updateSelectedLabel();};I7o.prototype.onMembersFilterExpand=function(){this.updateLayout();this.updateSelectedLabel();};I7o.prototype.updateAllSelectedCbx=function(){var O29=T3yy;O29.N5B==this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(O29.N5B):this.view.membersFilterList.getTotalItemsCount()>this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(-O29.I5B):this.view.membersFilterList.getTotalItemsCount()==this.view.membersFilterList.getSelectedLength()&&this.view.selectAllCbx.setSelection(O29.I5B);};I7o.prototype.update=function(B5o){var P29=T3yy;var x3a="Sorting members...";var U3a="Please, wait";var O5o=this;!P29.I5B!=this.view.isVisible()&&(J3yy.O3R<B5o.members.length?(r7o.preloader(!P29.N5B,U3a,x3a,!P29.N5B,!P29.N5B),setTimeout(function(){O5o.model.update(B5o);O5o.updateView();r7o.preloader(!P29.I5B);},P29.c1B)):(this.model.update(B5o),this.updateView()));};I7o.prototype.onSearchInputChange=function(j5o){var k5o=this;j5o.trim()==j5o&&this.view.membersFilterList&&this.view.membersFilterList.search(j5o,function(){return k5o.onSearchComplete();});};I7o.prototype.onSearchComplete=function(){this.updateLayout();this.updateSelectedLabel();this.updateAllSelectedCbx();};I7o.prototype.updateView=function(){var t3a="wdr-filter-pages-layout";this.view.setLabels();this.view.container.toggleClass(t3a,this.model.isPages);this.view.membersView&&this.view.membersView.reset();this.view.searchInput&&(this.view.searchInput.clear(),this.view.searchInput.setChangeDelay(T3yy.N5B));this.view.top10Btn&&(r7o.data_.types.MeasureType.STRING==r7o.data_.types.MeasureType.fromDataType(this.model.currentHierarchy.dimension.type+T3yy.o9B)&&r7o.model._options.OptionsManager.flatView?this.view.top10Btn.hide():this.view.top10Btn.show());this.updateSortType();this.updateHierarchy();this.updateMembers();this.updateTopBottom();this.updateLayout();this.updateSelectedLabel();var y5o=!this.model.isPages;this.view.azBtn&&(y5o?this.view.azBtn.show():this.view.azBtn.hide());this.view.zaBtn&&(y5o?this.view.zaBtn.show():this.view.zaBtn.hide());this.view.top10Btn&&(this.isAvailableTopX?this.view.top10Btn.show():this.view.top10Btn.hide());this.view.sortContainer&&(y5o?this.view.sortContainer.show():this.view.sortContainer.hide());};Object.defineProperty(I7o.prototype,G3a,{get:function(){if(this.model.isFlatTable){var g5o=this.model.modelLocator.cube_.structure_.hierarchyToMeasure(this.model.currentHierarchy.uniqueName);return g5o&&g5o.type==r7o.data_.types.MeasureType.NUMBER;}return!this.model.isPages;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});I7o.prototype.updateMembers=function(){var f49=T3yy;var a5o=this.model.currentHierarchy;this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(f49.N5B<a5o.filterMembers.length?-f49.I5B:f49.I5B);var X5o;X5o=f49.i5B<a5o.levels_.length?new L7o.MembersTreeDataProvider():new L7o.MembersFilterDataProvider();this.view.membersFilterList&&(this.view.membersFilterList.setSmartDataProvider(X5o),this.view.membersFilterList.setHierarchy(a5o),this.view.membersFilterList.setDataProvider(this.model.members),this.view.membersFilterList.setFilterItems(a5o.filterMembers.toArray()),this.view.membersFilterList.sort(this.model.getSortType()));};I7o.prototype.updateHierarchy=function(){this.view.titleLabel&&this.view.titleLabel.setLabel(this.model.currentHierarchy.caption);this.view.toolbar&&this.view.toolbar.setHeader(this.model.currentHierarchy.caption);};I7o.prototype.updateLayout=function(){var s49=T3yy;var T0B=84;if(this.view.membersFilterList&&s49.N5B<this.view.membersFilterList.getTotalLength())if(this.view.selectAllCbx&&this.view.selectAllCbx.show(),s49.N5B==this.view.explicitListHeight||isNaN(this.view.explicitListHeight)){var b5o=utils.browserVersion().isMobile?utils.viewportHeight()-s49.c1B:q7o.PivotView.stage.getY()+q7o.PivotView.stageHeight-window.document.documentElement.scrollTop,b5o=Math.min(b5o,parseFloat(window.document.documentElement.style.height))-this.view.membersFilterList.container.offset().top+window.document.documentElement.scrollTop-q7o.PivotView.stage.toolbarHeight,b5o=Math.max(b5o,T0B);this.setOptimalListHeight(b5o,!s49.N5B);}else this.setOptimalListHeight(this.view.explicitListHeight,!s49.I5B);else this.view.selectAllCbx&&this.view.selectAllCbx.hide();};I7o.prototype.updateSortType=function(){var m49=T3yy;this.view.azBtn&&this.view.azBtn.setSelection(J3yy.i2t===this.model.getSortType()?m49.I5B:m49.N5B);this.view.zaBtn&&this.view.zaBtn.setSelection(F3yy.i3R===this.model.getSortType()?m49.I5B:m49.N5B);};I7o.prototype.updateTopBottom=function(){var Q49=T3yy;this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.setMeasures(this.model.getTopBottomMeasures()));Q49.T6B===this.model.filterType||Q49.J6B===this.model.filterType?(this.view.topBottomView&&(this.view.topBottomView.setFilterType(this.model.filterType),this.view.topBottomView.setFilterQuantity(this.model.filterQuantity),this.view.topBottomView.setSelectedMeasure(utils.ArrayUtils.find(this.model.measures,this.model.filterMeasureName,J3yy.R2t)),this.view.topBottomView.show()),this.view.top10Btn&&this.view.top10Btn.setSelection(Q49.I5B)):(this.view.topBottomView&&this.view.topBottomView.hide(),this.view.top10Btn&&this.view.top10Btn.setSelection(Q49.N5B));var z5o=this.view.topBottomView?this.view.topBottomView.isEmpty:!Q49.N5B;this.view.top10Btn&&this.view.top10Btn.container.toggleClass(H3a,!z5o);};I7o.prototype.setOptimalListHeight=function(R5o,s5o){var S5o=Math.max(Math.min(R5o,this.view.membersFilterList.getMaxHeight()),this.view.membersFilterList.getMinHeight());if(s5o)var m5o=S5o%this.view.membersFilterList.getRowHeight(),S5o=S5o-m5o;this.view.membersFilterList.setHeight(S5o);this.view.table&&this.view.contentPanel.setHeight(this.view.table.getHeight());};I7o.prototype.updateSelectedLabel=function(){var f5o=T3yy.o9B;this.view.membersFilterList&&(f5o=this.view.membersFilterList.isSearched()?utils.StringUtils.bind(r7o.model._labels.Labels.FILTER_AMOUNT_FOUND,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()):utils.StringUtils.bind(r7o.model._labels.Labels.FILTER_AMOUNT_SELECTED,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()));this.view.selectedAmountLabel&&this.view.selectedAmountLabel.setLabel(f5o);this.view.selectAllCbx&&this.view.selectAllCbx.setLabel(this.view.membersFilterList&&this.view.membersFilterList.isSearched()?r7o.model._labels.Labels.FILTER_SELECT_ALL_RESULTS:r7o.model._labels.Labels.FILTER_SELECT_ALL);};I7o.prototype.onHierarchiesListChange=function(K5o){var E5o=K5o.data.selectedItem;-T3yy.I5B<K5o.data.selectedIndex&&(this.model.setCurrentHierarchy(E5o),this.updateView());};return I7o;}(events.EventDispatcher);L7o.FilterController=N7o;}(q7o.filter||(q7o.filter={})));}(r7o._view||(r7o._view={})));}(pivot||(pivot={})));(function(v5o){(function(Y5o){(function(W5o){var p5o=function(w5o){__extends(o5o,w5o);o5o.prototype.openView=function(d5o){this.open();this.controller.update(d5o);this.centerPosition();this.dispatchWith(events._Event.OPENED);};o5o.prototype.close=function(){w5o.prototype.close.call(this);this.dispatchWith(events._Event.CLOSED);};function o5o(){var r3a="wdr-filter-view";var n5o=w5o.call(this,Y5o.PivotView.stage.container)||this;n5o.setId(r3a);n5o.addClass(T3yy.t9B);n5o.controller=new W5o.FilterController();n5o.controller.addEventListener(F3yy.V3a,function(){return n5o.close();});n5o.addChild(n5o.controller.view);n5o.controller.view.show();return n5o;}return o5o;}(uicontrols.containers.UIPopup);W5o.FilterView=p5o;}(Y5o.filter||(Y5o.filter={})));}(v5o._view||(v5o._view={})));}(pivot||(pivot={})));var xls;(function(c5o){var A5o=function(){var j7a="rId";var C7a=".xml";l5o.prototype.toUint8Array=function(){var F7a="xl/styles.xml";var L3a="_rels/.rels";var Q7a="docProps/app.xml";var I3a="xl/workbook.xml";var Z7a="STORE";var u7a="docProps/core.xml";var q3a="[Content_Types].xml";var N3a="xl/_rels/workbook.xml.rels";var D7a="uint8array";var J7a="xl/sharedStrings.xml";var T7a="xl/worksheets/sheet";var i3a="xl/theme/theme1.xml";utils.getTimer();var h5o=new JSZip();h5o.file(q3a,c5o.XLSTemplates.XML_HEADER+this.composeContentTypeXMLString());h5o.file(L3a,c5o.XLSTemplates.XML_HEADER+c5o.XLSTemplates._RELS);h5o.file(N3a,c5o.XLSTemplates.XML_HEADER+this.composeWorkbookRelsXMLString());h5o.file(I3a,c5o.XLSTemplates.XML_HEADER+this.composeWorkbookXMLString());h5o.file(i3a,c5o.XLSTemplates.XML_HEADER+c5o.XLSTemplates.THEME);for(var M5o=T3yy.N5B;M5o<this.sheets.length;M5o++){var H5o=this.sheets[M5o].toXMLString();h5o.file(T7a+(M5o+T3yy.I5B)+C7a,c5o.XLSTemplates.XML_HEADER+H5o);}h5o.file(J7a,c5o.XLSTemplates.XML_HEADER+this.composeSharedStrings());h5o.file(F7a,c5o.XLSTemplates.XML_HEADER+this.styleSheet.toXMLString());h5o.file(Q7a,c5o.XLSTemplates.XML_HEADER+c5o.XLSTemplates.APP_XML);h5o.file(u7a,c5o.XLSTemplates.XML_HEADER+c5o.XLSTemplates.CORE_XML);return h5o.generate({compression:Z7a,type:D7a});};function l5o(){this.styleSheet=new c5o.styles.XLSStyleSheet();this.sheets=[];c5o.styles.format.XLSStyleFormat.lastNumFmtId=c5o.styles.format.XLSStyleFormat.defaultNumFmtId;}l5o.prototype.composeSharedStrings=function(){var P7a="<si><t>";var e7a="<axis/>";var B7a="</t></si>";var V5o=T3yy.o9B;misc.XML.create(e7a).attr(C3yy.N2B,C3yy.i5J);for(var U5o=T3yy.N5B;U5o<c5o.XLSSharedStrings.strings.length;U5o++)var x5o=utils.StringUtils.escapeHtml(c5o.XLSSharedStrings.strings[U5o]),V5o=V5o+(P7a+x5o+B7a);return utils.StringUtils.bind(c5o.XLSTemplates.SHARED_STRING_XML,V5o);};l5o.prototype.composeWorkbookXMLString=function(){var m9a=T3yy;var O7a='<sheet name="{0}" sheetId="{1}" r:id="{2}"/>';for(var G5o=m9a.o9B,t5o=m9a.N5B;t5o<this.sheets.length;t5o++)G5o+=utils.StringUtils.bind(O7a,this.sheets[t5o].name,t5o+m9a.I5B,j7a+(t5o+m9a.C1B));return utils.StringUtils.bind(c5o.XLSTemplates.WORKBOOK_XML,G5o);};l5o.prototype.composeWorkbookRelsXMLString=function(){var S9a=T3yy;var k7a="worksheets/sheet";for(var q5o=S9a.o9B,r5o=S9a.N5B;r5o<this.sheets.length;r5o++)q5o+=utils.StringUtils.bind(c5o.XLSTemplates.WORKBOOK_XML_RELS_SHEET,j7a+(r5o+S9a.C1B),k7a+(r5o+S9a.I5B)+C7a);return utils.StringUtils.bind(c5o.XLSTemplates.WORKBOOK_XML_RELS,q5o);};l5o.prototype.composeContentTypeXMLString=function(){var y7a="/xl/worksheets/sheet";for(var N5o=T3yy.o9B,L5o=T3yy.N5B;L5o<this.sheets.length;L5o++)N5o+=utils.StringUtils.bind(c5o.XLSTemplates.CONTENT_TYPES_XML_SHEET,y7a+(L5o+T3yy.I5B)+C7a);return utils.StringUtils.bind(c5o.XLSTemplates.CONTENT_TYPES_XML,N5o);};return l5o;}();c5o.XLS=A5o;}(xls||(xls={})));(function(I5o){var i5o=function(){var Q9a=T3yy;Object.defineProperty(T1o.prototype,Q9a.c6B,{get:function(){return this._type;},enumerable:!Q9a.N5B,configurable:!Q9a.N5B});Object.defineProperty(T1o.prototype,F3yy.c7R,{get:function(){return this._value;},set:function(u1o){var X7a="/&/gmi";var g7a="<br/?>";var a7a="gmi";var b7a="<[^<]+?>";Q9a.r9B===typeof u1o&&isNaN(u1o)&&(u1o=Q9a.o9B);if(Q9a.q9B===typeof u1o){u1o=u1o.replace(RegExp(g7a,a7a),C3yy.v2B);u1o=u1o.replace(X7a,Q9a.o9B);u1o=u1o.replace(RegExp(b7a,a7a),Q9a.o9B);var Z1o=I5o.XLSSharedStrings.strings.indexOf(u1o);-Q9a.I5B==Z1o?(this._value=I5o.XLSSharedStrings.strings.length,I5o.XLSSharedStrings.strings.push(u1o)):this._value=Z1o;this._type=I5o.XLSType.STRING;}else this._value=u1o,this._type=Q9a.r9B===typeof u1o?I5o.XLSType.NUMBER:Q9a.r0B===u1o?I5o.XLSType.NULL:!Q9a.I5B===u1o?I5o.XLSType.MERGED:I5o.XLSType.UNKNOWN;},enumerable:!Q9a.N5B,configurable:!Q9a.N5B});Object.defineProperty(T1o.prototype,Q9a.W9B,{get:function(){var R1B=26;for(var e1o=Q9a.o9B,D1o=this.column+Q9a.I5B,B1o=Q9a.N5B;R1B<D1o;){var P1o=Q9a.N5B<D1o%R1B?D1o%R1B:R1B,D1o=D1o/R1B;R1B==P1o&&D1o--;e1o=String.fromCharCode(P1o+Q9a.t1B)+e1o;if(Q9a.T1B==B1o++)break;}e1o=String.fromCharCode(D1o+Q9a.t1B)+e1o;return e1o+(this.row+Q9a.I5B);},set:function(O1o){},enumerable:!Q9a.N5B,configurable:!Q9a.N5B});T1o.prototype.toString=function(){var s7a=", value: ";var m7a=", type: ";var z7a="XLSCell {row: ";var R7a=", id: ";var S7a=", column: ";return z7a+this.row+S7a+this.column+m7a+this.type+R7a+this.id+s7a+this.value+C3yy.W3J;};function T1o(C1o,J1o,F1o,Q1o){void Q9a.N5B===C1o&&(C1o=Q9a.N5B);void Q9a.N5B===J1o&&(J1o=Q9a.N5B);void Q9a.N5B===F1o&&(F1o=Q9a.o9B);void Q9a.N5B===Q1o&&(Q1o=Q9a.N5B);this.row=C1o;this.column=J1o;this.value=F1o;this.styleIndex=Q1o;}return T1o;}();I5o.XLSCell=i5o;}(xls||(xls={})));(function(k1o){var j1o=function(){y1o.strings=[];function y1o(){}return y1o;}();k1o.XLSSharedStrings=j1o;}(xls||(xls={})));(function(g1o){var a1o=function(){var Z9a=T3yy;var f7a="maxCell";var E7a="rowsCount";var K7a="columnsCount";Object.defineProperty(X1o.prototype,f7a,{get:function(){return this.getCell(this.maxRow,this.maxColumn);},set:function(z1o){},enumerable:!Z9a.N5B,configurable:!Z9a.N5B});Object.defineProperty(X1o.prototype,K7a,{get:function(){return this.maxColumn+Z9a.I5B;},enumerable:!Z9a.N5B,configurable:!Z9a.N5B});Object.defineProperty(X1o.prototype,E7a,{get:function(){return this.maxRow+Z9a.I5B;},enumerable:!Z9a.N5B,configurable:!Z9a.N5B});X1o.prototype.setColumnWidth=function(S1o,m1o){this.columns[S1o]=m1o;};X1o.prototype.getColumnWidth=function(R1o){return this.columns[R1o]?this.columns[R1o]:Z9a.N5B;};X1o.prototype.setRowHeight=function(s1o,f1o){this.rows[s1o]=f1o;};X1o.prototype.getRowHeight=function(K1o){return this.rows[K1o]?this.rows[K1o]:Z9a.N5B;};X1o.prototype.setCell=function(E1o,v1o,W1o,Y1o){void Z9a.N5B===Y1o&&(Y1o=Z9a.r0B);Z9a.r0B==this.cells[E1o]&&(this.cells[E1o]=[]);this.cells[E1o][v1o]=W1o instanceof g1o.XLSCell?W1o:new g1o.XLSCell(E1o,v1o,W1o,Z9a.r0B==Y1o?Z9a.N5B:Y1o.index);this.maxRow<E1o&&(this.maxRow=E1o);this.maxColumn<v1o&&(this.maxColumn=v1o);};X1o.prototype.getCell=function(o1o,w1o){var p1o;Z9a.r0B!=this.cells[o1o]&&(p1o=this.cells[o1o][w1o]);Z9a.r0B==p1o&&(p1o=new g1o.XLSCell(o1o,w1o,Z9a.r0B));return p1o;};X1o.prototype.mergeCells=function(A1o,l1o,M1o){var n1o=this.getCell(A1o,l1o);if(Z9a.r0B!=n1o){for(var h1o=n1o.id,c1o,d1o=l1o+Z9a.I5B;d1o<l1o+M1o;d1o++)c1o=new g1o.XLSCell(A1o,d1o,!Z9a.I5B,n1o.styleIndex),this.cells[A1o][d1o]=c1o;h1o+=C3yy.u3J+(c1o?c1o.id:n1o.id);this.mergedCells.push(h1o);}};function X1o(b1o){this.cells=[];this.maxColumn=this.maxRow=Z9a.N5B;this.columns=[];this.rows=[];this.mergedCells=[];this.name=b1o;}X1o.prototype.toXMLString=function(){var l7a='<mergeCells count="{0}">{1}</mergeCells>';var c7a='<col min="{0}" max="{1}" width="{2}" customWidth="1" />';var o7a="><v>";var v7a='<c r="';var Y7a='" s="';var A7a='<mergeCell ref="{0}"/>';var n7a='<row spans="1:3" r="{0}"  >{1}</row>';var w7a="</v></c>";var W7a='" />';var p7a=' t="s"';var d7a='<row spans="1:3" r="{0}" x14ac:dyDescent="0.25" ht="{1}" customHeight="1">{2}</row>';utils.getTimer();for(var t1o=Z9a.o9B,V1o=Z9a.N5B;V1o<this.cells.length;V1o++){var H1o=this.cells[V1o];if(Z9a.r0B!=H1o&&Z9a.N5B!=H1o.length){for(var x1o=Z9a.o9B,G1o=Z9a.N5B;G1o<H1o.length;G1o++){var U1o=H1o[G1o];Z9a.r0B!=U1o&&U1o.type!=g1o.XLSType.NULL&&(x1o=U1o.type==g1o.XLSType.MERGED?x1o+(v7a+U1o.id+Y7a+U1o.styleIndex.toString()+W7a):x1o+(v7a+U1o.id+Y7a+U1o.styleIndex.toString()+C3yy.o3J+(U1o.type==g1o.XLSType.STRING?p7a:Z9a.o9B)+o7a+U1o.value+w7a));}t1o=isNaN(this.rows[V1o])?t1o+utils.StringUtils.bind(n7a,V1o+Z9a.I5B,x1o):t1o+utils.StringUtils.bind(d7a,V1o+Z9a.I5B,this.rows[V1o],x1o);}}V1o=Z9a.o9B;for(H1o=Z9a.N5B;H1o<this.columns.length;H1o++)isNaN(this.columns[H1o])||(V1o+=utils.StringUtils.bind(c7a,H1o+Z9a.I5B,H1o+Z9a.I5B,this.columns[H1o]));x1o=Z9a.o9B;for(H1o=Z9a.N5B;H1o<this.mergedCells.length;H1o++)x1o+=utils.StringUtils.bind(A7a,this.mergedCells[H1o]);H1o=Z9a.N5B<this.mergedCells.length?utils.StringUtils.bind(l7a,this.mergeCells.length,x1o):Z9a.o9B;return utils.StringUtils.bind(g1o.XLSTemplates.SHEET_XML,this.getCell(Z9a.N5B,Z9a.N5B).id+C3yy.u3J+this.maxCell.id,V1o,t1o,H1o);};return X1o;}();g1o.XLSSheet=a1o;}(xls||(xls={})));(function(q1o){var r1o=function(){var D9a=T3yy;var C0B=98;L1o.NULL=D9a.N5B;L1o.NUMBER=D9a.I5B;L1o.STRING=D9a.i5B;function L1o(){}L1o.MERGED=C0B;L1o.UNKNOWN=D9a.J0B;return L1o;}();q1o.XLSType=r1o;}(xls||(xls={})));(function(N1o){(function(I1o){var i1o=function(){Object.defineProperty(T0o.prototype,T3yy.W9B,{get:function(){var x7u=C3yy;return this.fill.id+x7u.u3J+this.font.id+x7u.u3J+this.textIndent+x7u.u3J+this.textAlign+x7u.u3J+this.format.id;},set:function(u0o){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});T0o.prototype.toXMLString=function(){var V7u=T3yy;var V7a='<xf numFmtId="{0}"{1} fontId="{2}" fillId="{3}" borderId="1" xfId="0" applyFont="1" applyFill="1"{4}>{5}</xf>';var H7a='<alignment vertical="center" wrapText="1"/>';var M7a=' indent="';var x7a=' applyAlignment="1"';var U7a=' applyNumberFormat = "1"';var h7a='<alignment vertical="center" horizontal="{0}" wrapText="1"{1}/>';var Z0o=V7u.o9B,Z0o=this.textIndent||this.textAlign?utils.StringUtils.bind(h7a,utils.nullOrUndefined(this.textAlign)?V7u.i9B:this.textAlign,utils.nullOrUndefined(this.textIndent)?V7u.o9B:M7a+this.textIndent+C3yy.o3J):H7a;return utils.StringUtils.bind(V7a,this.format.numFmtId,V7u.N5B<this.format.numFmtId?U7a:V7u.o9B,this.font.fontIndex,this.fill.fillIndex,V7u.N5B<Z0o.length?x7a:V7u.o9B,Z0o);};function T0o(Q0o,C0o,J0o,F0o){var H7u=T3yy;void H7u.N5B===J0o&&(J0o=H7u.r0B);void H7u.N5B===F0o&&(F0o=H7u.r0B);this.index=H7u.N5B;C0o instanceof I1o.fills.XLSStyleFill?this.fill=C0o:!isNaN(C0o)&&-H7u.I5B<C0o?this.fill=new I1o.fills.XLSStyleFill(C0o):this.fill=new I1o.fills.XLSStyleFill();this.font=Q0o instanceof I1o.fonts.XLSStyleFont?Q0o:new I1o.fonts.XLSStyleFont(Q0o);this.format=J0o&&J0o instanceof I1o.format.XLSStyleFormat?J0o:new I1o.format.XLSStyleFormat(H7u.N5B,H7u.o9B);H7u.r0B!=F0o&&(this.textAlign=F0o);}return T0o;}();I1o.XLSStyle=i1o;}(N1o.styles||(N1o.styles={})));}(xls||(xls={})));(function(D0o){(function(e0o){var P0o=function(){B0o.prototype.addStyle=function(j0o){this.styles.keyExists(j0o.id)?j0o.index=this.styles.getItem(j0o.id).index:(this.addFill(j0o.fill),this.addFont(j0o.font),this.styles.addItem(j0o.id,j0o),j0o.index=this.styles.length);};B0o.prototype.addFill=function(k0o){this.fills.keyExists(k0o.id)?k0o.fillIndex=this.fills.getItem(k0o.id).fillIndex:(k0o.fillIndex=this.fills.length,this.fills.addItem(k0o.id,k0o));};B0o.prototype.addFont=function(y0o){this.fonts.keyExists(y0o.id)?y0o.fontIndex=this.fonts.getItem(y0o.id).fontIndex:(this.fonts.addItem(y0o.id,y0o),y0o.fontIndex=this.fonts.length);};B0o.prototype.addFormat=function(g0o){this.formats.keyExists(g0o.id)?g0o.numFmtId=this.formats.getItem(g0o.id).numFmtId:(-T3yy.I5B==g0o.numFmtId&&(g0o.numFmtId=e0o.format.XLSStyleFormat.getNextAvailableCustomNumFmtId()),this.formats.addItem(g0o.id,g0o));};function B0o(){this.styles=new utils.AssociativeArray();this.fills=new utils.AssociativeArray();this.fonts=new utils.AssociativeArray();this.formats=new utils.AssociativeArray();this.addFill(new e0o.fills.XLSStyleFill());var O0o=new e0o.fills.XLSStyleFill();O0o.patternFill.patternType=F3yy.t7a;O0o.fillIndex=T3yy.I5B;this.fills.addItem(F3yy.t7a,O0o);}B0o.prototype.toXMLString=function(){var c7u=T3yy;var G7a='<numFmts count="';var r7a="</numFmts>";var z0o=c7u.o9B,S0o=c7u.o9B,m0o=c7u.o9B,R0o=c7u.o9B,a0o;if(c7u.N5B<this.formats.length){var X0o=c7u.N5B,s0o=c7u.o9B;for(a0o=c7u.N5B;a0o<this.formats.length;a0o++){var b0o=this.formats.getItemAt(a0o);c7u.o9B!=b0o.formatCode&&(b0o=b0o.toXMLString(),s0o+=b0o,X0o++);}c7u.N5B<X0o&&(z0o=G7a+X0o+F3yy.g9R+s0o+r7a);}for(a0o=c7u.N5B;a0o<this.fills.length;a0o++)X0o=this.fills.getItemAt(a0o),S0o+=X0o.toXMLString();for(a0o=c7u.N5B;a0o<this.fonts.length;a0o++)X0o=this.fonts.getItemAt(a0o),m0o+=X0o.toXMLString();for(a0o=c7u.N5B;a0o<this.styles.length;a0o++)X0o=this.styles.getItemAt(a0o),R0o+=X0o.toXMLString();return utils.StringUtils.bind(D0o.XLSTemplates.STYLES_XML,z0o,this.fonts.length+c7u.I5B,m0o,this.fills.length,S0o,this.styles.length+c7u.I5B,R0o);};return B0o;}();e0o.XLSStyleSheet=P0o;}(D0o.styles||(D0o.styles={})));}(xls||(xls={})));(function(f0o){(function(K0o){(function(v0o){var E0o=function(){Object.defineProperty(Y0o.prototype,T3yy.W9B,{get:function(){return this.rgb.toString(T3yy.k1B);},set:function(p0o){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function Y0o(W0o){this.rgb=W0o;}Y0o.prototype.toXMLString=function(o0o){var q99=C3yy;var t99=T3yy;var q7a=' auto="';var i7a=' rgb="FF';var N7a=' tint="';var I7a=' indexed="';var L7a=' theme="';void t99.N5B===o0o&&(o0o=t99.o9B);t99.N5B==o0o.length&&(o0o=J3yy.u6t);o0o=F3yy.K7R+o0o;this.auto&&(o0o+=q7a+this.auto+q99.o3J);this.theme&&(o0o+=L7a+this.theme+q99.o3J);this.tint&&(o0o+=N7a+this.tint+q99.o3J);this.indexed&&(o0o+=I7a+this.indexed+q99.o3J);for(var w0o=this.rgb.toString(t99.k1B).toUpperCase();t99.F1B>w0o.length;)w0o=q99.I8B+w0o;return o0o+(i7a+w0o+F3yy.T5a);};return Y0o;}();v0o.XLSStyleColor=E0o;}(K0o.color||(K0o.color={})));}(f0o.styles||(f0o.styles={})));}(xls||(xls={})));(function(n0o){(function(d0o){(function(c0o){var A0o=function(l0o){__extends(h0o,l0o);h0o.prototype.toXMLString=function(H0o){var C5a="bgColor";return l0o.prototype.toXMLString.call(this,C5a);};function h0o(M0o){return l0o.call(this,M0o)||this;}return h0o;}(c0o.XLSStyleColor);c0o.XLSStyleBgColor=A0o;}(d0o.color||(d0o.color={})));}(n0o.styles||(n0o.styles={})));}(xls||(xls={})));(function(V0o){(function(U0o){(function(x0o){var t0o=function(G0o){__extends(r0o,G0o);r0o.prototype.toXMLString=function(L0o){var J5a="fgColor";return G0o.prototype.toXMLString.call(this,J5a);};function r0o(q0o){return G0o.call(this,q0o)||this;}return r0o;}(x0o.XLSStyleColor);x0o.XLSStyleFgColor=t0o;}(U0o.color||(U0o.color={})));}(V0o.styles||(V0o.styles={})));}(xls||(xls={})));(function(N0o){(function(I0o){(function(i0o){var T9o=function(){C9o.prototype.toXMLString=function(){var F5a="<fill>";var Q5a="</fill>";return F5a+this.patternFill.toXMLString()+Q5a;};Object.defineProperty(C9o.prototype,T3yy.W9B,{get:function(){return this.patternFill.id;},set:function(F9o){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function C9o(J9o){void T3yy.N5B===J9o&&(J9o=-T3yy.I5B);this.fillIndex=T3yy.N5B;this.patternFill=new i0o.XLSStylePatternFill(J9o);}return C9o;}();i0o.XLSStyleFill=T9o;}(I0o.fills||(I0o.fills={})));}(N0o.styles||(N0o.styles={})));}(xls||(xls={})));(function(Q9o){(function(u9o){(function(D9o){var Z9o=function(){Object.defineProperty(e9o.prototype,T3yy.W9B,{get:function(){return utils.nullOrUndefined(this.fgColor)?T3yy.Q6B:this.fgColor.id;},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function e9o(P9o){var p99=T3yy;void p99.N5B===P9o&&(P9o=-p99.I5B);this.patternType=F3yy.t7a;-p99.I5B<P9o?(this.fgColor=new u9o.color.XLSStyleFgColor(P9o),this.bgColor=new u9o.color.XLSStyleBgColor(P9o)):this.patternType=p99.Q6B;}e9o.prototype.toXMLString=function(){var u5a='<patternFill patternType="{0}">{1}{2}</patternFill>';return utils.StringUtils.bind(u5a,this.patternType,utils.nullOrUndefined(this.fgColor)?T3yy.o9B:this.fgColor.toXMLString(),utils.nullOrUndefined(this.bgColor)?T3yy.o9B:this.bgColor.toXMLString());};return e9o;}();D9o.XLSStylePatternFill=Z9o;}(u9o.fills||(u9o.fills={})));}(Q9o.styles||(Q9o.styles={})));}(xls||(xls={})));(function(B9o){(function(O9o){(function(k9o){var j9o=function(){Object.defineProperty(y9o.prototype,T3yy.W9B,{get:function(){var v99=C3yy;return this.name+v99.y2B+this.size+v99.y2B+(utils.nullOrUndefined(this.hexColor)?T3yy.o9B:this.hexColor.id)+v99.y2B+this.bold+v99.y2B+this.italic;},set:function(b9o){},enumerable:!T3yy.N5B,configurable:!T3yy.N5B});function y9o(g9o,a9o,X9o){this.fontIndex=T3yy.N5B;utils.nullOrUndefined(g9o)||(this.name=g9o);utils.nullOrUndefined(a9o)||(this.size=a9o);utils.nullOrUndefined(X9o)||(this.hexColor=new O9o.color.XLSStyleColor(X9o));}y9o.prototype.toXMLString=function(){var D5a="<b/>";var e5a='<sz val="';var Z5a="<font>";var B5a="</font>";var P5a='<name val="';var z9o=Z5a;this.bold&&(z9o+=D5a);this.size&&(z9o+=e5a+this.size+F3yy.T5a);this.hexColor&&(z9o+=this.hexColor.toXMLString());if(this.name){var S9o=this.name;this.name.indexOf(C3yy.y2B)&&(S9o=this.name.split(C3yy.y2B)[T3yy.N5B].trim());z9o+=P5a+S9o+F3yy.T5a;}return z9o+B5a;};return y9o;}();k9o.XLSStyleFont=j9o;}(O9o.fonts||(O9o.fonts={})));}(B9o.styles||(B9o.styles={})));}(xls||(xls={})));(function(m9o){(function(R9o){(function(f9o){var s9o=function(){var p7u=T3yy;K9o.prototype.toXMLString=function(){var j5a='" formatCode="';var O5a='<numFmt numFmtId="';return O5a+this.numFmtId+j5a+this.formatCode+F3yy.T5a;};Object.defineProperty(K9o.prototype,p7u.W9B,{get:function(){return p7u.o9B!=this.formatCode?this.formatCode:this.numFmtId.toString();},set:function(Y9o){},enumerable:!p7u.N5B,configurable:!p7u.N5B});K9o.getNextAvailableCustomNumFmtId=function(){return K9o.lastNumFmtId++;};K9o.defaultNumFmtId=p7u.I5B;K9o.lastNumFmtId=K9o.defaultNumFmtId;function K9o(E9o,v9o){this.formatCode=p7u.o9B;this.numFmtId=E9o;this.formatCode=v9o;}return K9o;}();f9o.XLSStyleFormat=s9o;}(R9o.format||(R9o.format={})));}(m9o.styles||(m9o.styles={})));}(xls||(xls={})));(function(W9o){(function(p9o){var o9o=function(){var k9a=T3yy;var k5a="slice_";var g5a="result";w9o.prototype.clearData=function(){this.clearValues();this.rowResult=[];this.columnResult=[];this.allMeasures=this.allHierarchies=k9a.r0B;};w9o.prototype.clearValues=function(){this.ids=[];this.tuples=[];this.facts=[];this.drilled=[];this.levels=[];this.values=[];this.updates=[];this.updatesCache=[];this.allIndices=[];this.filtered=[];this.filters=[];};w9o.prototype.clearAll=function(){this.clearData();this.sizes=[];this.keys=[];this.factKeys=[];this.allIndices=[];};w9o.prototype.clearUpdates=function(){this.updates=[];this.updatesCache=[];this.values=[];};Object.defineProperty(w9o.prototype,k5a,{get:function(){return k9a.r0B!=this._slice?this._slice:this.cube_.slice_;},set:function(d9o){this._slice=d9o;},enumerable:!k9a.N5B,configurable:!k9a.N5B});w9o.clone=function(A9o){var c9o=new w9o(A9o.cube_);c9o.allIndices=A9o.allIndices.slice(k9a.N5B);c9o.ids=A9o.ids.slice(k9a.N5B);c9o.tuples=A9o.tuples.slice(k9a.N5B);c9o.facts=A9o.facts.slice(k9a.N5B);c9o.levels=A9o.levels.slice(k9a.N5B);c9o.keys=A9o.keys.slice(k9a.N5B);c9o.factKeys=A9o.factKeys.slice(k9a.N5B);return c9o;};w9o.prototype.addKey=function(h9o,l9o){void k9a.N5B===l9o&&(l9o=k9a.o9B);if(-k9a.I5B!=this.keys.indexOf(h9o))return this.keys.indexOf(h9o);if(k9a.o9B==l9o)this.levels[this.keys.length]=[-k9a.I5B,this.keys.length];else{var M9o=this.keys.indexOf(l9o);this.levels[M9o]&&this.levels[M9o].push(this.keys.length);}this.keys.push(h9o);return this.keys.length-k9a.I5B;};w9o.prototype._addKey=function(V9o,H9o){void k9a.N5B===H9o&&(H9o=-k9a.I5B);if(-k9a.I5B!=this.keys.indexOf(V9o))return this.keys.indexOf(V9o);-k9a.I5B==H9o?this.levels[this.keys.length]=[-k9a.I5B,this.keys.length]:this.levels[H9o].push(this.keys.length);this.keys.push(V9o);return this.keys.length-k9a.I5B;};w9o.prototype.addFactKey=function(t9o,U9o,x9o){void k9a.N5B===U9o&&(U9o=k9a.r0B);void k9a.N5B===x9o&&(x9o=!k9a.I5B);this.calculatedKeys[this.factKeys.length]=U9o;this.individualKeys[this.factKeys.length]=x9o;this.factKeys.push(t9o);};w9o.prototype.updateFactKey=function(G9o,r9o,q9o){void k9a.N5B===r9o&&(r9o=k9a.r0B);void k9a.N5B===q9o&&(q9o=!k9a.I5B);G9o=this.factKeys.indexOf(G9o);k9a.N5B<=G9o&&(this.calculatedKeys[G9o]=r9o,this.individualKeys[G9o]=q9o);};w9o.prototype.removeFactKey=function(L9o){L9o=this.factKeys.indexOf(L9o);this.factKeys.splice(L9o,k9a.I5B);};w9o.prototype.delete_=function(N9o){var I9o=this.ids.indexOf(N9o);if(!utils.nullOrUndefined(N9o)&&-k9a.I5B<I9o)for(N9o=k9a.N5B;N9o<this.factKeys.length;N9o++)this.facts[I9o][N9o]=NaN,k9a.r0B==this.updates[N9o]&&(this.updates[N9o]=[]),this.updates[N9o][I9o]={difference:-this.facts[I9o][N9o],percent:-k9a.I5B};};w9o.prototype.update=function(F6o,J6o,i9o){var T6o=this.ids.indexOf(i9o);if(!utils.nullOrUndefined(i9o)&&-k9a.I5B<T6o){for(i9o=k9a.N5B;i9o<this.factKeys.length;i9o++)if(this.facts[T6o][i9o]!=J6o[i9o]){var C6o=J6o[i9o]-this.facts[T6o][i9o];isNaN(C6o)||(k9a.r0B==this.updates[i9o]&&(this.updates[i9o]=[]),this.updates[i9o][T6o]={difference:C6o,percent:C6o/this.facts[T6o][i9o]});}this.facts[T6o]=J6o;this.tuples[T6o]=F6o;}else{T6o=this.tuples.length;utils.nullOrUndefined(i9o)||(this.ids[T6o]=i9o);for(i9o=k9a.N5B;i9o<this.factKeys.length;i9o++)C6o=J6o[i9o],isNaN(C6o)||(k9a.r0B==this.updates[i9o]&&(this.updates[i9o]=[]),this.updates[i9o][T6o]={difference:C6o,percent:k9a.I5B});this.allIndices.push(T6o);this.tuples.push(F6o);this.facts.push(J6o);}};w9o.prototype.insert=function(Q6o,Z6o,u6o){-k9a.I5B<Q6o.indexOf(k9a.N5B)||(this.allIndices.push(this.tuples.length),utils.nullOrUndefined(u6o)||(this.ids[this.tuples.length]=u6o),this.tuples.push(Q6o),this.facts.push(Z6o));};w9o.prototype.insertChunk=function(P6o,O6o,y6o,j6o,k6o){for(var B6o=[],e6o=[],D6o=k9a.N5B;D6o<P6o.length;D6o++){if(-k9a.I5B==P6o[D6o][k9a.I5B])return;e6o[D6o]=P6o[D6o][k9a.I5B];B6o[this.levels[this.rowFields[D6o]][P6o[D6o][k9a.N5B]]]=e6o[D6o];}P6o=[];for(D6o=k9a.N5B;D6o<O6o.length;D6o++){if(-k9a.I5B==O6o[D6o][k9a.I5B])return;P6o[D6o]=O6o[D6o][k9a.I5B];B6o[this.levels[this.columnFields[D6o]][O6o[D6o][k9a.N5B]]]=P6o[D6o];}O6o=this.calculateIndex(e6o,P6o);e6o=this.tuples.length;void k9a.N5B!==this.values[O6o]?(e6o=this.findTuple(B6o),this.facts[e6o]=y6o):(this.allIndices.push(e6o),this.tuples.push(B6o),this.facts.push(y6o));k9a.N5B<j6o.length&&(B6o=k6o==p9o.consts.AxisName.ROWS_AXIS?this.getNode(j6o,this.rowResult):this.getNode(j6o,this.columnResult),-k9a.I5B==B6o[k9a.N5B][k9a.N5B].indexOf(e6o)&&B6o[k9a.N5B][k9a.N5B].push(e6o),this.cube_.queryType==p9o.consts.QueryType.DRILL_DOWN_TO&&(j6o=j6o.slice(k9a.N5B,-k9a.I5B),k6o=k6o==p9o.consts.AxisName.ROWS_AXIS?this.getNode(j6o,this.rowResult):this.getNode(j6o,this.columnResult),-k9a.I5B==k6o[k9a.N5B][k9a.N5B].indexOf(e6o)&&k6o[k9a.N5B][k9a.N5B].push(e6o)));this.values[O6o]=y6o;};w9o.prototype.findTuple=function(X6o){for(var b6o,g6o=k9a.N5B;g6o<this.tuples.length;g6o++)if(X6o.length==this.tuples[g6o].length){b6o=!k9a.N5B;for(var a6o=k9a.N5B;a6o<X6o.length;a6o++)if(X6o[a6o]!=this.tuples[g6o][a6o]){b6o=!k9a.I5B;break;}if(b6o)return g6o;}return this.tuples.length;};w9o.prototype.keyToMembers=function(R6o){var E7u=C3yy;var y5a=" + ";R6o=R6o.split(k9a.M6B);for(var S6o=R6o[k9a.N5B].split(k9a.P6B),E6o=S6o[k9a.N5B].split(E7u.y2B),v6o=S6o[k9a.I5B].split(E7u.y2B),f6o=this.slice_.rowsOnly,K6o=this.slice_.columnsOnly,S6o=k9a.o9B,m6o,s6o=[],z6o=k9a.N5B;z6o<f6o.length;z6o++)m6o=f6o.getItemAt(z6o),m6o=m6o.members.getItemAt(parseInt(E6o[z6o])),s6o.push(m6o.caption);S6o=s6o.join(E7u.y2B);s6o=[];for(z6o=k9a.N5B;z6o<K6o.length;z6o++)m6o=K6o.getItemAt(z6o),m6o=m6o.members.getItemAt(parseInt(v6o[z6o])),s6o.push(m6o.caption);S6o+=F3yy.E1R+s6o.join(E7u.y2B);R6o=this.slice_.measures_.getItemAt(parseInt(R6o[k9a.I5B]));return S6o+=y5a+R6o.caption;};w9o.prototype.timeCaption=function(Y6o){return Y6o&&k9a.N5B<Y6o.length&&F3yy.h3R!=Y6o?Y6o:W9o.model._labels.Labels.INVALID_DATE;};w9o.prototype.addStringMember=function(W6o,o6o,d6o,n6o){W6o=this.cube_.structure_.getDataField(W6o);var w6o=W6o.uniqueName+C3yy.g3J+o6o,p6o=W6o.findMember(w6o);k9a.r0B==p6o&&(p6o=new p9o._structure.GenericMember(w6o,o6o),W6o.addMember(p6o));d6o.push(p6o.ordinal);k9a.r0B==o6o||k9a.o9B==o6o?n6o.push(NaN):n6o.push(k9a.I5B);};w9o.prototype.addNumberMember=function(A6o,l6o,H6o,V6o){A6o=this.cube_.structure_.getDataField(A6o);var h6o=A6o.uniqueName+C3yy.g3J+l6o,c6o=A6o.findMember(h6o),M6o=utils.StringUtils.toNumber(l6o);k9a.r0B==c6o&&(c6o=new p9o._structure.GenericMember(h6o,l6o),A6o.addMember(c6o));c6o.levelOrdinal=M6o;H6o.push(c6o.ordinal);V6o.push(M6o);};w9o.prototype.validateDate=function(U6o){return k9a.r0B==U6o||k9a.q9B!==typeof U6o?k9a.o9B:U6o=U6o.trim();};w9o.prototype.addDateTimeMember=function(r6o,x6o,L6o,N6o){r6o=this.cube_.structure_.getDataField(r6o);var t6o;x6o instanceof Date?t6o=x6o.getTime():k9a.r9B==typeof x6o?t6o=x6o:(t6o=Date.parse(this.validateDate(x6o)),isNaN(t6o)&&(t6o=parseInt(x6o)));x6o=utils.StringUtils.toDateTime(t6o,this.dateTimePattern);var q6o=r6o.uniqueName+C3yy.g3J+x6o,G6o=r6o.findMember(q6o);k9a.r0B==G6o&&(G6o=new p9o._structure.GenericMember(q6o,x6o),G6o.levelOrdinal=t6o,r6o.addMember(G6o));L6o.push(G6o.ordinal);N6o.push(t6o);};w9o.prototype.addTimeMember=function(i6o,T4o,Q4o,u4o){i6o=this.cube_.structure_.getDataField(i6o);var C4o=parseFloat(T4o),J4o=isNaN(T4o)||k9a.o9B==T4o?k9a.o9B:utils.StringUtils.toTime(C4o),F4o=i6o.uniqueName+C3yy.g3J+J4o,I6o=i6o.findMember(F4o);k9a.r0B==I6o&&(I6o=new p9o._structure.GenericMember(F4o,J4o),I6o.levelOrdinal=T4o,i6o.addMember(I6o));Q4o.push(I6o.ordinal);u4o.push(C4o);};w9o.prototype.addDateStringMember=function(e4o,Z4o,O4o,j4o){e4o=this.cube_.structure_.getDataField(e4o);Z4o=Z4o instanceof Date?Z4o.getTime():k9a.r9B==typeof Z4o?Z4o:Date.parse(this.validateDate(Z4o));var P4o=utils.StringUtils.toDate(Z4o,this.datePattern),B4o=e4o.uniqueName+C3yy.g3J+P4o,D4o=e4o.findMember(B4o);k9a.r0B==D4o&&(D4o=new p9o._structure.GenericMember(B4o,P4o),D4o.levelOrdinal=Z4o,e4o.addMember(D4o));O4o.push(D4o.ordinal);j4o.push(Z4o);};w9o.prototype.addHierarchcalDateMember=function(g4o,X4o,f4o,v4o,S4o){var z7u=C3yy;g4o=this.cube_.structure_.getDataField(g4o);var y4o,k4o;y4o=X4o instanceof Date?X4o:k9a.r9B==typeof X4o?new Date(X4o):new Date(this.validateDate(X4o));var b4o=k9a.o9B,a4o=k9a.o9B,R4o=X4o=k9a.o9B,z4o=k9a.o9B,E4o=k9a.N5B,s4o=k9a.I5B;k9a.r0B!=y4o&&(z4o=Math.floor(y4o.getUTCMonth()/k9a.T1B),a4o=W9o.model._labels.Labels.QUARTER_LABELS[z4o],R4o=W9o.model._labels.Labels.MONTHS_LABELS[y4o.getUTCMonth()],z4o=y4o.getUTCDate().toString(),b4o=y4o.getUTCFullYear().toString(),E4o=y4o.getTime());y4o=g4o.levels_.getItemAt(s4o++);g4o=y4o.hierarchy;var m4o=g4o.uniqueName+z7u.g3J+b4o;k4o=g4o.findMember(m4o);k9a.r0B==k4o&&(k4o=new p9o._structure.GenericMember(m4o,this.timeCaption(b4o)),g4o.addMember(k4o,y4o.uniqueName));f4o.push(k4o.ordinal);var K4o;S4o&&(y4o=g4o.levels_.getItemAt(s4o++),K4o=y4o.uniqueName+z7u.g3J+b4o+z7u.l2B+a4o,k4o=g4o.findMember(K4o),k9a.r0B==k4o&&(k4o=new p9o._structure.GenericMember(K4o,this.timeCaption(a4o)),g4o.addMember(k4o,y4o.uniqueName,m4o)),f4o.push(k4o.ordinal),X4o=z7u.l2B+a4o);y4o=g4o.levels_.getItemAt(s4o++);a4o=y4o.uniqueName+z7u.g3J+b4o+X4o+z7u.l2B+R4o;k4o=g4o.findMember(a4o);k9a.r0B==k4o&&(k4o=new p9o._structure.GenericMember(a4o,this.timeCaption(R4o)),g4o.addMember(k4o,y4o.uniqueName,S4o?K4o:m4o));f4o.push(k4o.ordinal);y4o=g4o.levels_.getItemAt(s4o++);S4o=y4o.uniqueName+z7u.g3J+b4o+X4o+z7u.l2B+R4o+z7u.l2B+z4o;k4o=g4o.findMember(S4o);k9a.r0B==k4o&&(k4o=new p9o._structure.GenericMember(S4o,this.timeCaption(z4o)),k4o.levelOrdinal=E4o,g4o.addMember(k4o,y4o.uniqueName,a4o));f4o.push(k4o.ordinal);v4o.push(k9a.I5B);};w9o.prototype.addDateMember=function(w4o,W4o,d4o,c4o){var p4o=this.cube_.structure_.getDataField(w4o),Y4o,o4o=k9a.o9B,n4o=k9a.o9B;w4o=k9a.o9B;var l4o=k9a.N5B;try{Y4o=W4o instanceof Date?W4o:k9a.r9B==typeof W4o?new Date(W4o):new Date(this.validateDate(W4o));}catch(h4o){Y4o=k9a.r0B;}k9a.r0B!=Y4o&&(n4o=W9o.model._labels.Labels.MONTHS_LABELS[Y4o.getUTCMonth()],w4o=Y4o.getUTCDate().toString(),o4o=Y4o.getUTCFullYear().toString(),l4o=Y4o.getUTCDate());W4o=p4o.hierarchies.getItemAt(k9a.N5B);var A4o=W4o.uniqueName+C3yy.g3J+o4o;Y4o=W4o.findMember(A4o);k9a.r0B==Y4o&&(Y4o=new p9o._structure.GenericMember(A4o,this.timeCaption(o4o)),W4o.addMember(Y4o));d4o.push(Y4o.ordinal);c4o.push(k9a.I5B);W4o=p4o.hierarchies.getItemAt(k9a.I5B);o4o=W4o.uniqueName+C3yy.g3J+n4o;Y4o=W4o.findMember(o4o);k9a.r0B==Y4o&&(Y4o=new p9o._structure.GenericMember(o4o,this.timeCaption(n4o)),W4o.addMember(Y4o));d4o.push(Y4o.ordinal);c4o.push(k9a.I5B);W4o=p4o.hierarchies.getItemAt(k9a.i5B);p4o=W4o.uniqueName+C3yy.g3J+w4o;Y4o=W4o.findMember(p4o);k9a.r0B==Y4o&&(Y4o=new p9o._structure.GenericMember(p4o,this.timeCaption(w4o)),Y4o.levelOrdinal=l4o,W4o.addMember(Y4o));d4o.push(Y4o.ordinal);c4o.push(k9a.I5B);};w9o.prototype.addLevelsMember=function(M4o,x4o,t4o,r4o){if(k9a.o9B==x4o)t4o.push(k9a.r0B),r4o.push(k9a.r0B);else{M4o=this.cube_.structure_.getDataField(M4o);var H4o=M4o.uniqueName+C3yy.g3J+x4o,V4o,U4o;if(k9a.I5B<M4o.num){H4o=M4o.hierarchy.levels_.getItemAt(M4o.num-k9a.I5B);V4o=k9a.I5B==H4o.num?this.keys.indexOf(M4o.hierarchy.uniqueName):this.keys.indexOf(H4o.uniqueName);U4o=M4o.hierarchy.members.getItemAt(t4o[V4o]);if(k9a.r0B==U4o){var G4o=H4o.uniqueName+C3yy.g3J+W9o.model._labels.Labels.MEMBER_BLANK;U4o=M4o.hierarchy.findMember(G4o);k9a.r0B==U4o&&(U4o=new p9o._structure.GenericMember(G4o,W9o.model._labels.Labels.MEMBER_BLANK),H4o.hierarchy.addMember(U4o,H4o.uniqueName));t4o[V4o]=U4o.ordinal;}H4o=U4o.uniqueName+C3yy.g3J+x4o;}V4o=M4o.hierarchy.findMember(H4o);k9a.r0B==V4o&&(V4o=new p9o._structure.GenericMember(H4o,x4o),k9a.I5B==M4o.num?M4o.hierarchy.addMember(V4o,M4o.uniqueName):M4o.hierarchy.addMember(V4o,M4o.uniqueName,U4o.uniqueName));t4o.push(V4o.ordinal);r4o.push(k9a.I5B);}};w9o.prototype.addMember=function(q4o,L4o,i4o,N4o,I4o){switch(i4o){case p9o.types.DataFieldType.STRING:case p9o.types.DataFieldType.WEEKDAY:case p9o.types.DataFieldType.MONTH:this.addStringMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.NUMBER:this.addNumberMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.DATE:this.addDateMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.LEVEL:this.addLevelsMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.HIERARCHICAL_DATE:this.addHierarchcalDateMember(q4o,L4o,N4o,I4o,!k9a.I5B);break;case p9o.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchcalDateMember(q4o,L4o,N4o,I4o,!k9a.N5B);break;case p9o.types.DataFieldType.DATE_STRING:this.addDateStringMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.DATETIME:this.addDateTimeMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.TIME:this.addTimeMember(q4o,L4o,N4o,I4o);break;case p9o.types.DataFieldType.HIDDEN:break;default:this.addStringMember(q4o,L4o,N4o,I4o);}};w9o.prototype.insertObject=function(u2o,J2o){void k9a.N5B===J2o&&(J2o=!k9a.I5B);var F2o=[],Q2o=[],C2o=k9a.o9B,P2o=this.cube_.structure_.getDataKeys(),T2o,e2o,Z2o=!k9a.I5B;J2o&&(T2o=this.cube_.structure_.deleteId,Z2o=k9a.o9B!=T2o&&u2o.hasOwnProperty(T2o));for(var D2o=k9a.N5B;D2o<P2o.length;D2o++)T2o=P2o[D2o],e2o=this.cube_.structure_.getDataType(T2o),e2o==p9o.types.DataFieldType.ID?C2o=u2o[T2o]:u2o[T2o]instanceof Array||Z2o||this.addMember(T2o,u2o[T2o],e2o,F2o,Q2o);J2o?Z2o?this.delete_(C2o):this.update(F2o,Q2o,C2o):this.insert(F2o,Q2o,C2o);};w9o.prototype.insertArray=function(z2o,y2o){void k9a.N5B===y2o&&(y2o=!k9a.I5B);var g2o=this.cube_.structure_.getDataKeys(),O2o,b2o,a2o=[],X2o=[],k2o=k9a.o9B,j2o=!k9a.I5B;y2o&&(O2o=this.cube_.structure_.deleteId,k9a.o9B!=O2o&&(j2o=g2o.indexOf(O2o),j2o=!utils.nullOrUndefined(z2o[j2o])));for(var B2o=k9a.N5B;B2o<g2o.length;B2o++)O2o=g2o[B2o],b2o=this.cube_.structure_.getDataType(O2o),b2o==p9o.types.DataFieldType.ID?k2o=z2o[B2o]:j2o||this.addMember(O2o,z2o[B2o],b2o,a2o,X2o);y2o?j2o?this.delete_(k2o):this.update(a2o,X2o,k2o):this.insert(a2o,X2o,k2o);};w9o.prototype.filterIndices=function(m2o,E2o,v2o){for(var R2o=k9a.N5B;R2o<E2o.length;R2o++){for(var f2o=E2o[R2o],S2o=v2o[R2o],S2o=utils.nullOrUndefined(this.drilled[S2o])||utils.nullOrUndefined(this.drilled[S2o][f2o])?S2o:this.drilled[S2o][f2o],K2o=[],s2o=k9a.N5B;s2o<m2o.length;s2o++)this.tuples[m2o[s2o]][S2o]==f2o&&K2o.push(m2o[s2o]);m2o=K2o;}return m2o;};w9o.prototype.hierarchize=function(Y2o,w2o,p2o){var n2o=this.keys.indexOf(w2o.hierarchy_.uniqueName),d2o=p2o==p9o.consts.AxisName.ROWS_AXIS?this.getNode(Y2o,this.rowResult):this.getNode(Y2o,this.columnResult);k9a.I5B<Y2o.length?(Y2o=Y2o.slice(k9a.N5B,-k9a.I5B),p2o=(p2o==p9o.consts.AxisName.ROWS_AXIS?this.getNode(Y2o,this.rowResult):this.getNode(Y2o,this.columnResult))[k9a.N5B][k9a.N5B]):p2o=this.filtered;n2o=this.levels[n2o][w2o.level.num+k9a.I5B];for(Y2o=k9a.N5B;Y2o<w2o.children.length;Y2o++)for(var W2o=w2o.children.getItemAt(Y2o),W2o=this.filterIndices(p2o,[W2o.ordinal],[n2o]),o2o=k9a.N5B;o2o<W2o.length;o2o++)-k9a.I5B==d2o[k9a.N5B][k9a.N5B].indexOf(W2o[o2o])&&d2o[k9a.N5B][k9a.N5B].push(W2o[o2o]);};w9o.prototype.getDistinctCountColumn=function(l2o,H2o,V2o,h2o,M2o){if(k9a.N5B!=l2o.length){var A2o,c2o;for(A2o=k9a.N5B;A2o<l2o.length;A2o++)c2o=this.facts[l2o[A2o]][V2o],isNaN(c2o)||M2o[c2o]||(h2o.push(c2o),M2o[c2o]=!k9a.N5B);if(this.columnFields.length!=H2o.length)for(A2o=k9a.N5B;A2o<h2o.length;A2o++){c2o=H2o.slice(k9a.N5B);c2o.push(h2o[A2o]);var U2o=this.filterIndices(l2o,c2o,this.columnFields);this.getDistinctCountColumn(U2o,c2o,V2o,h2o,M2o);}}};w9o.prototype.getDistinctCountRec=function(r2o,N2o,I2o,i2o,T8o,C8o){if(k9a.N5B!=r2o.length)if(this.rowFields.length==N2o.length)this.getDistinctCountColumn(r2o,I2o,i2o,T8o,C8o);else{for(var q2o=[],t2o=[],L2o=this.rowFields[N2o.length],x2o=k9a.N5B;x2o<r2o.length;x2o++){var G2o=this.tuples[r2o[x2o]][L2o];t2o[G2o]||k9a.N5B==G2o||(q2o.push(G2o),t2o[G2o]=!k9a.N5B);}for(x2o=k9a.N5B;x2o<q2o.length;x2o++)t2o=N2o.slice(k9a.N5B),t2o.push(q2o[x2o]),L2o=this.filterIndices(r2o,t2o,this.rowFields),this.getDistinctCountRec(L2o,t2o,I2o,i2o,T8o,C8o);}};w9o.prototype.getDistinctCount=function(F8o,Q8o,u8o,Z8o){var J8o=[];this.getDistinctCountRec(F8o,Q8o,u8o,Z8o,J8o,[]);return J8o.length;};w9o.prototype.getDistinctMembersCount=function(P8o,k8o){if(k9a.N5B==P8o.length)return k9a.N5B;for(var D8o=this.cube_.structure_.measureToHierarchy(k8o.uniqueName),D8o=this.keys.indexOf(D8o.uniqueName),O8o=[],j8o=[],B8o,e8o=k9a.N5B;e8o<P8o.length;e8o++)B8o=this.tuples[P8o[e8o]][D8o],j8o[B8o]||(j8o[B8o]=!k9a.N5B,isNaN(this.facts[P8o[e8o]][D8o])||O8o.push(B8o));return O8o.length;};w9o.prototype.calculateFlat=function(a8o,X8o,y8o,g8o){return this.getCalculatedValue([],y8o,!k9a.I5B,g8o);};w9o.prototype.calculate=function(z8o,S8o,s8o,f8o){var m8o=this.getNode(z8o,this.rowResult),R8o=this.getNode(S8o,this.columnResult),b8o=[],b8o=z8o.length*R8o[k9a.N5B][k9a.N5B].length<S8o.length*m8o[k9a.N5B][k9a.N5B].length?this.filterIndices(R8o[k9a.N5B][k9a.N5B],z8o,this.rowFields):this.filterIndices(m8o[k9a.N5B][k9a.N5B],S8o,this.columnFields);return this.getCalculatedValue(b8o,s8o,!k9a.I5B,f8o);};w9o.prototype.saveFlat=function(E8o,Y8o,v8o,W8o,p8o){E8o=this.filtered[E8o[k9a.N5B]];Y8o=Y8o[k9a.N5B];p8o=[];var K8o=k9a.o9B;this.updates=[];this.updates[E8o]=[];this.values=[];this.updatesCache=[];k9a.r0B!=v8o&&(K8o=v8o.findMemberByCaption(W8o),k9a.r0B==K8o&&(k9a.I5B==this.countValue(Y8o,this.tuples[E8o][Y8o])?(K8o=v8o.members.getItemAt(this.tuples[E8o][Y8o]),K8o.caption=W8o):(K8o=v8o.uniqueName+C3yy.g3J+W8o,k9a.r0B!=v8o.findMember(K8o)&&(K8o=v8o.uniqueName+C3yy.g3J+utils.StringUtils.generateID()),K8o=new p9o._structure.GenericMember(K8o,W8o),v8o.addMember(K8o))),this.tuples[E8o][Y8o]=K8o.ordinal,K8o=k9a.r0B!=this.ids[E8o]?this.ids[E8o]:E8o,p8o.push({id:K8o,field:v8o.uniqueName,value:W8o}),v8o=parseFloat(W8o)-this.facts[E8o][Y8o],this.updates[E8o][Y8o]={difference:v8o,percent:v8o/this.facts[E8o][Y8o]},this.facts[E8o][Y8o]=parseFloat(W8o));};w9o.prototype.save=function(l8o,o8o,c8o,A8o,w8o){var n8o=this.getNode(l8o,this.rowResult),d8o=this.getNode(o8o,this.columnResult),h8o=[],h8o=l8o.length*d8o[k9a.N5B][k9a.N5B].length<o8o.length*n8o[k9a.N5B][k9a.N5B].length?this.filterIndices(d8o[k9a.N5B][k9a.N5B],l8o,this.rowFields):this.filterIndices(n8o[k9a.N5B][k9a.N5B],o8o,this.columnFields);w8o=h8o[w8o];l8o=[];o8o=k9a.o9B;o8o=this.cube_.structure_.hierarchyToMeasure(c8o.uniqueName);o8o=this.factKeys.indexOf(o8o.uniqueName);this.updates=[];this.updates[o8o]=[];n8o=parseFloat(A8o)-this.facts[w8o][o8o];this.updates[o8o][w8o]={difference:n8o,percent:n8o/this.facts[w8o][o8o]};this.facts[w8o][o8o]=parseFloat(A8o);this.values=[];this.updatesCache=[];k9a.r0B!=c8o&&(o8o=this.keys.indexOf(c8o.uniqueName),n8o=this.countValue(o8o,this.tuples[w8o][o8o]),d8o=c8o.findMemberByCaption(A8o),k9a.r0B==d8o&&(k9a.I5B==n8o?(d8o=c8o.members.getItemAt(this.tuples[w8o][o8o]),d8o.caption=A8o):(n8o=c8o.uniqueName+C3yy.g3J+A8o,k9a.r0B!=c8o.findMember(n8o)&&(n8o=c8o.uniqueName+C3yy.g3J+utils.StringUtils.generateID()),d8o=new p9o._structure.GenericMember(n8o,k9a.o9B+A8o),c8o.addMember(d8o))),d8o.levelOrdinal=A8o,this.tuples[w8o][o8o]=d8o.ordinal,o8o=k9a.r0B!=this.ids[w8o]?this.ids[w8o]:w8o,l8o.push({id:o8o,field:c8o.uniqueName,value:A8o}));};w9o.prototype.countValue=function(V8o,U8o){for(var H8o=k9a.N5B,M8o=k9a.N5B;M8o<this.tuples.length;M8o++)this.tuples[M8o][V8o]==U8o&&H8o++;return H8o;};w9o.prototype.drillThrough=function(x8o,t8o,G8o){this.factKeys.indexOf(G8o.uniqueName);var r8o=this.getNode(x8o,this.rowResult),q8o=this.getNode(t8o,this.columnResult);G8o=[];G8o=x8o.length*q8o[k9a.N5B][k9a.N5B].length<t8o.length*r8o[k9a.N5B][k9a.N5B].length?this.filterIndices(q8o[k9a.N5B][k9a.N5B],x8o,this.rowFields):this.filterIndices(r8o[k9a.N5B][k9a.N5B],t8o,this.columnFields);x8o=[];x8o.push(this.keys);for(t8o=k9a.N5B;t8o<G8o.length;t8o++)x8o.push(this.tuples[G8o[t8o]]);return x8o;};w9o.prototype.getUpdatedValue=function(N8o,I8o,L8o){N8o=this.calculateIndex(N8o,I8o);L8o=L8o.calculated?this.slice_.measures_.indexOf(L8o.uniqueName)+this.factKeys.length:this.factKeys.indexOf(L8o.uniqueName);return void k9a.N5B==this.updatesCache[N8o]?k9a.r0B:this.updatesCache[N8o][L8o];};w9o.prototype.getFlatUpdatedValue=function(i8o,C3L){if(C3L.calculated)return k9a.r0B;var T3L=this.factKeys.indexOf(C3L.uniqueName);return k9a.r0B==i8o?this.checkIfUpdated(this.filtered,T3L):void k9a.N5B==this.updatesCache[i8o]?k9a.r0B:this.updatesCache[i8o][T3L];};w9o.prototype.getRecordId=function(J3L,F3L,Q3L){return k9a.r0B==this.filtered[J3L]||k9a.r0B==this.tuples[this.filtered[J3L]]||k9a.o9B==this.cube_.structure_.id?k9a.r0B:this.ids[this.filtered[J3L]];};w9o.prototype.getFlatValue=function(u3L,e3L,Z3L,D3L){return k9a.r0B==this.filtered[u3L]||k9a.r0B==this.tuples[this.filtered[u3L]]?NaN:D3L?(Z3L.calculated||(D3L=this.factKeys.indexOf(Z3L.uniqueName),this.updates.length&&(k9a.r0B==this.updatesCache[u3L]&&(this.updatesCache[u3L]=[]),this.updatesCache[u3L][D3L]=this.checkIfUpdated([this.filtered[u3L]],D3L))),Z3L.calculated?this.getCalculatedValue([this.filtered[u3L]],Z3L.params,Z3L.individual):this.facts[this.filtered[u3L]][e3L]):this.tuples[this.filtered[u3L]][e3L];};w9o.prototype.getValue=function(y3L,g3L,P3L){var B3L=this.calculateIndex(y3L,g3L),O3L=P3L.calculated?this.slice_.measures_.indexOf(P3L.uniqueName)+this.factKeys.length:this.factKeys.indexOf(P3L.uniqueName);k9a.r0B==this.values[B3L]&&(this.values[B3L]=[]);if(k9a.r0B==this.values[B3L][O3L]){var k3L=this.getNode(y3L,this.rowResult),a3L=this.getNode(g3L,this.columnResult),j3L=[];if(k9a.r0B==k3L||k9a.r0B==k3L[k9a.N5B]||k9a.r0B==a3L||k9a.r0B==a3L[k9a.N5B])return NaN;k9a.N5B<a3L.length&&k9a.N5B<k3L.length&&y3L.length*a3L[k9a.N5B][k9a.N5B].length<g3L.length*k3L[k9a.N5B][k9a.N5B].length?j3L=this.filterIndices(a3L[k9a.N5B][k9a.N5B],y3L,this.rowFields):k9a.N5B<k3L.length&&(j3L=this.filterIndices(k3L[k9a.N5B][k9a.N5B],g3L,this.columnFields));this.values[B3L][O3L]=P3L.calculated?this.getCalculatedValue(j3L,P3L.params,P3L.individual,k9a.N5B,y3L,g3L):P3L.aggregation==p9o.consts.AggregationName.DISTINCT_COUNT?P3L.type==p9o.types.MeasureType.COUNT?this.getDistinctMembersCount(j3L,P3L):this.getDistinctCount(j3L,y3L,g3L,O3L):this._getValue(j3L,O3L,P3L.aggregation);k9a.N5B<this.updates.length&&(k9a.r0B==this.updatesCache[B3L]&&(this.updatesCache[B3L]=[]),this.updatesCache[B3L][O3L]=this.checkIfUpdated(j3L,O3L));}return this.values[B3L][O3L];};w9o.prototype.checkIfUpdated=function(b3L,z3L){if(void k9a.N5B==this.updates[z3L])return k9a.r0B;for(var m3L=!k9a.I5B,S3L={difference:k9a.N5B,percent:k9a.N5B},X3L=k9a.N5B;X3L<b3L.length;X3L++)this.updates[z3L][b3L[X3L]]&&k9a.N5B!=this.updates[z3L][b3L[X3L]].difference&&!isNaN(this.updates[z3L][b3L[X3L]].difference)&&(S3L.difference+=this.updates[z3L][b3L[X3L]].difference,S3L.percent+=this.updates[z3L][b3L[X3L]].percent,m3L=!k9a.N5B);return m3L?S3L:k9a.r0B;};w9o.prototype.isAggregated=function(s3L,f3L){var K3L=this.getNode(s3L,this.rowResult),E3L=this.getNode(f3L,this.columnResult),R3L=[],R3L=s3L.length*E3L[k9a.N5B][k9a.N5B].length<f3L.length*K3L[k9a.N5B][k9a.N5B].length?this.filterIndices(E3L[k9a.N5B][k9a.N5B],s3L,this.rowFields):this.filterIndices(K3L[k9a.N5B][k9a.N5B],f3L,this.columnFields);return k9a.I5B<R3L.length?!k9a.N5B:!k9a.I5B;};w9o.prototype.filter=function(){this.columnResult=[];this.rowResult=[];this.values=[];this.drilled=[];this.updatesCache=[];var p3L=W9o.model._options.OptionsManager.flatView,o3L=this.slice_.allHierarchies(!k9a.I5B,!k9a.N5B,p3L),w3L=new utils.AssociativeArray(),W3L=new utils.AssociativeArray(),Y3L,v3L;for(Y3L=k9a.N5B;Y3L<o3L.length;Y3L++)(v3L=o3L.getItemAt(Y3L))&&(v3L.filterType==p9o.consts.FilterType.NONE?w3L.addItem(v3L.uniqueName,v3L):this.slice_.measures_.keyExists(v3L.filterMeasureName)&&W3L.addItem(v3L.uniqueName,v3L));this._filter(w3L,this.allIndices);for(Y3L=k9a.N5B;Y3L<W3L.length;Y3L++)v3L=W3L.getItemAt(Y3L),p3L?this.applyFlatTopXFilter(v3L):this.applyTopXFilter(v3L);this._filter(W3L,this.filtered);};w9o.prototype._filter=function(U3L,M3L){var c3L,V3L=[];c3L=[];for(var h3L=k9a.N5B;h3L<U3L.length;h3L++){var l3L=U3L.getItemAt(h3L),d3L=this.keys.indexOf(l3L.uniqueName);if(l3L.hasFilter()){V3L.push(d3L);c3L.push(l3L.filterByLevel(k9a.I5B).length/l3L.allMember.children.length);this.filters[d3L]=[];this.subfilters[d3L]=[];for(var A3L=k9a.N5B;A3L<l3L.filter.length;A3L++){var n3L=l3L.filter.getItemAt(A3L);k9a.I5B==n3L.level.num?this.filters[d3L][n3L.ordinal]=!k9a.N5B:(k9a.r0B==this.subfilters[d3L][n3L.root.ordinal]&&(this.subfilters[d3L][n3L.root.ordinal]=[]),k9a.r0B==this.subfilters[d3L][n3L.root.ordinal][n3L.level.num]&&(this.subfilters[d3L][n3L.root.ordinal][n3L.level.num]=[]),this.subfilters[d3L][n3L.root.ordinal][n3L.level.num][n3L.ordinal]=!k9a.N5B);}}}l3L=utils.ArrayUtils.sort(c3L,utils.ArrayUtils.RETURNINDEXEDARRAY);if(k9a.N5B<V3L.length)for(h3L=k9a.N5B;h3L<V3L.length;h3L++){c3L=V3L[l3L[h3L]];d3L=[];for(A3L=k9a.N5B;A3L<M3L.length;A3L++)if(n3L=this.tuples[M3L[A3L]][this.levels[c3L][k9a.I5B]],k9a.r0B!=this.filters[c3L][n3L])d3L.push(M3L[A3L]);else if(k9a.r0B!=this.subfilters[c3L][n3L])for(var H3L=k9a.i5B;H3L<this.levels[c3L].length;H3L++)if(k9a.r0B!=this.subfilters[c3L][n3L][H3L]&&k9a.r0B!=this.subfilters[c3L][n3L][H3L][this.tuples[M3L[A3L]][this.levels[c3L][H3L]]]){d3L.push(M3L[A3L]);break;}M3L=d3L;}this.filtered=M3L;};w9o.prototype.select=function(r3L){void k9a.N5B===r3L&&(r3L=!k9a.N5B);var x3L,t3L,G3L;this.pageFields=[];this.rowFields=[];this.columnFields=[];this.sizes=[];this.drilled=[];this.factIndices=[];this.pageAxis=this.slice_.axes.getItem(p9o.consts.AxisName.PAGES_AXIS);this.rowAxis=this.slice_.axes.getItem(p9o.consts.AxisName.ROWS_AXIS);this.columnAxis=this.slice_.axes.getItem(p9o.consts.AxisName.COLUMNS_AXIS);for(x3L=k9a.N5B;x3L<this.rowAxis.hierarchies.length;x3L++)G3L=this.rowAxis.hierarchies.getItemAt(x3L),G3L.isMeasures||(t3L=this.keys.indexOf(G3L.uniqueName),this.rowFields.push(t3L),this.sizes.push(G3L.quantity),this.drilled[t3L]=[]);this.rowCount=this.rowFields.length;for(x3L=k9a.N5B;x3L<this.columnAxis.hierarchies.length;x3L++)G3L=this.columnAxis.hierarchies.getItemAt(x3L),G3L.isMeasures||(t3L=this.keys.indexOf(G3L.uniqueName),this.columnFields.push(t3L),this.sizes.push(G3L.quantity),this.drilled[t3L]=[]);this.columnCount=this.columnFields.length;if(r3L)for(x3L=k9a.N5B;x3L<this.pageAxis.hierarchies.length;x3L++)G3L=this.pageAxis.hierarchies.getItemAt(x3L),t3L=this.keys.indexOf(G3L.uniqueName),this.pageFields.push(t3L);else this.filtered=this.allIndices;for(x3L=k9a.N5B;x3L<this.slice_.measures_.length;x3L++)r3L=this.slice_.measures_.getItemAt(x3L),t3L=this.factKeys.indexOf(r3L.uniqueName),this.factIndices.push(t3L);};w9o.prototype.applyFlatTopXFilter=function(N3L){if(N3L.hasValuesFilter()){var q3L=this.cube_.structure_.measures_.getItem(N3L.filterMeasureName);if(k9a.r0B!=q3L){for(var i3L=[],C7L=[],I3L=this.factKeys.indexOf(q3L.uniqueName),L3L=k9a.N5B;L3L<this.filtered.length;L3L++)i3L.push(this.getFlatValue(L3L,I3L,q3L,!k9a.N5B)),C7L.push(this.getFlatValue(L3L,I3L,q3L,!k9a.I5B));q3L=N3L.filterType==p9o.consts.FilterType.BOTTOM?utils.ArrayUtils.sort(i3L,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(i3L,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);q3L.length=Math.min(N3L.filterQuantity,q3L.length);i3L=N3L.hasMembersFilter()?N3L.filterMembers:N3L.members;I3L=new utils.AssociativeArray();for(L3L=k9a.N5B;L3L<q3L.length;L3L++){var T7L=i3L.getItemAt(C7L[q3L[L3L]]);k9a.r0B!=T7L&&!k9a.I5B==I3L.keyExists(T7L.uniqueName)&&I3L.addItem(T7L.uniqueName,T7L);}N3L.filter=I3L;}}};w9o.prototype.applyTopXFilter=function(Z7L){if(Z7L.hasValuesFilter()){var e7L=this.slice_.measures_.getItem(Z7L.filterMeasureName);if(k9a.r0B!=e7L){var P7L=[],B7L=[],F7L=[],J7L=this.keys.indexOf(Z7L.uniqueName);if(this.drilled[J7L])for(var Q7L in this.drilled[J7L])F7L.push(this.drilled[J7L][Q7L]);else F7L=[J7L];Q7L=[];for(J7L=k9a.N5B;J7L<F7L.length;J7L++)for(var u7L=k9a.N5B;u7L<this.filtered.length;u7L++){var D7L=this.tuples[this.filtered[u7L]][F7L[J7L]];k9a.r0B==Q7L[D7L]&&(Q7L[D7L]=[]);Q7L[D7L].push(this.filtered[u7L]);}for(var u7L=this.factKeys.indexOf(e7L.uniqueName),D7L=Z7L.hasMembersFilter()?Z7L.filterMembers:Z7L.members,O7L,j7L=e7L.calculated,J7L=k9a.N5B;J7L<D7L.length;J7L++)F7L=D7L.getItemAt(J7L),F7L.isAll||(O7L=j7L?this.getCalculatedValue(Q7L[F7L.ordinal],this.calculatedKeys[u7L],this.individualKeys[u7L]):this._getValue(Q7L[F7L.ordinal],u7L,e7L.aggregation),isNaN(O7L)&&(O7L=Number.MIN_VALUE),P7L.push(O7L),B7L.push(F7L));e7L=Z7L.filterType==p9o.consts.FilterType.BOTTOM?utils.ArrayUtils.sort(P7L,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(P7L,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);P7L=new utils.AssociativeArray();Q7L=Math.min(Z7L.filterQuantity,B7L.length);for(J7L=k9a.N5B;J7L<Q7L;J7L++)F7L=B7L[e7L[J7L]],P7L.addItem(F7L.uniqueName,F7L);Z7L.filter=P7L;}}};w9o.prototype._drillAll=function(y7L,k7L,b7L,z7L){try{if(k9a.N5B==k7L.children.length||k9a.I5B==k7L.children.length&&(k7L.children.getItemAt(k9a.N5B).caption==W9o.model._labels.Labels.MEMBER_BLANK||k7L.children.getItemAt(k9a.N5B).caption==W9o.model._labels.Labels.INVALID_DATE))return;this.hierarchize(y7L,k7L,z7L);this.drillDown(y7L,k7L,z7L,k9a.r0B);}catch(R7L){}for(var m7L=this.getNode(y7L,this.rowResult),a7L=k9a.N5B;a7L<k7L.children.length;a7L++){var g7L=k7L.children.getItemAt(a7L);try{if(g7L.isLeaf){this._expand(m7L,this.rowFields[b7L],k9a.r0B);var X7L=y7L.slice(k9a.N5B);X7L[X7L.length-k9a.I5B]=g7L.ordinal;this._expandRows(X7L,b7L+k9a.I5B,!k9a.N5B);}else{var S7L=y7L.slice(k9a.N5B,-k9a.I5B);S7L.push(g7L.ordinal);this._drillAll(S7L,g7L,b7L,z7L);}}catch(s7L){}}};w9o.prototype.expandAll=function(f7L){k9a.N5B==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],k9a.r0B,k9a.r0B]]);k9a.N5B==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],k9a.r0B,k9a.r0B]]);this._expandColumns([],k9a.N5B,f7L);this._expandRows([],k9a.N5B,f7L);};function w9o(n9o){this.tuples=[];this.facts=[];this.allIndices=[];this.filtered=[];this.rowResult=[];this.columnResult=[];this.keys=[];this.levels=[];this.drilled=[];this.factKeys=[];this.calculatedKeys=[];this.individualKeys=[];this.ids=[];this.pageFields=[];this.columnFields=[];this.rowFields=[];this.sizes=[];this.filters=[];this.subfilters=[];this.factIndices=[];this.values=[];this.updates=[];this.updatesCache=[];this.datePattern=C3yy.D3J;this.dateTimePattern=C3yy.e3J;this._grandTotals=[];this.productIdx=k9a.N5B;this.cube_=n9o;}w9o.prototype._expandRows=function(p7L,W7L,Y7L){if(k9a.r0B!=this.rowFields[W7L]){var E7L=this.rowFields[W7L],K7L=this.getNode(p7L,this.rowResult),v7L=[],o7L;this._expand(K7L,E7L,k9a.r0B);Y7L&&(o7L=this.rowAxis.hierarchies.getItem(this.keys[E7L]));if(Y7L&&o7L.isHierarchy)for(v7L=o7L.allMember.children,K7L=k9a.N5B;K7L<v7L.length;K7L++)Y7L=v7L.getItemAt(K7L),E7L=p7L.slice(k9a.N5B),E7L.push(Y7L.ordinal),this._drillAll(E7L,Y7L,W7L,p9o.consts.AxisName.ROWS_AXIS);else for(v7L=K7L[k9a.N5B][k9a.I5B],K7L=k9a.N5B;K7L<v7L.length;K7L++)E7L=p7L.slice(k9a.N5B),E7L.push(v7L[K7L]),this._expandRows(E7L,W7L+k9a.I5B,Y7L);}};w9o.prototype._expandColumns=function(h7L,c7L,d7L){if(k9a.r0B!=this.columnFields[c7L]){var w7L=this.columnFields[c7L],n7L=this.getNode(h7L,this.columnResult),A7L=[],l7L;this._expand(n7L,w7L,k9a.r0B);d7L&&(l7L=this.columnAxis.hierarchies.getItem(this.keys[w7L]));if(d7L&&l7L.isHierarchy)for(w7L=k9a.N5B;w7L<l7L.allMember.children.length;w7L++)d7L=l7L.allMember.children.getItemAt(w7L),n7L=h7L.slice(k9a.N5B),n7L.push(d7L.ordinal),this._drillAll(n7L,d7L,c7L,p9o.consts.AxisName.COLUMNS_AXIS);else for(A7L=n7L[k9a.N5B][k9a.I5B],w7L=k9a.N5B;w7L<A7L.length;w7L++)n7L=h7L.slice(k9a.N5B),n7L.push(A7L[w7L]),this._expandColumns(n7L,c7L+k9a.I5B,d7L);}};w9o.prototype.drillDownTo=function(V7L,M7L,x7L,G7L){try{if(k9a.N5B!=M7L.children.length&&(k9a.I5B!=M7L.children.length||M7L.children.getItemAt(k9a.N5B).caption!=W9o.model._labels.Labels.MEMBER_BLANK&&M7L.children.getItemAt(k9a.N5B).caption!=W9o.model._labels.Labels.INVALID_DATE)){this.hierarchize(V7L,M7L,x7L);this.drillDown(V7L,M7L,x7L,k9a.r0B);this.getNode(V7L,this.rowResult);for(var U7L=k9a.N5B;U7L<M7L.children.length;U7L++){var H7L=M7L.children.getItemAt(U7L);if(!H7L.isLeaf&&H7L.level.uniqueName!=G7L){var t7L=V7L.slice(k9a.N5B,-k9a.I5B);t7L.push(H7L.ordinal);this.drillDownTo(t7L,H7L,x7L,G7L);}}}}catch(r7L){}};w9o.prototype.expand=function(L7L,N7L,q7L){k9a.N5B==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],k9a.r0B,k9a.r0B]]);k9a.N5B==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],k9a.r0B,k9a.r0B]]);k9a.I5B==this.factIndices.length&&(q7L=k9a.r0B);N7L==p9o.consts.AxisName.ROWS_AXIS&&this.expandRow(L7L,q7L);N7L==p9o.consts.AxisName.COLUMNS_AXIS&&this.expandColumn(L7L,q7L);};w9o.prototype.expandRow=function(i7L,T5L){var I7L=this.getNode(i7L,this.rowResult);k9a.r0B!=I7L&&this._expand(I7L,this.rowFields[i7L.length],T5L);};w9o.prototype.expandColumn=function(J5L,F5L){var C5L=this.getNode(J5L,this.columnResult);k9a.r0B!=C5L&&this._expand(C5L,this.columnFields[J5L.length],F5L);};w9o.prototype._expand=function(Q5L,e5L,P5L){if(k9a.r0B!=Q5L){var Z5L=Q5L[k9a.N5B][k9a.N5B],u5L;if(k9a.N5B<Z5L.length&&!isNaN(e5L))for(var D5L=k9a.N5B;D5L<Z5L.length;D5L++)u5L=this.tuples[Z5L[D5L]][this.levels[e5L][k9a.I5B]],k9a.N5B!=u5L&&void k9a.N5B!=u5L&&(k9a.r0B==Q5L[u5L]?(Q5L[u5L]=[[[Z5L[D5L]],[],[],k9a.r0B,k9a.r0B,!k9a.I5B]],Q5L[k9a.N5B][k9a.I5B].push(u5L)):Q5L[k9a.N5B][k9a.J1B]||Q5L[u5L][k9a.N5B][k9a.N5B].push(Z5L[D5L]));k9a.r0B==Q5L[k9a.N5B][k9a.T1B]&&(Q5L[k9a.N5B][k9a.T1B]=[]);k9a.r0B==P5L?Q5L[k9a.N5B][k9a.T1B][this.factKeys.length]=!k9a.N5B:Q5L[k9a.N5B][k9a.T1B][this.factKeys.indexOf(P5L.uniqueName)]=!k9a.N5B;Q5L[k9a.N5B][k9a.J1B]=!k9a.N5B;}};w9o.prototype.collapse=function(O5L,j5L,B5L){k9a.N5B==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],k9a.r0B,k9a.r0B]]);k9a.N5B==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],k9a.r0B,k9a.r0B]]);k9a.I5B==this.factIndices.length&&(B5L=k9a.r0B);j5L==p9o.consts.AxisName.ROWS_AXIS&&this.collapseRow(O5L,B5L);j5L==p9o.consts.AxisName.COLUMNS_AXIS&&this.collapseColumn(O5L,B5L);};w9o.prototype.collapseRow=function(y5L,g5L){var k5L=this.getNode(y5L,this.rowResult);this._collapse(k5L,g5L);};w9o.prototype.collapseColumn=function(X5L,b5L){var a5L=this.getNode(X5L,this.columnResult);this._collapse(a5L,b5L);};w9o.prototype._collapse=function(z5L,S5L){k9a.r0B!=z5L&&(k9a.r0B==z5L[k9a.N5B][k9a.T1B]&&(z5L[k9a.N5B][k9a.T1B]=[]),k9a.r0B!=S5L?z5L[k9a.N5B][k9a.T1B][this.factKeys.indexOf(S5L.uniqueName)]=!k9a.I5B:z5L[k9a.N5B][k9a.T1B][this.factKeys.length]=!k9a.I5B);};w9o.prototype.drillDown=function(s5L,m5L,f5L,R5L){k9a.N5B!=m5L.children.length&&(k9a.I5B==this.factIndices.length&&(R5L=k9a.r0B),f5L==p9o.consts.AxisName.ROWS_AXIS&&this.drillDownRow(s5L,m5L,R5L),f5L==p9o.consts.AxisName.COLUMNS_AXIS&&this.drillDownColumn(s5L,m5L,R5L));};w9o.prototype.drillDownRow=function(E5L,Y5L,W5L){var v5L=this.getNode(E5L,this.rowResult),K5L=E5L.slice(k9a.N5B,-k9a.I5B);E5L=this.getNode(K5L,this.rowResult);K5L=this.rowFields[K5L.length];this._drillDown(E5L,v5L,K5L,this.levels[K5L][Y5L.level.num+k9a.I5B],W5L);};w9o.prototype.drillDownColumn=function(o5L,n5L,d5L){var w5L=this.getNode(o5L,this.columnResult),p5L=o5L.slice(k9a.N5B,-k9a.I5B);o5L=this.getNode(p5L,this.columnResult);p5L=this.columnFields[p5L.length];this._drillDown(o5L,w5L,p5L,this.levels[p5L][n5L.level.num+k9a.I5B],d5L);};w9o.prototype._drillDown=function(M5L,h5L,U5L,H5L,V5L){var A5L=h5L[k9a.N5B][k9a.N5B],c5L;if(k9a.N5B<A5L.length&&!isNaN(H5L))for(var l5L=k9a.N5B;l5L<A5L.length;l5L++)c5L=this.tuples[A5L[l5L]][H5L],k9a.N5B!=c5L&&void k9a.N5B!=c5L&&(k9a.r0B==M5L[c5L]?(M5L[c5L]=[[[A5L[l5L]],[],[],k9a.r0B,k9a.r0B]],h5L[k9a.N5B][k9a.i5B].push(c5L),this.drilled[U5L][c5L]=H5L):-k9a.I5B==M5L[c5L][k9a.N5B][k9a.N5B].indexOf(A5L[l5L])&&M5L[c5L][k9a.N5B][k9a.N5B].push(A5L[l5L]));k9a.r0B==h5L[k9a.N5B][k9a.C1B]&&(h5L[k9a.N5B][k9a.C1B]=[]);k9a.r0B==V5L?h5L[k9a.N5B][k9a.C1B][this.factKeys.length]=!k9a.N5B:h5L[k9a.N5B][k9a.C1B][this.factKeys.indexOf(V5L.uniqueName)]=!k9a.N5B;};w9o.prototype.isRowDrilledDown=function(t5L,G5L,x5L){void k9a.N5B===x5L&&(x5L=k9a.r0B);G5L=this.factKeys.length;k9a.r0B!=x5L&&(G5L=k9a.r9B==typeof x5L?-k9a.I5B==x5L?-k9a.I5B:this.factIndices[x5L]:this.factKeys.indexOf(x5L.uniqueName));-k9a.I5B==G5L&&(G5L=this.factKeys.length);t5L=this.getNode(t5L,this.rowResult);return k9a.r0B!=t5L&&k9a.r0B!=t5L[k9a.N5B][k9a.C1B]&&(t5L[k9a.N5B][k9a.C1B][G5L]||t5L[k9a.N5B][k9a.C1B][this.factKeys.length]);};w9o.prototype.isColumnDrilledDown=function(q5L,L5L,r5L){void k9a.N5B===r5L&&(r5L=k9a.r0B);L5L=this.factKeys.length;k9a.r0B!=r5L&&(L5L=k9a.r9B==typeof r5L?-k9a.I5B==r5L?-k9a.I5B:this.factIndices[r5L]:this.factKeys.indexOf(r5L.uniqueName));-k9a.I5B==L5L&&(L5L=this.factKeys.length);q5L=this.getNode(q5L,this.columnResult);return k9a.r0B!=q5L&&k9a.r0B!=q5L[k9a.N5B][k9a.C1B]&&(q5L[k9a.N5B][k9a.C1B][L5L]||q5L[k9a.N5B][k9a.C1B][this.factKeys.length]);};w9o.prototype.drillUp=function(I5L,i5L,T1L,N5L){k9a.I5B==this.factIndices.length&&(N5L=k9a.r0B);T1L==p9o.consts.AxisName.ROWS_AXIS&&this.drillUpRow(I5L,i5L,N5L);T1L==p9o.consts.AxisName.COLUMNS_AXIS&&this.drillUpColumn(I5L,i5L,N5L);};w9o.prototype.drillUpRow=function(C1L,J1L,F1L){J1L=this.getNode(C1L,this.rowResult);C1L=C1L.slice(k9a.N5B,-k9a.I5B);C1L=this.getNode(C1L,this.rowResult);this._drillUp(C1L,J1L,F1L);};w9o.prototype.drillUpColumn=function(Q1L,u1L,Z1L){u1L=this.getNode(Q1L,this.columnResult);Q1L=Q1L.slice(k9a.N5B,-k9a.I5B);Q1L=this.getNode(Q1L,this.columnResult);this._drillUp(Q1L,u1L,Z1L);};w9o.prototype._drillUp=function(D1L,e1L,j1L){var P1L=e1L[k9a.N5B][k9a.i5B],B1L;if(k9a.N5B<P1L.length)for(var O1L=k9a.N5B;O1L<P1L.length;O1L++)B1L=P1L[O1L],k9a.r0B!=D1L[B1L][k9a.N5B][k9a.C1B]&&this._drillUp(D1L,D1L[B1L],j1L),D1L[B1L]=k9a.r0B;e1L[k9a.N5B][k9a.i5B]=[];e1L[k9a.N5B][k9a.C1B][this.factKeys.length]=!k9a.I5B;k9a.r0B!=j1L&&(e1L[k9a.N5B][k9a.C1B][this.factKeys.indexOf(j1L.uniqueName)]=!k9a.I5B);};w9o.prototype.getNode=function(g1L,a1L){for(var k1L=a1L,y1L=k9a.N5B;y1L<g1L.length;y1L++){if(k9a.r0B==k1L)return k9a.r0B;k1L=k1L[g1L[y1L]];}return k1L;};Object.defineProperty(w9o.prototype,g5a,{get:function(){return[this.rowResult,this.columnResult];},set:function(X1L){},enumerable:!k9a.N5B,configurable:!k9a.N5B});w9o.prototype.isRowExpanded=function(m1L,b1L){void k9a.N5B===b1L&&(b1L=k9a.r0B);if(k9a.N5B==m1L.length)return!k9a.N5B;var S1L=-k9a.I5B;k9a.r0B!=b1L&&(S1L=k9a.r9B==typeof b1L?-k9a.I5B==b1L?-k9a.I5B:this.factIndices[b1L]:this.factKeys.indexOf(b1L.uniqueName));var z1L=this.getNode(m1L,this.rowResult);return k9a.r0B==z1L||k9a.r0B==z1L[k9a.N5B][k9a.T1B]?!k9a.I5B:-k9a.I5B==S1L||void k9a.N5B==z1L[k9a.N5B][k9a.T1B][S1L]?z1L[k9a.N5B][k9a.T1B][this.factKeys.length]:z1L[k9a.N5B][k9a.T1B][S1L];};w9o.prototype.isColumnExpanded=function(K1L,R1L){void k9a.N5B===R1L&&(R1L=k9a.r0B);if(k9a.N5B==K1L.length)return!k9a.N5B;var f1L=-k9a.I5B;k9a.r0B!=R1L&&(f1L=k9a.r9B==typeof R1L?this.factIndices[R1L]:this.factKeys.indexOf(R1L.uniqueName));var s1L=this.getNode(K1L,this.columnResult);return k9a.r0B==s1L||k9a.r0B==s1L[k9a.N5B][k9a.T1B]?!k9a.I5B:-k9a.I5B==f1L||void k9a.N5B==s1L[k9a.N5B][k9a.T1B][f1L]?s1L[k9a.N5B][k9a.T1B][this.factKeys.length]:s1L[k9a.N5B][k9a.T1B][f1L];};w9o.prototype.getSum=function(p1L,o1L){for(var v1L=k9a.N5B,Y1L=!k9a.N5B,E1L=k9a.N5B;E1L<p1L.length;E1L++){var W1L=this.facts[p1L[E1L]][o1L];isNaN(W1L)||(v1L+=W1L,Y1L=!k9a.I5B);}return Y1L?NaN:v1L;};w9o.prototype.getCount=function(d1L,c1L){for(var n1L=k9a.N5B,w1L=k9a.N5B;w1L<d1L.length;w1L++)isNaN(this.facts[d1L[w1L]][c1L])||n1L++;return n1L;};w9o.prototype.getMin=function(H1L,V1L){for(var A1L=Number.MAX_VALUE,M1L=!k9a.N5B,l1L=k9a.N5B;l1L<H1L.length;l1L++){var h1L=this.facts[H1L[l1L]][V1L];isNaN(h1L)||(h1L<A1L&&(A1L=h1L),M1L=!k9a.I5B);}return M1L?NaN:A1L;};w9o.prototype.getMax=function(r1L,q1L){for(var U1L=Number.MIN_VALUE,G1L=!k9a.N5B,x1L=k9a.N5B;x1L<r1L.length;x1L++){var t1L=this.facts[r1L[x1L]][q1L];isNaN(t1L)||(t1L>U1L&&(U1L=t1L),G1L=!k9a.I5B);}return G1L?NaN:U1L;};w9o.prototype.getProduct=function(T0L,C0L){for(var N1L=k9a.I5B,I1L=!k9a.N5B,L1L=k9a.N5B;L1L<T0L.length;L1L++){var i1L=this.facts[T0L[L1L]][C0L];isNaN(i1L)||(N1L*=i1L,I1L=!k9a.I5B);}return I1L?NaN:N1L;};w9o.prototype.getAverage=function(Z0L,D0L){for(var Q0L=k9a.N5B,J0L=k9a.N5B,F0L=k9a.N5B;F0L<Z0L.length;F0L++){var u0L=this.facts[Z0L[F0L]][D0L];isNaN(u0L)||(Q0L+=u0L,J0L++);}return k9a.N5B==J0L?k9a.N5B:Q0L/J0L;};w9o.prototype.getMedian=function(O0L,j0L){for(var e0L=[],P0L=k9a.N5B;P0L<O0L.length;P0L++){var B0L=this.facts[O0L[P0L]][j0L];isNaN(B0L)||e0L.push(B0L);}if(k9a.N5B==e0L.length)return NaN;utils.ArrayUtils.sort(e0L,utils.ArrayUtils.NUMERIC);if(k9a.I5B==e0L.length%k9a.i5B)return e0L[Math.floor(e0L.length/k9a.i5B)];P0L=e0L.length/k9a.i5B;return(e0L[P0L]+e0L[P0L-k9a.I5B])/k9a.i5B;};w9o.prototype.getDeviationSumAndCount=function(y0L,b0L){for(var z0L=this.getAverage(y0L,b0L),g0L=k9a.N5B,a0L=k9a.N5B,k0L=k9a.N5B;k0L<y0L.length;k0L++){var X0L=this.facts[y0L[k0L]][b0L];isNaN(X0L)||(g0L+=Math.pow(X0L-z0L,k9a.i5B),a0L++);}return{diffs:g0L,count:a0L};};w9o.prototype.getStDevP=function(m0L,R0L){var S0L=this.getDeviationSumAndCount(m0L,R0L);return k9a.N5B==S0L.count?k9a.N5B:Math.sqrt(S0L.diffs/S0L.count);};w9o.prototype.getStDevS=function(f0L,K0L){var s0L=this.getDeviationSumAndCount(f0L,K0L);return k9a.I5B>=s0L.count?k9a.N5B:Math.sqrt(s0L.diffs/(s0L.count-k9a.I5B));};w9o.prototype.getPercent=function(v0L,E0L){k9a.r0B==this._grandTotals[E0L]&&(this._grandTotals[E0L]=this.getSum(this.filtered,E0L));return Math.abs(k9a.F0B*this.getSum(v0L,E0L)/this._grandTotals[E0L]);};w9o.prototype.getPercentColumn=function(p0L,W0L,Y0L){Y0L=this.getNode(Y0L,this.columnResult);return k9a.F0B*this.getSum(p0L,W0L)/this.getSum(Y0L[k9a.N5B][k9a.N5B],W0L);};w9o.prototype.getPercentRow=function(n0L,w0L,o0L){o0L=this.getNode(o0L,this.rowResult);return k9a.F0B*this.getSum(n0L,w0L)/this.getSum(o0L[k9a.N5B][k9a.N5B],w0L);};w9o.prototype.getIndex=function(l0L,d0L,c0L,A0L){k9a.r0B==this._grandTotals[d0L]&&(this._grandTotals[d0L]=this.getSum(this.filtered,d0L));c0L=this.getNode(c0L,this.rowResult);A0L=this.getNode(A0L,this.columnResult);return Math.abs(this._grandTotals[d0L]*this.getSum(l0L,d0L)/(this.getSum(c0L[k9a.N5B][k9a.N5B],d0L)*this.getSum(A0L[k9a.N5B][k9a.N5B],d0L)));};w9o.prototype.getDifference=function(h0L,M0L,H0L){return p9o.dataprovider_.DataProviderFactory.getDataProvider().getValue(h0L,M0L,H0L);};w9o.prototype.getRunningTotals=function(q0L,r0L,G0L,t0L){var x0L=G0L.calculated?this._slice.measuresAll.indexOf(G0L.uniqueName)+this.factKeys.length:this.factKeys.indexOf(G0L.uniqueName);k9a.r0B==this.values[x0L]&&(this.values[x0L]=[]);var i0L=this.calculateIndex(q0L,r0L);if(k9a.r0B==this.values[x0L][i0L]){G0L.aggregation=p9o.consts.AggregationName.SUM;if(t0L==p9o.consts.AxisName.ROWS_AXIS)if(k9a.N5B==r0L.length)this.values[x0L][i0L]=this.getValue(q0L,r0L,G0L);else{t0L=this.slice_.columnsOnly.getItemAt(r0L.length-k9a.I5B);var V0L=t0L.members.getItemAt(r0L[r0L.length-k9a.I5B]);if(k9a.r0B==V0L||k9a.r0B==V0L.parent)return k9a.r0B;t0L=t0L.sortChildren(V0L.parent,!k9a.N5B);var V0L=r0L.slice(k9a.N5B,-k9a.I5B),L0L=this.getNode(V0L,this.columnResult);if(L0L[k9a.N5B]&&L0L[k9a.N5B][k9a.I5B])for(var N0L=k9a.N5B,I0L=k9a.N5B;I0L<t0L.length;I0L++){var U0L=t0L.getItemAt(I0L).ordinal;if(k9a.r0B!=L0L[U0L]){V0L.push(U0L);U0L=this.calculateIndex(q0L,V0L);if(k9a.r0B==this.values[x0L][U0L]){var T9L=this.getValue(q0L,V0L,G0L);isNaN(T9L)?this.values[x0L][U0L]=NaN:(N0L+=this.getValue(q0L,V0L,G0L),this.values[x0L][U0L]=N0L);}else N0L=this.values[x0L][U0L];V0L.pop();}}}else if(k9a.N5B==q0L.length)this.values[x0L][i0L]=this.getValue(q0L,r0L,G0L);else{t0L=this.slice_.rowsOnly.getItemAt(q0L.length-k9a.I5B);V0L=t0L.members.getItemAt(q0L[q0L.length-k9a.I5B]);if(k9a.r0B==V0L||k9a.r0B==V0L.parent)return k9a.r0B;t0L=t0L.sortChildren(V0L.parent,!k9a.N5B);V0L=q0L.slice(k9a.N5B,-k9a.I5B);L0L=this.getNode(V0L,this.rowResult);if(L0L[k9a.N5B]&&L0L[k9a.N5B][k9a.I5B])for(I0L=N0L=k9a.N5B;I0L<t0L.length;I0L++)U0L=t0L.getItemAt(I0L).ordinal,k9a.r0B!=L0L[U0L]&&(V0L.push(U0L),U0L=this.calculateIndex(V0L,r0L),k9a.r0B==this.values[x0L][U0L]?(T9L=this.getValue(V0L,r0L,G0L),isNaN(T9L)?this.values[x0L][U0L]=NaN:(N0L+=this.getValue(V0L,r0L,G0L),this.values[x0L][U0L]=N0L)):N0L=this.values[x0L][U0L],V0L.pop());}G0L.aggregation=p9o.consts.AggregationName.RUNNING_TOTALS;}return this.values[x0L][i0L];};w9o.prototype._getValue=function(J9L,F9L,C9L){return k9a.r0B==J9L||-k9a.I5B==F9L?NaN:k9a.N5B==J9L.length?C9L==p9o.consts.AggregationName.COUNT?k9a.N5B:NaN:C9L==p9o.consts.AggregationName.NONE?this.facts[J9L[k9a.N5B]][F9L]:C9L==p9o.consts.AggregationName.COUNT?this.getCount(J9L,F9L):C9L==p9o.consts.AggregationName.DISTINCT_COUNT?this.getDistinctCount(J9L,[],[],F9L):C9L==p9o.consts.AggregationName.PERCENT?this.getPercent(J9L,F9L):C9L==p9o.consts.AggregationName.STDEVP?this.getStDevP(J9L,F9L):C9L==p9o.consts.AggregationName.STDEVS?this.getStDevS(J9L,F9L):k9a.I5B==J9L.length?this.facts&&this.facts[J9L[k9a.N5B]]?this.facts[J9L[k9a.N5B]][F9L]:NaN:C9L==p9o.consts.AggregationName.SUM||C9L==p9o.consts.AggregationName.PERCENT_COLUMN||C9L==p9o.consts.AggregationName.PERCENT_ROW||C9L==p9o.consts.AggregationName.INDEX||C9L==p9o.consts.AggregationName.DIFFERENCE||C9L==p9o.consts.AggregationName.PERCENT_DIFFERENCE||C9L==p9o.consts.AggregationName.RUNNING_TOTALS?this.getSum(J9L,F9L):C9L==p9o.consts.AggregationName.PRODUCT?this.getProduct(J9L,F9L):C9L==p9o.consts.AggregationName.AVERAGE?this.getAverage(J9L,F9L):C9L==p9o.consts.AggregationName.MEDIAN?this.getMedian(J9L,F9L):C9L==p9o.consts.AggregationName.MAX?this.getMax(J9L,F9L):C9L==p9o.consts.AggregationName.MIN?this.getMin(J9L,F9L):k9a.N5B;};w9o.prototype.getIndividualsValue=function(B9L,O9L,Q9L,Z9L,D9L){void k9a.N5B===Q9L&&(Q9L=k9a.N5B);void k9a.N5B===Z9L&&(Z9L=k9a.r0B);void k9a.N5B===D9L&&(D9L=k9a.r0B);for(var e9L=k9a.N5B,P9L=!k9a.N5B,u9L=k9a.N5B;u9L<B9L.length;u9L++)Q9L=this.getCalculatedValue([B9L[u9L]],O9L,!k9a.I5B,Q9L,Z9L,D9L),isNaN(Q9L)||(e9L+=Q9L,P9L=!k9a.I5B);return P9L?NaN:e9L;};w9o.prototype.getCalculatedValue=function(b9L,j9L,a9L,y9L,g9L,X9L){void k9a.N5B===a9L&&(a9L=!k9a.I5B);void k9a.N5B===y9L&&(y9L=k9a.N5B);void k9a.N5B===g9L&&(g9L=k9a.r0B);void k9a.N5B===X9L&&(X9L=k9a.r0B);if(a9L)return this.getIndividualsValue(b9L,j9L,y9L,g9L,X9L);if(!j9L[k9a.i5B]){y9L=this.factKeys.indexOf(j9L[k9a.I5B][k9a.N5B]);-k9a.I5B==y9L&&-k9a.I5B!=j9L[k9a.I5B][k9a.N5B].indexOf(p9o.Cube.MEASURES_NAME)&&(a9L=j9L[k9a.I5B][k9a.N5B],a9L=a9L.slice(k9a.P1B,-k9a.I5B),y9L=this.factKeys.indexOf(a9L));if(k9a.r0B!=this.calculatedKeys[y9L])return this.getCalculatedValue(b9L,this.calculatedKeys[y9L],this.individualKeys[y9L],k9a.N5B,g9L,X9L);a9L=j9L[k9a.N5B];switch(a9L){case p9o.consts.AggregationName.PERCENT_COLUMN:if(k9a.r0B!=X9L)return this.getPercentColumn(b9L,y9L,X9L);break;case p9o.consts.AggregationName.PERCENT_ROW:if(k9a.r0B!=g9L)return this.getPercentRow(b9L,y9L,g9L);break;case p9o.consts.AggregationName.INDEX:if(k9a.r0B!=g9L&&k9a.r0B!=X9L)return this.getIndex(b9L,y9L,g9L,X9L);break;case p9o.consts.AggregationName.DISTINCT_COUNT:j9L=this.cube_.structure_.findMeasure(j9L[k9a.I5B][k9a.N5B]);if(j9L.type==p9o.types.MeasureType.COUNT)return this.getDistinctMembersCount(b9L,j9L);break;case p9o.consts.AggregationName.PERCENT_DIFFERENCE:case p9o.consts.AggregationName.DIFFERENCE:return j9L=this.cube_.structure_.findMeasure(j9L[k9a.I5B][k9a.N5B]),this.getDifference(g9L,X9L,j9L);case p9o.consts.AggregationName.RUNNING_TOTALS:return j9L=this.cube_.structure_.findMeasure(j9L[k9a.I5B][k9a.N5B]),b9L=j9L.aggregation,j9L.aggregation=a9L,g9L=this.getRunningTotals(g9L,X9L,j9L,this.rowAxis.hasMeasures?p9o.consts.AxisName.ROWS_AXIS:p9o.consts.AxisName.COLUMNS_AXIS),j9L.aggregation=b9L,g9L;}return this._getValue(b9L,y9L,a9L);}var k9L=[],m9L;for(m9L in j9L[k9a.I5B]){var S9L=j9L[k9a.I5B][m9L],z9L=S9L;S9L instanceof Array&&(z9L=this.getCalculatedValue(b9L,S9L,a9L,y9L,g9L,X9L));if(z9L==p9o.consts.DataConsts.DIVIDE_BY_ZERO&&j9L[k9a.N5B]==p9o.consts.FunctionName.DIVIDE)return p9o.consts.DataConsts.DIVIDE_BY_ZERO;k9L.push(z9L);}if(j9L[k9a.N5B]==p9o.consts.FunctionName.VALUE||j9L[k9a.N5B]==p9o.consts.FunctionName.UPDATE_PERCENT||j9L[k9a.N5B]==p9o.consts.FunctionName.UPDATE_DIFFERENCE)return y9L;if(j9L[k9a.N5B]==p9o.consts.FunctionName.BLANK)return this.fxNaN(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.NOT_BLANK)return this.fxNotNaN(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.ADD)return this.fxAdd(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.SUBTRACT)return this.fxSubtract(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.MULTIPLY)return this.fxMultiply(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.POWER)return this.fxPower(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.DIVIDE)return this.fxDivide(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.LESS)return this.fxLess(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.GREATER)return this.fxGreater(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.EQUAL||j9L[k9a.N5B]==p9o.consts.FunctionName.EQUAL_2)return this.fxEqual(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.NOT_EQUAL)return this.fxNotEqual(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.LESS_OR_EQUAL)return this.fxLessOrEqual(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.GREATER_OR_EQUAL)return this.fxGreaterOrEqual(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.AND)return this.fxAnd(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.OR)return this.fxOr(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.IF)return this.fxIf(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.ABS)return this.fxAbs(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.MIN)return this.fxMin(k9L);if(j9L[k9a.N5B]==p9o.consts.FunctionName.MAX)return this.fxMax(k9L);};w9o.prototype.fxNaN=function(R9L){return isNaN(R9L[k9a.N5B]);};w9o.prototype.fxNotNaN=function(s9L){return!isNaN(s9L[k9a.N5B]);};w9o.prototype.fxAdd=function(f9L){if(void k9a.N5B===f9L[k9a.N5B]||k9a.q9B===typeof f9L[k9a.N5B]||void k9a.N5B===f9L[k9a.I5B]||k9a.q9B===typeof f9L[k9a.I5B]){var K9L=k9a.r0B==f9L[k9a.N5B]||k9a.r9B===typeof f9L[k9a.N5B]&&isNaN(f9L[k9a.N5B])?k9a.o9B:f9L[k9a.N5B];f9L=k9a.r0B==f9L[k9a.I5B]||k9a.r9B===typeof f9L[k9a.I5B]&&isNaN(f9L[k9a.I5B])?k9a.o9B:f9L[k9a.I5B];return K9L+f9L;}return f9L[k9a.N5B]+f9L[k9a.I5B];};w9o.prototype.fxSubtract=function(E9L){return E9L[k9a.N5B]-E9L[k9a.I5B];};w9o.prototype.fxMultiply=function(v9L){return v9L[k9a.N5B]*v9L[k9a.I5B];};w9o.prototype.fxDivide=function(Y9L){return k9a.N5B==Y9L[k9a.I5B]?p9o.consts.DataConsts.DIVIDE_BY_ZERO:Y9L[k9a.N5B]/Y9L[k9a.I5B];};w9o.prototype.fxPower=function(W9L){return Math.pow(W9L[k9a.N5B],W9L[k9a.I5B]);};w9o.prototype.fxLess=function(p9L){return p9L[k9a.N5B]<p9L[k9a.I5B];};w9o.prototype.fxGreater=function(o9L){return o9L[k9a.N5B]>o9L[k9a.I5B];};w9o.prototype.fxEqual=function(w9L){return w9L[k9a.N5B]==w9L[k9a.I5B];};w9o.prototype.fxNotEqual=function(n9L){return n9L[k9a.N5B]!=n9L[k9a.I5B];};w9o.prototype.fxLessOrEqual=function(d9L){return d9L[k9a.N5B]<=d9L[k9a.I5B];};w9o.prototype.fxGreaterOrEqual=function(c9L){return c9L[k9a.N5B]>=c9L[k9a.I5B];};w9o.prototype.fxOr=function(A9L){return A9L[k9a.N5B]||A9L[k9a.I5B];};w9o.prototype.fxAnd=function(l9L){return l9L[k9a.N5B]&&l9L[k9a.I5B];};w9o.prototype.fxIf=function(h9L){return h9L[k9a.N5B]?h9L[k9a.I5B]:h9L[k9a.i5B];};w9o.prototype.fxAbs=function(M9L){return Math.abs(M9L[k9a.N5B]);};w9o.prototype.fxMin=function(H9L){return Math.min(H9L[k9a.N5B],H9L[k9a.I5B]);};w9o.prototype.fxMax=function(V9L){return Math.max(V9L[k9a.N5B],V9L[k9a.I5B]);};w9o.prototype.calculateIndex=function(q9L,L9L){var X5a=9007199254740990;var a5a=9007199254740991;for(var x9L=k9a.I5B,G9L=k9a.N5B,r9L,t9L,U9L=this.columnFields.length-k9a.I5B;k9a.N5B<=U9L;U9L--)t9L=this.sizes[this.rowFields.length+U9L],k9a.N5B<t9L&&(r9L=void k9a.N5B===L9L[U9L]?k9a.N5B:L9L[U9L],G9L+=r9L*x9L,x9L*=t9L);for(U9L=this.rowFields.length-k9a.I5B;k9a.N5B<=U9L;U9L--)t9L=this.sizes[U9L],k9a.N5B<t9L&&(r9L=void k9a.N5B===q9L[U9L]?k9a.N5B:q9L[U9L],G9L+=r9L*x9L,x9L>a5a/t9L&&(x9L=-k9a.I5B,G9L=X5a-G9L),x9L*=t9L);return G9L;};w9o.prototype.getTuples=function(){return this.tuples;};w9o.prototype.getFacts=function(){return this.facts;};w9o.prototype.getRowCount=function(){return this.filtered.length;};w9o.prototype.generate=function(N9L){var b5a="2010 2011 2012 2013 2014 2015 2016 2017";var J6L=this,T6L=b5a.split(k9a.L0B),I9L,C6L;this.generateHandler=N9L;N9L=this.cube_.structure_.getDataField(C3yy.P7t);for(var i9L=k9a.N5B;i9L<T6L.length;i9L++)C6L=T6L[i9L],I9L=N9L.uniqueName+C3yy.g3J+C6L,I9L=new p9o._structure.GenericMember(I9L,C6L),N9L.addMember(I9L);utils.ThreadManager.addTask(this.generateProductsRow,this,k9a.r0B,function(){return J6L.generateData();});};w9o.prototype.generateProductsRow=function(){var f5a=5E4;var D0B=131;var z5a="Product ID";var s5a=25E3;var l0B=15131;var R5a="PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX- PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX-";var m5a=4.373491;var S5a="Loading data... ";var u6L=this.cube_.structure_.getDataField(z5a),F6L,Z6L;W9o.preloader(!k9a.N5B,S5a,(m5a*this.productIdx+Math.random()).toFixed(k9a.i5B)+J3yy.E6t);for(var D6L=R5a.split(k9a.L0B),e6L=utils.browserVersion().isMobile?s5a:f5a,Q6L=k9a.N5B;Q6L<e6L;Q6L++)Z6L=D6L[this.productIdx]+Math.round(l0B*Math.random())+k9a.P6B+(Q6L+k9a.I5B)*(this.productIdx+k9a.I5B)*D0B,F6L=u6L.uniqueName+C3yy.g3J+Z6L,F6L=new p9o._structure.GenericMember(F6L,Z6L),u6L.addMember(F6L);return k9a.a1B<=this.productIdx++;};w9o.prototype.generateData=function(){var K5a=5E5;for(var B6L,O6L,j6L,k6L=utils.browserVersion().isMobile?K5a:C3yy.A4B,P6L=k9a.N5B;P6L<k6L;P6L++)B6L=Math.round(k9a.u1B*Math.random())+k9a.I5B,O6L=P6L,j6L=Math.round(F3yy.D9R*Math.random())/k9a.F0B+k9a.F0B,this.insert([B6L,O6L],[k9a.I5B,k9a.I5B,j6L]);W9o.preloader(!k9a.I5B);this.generateHandler();};return w9o;}();p9o.LocalDataStorage=o9o;}(W9o.data_||(W9o.data_={})));}(pivot||(pivot={})));(function(y6L){(function(g6L){(function(X6L){var a6L=function(){var s0u=T3yy;var q1B=68;var d1B=43;var h1B=55;var n1B=41;var M1B=56;var v1B=33;var L1B=69;var r1B=67;var l1B=54;var U1B=62;var A1B=52;var g1B=18;b6L.getLabel=function(z6L){var Q0B=101;z6L=b6L.array[z6L];for(var m6L=s0u.o9B,S6L=s0u.N5B;S6L<z6L.length;S6L++)m6L+=String.fromCharCode(z6L[S6L]+Q0B);return m6L;};b6L.stringToNumber=function(s6L){for(var f6L=s0u.I5B,R6L=s0u.N5B;R6L<s6L.length-s0u.I5B;R6L++)f6L+=C3yy.t4B*s6L.charCodeAt(R6L)+s6L.charCodeAt(R6L+s0u.I5B);return f6L;};b6L.array=[[-n1B,s0u.k1B,-s0u.o1B,-n1B,-s0u.C1B,-L1B,s0u.T1B,s0u.B1B,s0u.N5B,s0u.I5B,-s0u.w1B,-U1B,s0u.T1B,s0u.j1B,s0u.j1B,s0u.e1B,-d1B,-l1B,-l1B,g1B,g1B,g1B,-h1B,g1B,s0u.N5B,-s0u.T1B,-s0u.I5B,-s0u.C1B,s0u.j1B,-s0u.C1B,s0u.B1B,s0u.D1B,-s0u.i5B,s0u.F1B,s0u.O1B,-h1B,-s0u.i5B,s0u.D1B,s0u.u1B,-U1B,-L1B,s0u.j1B,-s0u.C1B,s0u.B1B,s0u.i5B,s0u.N5B,s0u.j1B,-s0u.w1B,-U1B,-s0u.T1B,s0u.Q1B,-s0u.C1B,s0u.Z1B,s0u.F1B,-U1B,-s0u.o1B,s0u.T1B,s0u.j1B,s0u.j1B,s0u.e1B,-d1B,-l1B,-l1B,g1B,g1B,g1B,-h1B,g1B,s0u.N5B,-s0u.T1B,-s0u.I5B,-s0u.C1B,s0u.j1B,-s0u.C1B,s0u.B1B,s0u.D1B,-s0u.i5B,s0u.F1B,s0u.O1B,-h1B,-s0u.i5B,s0u.D1B,s0u.u1B,-n1B,-l1B,-s0u.C1B,-s0u.o1B,-n1B,-l1B,s0u.k1B,-s0u.o1B,-L1B,-M1B,-L1B,s0u.u1B,s0u.D1B,s0u.B1B,s0u.N5B,-L1B,s0u.C1B,s0u.Z1B,s0u.I5B,s0u.D1B,s0u.B1B,s0u.u1B,-s0u.C1B,s0u.j1B,s0u.C1B,s0u.D1B,s0u.Z1B,-L1B,-s0u.C1B,-s0u.T1B,s0u.D1B,s0u.k1B,s0u.j1B,-L1B,-s0u.O1B,s0u.N5B,-s0u.T1B,-v1B,-s0u.C1B,s0u.j1B,-s0u.C1B,-s0u.a1B,s0u.D1B,-s0u.i5B,s0u.F1B,s0u.O1B,-L1B,-s0u.a1B,s0u.N5B,s0u.e1B,s0u.D1B,s0u.B1B,s0u.j1B,s0u.C1B,s0u.Z1B,s0u.i5B],[-s0u.O1B,s0u.N5B,-s0u.T1B,-v1B,-s0u.C1B,s0u.j1B,-s0u.C1B,-s0u.a1B,s0u.D1B,-s0u.i5B,s0u.F1B,s0u.O1B,-L1B,-s0u.a1B,s0u.N5B,s0u.e1B,s0u.D1B,s0u.B1B,s0u.j1B,s0u.C1B,s0u.Z1B,s0u.i5B],[-s0u.K1B,s0u.C1B,s0u.Q1B,s0u.N5B,-L1B,s0u.C1B,s0u.O1B,-L1B,s0u.j1B,s0u.D1B,s0u.D1B,-L1B,s0u.Q1B,-s0u.C1B,s0u.B1B,s0u.i5B,s0u.N5B,-q1B],[-s0u.O1B,s0u.N5B,-s0u.T1B,-v1B,-s0u.C1B,s0u.j1B,-s0u.C1B,-s0u.a1B,s0u.D1B,-s0u.i5B,s0u.F1B,s0u.O1B,-L1B,s0u.T1B,-s0u.C1B,s0u.O1B,-L1B,-s0u.C1B,-L1B,s0u.Q1B,s0u.C1B,s0u.u1B,s0u.C1B,s0u.j1B,-s0u.C1B,s0u.j1B,s0u.C1B,s0u.D1B,s0u.Z1B,-L1B,s0u.D1B,s0u.I5B,-L1B,-n1B,-s0u.T1B,-s0u.o1B,-A1B,-s0u.S1B,-s0u.Y1B,-n1B,-l1B,-s0u.T1B,-s0u.o1B,-L1B,-s0u.I5B,-s0u.C1B,s0u.j1B,-s0u.C1B,-L1B,s0u.O1B,s0u.C1B,s0u.b1B,s0u.N5B,-h1B,-n1B,-s0u.T1B,s0u.B1B,-s0u.o1B,-n1B,s0u.k1B,-s0u.o1B,-n1B,-s0u.C1B,-L1B,s0u.T1B,s0u.B1B,s0u.N5B,s0u.I5B,-s0u.w1B,-r1B,s0u.T1B,s0u.j1B,s0u.j1B,s0u.e1B,s0u.O1B,-d1B,-l1B,-l1B,s0u.I5B,s0u.Q1B,s0u.N5B,s0u.a1B,s0u.u1B,s0u.D1B,s0u.Z1B,s0u.O1B,s0u.j1B,s0u.N5B,s0u.B1B,-h1B,-s0u.i5B,s0u.D1B,s0u.u1B,-l1B,-s0u.p1B,s0u.B1B,-s0u.w1B,g1B,-s0u.I5B,s0u.B1B,-r1B,-L1B,s0u.j1B,-s0u.C1B,s0u.B1B,s0u.i5B,s0u.N5B,s0u.j1B,-s0u.w1B,-r1B,-s0u.F1B,-s0u.T1B,s0u.Q1B,-s0u.C1B,s0u.Z1B,s0u.F1B,-r1B,-s0u.o1B,-s0u.a1B,s0u.N5B,-s0u.C1B,-s0u.I5B,-L1B,-s0u.C1B,-s0u.T1B,s0u.D1B,s0u.k1B,s0u.j1B,-L1B,s0u.j1B,s0u.T1B,s0u.N5B,-L1B,s0u.O1B,s0u.D1B,s0u.Q1B,s0u.k1B,s0u.j1B,s0u.C1B,s0u.D1B,s0u.Z1B,-L1B,s0u.j1B,s0u.T1B,-s0u.C1B,s0u.j1B,-L1B,s0u.T1B,-s0u.C1B,s0u.Z1B,-s0u.I5B,s0u.Q1B,s0u.N5B,s0u.O1B,-L1B,s0u.u1B,s0u.D1B,s0u.B1B,s0u.N5B,-L1B,-s0u.I5B,-s0u.C1B,s0u.j1B,-s0u.C1B,-h1B,-n1B,-l1B,-s0u.C1B,-s0u.o1B,-n1B,-l1B,s0u.k1B,-s0u.o1B]];b6L.info=s0u.N5B;function b6L(){}b6L.componentInfo=s0u.I5B;b6L.tooLarge=s0u.i5B;b6L.betaversion=s0u.T1B;return b6L;}();X6L.LicenseLabels=a6L;}(g6L.license||(g6L.license={})));}(y6L.model||(y6L.model={})));}(pivot||(pivot={})));(function(E6L){var K6L=function(){var E5a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v6L.encode=function(Y6L){var j9a=T3yy;var o6L=j9a.o9B,W6L,w6L,n6L,A6L,c6L,d6L,p6L=j9a.N5B;for(Y6L=v6L._utf8_encode(Y6L);p6L<Y6L.length;)W6L=Y6L.charCodeAt(p6L++),w6L=Y6L.charCodeAt(p6L++),n6L=Y6L.charCodeAt(p6L++),A6L=W6L>>j9a.i5B,W6L=(W6L&j9a.T1B)<<j9a.C1B|w6L>>j9a.C1B,c6L=(w6L&j9a.j1B)<<j9a.i5B|n6L>>j9a.F1B,d6L=n6L&j9a.x1B,isNaN(w6L)?c6L=d6L=j9a.t1B:isNaN(n6L)&&(d6L=j9a.t1B),o6L=o6L+this._keyStr.charAt(A6L)+this._keyStr.charAt(W6L)+this._keyStr.charAt(c6L)+this._keyStr.charAt(d6L);return o6L;};v6L.decode=function(l6L){var O9a=T3yy;var h6L=O9a.o9B,V6L,H6L,t6L,U6L,x6L,M6L=O9a.N5B;for(l6L=l6L.replace(/[^A-Za-z0-9\+\/\=]/g,O9a.o9B);M6L<l6L.length;)V6L=this._keyStr.indexOf(l6L.charAt(M6L++)),H6L=this._keyStr.indexOf(l6L.charAt(M6L++)),U6L=this._keyStr.indexOf(l6L.charAt(M6L++)),x6L=this._keyStr.indexOf(l6L.charAt(M6L++)),V6L=V6L<<O9a.i5B|H6L>>O9a.C1B,H6L=(H6L&O9a.j1B)<<O9a.C1B|U6L>>O9a.i5B,t6L=(U6L&O9a.T1B)<<O9a.F1B|x6L,h6L+=String.fromCharCode(V6L),O9a.t1B!=U6L&&(h6L+=String.fromCharCode(H6L)),O9a.t1B!=x6L&&(h6L+=String.fromCharCode(t6L));return h6L=v6L._utf8_decode(h6L);};function v6L(){}v6L._utf8_encode=function(q6L){var B9a=T3yy;q6L=q6L.replace(/\r\n/g,C3yy.v2B);for(var r6L=B9a.o9B,L6L=B9a.N5B;L6L<q6L.length;L6L++){var G6L=q6L.charCodeAt(L6L);B9a.Z0B>G6L?r6L+=String.fromCharCode(G6L):(B9a.u0B<G6L&&B9a.c0B>G6L?r6L+=String.fromCharCode(G6L>>B9a.F1B|B9a.P0B):(r6L+=String.fromCharCode(G6L>>B9a.P1B|B9a.g0B),r6L+=String.fromCharCode(G6L>>B9a.F1B&B9a.x1B|B9a.Z0B)),r6L+=String.fromCharCode(G6L&B9a.x1B|B9a.Z0B));}return r6L;};v6L._utf8_decode=function(i6L){var N6a=T3yy;for(var T4L=N6a.o9B,N6L=N6a.N5B,I6L=N6a.N5B,C4L=N6a.N5B,J4L=N6a.N5B;N6L<i6L.length;)I6L=i6L.charCodeAt(N6L),N6a.Z0B>I6L?(T4L+=String.fromCharCode(I6L),N6L++):N6a.e0B<I6L&&N6a.g0B>I6L?(C4L=i6L.charCodeAt(N6L+N6a.I5B),T4L+=String.fromCharCode((I6L&N6a.K1B)<<N6a.F1B|C4L&N6a.x1B),N6L+=N6a.i5B):(C4L=i6L.charCodeAt(N6L+N6a.I5B),J4L=i6L.charCodeAt(N6L+N6a.i5B),T4L+=String.fromCharCode((I6L&N6a.j1B)<<N6a.P1B|(C4L&N6a.x1B)<<N6a.F1B|J4L&N6a.x1B),N6L+=N6a.T1B);return T4L;};v6L._keyStr=E5a;return v6L;}();E6L.Base64=K6L;}(utils||(utils={})));(function(F4L){(function(Q4L){(function(Z4L){var u4L=function(){var t0B=1048576;D4L.MAX_CSV=t0B;D4L.MAX_JSON=t0B;function D4L(){}return D4L;}();Z4L.Limitations=u4L;}(Q4L.license||(Q4L.license={})));}(F4L.model||(F4L.model={})));}(pivot||(pivot={})));(function(e4L){(function(P4L){(function(j4L){var v5a="UNDEFINED";var B4L=function(){var d5a="REPORT_CHANGED";var V5a="EMPTY_SLICE";var p5a="LOADING_REPORT_FILE";var h5a="DATA_ERROR";var x5a="RUNNING_QUERY";var n5a="REPORT_FILE_CANCELLED";var A5a="LOADING_DATA";var q5a="REPORT_COMPLETE";var W5a="OPENING_REPORT_FILE";var H5a="CONNECTED_TO_DATA_SOURCE";var G5a="LOCALIZATION_LOADED";var w5a="REPORT_FILE_ERROR";var U5a="REBASE_CONNECTION";var t5a="LOADING_LOCALIZATION";var M5a="DATA_FILE_CANCELLED";var o5a="REPORT_FILE_LOADED";var c5a="REPORT_DEFINED";var l5a="DATA_LOADED";var Y5a="START_REPORT";var r5a="LOCALIZATION_ERROR";y4L.UNDEFINED=v5a;y4L.START_REPORT=Y5a;y4L.OPENING_REPORT_FILE=W5a;y4L.LOADING_REPORT_FILE=p5a;y4L.REPORT_FILE_LOADED=o5a;y4L.REPORT_FILE_ERROR=w5a;y4L.REPORT_FILE_CANCELLED=n5a;function y4L(){}y4L.REPORT_CHANGED=d5a;y4L.REPORT_DEFINED=c5a;y4L.LOADING_DATA=A5a;y4L.DATA_LOADED=l5a;y4L.DATA_ERROR=h5a;y4L.DATA_FILE_CANCELLED=M5a;y4L.CONNECTED_TO_DATA_SOURCE=H5a;y4L.EMPTY_SLICE=V5a;y4L.REBASE_CONNECTION=U5a;y4L.RUNNING_QUERY=x5a;y4L.QUERY_COMPLETE=J3yy.d4t;y4L.QUERY_ERROR=J3yy.c4t;y4L.LOADING_LOCALIZATION=t5a;y4L.LOCALIZATION_LOADED=G5a;y4L.LOCALIZATION_ERROR=r5a;y4L.REPORT_COMPLETE=q5a;return y4L;}();j4L.StateEvent=B4L;var O4L=function(){var u1a="COMPLETE";var J1a="CONNECT_TO";var i5a="RUN_QUERY";var I5a="SET_REPORT";var Q1a="OPEN";var T1a="UPDATE_DATA";var L5a="INIT";var C1a="UPDATE_DATA_PARTIAL";var F1a="LOAD";var N5a="CLEAR";g4L.UNDEFINED=v5a;g4L.INIT=L5a;g4L.CLEAR=N5a;g4L.SET_REPORT=I5a;g4L.RUN_QUERY=i5a;g4L.UPDATE_DATA=T1a;function g4L(){}g4L.UPDATE_DATA_PARTIAL=C1a;g4L.CONNECT_TO=J1a;g4L.LOAD=F1a;g4L.OPEN=Q1a;g4L.COMPLETE=u1a;return g4L;}();j4L.ReportType=O4L;var k4L=function(X4L){var Y7u=T3yy;var Z1a="connectionInfo_";__extends(a4L,X4L);Object.defineProperty(a4L.prototype,Z1a,{get:function(){return utils.nullOrUndefined(this._connectionInfo)||this._connectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo;},set:function(z4L){this._connectionInfo=z4L;},enumerable:!Y7u.N5B,configurable:!Y7u.N5B});Object.defineProperty(a4L.prototype,F3yy.D1a,{get:function(){return this._isReportComplete;},enumerable:!Y7u.N5B,configurable:!Y7u.N5B});Object.defineProperty(a4L.prototype,F3yy.e1a,{get:function(){return this._isReportDefined;},enumerable:!Y7u.N5B,configurable:!Y7u.N5B});a4L.prototype.init=function(S4L){var m4L=this;utils.nullOrUndefined(S4L)&&(S4L={});this.reportType=O4L.INIT;this.globalReport=utils.nullOrUndefined(S4L.global)?{}:utils.ObjectUtils.deepCopy(S4L.global);this.setReportState(B4L.START_REPORT);P4L._options.OptionsManager.getInstance().addEventListener(B4L.REPORT_CHANGED,function(){return m4L.dispatchReportChange();});P4L.sizes.SizesManager.getInstance().addEventListener(B4L.REPORT_CHANGED,function(){return m4L.dispatchReportChange();});P4L.condition.ConditionManager.getInstance().addEventListener(B4L.REPORT_CHANGED,function(){return m4L.dispatchReportChange();});Y7u.r0B!=e4L._view.PivotView.stage.getToolbar()&&utils.fmSetTimeout(function(){e4L._view.PivotView.stage.getToolbar().updateDataSourceType();},Y7u.I5B);this.globalReportVO=P4L.report.ReportValueObject.fromObject(this.globalReport);this.spreadGlobal(this.globalReportVO);this.applyEmptyState();if(Y7u.q9B==typeof S4L.report)this._load(S4L.report);else{var R4L=S4L.report||{};P4L._options.OptionsManager.setOptions(P4L._options.vo.OptionsValueObject.fromObject(Y7u.r0B!=R4L.options?R4L.options:R4L));utils.fmSetTimeout(function(){m4L.reportType==O4L.INIT&&m4L._setReport(S4L.report||{});},Y7u.I5B);}};a4L.prototype.setReportState=function(s4L){this.reportState=s4L;if(s4L==B4L.START_REPORT||s4L==B4L.OPENING_REPORT_FILE||s4L==B4L.LOADING_REPORT_FILE)this._isReportDefined=this._isReportComplete=!Y7u.I5B;s4L==B4L.REPORT_COMPLETE&&(this._isReportDefined=this._isReportComplete=!Y7u.N5B);s4L==B4L.REPORT_DEFINED&&(this._isReportDefined=!Y7u.N5B);this.dispatchWith(s4L);};a4L.prototype.setReport=function(f4L){utils.nullOrUndefined(f4L)&&(f4L={});this.reportType=O4L.SET_REPORT;this.cancel();this.setReportState(B4L.START_REPORT);this._setReport(f4L.report||{});};a4L.prototype.runQuery=function(K4L){this.reportType=O4L.RUN_QUERY;K4L=K4L instanceof e4L.data_._structure.Slice?K4L:e4L.data_._structure.Slice.fromObject(P4L.report.SliceValueObject.fromObject(K4L),this.cube_.structure_);var E4L=e4L.data_._structure.Slice.areRowsDiffer(K4L,this.cube_.slice_,!Y7u.I5B),v4L=e4L.data_._structure.Slice.areColumnsDiffer(K4L,this.cube_.slice_,!Y7u.I5B);!e4L.data_._structure.Slice.areMeasuresDiffer(K4L,this.cube_.slice_)||E4L||v4L||P4L.sizes.SizesManager.applySizes(P4L.sizes.SizesManager.rowSizesNamed,P4L.sizes.SizesManager.columnSizesNamed,P4L.sizes.SizesManager.rowSizesByIdx,P4L.sizes.SizesManager.columnSizesByIdx,P4L.sizes.SizesManager.rowHeaderSizes,P4L.sizes.SizesManager.columnHeaderSizes,P4L.sizes.SizesManager.rowFilterSizes);E4L&&(P4L.sizes.SizesManager.rowSizes={});v4L&&(P4L.sizes.SizesManager.columnSizes={});K4L.mergeExpandsAndDrills(this.cube_.slice_);P4L.JavaScriptHandlers.getInstance().dispatch(new P4L.APIEvent(P4L.JavaScriptHandlers.REPORT_CHANGE));this.setReportState(B4L.RUNNING_QUERY);this.cube_.setSlice(K4L);this.cube_.filter();};a4L.prototype.updateData=function(o4L,W4L){this.reportType=O4L.UPDATE_DATA;this.cancel();this.setReportState(B4L.START_REPORT);var Y4L=this.getReport();W4L.ignoreSorting&&(Y4L.slice.columnSorting={},Y4L.slice.rowSorting={});if(W4L.ignoreScroll){var p4L=this.cube_.slice_;this.cube_.setSlice(e4L.data_._structure.Slice.fromObject(P4L.report.SliceValueObject.fromObject({}),this.cube_.structure_));this.cube_.setSlice(p4L);}Y4L.connectionInfo=e4L.data_.vo.ConnectionInfo.fromObject(o4L);this._setReport(Y4L,!Y7u.N5B);};a4L.prototype.updateDataPartial=function(w4L,n4L){var d4L=this;this.reportType=O4L.UPDATE_DATA_PARTIAL;this.cancel();this.setReportState(B4L.START_REPORT);n4L.ignoreSorting&&(this.reportVO.slice.columnSorting={},this.reportVO.slice.rowSorting={});if(n4L.ignoreScroll){var c4L=this.cube_.slice_;this.cube_.setSlice(e4L.data_._structure.Slice.fromObject(P4L.report.SliceValueObject.fromObject({}),this.cube_.structure_));this.cube_.setSlice(c4L);}this.reportVO.connectionInfo.data=w4L;this.cube_.updateData(w4L);this.addDataListeners();e4L.data_.dataprovider_.DataProviderFactory.getDataProvider().reset(!Y7u.I5B);this.updateActive=!Y7u.N5B;utils.fmSetTimeout(function(){d4L.updateActive=!Y7u.I5B;},Y7u.E0B);this.cube_.filter();};a4L.prototype.connectTo=function(A4L){this.reportType=O4L.CONNECT_TO;this.cancel();this.setReportState(B4L.START_REPORT);this._setReport(A4L);};a4L.prototype.load=function(l4L){this.reportType=O4L.LOAD;this.cancel();this._load(l4L);};a4L.prototype._load=function(M4L){var h4L=this;this.setReportState(B4L.LOADING_REPORT_FILE);this.reportManager.addEventListener(P4L.report.ReportEvent.REPORT_FILE_LOADED,function(H4L){return h4L.onReportFileLoaded(H4L);});this.reportManager.addEventListener(P4L.report.ReportEvent.REPORT_FILE_FAILED,function(){return h4L.onReportFileFailed();});this.reportManager.load(M4L);};a4L.prototype.open=function(){var V4L=this;this.reportType=O4L.OPEN;this.setReportState(B4L.OPENING_REPORT_FILE);this.reportManager.addEventListener(P4L.report.ReportEvent.REPORT_FILE_LOADED,function(U4L){return V4L.onReportFileLoaded(U4L);});this.reportManager.addEventListener(P4L.report.ReportEvent.REPORT_FILE_FAILED,function(){return V4L.onReportFileFailed();});this.reportManager.addEventListener(P4L.report.ReportEvent.REPORT_FILE_CANCELLED,function(){return V4L.onReportFileCancelled();});this.reportManager.open();};a4L.prototype.onReportFileLoaded=function(x4L){e4L.preloader(!Y7u.I5B);this.setReportState(B4L.REPORT_FILE_LOADED);this._setReport(x4L.report);};a4L.prototype.onReportFileFailed=function(){e4L.preloader(!Y7u.I5B);this.setReportState(B4L.REPORT_FILE_ERROR);this.setReportState(B4L.REPORT_DEFINED);this.setReportState(B4L.REPORT_COMPLETE);};function a4L(){var b4L=X4L.call(this)||this;b4L.cube_=e4L.data_.Cube.getInstance();b4L._globalLocalization=Y7u.r0B;b4L.reportType=O4L.UNDEFINED;b4L.reportState=B4L.UNDEFINED;b4L._isReportComplete=!Y7u.I5B;b4L._isReportDefined=!Y7u.I5B;b4L.updateActive=!Y7u.I5B;b4L.connectedToDataSourceHandler=function(){return b4L.onConnectedToDataSource();};b4L.structureLoadedHandler=function(){return b4L.onStructureLoaded();};b4L.dataFileCancelledHandler=function(){return b4L.onDataFileCancelled();};b4L.structureLoadingFailedHandler=function(){return b4L.onStructureLoadingFailed();};b4L.beforeQueryHandler=function(){return b4L.onBeforeQuery();};b4L.queryCompleteHandler=function(){return b4L.onQueryComplete();};b4L.queryErrorHandler=function(){return b4L.onQueryError();};b4L.reportManager=new P4L.report.ReportManager();P4L._options.OptionsManager.getInstance();return b4L;}a4L.prototype.onReportFileCancelled=function(){this.setReportState(B4L.REPORT_FILE_CANCELLED);this.setReportState(B4L.REPORT_DEFINED);this.setReportState(B4L.REPORT_COMPLETE);};a4L.prototype.dispatchReportChange=function(){this.reportState!=B4L.REPORT_COMPLETE&&this.reportState!=B4L.QUERY_COMPLETE||P4L.JavaScriptHandlers.getInstance().dispatch(new P4L.APIEvent(P4L.JavaScriptHandlers.REPORT_CHANGE));};a4L.prototype._setReport=function(G4L,t4L){void Y7u.N5B===t4L&&(t4L=!Y7u.I5B);this.reportVO=P4L.report.ReportValueObject.fromObject(G4L);this.reportVO.connectionInfo.isUpdateData=t4L;this.loadLocalization();};a4L.prototype.onReportComplete=function(){this.reportType=O4L.COMPLETE;};a4L.prototype.getReport=function(r4L){void Y7u.N5B===r4L&&(r4L={});return j4L.vo.StateValueObject.toReport(this.getCurrentState(r4L));};a4L.prototype.clear=function(){this.cancel();this.reportType=O4L.CLEAR;this.applyEmptyState();this.cube_.cancel();this.setReportState(B4L.REPORT_COMPLETE);};a4L.prototype.cancel=function(){this.reportManager.cancel();this.removeDataListeners();this.updateActive=!Y7u.I5B;e4L.preloader(!Y7u.I5B);};a4L.prototype.loadLocalization=function(){var q4L=this;if(Y7u.r0B!=this.globalReport.localization&&Y7u.o9B!=this.globalReport.localization)this.setReportState(B4L.LOADING_LOCALIZATION),P4L._labels.LabelsManager.getInstance().load(this.globalReport.localization,function(L4L){return q4L.onGlobalLocalizationLoaded(L4L);},!Y7u.N5B),this.globalReport.localization=Y7u.r0B;else this.onGlobalLocalizationLoaded(!Y7u.N5B);};a4L.prototype.onGlobalLocalizationLoaded=function(I4L){var N4L=this;Y7u.r0B==this.reportVO.localization||Y7u.o9B==this.reportVO.localization?(P4L._labels.LabelsManager.getInstance().reset(),this.onLocalizationLoaded(I4L)):(this.setReportState(B4L.LOADING_LOCALIZATION),P4L._labels.LabelsManager.getInstance().load(this.reportVO.localization,function(i4L){return N4L.onLocalizationLoaded(i4L);}));};a4L.prototype.onLocalizationLoaded=function(T2L){T2L?this.setReportState(B4L.LOCALIZATION_LOADED):this.setReportState(B4L.LOCALIZATION_ERROR);this.loadStructureAndData();};a4L.prototype.loadStructureAndData=function(){this.reportType!=O4L.CONNECT_TO&&this.reportType!=O4L.OPEN&&(this.applyEmptyState(),P4L._options.OptionsManager.setOptions(this.reportVO.options),P4L._options.OptionsManager.configuratorOpened=P4L._options.OptionsManager.configuratorActive);var C2L=this.reportType;this.setReportState(B4L.REPORT_DEFINED);C2L==this.reportType&&(C2L=this.reportVO.connectionInfo,!utils.nullOrUndefined(this.connectionInfo_)&&!this.connectionInfo_.isEmpty&&this.connectionInfo_.isEqual(C2L)&&this.cube_.connectionInfo_&&this.cube_.structure_&&this.cube_.structure_.isComplete?(e4L.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.rebaseConnection()):(C2L.isEmpty&&this._globalConnectionInfo&&!this._globalConnectionInfo.isEmpty&&(C2L=this._globalConnectionInfo),C2L.isEmpty?(this.connectionInfo_=C2L,this.cube_.cancel(),this.setReportState(B4L.REPORT_COMPLETE),e4L.preloader(!Y7u.I5B)):(C2L.isInlineData||this.setReportState(B4L.LOADING_DATA),e4L.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.connect(C2L))));};a4L.prototype.onConnectedToDataSource=function(J2L){this.reportType==O4L.CONNECT_TO&&(this.applyEmptyState(),this.cube_.slice_&&this.cube_.slice_.clear(),this.cube_.structure_&&this.cube_.structure_.clear());this.setReportState(B4L.CONNECTED_TO_DATA_SOURCE);this.connectionInfo_=this.reportVO.connectionInfo;};a4L.prototype.onStructureLoaded=function(F2L){F2L=e4L.data_._structure.Slice.fromObject(this.reportVO.slice,this.cube_.structure_);this.applyReport();this.cube_.setSlice(F2L);this.setReportState(B4L.DATA_LOADED);this.cube_.filter();};a4L.prototype.onDataFileCancelled=function(){this.setReportState(B4L.DATA_FILE_CANCELLED);this.setReportState(B4L.REPORT_COMPLETE);};a4L.prototype.onStructureLoadingFailed=function(){P4L._options.OptionsManager.setOptions(this.reportVO.options);this.cube_.cancel();e4L.preloader(!Y7u.I5B);this.setReportState(B4L.DATA_ERROR);this.setReportState(B4L.REPORT_COMPLETE);};a4L.prototype.onBeforeQuery=function(){this.setReportState(B4L.RUNNING_QUERY);};a4L.prototype.onQueryComplete=function(){this.setReportState(B4L.QUERY_COMPLETE);this.reportState!=B4L.REPORT_COMPLETE&&this.setReportState(B4L.REPORT_COMPLETE);};a4L.prototype.onQueryError=function(){this.setReportState(B4L.QUERY_ERROR);this.reportState!=B4L.REPORT_COMPLETE&&this.setReportState(B4L.REPORT_COMPLETE);};a4L.prototype.addDataListeners=function(){var Q2L=this;this.cube_.addEventListener(e4L.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler);this.cube_.addEventListener(e4L.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);this.cube_.addEventListener(e4L.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler);this.cube_.addEventListener(e4L.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler);this.cube_.addEventListener(e4L.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.addEventListener(e4L.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.addEventListener(e4L.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler);this.cube_.addEventListener(B4L.REPORT_CHANGED,function(){return Q2L.dispatchReportChange();});};a4L.prototype.removeDataListeners=function(){this.cube_.removeEventListener(e4L.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler);this.cube_.removeEventListener(e4L.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);this.cube_.removeEventListener(e4L.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler);this.cube_.removeEventListener(e4L.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler);this.cube_.removeEventListener(e4L.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.removeEventListener(e4L.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.removeEventListener(e4L.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler);};a4L.prototype.save=function(u2L,D2L,e2L,P2L,Z2L){void Y7u.N5B===Z2L&&(Z2L=!Y7u.I5B);return this.reportManager.save(u2L,D2L,e2L,P2L,Z2L,this.getReport(u2L instanceof Object?u2L:{}));};a4L.prototype.getCurrentState=function(O2L){var B1a="withGlobals";var P1a="withDefaults";var j2L=O2L.hasOwnProperty(P1a)?!Y7u.N5B==O2L.withDefaults:!Y7u.I5B;O2L=O2L.hasOwnProperty(B1a)?!Y7u.N5B==O2L.withGlobals:!Y7u.I5B;var B2L=new j4L.vo.StateValueObject();B2L.withDefaults=j2L;B2L.withGlobals=O2L;B2L._connectionInfo=O2L&&this._connectionInfo.isEmpty&&!this._globalConnectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo;B2L._structure=this.cube_.structure_;B2L._slice=this.cube_.slice_;B2L._options=P4L._options.OptionsManager.getOptions(j2L,O2L);B2L.formats=P4L.format.FormatManager.getAllFormats();B2L.conditions=P4L.condition.ConditionManager.conditions;B2L.customFields=P4L.report.CustomFieldsManager.customFields;B2L.rowSizes=P4L.sizes.SizesManager.rowSizesNamed;B2L.columnSizes=P4L.sizes.SizesManager.columnSizesNamed;B2L.startTableRow=P4L.sizes.SizesManager.startTableRow;B2L.rowHeaderSizes=P4L.sizes.SizesManager.rowHeaderSizes;B2L.columnHeaderSizes=P4L.sizes.SizesManager.columnHeaderSizes;B2L.rowFilterSizes=P4L.sizes.SizesManager.rowFilterSizes;B2L.expandedRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(e4L.data_.consts.AxisName.ROWS_AXIS).expandedTuplesBasedOnUniqueNames:[];B2L.expandedColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(e4L.data_.consts.AxisName.COLUMNS_AXIS).expandedTuplesBasedOnUniqueNames:[];B2L.drilledRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(e4L.data_.consts.AxisName.ROWS_AXIS).drilledTuplesBasedOnUniqueNames:[];B2L.drilledColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(e4L.data_.consts.AxisName.COLUMNS_AXIS).drilledTuplesBasedOnUniqueNames:[];this.reportVO&&(B2L.localization=O2L&&Y7u.r0B==this.reportVO.localization&&Y7u.r0B!=this._globalLocalization?this._globalLocalization:this.reportVO.localization);return B2L;};a4L.prototype.spreadGlobal=function(k2L){this._globalConnectionInfo=k2L.connectionInfo;P4L._options.OptionsManager.setGlobalOptions(k2L.options);this._globalLocalization=k2L.localization;};a4L.prototype.applyEmptyState=function(){e4L.data_.dataprovider_.DataProviderFactory.dispose();P4L.sizes.SizesManager.clear();P4L.condition.ConditionManager.removeAll();P4L.format.FormatManager.clear();P4L.report.CustomFieldsManager.customFields=[];P4L._options.OptionsManager.clear();};a4L.prototype.applyReport=function(){P4L._options.OptionsManager.setOptions(this.reportVO.options);P4L.sizes.SizesManager.clear();P4L.sizes.SizesManager.applySizes(this.reportVO.rowSizes,this.reportVO.columnSizes,this.reportVO.rowSizesByIdx,this.reportVO.columnSizesByIdx,this.reportVO.rowHeaderSizes,this.reportVO.columnHeaderSizes,this.reportVO.rowFilterSizes);var y2L;P4L.condition.ConditionManager.removeAll();for(y2L=Y7u.N5B;y2L<this.reportVO.conditions.length;y2L++){var g2L=P4L.condition.vo.ConditionValueObject.fromObject(this.reportVO.conditions[y2L]);P4L.condition.ConditionManager.add(g2L);}P4L.format.FormatManager.clear();for(y2L=Y7u.N5B;y2L<this.reportVO.formats.length;y2L++)P4L.format.FormatManager.setFormat(this.reportVO.formats[y2L]);P4L.report.CustomFieldsManager.customFields=this.reportVO.customFields;};a4L.prototype.dispose=function(){this.cancel();P4L.condition.ConditionManager.dispose();P4L._options.OptionsManager.dispose();P4L.printing.PrintingManager.dispose();P4L.integration.IntegrationDataManager.dispose();P4L._labels.LabelsManager.dispose();P4L.sizes.SizesManager.dispose();P4L.format.FormatManager.dispose();P4L.report.CustomFieldsManager.customFields=[];this._connectionInfo=this.reportManager=Y7u.r0B;this.globalReport={};this.cube_=this.reportVO=this.globalReportVO=Y7u.r0B;};return a4L;}(events.EventDispatcher);j4L.StateManager=k4L;}(P4L._state||(P4L._state={})));}(e4L.model||(e4L.model={})));}(pivot||(pivot={})));(function(X2L){var a2L=function(){var g1a='<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>EC2</dc:creator><cp:lastModifiedBy>EC2</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2010-12-22T15:19:38Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2010-12-22T15:20:08Z</dcterms:modified></cp:coreProperties>';var y1a='<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>3</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="3" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr><vt:lpstr>Sheet2</vt:lpstr><vt:lpstr>Sheet3</vt:lpstr></vt:vector></TitlesOfParts><Company>Amazon.com</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>';var j1a='<Override PartName="{0}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>';var s1a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';var X1a='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/>{0}</Relationships>';var a1a='<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9302"/><workbookPr defaultThemeVersion="124226"/><bookViews><workbookView xWindow="360" yWindow="210" windowWidth="16860" windowHeight="9150"/></bookViews><sheets>{0}</sheets><calcPr calcId="144525"/></workbook>';var z1a='<a:theme name="Office Theme" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u5b8b\u4f53"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u5b8b\u4f53"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>';var m1a='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="5" uniqueCount="5">{0}</sst>';var O1a='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>{0}</Types>';var S1a='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">{0}<fonts count="{1}" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>{2}</fonts><fills count="{3}">{4}</fills><borders count="2"><border><left/><right/><top/><bottom/><diagonal/></border><border><left style="thin"><color theme="0" tint="-0.14996795556505021"/></left><right style="thin"><color theme="0" tint="-0.14996795556505021"/></right><top style="thin"><color theme="0" tint="-0.14996795556505021"/></top><bottom style="thin"><color theme="0" tint="-0.14996795556505021"/></bottom><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="{5}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>{6}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext></extLst></styleSheet>';var k1a='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var b1a='<Relationship Id="{0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="{1}"/>';var R1a='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="{0}"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="A1" sqref="A1"/></sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" defaultColWidth="15" x14ac:dyDescent="0.25"/><cols>{1}</cols><sheetData>{2}</sheetData>{3}<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>';b2L.CONTENT_TYPES_XML=O1a;b2L.CONTENT_TYPES_XML_SHEET=j1a;b2L._RELS=k1a;b2L.APP_XML=y1a;function b2L(){}b2L.CORE_XML=g1a;b2L.WORKBOOK_XML=a1a;b2L.WORKBOOK_XML_RELS=X1a;b2L.WORKBOOK_XML_RELS_SHEET=b1a;b2L.THEME=z1a;b2L.STYLES_XML=S1a;b2L.SHARED_STRING_XML=m1a;b2L.SHEET_XML=R1a;b2L.XML_HEADER=s1a;return b2L;}();X2L.XLSTemplates=a2L;}(xls||(xls={})));(function(z2L){(function(S2L){var m2L=function(s2L){var K1a="Measures";__extends(R2L,s2L);R2L.getInstance=function(){void T3yy.N5B==R2L.instance&&(R2L.instance=new R2L());return R2L.instance;};R2L.prototype.setSlice=function(K2L){var f1a="slice_changed";K2L.isEmpty&&z2L.model._options.OptionsManager.showDefaultSlice&&K2L.makeDefault();K2L&&!K2L.isEqual(this.slice_)&&this.dispatchWith(f1a);this.slice_=K2L;};R2L.prototype.rebaseConnection=function(){this.structure_&&(this.structure_.isComplete=!T3yy.I5B,this.removeAllCalculatedMeasures());for(var v2L=this.structure_.allHierarchies(!T3yy.I5B),E2L=T3yy.N5B;E2L<v2L.length;E2L++){var Y2L=v2L.getItemAt(E2L);Y2L.clearFilter();Y2L.clearSort(z2L.model._options.OptionsManager.flatView);}this.slice_&&this.slice_.clear();this.dispatchStructureLoaded();};R2L.prototype.connect=function(p2L){var W2L=this;utils.nullOrUndefined(this.__structureLoader)||this.__structureLoader.cancel();this.__structureLoader=S2L.StructureLoaderFactory.getStructureLoader(p2L);this.__structureLoader.load(p2L,function(){return W2L.dispatchStructureLoaded();},function(){W2L.dispatchWith(S2L.DataEvent.STRUCTURE_LOADING_FAILED);},function(){W2L.cancel(!T3yy.I5B);W2L.connectionInfo_=p2L;W2L.structureLoader=W2L.__structureLoader;W2L.localDataStorage=new S2L.LocalDataStorage(W2L);W2L.__structureLoader=T3yy.r0B;W2L.localDataStorage.datePattern=z2L.model._options.OptionsManager.datePattern;W2L.localDataStorage.dateTimePattern=z2L.model._options.OptionsManager.dateTimePattern;T3yy.r0B!=W2L.structure_&&W2L.structure_.clear();W2L.structure_=new S2L._structure.GenericStructure();W2L.structure_.localDataStorage=W2L.localDataStorage;W2L.dispatchWith(S2L.DataEvent.STRUCTURE_CONNECTED);},function(){W2L.dispatchWith(S2L.DataEvent.STRUCTURE_CANCELLED);});};R2L.prototype.dispatchStructureLoaded=function(){this.structure_.isComplete=!T3yy.N5B;this.dispatchWith(S2L.DataEvent.STRUCTURE_LOADED);};R2L.prototype.cancel=function(o2L){var r3u=T3yy;void r3u.N5B===o2L&&(o2L=!r3u.N5B);utils.ThreadManager.isRunning()&&utils.ThreadManager.cancel();this.structureLoader&&(this.structureLoader.cancel(),this.structureLoader=r3u.r0B);o2L&&this.structure_&&(this.structure_.clear(),this.structure_=r3u.r0B);o2L&&this.slice_&&(this.slice_.clear(),this.slice_=r3u.r0B);o2L&&this.localDataStorage&&(this.localDataStorage.clearAll(),this.localDataStorage=r3u.r0B);};R2L.prototype.dispatchQueryComplete=function(){var w2L=new S2L.QueryCompleteEvent(this.queryType);this.dispatch(w2L);};R2L.prototype.dispatchQueryError=function(){this.dispatchWith(S2L.DataEvent.QUERY_ERROR);};R2L.prototype.filter=function(){this.queryType=S2L.consts.QueryType.FILTER;this.select();};R2L.prototype.clearSortValues=function(n2L){n2L.sortMeasure=T3yy.r0B;n2L.sortTuple=T3yy.r0B;n2L.sortType=S2L.consts.SortType.UNSORTED;n2L.totalSortType=S2L.consts.SortType.UNSORTED;n2L.totalSortMeasure=T3yy.r0B;};R2L.prototype.sort=function(){this.dispatchQueryComplete();};R2L.prototype.expand=function(A2L,l2L,d2L,c2L){var L3u=T3yy;void L3u.N5B===d2L&&(d2L=L3u.r0B);void L3u.N5B===c2L&&(c2L=!L3u.N5B);this._tuple=A2L;this._axisName=l2L;this._measure=d2L;this.queryType=S2L.consts.QueryType.EXPAND;var h2L=new S2L.BeforeQueryEvent(S2L.consts.QueryType.EXPAND);this.dispatch(h2L);this.localDataStorage.expand(A2L,l2L,d2L);c2L&&this.dispatchQueryComplete();};R2L.prototype.collapse=function(V2L,U2L,M2L,H2L){var N3u=T3yy;void N3u.N5B===M2L&&(M2L=N3u.r0B);void N3u.N5B===H2L&&(H2L=!N3u.N5B);this.localDataStorage.collapse(V2L,U2L,M2L);this.query=new S2L.Query();this.queryType=this.query.type=S2L.consts.QueryType.COLLAPSE;H2L&&this.dispatchQueryComplete();};R2L.prototype.drillDown=function(G2L,x2L,r2L,t2L){void T3yy.N5B===t2L&&(t2L=T3yy.r0B);this._tuple=G2L;this._axisName=r2L;this._measure=t2L;this._member=x2L;this._levelName=void T3yy.N5B;x2L.hierarchy_.drillDownMember(x2L);this.queryType=S2L.consts.QueryType.DRILL_DOWN;var q2L=new S2L.BeforeQueryEvent(S2L.consts.QueryType.DRILL_DOWN);this.dispatch(q2L);this.localDataStorage.drillDown(G2L,x2L,r2L,t2L);this.dispatchQueryComplete();};R2L.prototype.drillUp=function(L2L,N2L,i2L,I2L){void T3yy.N5B===I2L&&(I2L=T3yy.r0B);N2L.hierarchy_.drillUpMember(N2L);this.localDataStorage.drillUp(L2L,N2L,i2L,I2L);this.query=new S2L.Query();this.queryType=this.query.type=S2L.consts.QueryType.DRILL_UP;L2L=new S2L.BeforeQueryEvent(S2L.consts.QueryType.DRILL_UP);this.dispatch(L2L);this.dispatchQueryComplete();};R2L.prototype.select=function(){var T8L=new S2L.BeforeQueryEvent(this.queryType==S2L.consts.QueryType.FILTER?this.queryType:S2L.consts.QueryType.SELECT);this.dispatch(T8L);for(T8L=T3yy.N5B;T8L<this.slice_.pages.length;T8L++)this.slice_.pages.getItemAt(T8L).clearValuesFilter();this.structure_.measures_.length>this.localDataStorage.factKeys.length&&this.addCalculatedMeasuresToDataStorage();this.localDataStorage.filter();this.localDataStorage.select();this.dispatchQueryComplete();};R2L.prototype.addCalculatedMeasuresToDataStorage=function(){var F7u=T3yy;for(var C8L=F7u.N5B;C8L<this.structure_.measures_.length;C8L++){var J8L=this.structure_.measures_.getItemAt(C8L);if(J8L.calculated){for(var Q8L=!F7u.N5B,F8L=F7u.N5B;F8L<this.localDataStorage.factKeys.length;F8L++)this.localDataStorage.factKeys[F8L].toString()==J8L.uniqueName&&(Q8L=!F7u.I5B);Q8L&&this.localDataStorage.addFactKey(J8L.uniqueName,J8L.params,J8L.individual);}}this.slice_.axisWithMeasures.sortToSet&&(C8L=this.slice_.axisWithMeasures.sortToSet,(J8L=this.structure_.findMeasure(C8L.measure))&&this.slice_.axisWithMeasures.setSort(J8L,C8L.tuple,C8L.type));};R2L.prototype.addCalculatedMeasure=function(u8L){if(T3yy.r0B==this.structure_.findMeasure(u8L.uniqueName)){if(u8L.calculated){var Z8L=new utils.Lexer();u8L.params=Z8L.parse(u8L.formula);}u8L.calculated&&T3yy.r0B==u8L.params||(this.structure_.measuresHierarchy&&this.structure_.addMeasure(u8L),u8L.calculated?this.localDataStorage.addFactKey(u8L.uniqueName,u8L.params,u8L.individual):this.localDataStorage.addFactKey(u8L.uniqueName),this.structure_.isComplete&&this.refresh());}else Z8L=new utils.Lexer(),u8L.params=Z8L.parse(u8L.formula),u8L.calculated&&T3yy.r0B==u8L.params||(this.localDataStorage.updateFactKey(u8L.uniqueName,u8L.params,u8L.individual),Z8L=this.structure_.findMeasure(u8L.uniqueName),Z8L.caption=u8L.caption,Z8L.formula=u8L.formula,Z8L.individual=u8L.individual,Z8L.params=u8L.params,this.structure_.isComplete&&this.refresh());};R2L.prototype.removeCalculatedMeasure=function(D8L,e8L){void T3yy.N5B===e8L&&(e8L=!T3yy.N5B);var P8L=this.structure_.findMeasure(D8L);P8L&&P8L.calculated&&(this.structure_.removeMeasure(D8L),this.localDataStorage.removeFactKey(D8L),this.slice_.removeMeasure(D8L),e8L&&this.structure_.isComplete&&this.refresh());};R2L.prototype.removeAllCalculatedMeasures=function(){for(var B8L=T3yy.N5B;B8L<this.structure_.measures_.length;){var O8L=this.structure_.measures_.getItemAt(B8L);O8L.calculated?this.removeCalculatedMeasure(O8L.uniqueName,!T3yy.I5B):B8L++;}this.structure_.isComplete&&this.refresh();};R2L.prototype.refresh=function(){this.structure_.isComplete?(this.connectionInfo_.dataSourceType==S2L.consts.DataSourceType.EMPTY&&utils.nullOrUndefined(this.slice_)&&this.dispatchStructureLoaded(),this.filter()):this.connectionInfo_.dataSourceType==S2L.consts.DataSourceType.EMPTY&&this.dispatchStructureLoaded();};function R2L(){var f2L=s2L.call(this)||this;f2L.queryType=S2L.consts.QueryType.SELECT;if(T3yy.r0B!=R2L.instance)throw Error(C3yy.m2B);return f2L;}R2L.prototype.loadMemberChildren=function(k8L,y8L,g8L){var j8L=this;this.structureLoader.loadMemberChildren(k8L,y8L,g8L,function(){return j8L.dispatchQueryError();});};R2L.prototype.updateData=function(a8L){this.structureLoader.updateData(a8L);this.dispatchStructureLoaded();};R2L.prototype.dispose=function(){var h0u=T3yy;utils.ThreadManager.dispose();try{this.structure_.clear();}catch(X8L){}this.slice_=this.structure_=h0u.r0B;try{this.localDataStorage.clearAll();}catch(b8L){}this.localDataStorage=h0u.r0B;try{this.structureLoader.cancel();}catch(z8L){}this.structureLoader=h0u.r0B;try{this.__structureLoader.cancel();}catch(S8L){}this.__structureLoader=h0u.r0B;R2L.instance=h0u.r0B;};R2L.MEASURES_NAME=K1a;return R2L;}(events.EventDispatcher);S2L.Cube=m2L;}(z2L.data_||(z2L.data_={})));}(pivot||(pivot={})));(function(m8L){var s8L=function(){var d0a=T3yy;var w1a="95324584047357";var o1a="Version 1.1.0";Object.defineProperty(f8L.prototype,F3yy.D1a,{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportComplete;},enumerable:!d0a.N5B,configurable:!d0a.N5B});Object.defineProperty(f8L.prototype,F3yy.e1a,{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportDefined;},enumerable:!d0a.N5B,configurable:!d0a.N5B});f8L.prototype.runDelayedCalls=function(){var p8L=this;utils.fmSetTimeout(function(){for(;d0a.N5B<p8L.delayedApiCallsOnReportReady.length;)p8L.delayedApiCallsOnReportReady.shift().call(p8L);},d0a.I5B);};f8L.prototype.delayApiCall=function(w8L,o8L){void d0a.N5B===o8L&&(o8L=d0a.I5B);d0a.N5B==o8L?this.delayedApiCallsOnReportDefined.push(w8L):this.delayedApiCallsOnReportReady.push(w8L);};f8L.prototype.onOpeningReportFile=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.OPENING_REPORT_FILE));};f8L.prototype.onLoadingReportFile=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.LOADING_REPORT_FILE));};f8L.prototype.onReportFileLoaded=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.REPORT_FILE_LOADED));};f8L.prototype.onReportFileError=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.REPORT_FILE_ERROR));};f8L.prototype.onReportFileCancelled=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.REPORT_FILE_CANCELLED));};f8L.prototype.onReportDefined=function(){for(this.model_.state_.reportType==m8L.model._state.ReportType.INIT&&utils.fmSetTimeout(function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.READY));},d0a.I5B);d0a.N5B<this.delayedApiCallsOnReportDefined.length;)this.delayedApiCallsOnReportDefined.shift().call(this);};f8L.prototype.onLoadingLocalization=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.LOADING_LOCALIZATION));};f8L.prototype.onLocalizationLoaded=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.LOCALIZATION_LOADED));};f8L.prototype.onLocalizationError=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.LOCALIZATION_ERROR));};f8L.prototype.onLoadingData=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.LOADING_DATA));};f8L.prototype.onDataLoaded=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.DATA_LOADED));};f8L.prototype.onDataFileCancelled=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.DATA_FILE_CANCELLED));};f8L.prototype.onDataError=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.DATA_ERROR));};f8L.prototype.onEmptySlice=function(){};f8L.prototype.onRunningQuery=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.RUNNING_QUERY));};f8L.prototype.onQueryComplete=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.QUERY_COMPLETE));m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.UPDATE));};f8L.prototype.onQueryError=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.QUERY_ERROR));};f8L.prototype.onReportComplete=function(){};f8L.prototype.onBeforeGridDraw=function(n8L){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.BEFORE_GRID_DRAW,n8L.data));};f8L.prototype.onRenderComplete=function(){var d8L=this;this.isReportComplete&&this.model_.state_.reportType!=m8L.model._state.ReportType.COMPLETE&&utils.fmSetTimeout(function(){d8L.runDelayedCalls();d8L.model_.state_.reportType=m8L.model._state.ReportType.COMPLETE;m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.REPORT_COMPLETE));},d0a.I5B);};f8L.prototype.onExportStart=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.EXPORT_START));};f8L.prototype.onExportComplete=function(){utils.fmSetTimeout(function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.EXPORT_COMPLETE));},d0a.I5B);};f8L.prototype.onPrintStart=function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.PRINT_START));};f8L.prototype.onPrintComplete=function(){utils.fmSetTimeout(function(){m8L.model.JavaScriptHandlers.getInstance().dispatch(new m8L.model.APIEvent(m8L.model.JavaScriptHandlers.PRINT_COMPLETE));},d0a.I5B);};f8L.prototype.getAllConditions=function(){return this.isReportComplete?this.model_.getAllConditions():d0a.r0B;};f8L.prototype.getCondition=function(c8L){return this.isReportComplete?this.model_.getCondition(c8L):d0a.r0B;};f8L.prototype.addCondition=function(A8L){var l8L=this;this.isReportComplete?d0a.r0B!=A8L&&this.model_.addCondition(A8L):this.delayApiCall(function(){return l8L.addCondition(A8L);});};f8L.prototype.removeCondition=function(h8L){var M8L=this;this.isReportComplete?this.model_.removeCondition(h8L):this.delayApiCall(function(){return M8L.removeCondition(h8L);});};f8L.prototype.removeAllConditions=function(){var H8L=this;this.isReportComplete?this.model_.removeAllConditions():this.delayApiCall(function(){return H8L.removeAllConditions();});};f8L.prototype.open=function(){this.model_.open();};f8L.prototype.load=function(V8L){this.model_.load(V8L);};f8L.prototype.getReport=function(U8L){return this.model_.getReport(U8L).toObject();};f8L.prototype.setReport=function(x8L){if(d0a.q9B==typeof x8L)try{x8L=JSON.parse(x8L);}catch(t8L){m8L.uialert(m8L.model._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT,m8L.model._labels.Labels.ERROR,m8L.AlertType.ERROR);return;}this.model_.setReport({report:x8L});};f8L.prototype.getData=function(G8L,r8L,q8L){var L8L=this;this.isReportComplete?this.model_.getData(G8L,r8L,q8L):this.delayApiCall(function(){return L8L.getData(G8L,r8L,q8L);});};f8L.prototype.save=function(I8L,i8L,T3B,C3B,J3B){var E1a="callbackHandler";var F3B=this;void d0a.N5B===I8L&&(I8L={filename:C3yy.d1t});void d0a.N5B===i8L&&(i8L=d0a.r0B);void d0a.N5B===T3B&&(T3B=d0a.r0B);void d0a.N5B===C3B&&(C3B=d0a.r0B);void d0a.N5B===J3B&&(J3B=!d0a.I5B);var N8L=T3B;this.isReportComplete?(I8L instanceof Object&&I8L.hasOwnProperty(E1a)&&(N8L=I8L.callbackHandler),d0a.r0B!=N8L&&d0a.q9B==typeof N8L&&(N8L=m8L.model.JavaScriptHandlers.getFunctionByName(N8L)),this.model_.save(I8L,i8L,d0a.r0B!=N8L?function(Q3B){return N8L(Q3B);}:d0a.r0B,C3B,J3B)):this.delayApiCall(function(){return F3B.save(I8L,i8L,T3B,C3B,J3B);});};f8L.prototype.updateData=function(Z3B,u3B){var D3B=this;d0a.r0B!=Z3B&&(utils.nullOrUndefined(u3B)?u3B={partial:!d0a.I5B}:C3yy.y8B==typeof u3B&&(u3B={partial:u3B}),this.isReportDefined?this.model_.updateData(Z3B,u3B):this.delayApiCall(function(){return D3B.updateData(Z3B,u3B);},d0a.N5B));};f8L.prototype.connectTo=function(e3B){var P3B=this;d0a.r0B!=e3B&&(this.isReportDefined?this.model_.connectTo(e3B):this.delayApiCall(function(){return P3B.connectTo(e3B);},d0a.N5B));};f8L.prototype.addCalculatedMeasure=function(B3B){var O3B=this;this.isReportComplete?d0a.r0B!=B3B&&this.model_.addCalculatedMeasure(m8L.data_._structure.GenericMeasure.fromObject(B3B)):this.delayApiCall(function(){return O3B.addCalculatedMeasure(B3B);});};f8L.prototype.removeCalculatedMeasure=function(j3B){var k3B=this;this.isReportComplete?this.model_.removeCalculatedMeasure(j3B):this.delayApiCall(function(){return k3B.removeCalculatedMeasure(j3B);});};f8L.prototype.removeAllCalculatedMeasures=function(){var y3B=this;this.isReportComplete?this.model_.removeAllCalculatedMeasures():this.delayApiCall(function(){return y3B.removeAllCalculatedMeasures();});};f8L.prototype.clear=function(){var g3B=this;this.isReportComplete?this.model_.clear():this.delayApiCall(function(){return g3B.clear();});};f8L.prototype.dispose=function(){utils.fmdocument.dispose();utils.fmwindow.dispose();utils.Timers.dispose();this.model_.dispose();this.view_.dispose();this.model_=this.view_=d0a.r0B;f8L.instance=d0a.r0B;m8L.model.JavaScriptHandlers.dispose();};f8L.prototype.refresh=function(){var a3B=this;this.isReportComplete?this.view_.draw():this.delayApiCall(function(){return a3B.refresh();});};f8L.prototype.expandAllData=function(X3B){var b3B=this;void d0a.N5B===X3B&&(X3B=!d0a.N5B);this.isReportComplete?this.model_.expandAllData(X3B):this.delayApiCall(function(){return b3B.expandAllData(X3B);});};f8L.prototype.expandData=function(z3B){var S3B=this;this.isReportComplete?this.model_.expandData(z3B):this.delayApiCall(function(){return S3B.expandData(z3B);});};f8L.prototype.collapseAllData=function(){var m3B=this;this.isReportComplete?this.model_.collapseAllData():this.delayApiCall(function(){return m3B.collapseAllData();});};f8L.prototype.collapseData=function(R3B){var s3B=this;this.isReportComplete?this.model_.collapseData(R3B):this.delayApiCall(function(){return s3B.collapseData(R3B);});};f8L.prototype.print=function(f3B){var K3B=this;void d0a.N5B===f3B&&(f3B=d0a.r0B);this.isReportComplete?this.model_.print(m8L.model.printing.PrintOptions.fromObject(f3B)):this.delayApiCall(function(){return K3B.print(f3B);});};f8L.prototype.exportTo=function(Y3B,v3B,E3B){var W3B=this;void d0a.N5B===v3B&&(v3B=d0a.r0B);void d0a.N5B===E3B&&(E3B=d0a.r0B);if(this.isReportComplete){if(d0a.r0B!=Y3B){d0a.r0B!=E3B&&d0a.q9B==typeof E3B&&(E3B=m8L.model.JavaScriptHandlers.getFunctionByName(E3B));var p3B=d0a.r0B!=E3B?function(){for(var w3B=[],o3B=d0a.N5B;o3B<arguments.length;o3B++)w3B[o3B]=arguments[o3B];return E3B.apply(d0a.r0B,w3B);}:d0a.r0B;this.model_.exportTo(Y3B,m8L.model._export.ExportOptions.fromObject(v3B),p3B);}}else this.delayApiCall(function(){return W3B.exportTo(Y3B,v3B,E3B);});};f8L.prototype.getFilter=function(n3B){return this.isReportComplete?this.model_.getFilter(n3B):d0a.r0B;};f8L.prototype.getFilterProperties=function(d3B){return this.isReportComplete?this.model_.getFilterProperties(d3B):d0a.r0B;};f8L.prototype.setFilter=function(A3B,l3B,c3B){var h3B=this;void d0a.N5B===c3B&&(c3B=!d0a.I5B);this.isReportComplete?this.model_.setFilter(A3B,l3B,c3B):this.delayApiCall(function(){return h3B.setFilter(A3B,l3B,c3B);});};f8L.prototype.clearFilter=function(M3B){var H3B=this;this.isReportComplete?this.model_.clearFilter(M3B):this.delayApiCall(function(){return H3B.clearFilter(M3B);});};f8L.prototype.on=function(U3B,V3B){d0a.q9B==typeof V3B&&(V3B=m8L.model.JavaScriptHandlers.getFunctionByName(V3B));m8L.model.JavaScriptHandlers.getInstance().addEventListener(U3B,V3B);};f8L.prototype.off=function(t3B,x3B){d0a.q9B==typeof x3B&&(x3B=m8L.model.JavaScriptHandlers.getFunctionByName(x3B));d0a.r0B==x3B?m8L.model.JavaScriptHandlers.getInstance().removeAllEventListeners(t3B):m8L.model.JavaScriptHandlers.getInstance().removeEventListener(t3B,x3B);};f8L.prototype.getRows=function(){return this.isReportComplete?this.model_.getRows():d0a.r0B;};f8L.prototype.getColumns=function(){return this.isReportComplete?this.model_.getColumns():d0a.r0B;};f8L.prototype.getPages=function(){return this.isReportComplete?this.model_.getPages():d0a.r0B;};f8L.prototype.getMeasures=function(){return this.isReportComplete?this.model_.getMeasures():d0a.r0B;};function f8L(E8L,Y8L){var p1a="WebDataRocks Reporting Component:\nUnable to create the component. DOM element is null.";var W1a="' is not found.";var Y1a="WebDataRocks Reporting Component:\nUnable to create the component. DOM element with id '";var v1a="WebDataRocks Reporting Component is not completely supported by this version of browser. Please update your browser. Continue anyway?";var K8L=this;this.isCreationComplete=!d0a.I5B;this.api=d0a.r0B;this.delayedApiCallsOnReportDefined=[];this.delayedApiCallsOnReportReady=[];d0a.r0B!=f8L.instance&&f8L.instance.dispose();f8L.instance=this;this.api=Y8L;utils.nullOrUndefined(E8L)&&(E8L={});if(!d0a.I5B!=utils.isHTML5Supported()||!d0a.I5B!=confirm(v1a)){var v8L;E8L.container instanceof HTMLElement?v8L=E8L.container:utils.nullOrUndefined(E8L.container)||(v8L=C3yy.O3J==E8L.container.substr(d0a.N5B,d0a.I5B)?E8L.container.substring(d0a.I5B):E8L.container,v8L=document.getElementById(v8L));d0a.r0B==v8L?(v8L=!d0a.I5B==utils.nullOrEmpty(E8L.container)?Y1a+E8L.container+W1a:p1a,console.error(v8L),alert(v8L)):(this.model_=m8L.model.PivotModel.getInstance(),this.model_.state_.addEventListener(m8L.model._state.StateEvent.OPENING_REPORT_FILE,function(){return K8L.onOpeningReportFile();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.LOADING_REPORT_FILE,function(){return K8L.onLoadingReportFile();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.REPORT_FILE_LOADED,function(){return K8L.onReportFileLoaded();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.REPORT_FILE_ERROR,function(){return K8L.onReportFileError();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.REPORT_FILE_CANCELLED,function(){return K8L.onReportFileCancelled();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.REPORT_DEFINED,function(){return K8L.onReportDefined();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.LOADING_DATA,function(){return K8L.onLoadingData();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.DATA_LOADED,function(){return K8L.onDataLoaded();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.DATA_ERROR,function(){return K8L.onDataError();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.DATA_FILE_CANCELLED,function(){return K8L.onDataFileCancelled();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.LOADING_LOCALIZATION,function(){return K8L.onLoadingLocalization();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.LOCALIZATION_LOADED,function(){return K8L.onLocalizationLoaded();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.LOCALIZATION_ERROR,function(){return K8L.onLocalizationError();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.EMPTY_SLICE,function(){return K8L.onEmptySlice();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.RUNNING_QUERY,function(){return K8L.onRunningQuery();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.QUERY_COMPLETE,function(){return K8L.onQueryComplete();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.QUERY_ERROR,function(){return K8L.onQueryError();}),this.model_.state_.addEventListener(m8L.model._state.StateEvent.REPORT_COMPLETE,function(){return K8L.onReportComplete();}),this.model_.addEventListener(R8L.EXPORT,function(){return K8L.onExportStart();}),this.model_.addEventListener(R8L.EXPORT_COMPLETE,function(){return K8L.onExportComplete();}),this.model_.addEventListener(R8L.PRINT,function(){return K8L.onPrintStart();}),this.model_.addEventListener(R8L.PRINT_COMPLETE,function(){return K8L.onPrintComplete();}),this.view_=new m8L._view.PivotView(uicontrols.UIElement.convert(v8L),E8L),this.view_.addEventListener(m8L._view.ViewEvent.BEFORE_GRID_DRAW,function(W8L){return K8L.onBeforeGridDraw(W8L);}),this.view_.addEventListener(m8L._view.ViewEvent.RENDER_COMPLETE,function(){return K8L.onRenderComplete();}),this.model_.init(E8L),this.isCreationComplete=!d0a.N5B);}}f8L.prototype.getAllMeasures=function(){return this.isReportComplete?this.model_.getAllMeasures():d0a.r0B;};f8L.prototype.sortValues=function(G3B,r3B,q3B,L3B){var N3B=this;this.isReportComplete?this.model_.sortValues(G3B,r3B,q3B,L3B):this.delayApiCall(function(){return N3B.sortValues(G3B,r3B,q3B,L3B);});};f8L.prototype.setSort=function(I3B,i3B){var T7B=this;this.isReportComplete?this.model_.setSort(I3B,i3B):this.delayApiCall(function(){return T7B.setSort(I3B,i3B);});};f8L.prototype.getSort=function(C7B){return this.isReportComplete?this.model_.getSort(C7B):d0a.r0B;};f8L.prototype.setTopX=function(J7B,F7B,Q7B){var u7B=this;this.isReportComplete?this.model_.setTopX(J7B,F7B,Q7B):this.delayApiCall(function(){return u7B.setTopX(J7B,F7B,Q7B);});};f8L.prototype.setBottomX=function(Z7B,D7B,e7B){var P7B=this;this.isReportComplete?this.model_.setBottomX(Z7B,D7B,e7B):this.delayApiCall(function(){return P7B.setBottomX(Z7B,D7B,e7B);});};f8L.prototype.getOptions=function(){return this.isReportComplete?this.model_.getOptions():d0a.r0B;};f8L.prototype.setOptions=function(B7B){var O7B=this;this.isReportComplete?this.model_.setOptions(B7B):this.delayApiCall(function(){return O7B.setOptions(B7B);});};f8L.prototype.getMembers=function(k7B,y7B,j7B){var g7B=this;if(this.isReportComplete)return d0a.q9B==typeof j7B&&(j7B=m8L.model.JavaScriptHandlers.getFunctionByName(j7B)),this.model_.getMembers(k7B,y7B,j7B);this.delayApiCall(function(){return g7B.getMembers(k7B,y7B,j7B);});};f8L.prototype.runQuery=function(a7B){var X7B=this;this.isReportComplete?d0a.r0B!=a7B&&this.model_.runQuery(a7B):this.delayApiCall(function(){return X7B.runQuery(a7B);});};f8L.prototype.getAllHierarchies=function(){return this.isReportComplete?this.model_.getAllHierarchies():d0a.r0B;};f8L.prototype.replaceHierarchyCaption=function(b7B){var z7B=this;this.isReportComplete?this.model_.replaceHierarchyCaption(b7B):this.delayApiCall(function(){return z7B.replaceHierarchyCaption(b7B);});};f8L.prototype.getFormat=function(S7B){return this.isReportComplete?this.model_.getFormat(S7B):d0a.r0B;};f8L.prototype.setFormat=function(m7B,R7B){var s7B=this;this.isReportComplete?d0a.r0B!=m7B&&this.model_.setFormat(m7B,R7B):this.delayApiCall(function(){return s7B.setFormat(m7B,R7B);});};f8L.prototype.getCell=function(f7B,K7B){return this.isReportComplete?this.view_.getCell(f7B,K7B):d0a.r0B;};f8L.prototype.getSelectedCell=function(){return this.isReportComplete?this.view_.getSelectedCell():d0a.r0B;};f8L.prototype.setSelectedCell=function(E7B,v7B){var Y7B=this;this.isReportComplete?this.view_.setSelectedCell(E7B,v7B):this.delayApiCall(function(){return Y7B.setSelectedCell(E7B,v7B);});};f8L.prototype.removeSelection=function(){var W7B=this;this.isReportComplete?this.view_.removeSelection():this.delayApiCall(function(){return W7B.removeSelection();});};f8L.prototype.openFieldsList=function(){var p7B=this;this.isCreationComplete?this.view_.openFieldsList():this.delayApiCall(function(){return p7B.openFieldsList();});};f8L.prototype.closeFieldsList=function(){var o7B=this;this.isCreationComplete?this.view_.closeFieldsList():this.delayApiCall(function(){return o7B.closeFieldsList();});};f8L.prototype.customizeCell=function(w7B){m8L._view.grid.vo.GridCell.customizeCellFunction=w7B;this.isCreationComplete&&this.refresh();};f8L.BUILD_VERSION=o1a;f8L.BUILD_DATE=w1a;return f8L;}();m8L.Pivot=s8L;var R8L=function(){var n1a="print";n7B.PRINT=n1a;function n7B(){}n7B.PRINT_COMPLETE=C3yy.d5J;n7B.EXPORT=C3yy.R5t;n7B.EXPORT_COMPLETE=C3yy.w5J;return n7B;}();m8L.PivotEvent=R8L;}(pivot||(pivot={})));this.PivotApi=PivotApi;return this["PivotApi"](p)};
/** @license FileSaver.js | Copyright (c) 2016 Eli Grey [https://github.com/eligrey/FileSaver.js] | MIT License [https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md] */
var savingAs=savingAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var k=a.document,n=k.createElementNS("http://www.w3.org/1999/xhtml","a"),w="download"in n,x=function(c){var e=k.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(e)},q=a.webkitRequestFileSystem,u=a.requestFileSystem||q||a.mozRequestFileSystem,
y=function(c){(a.setImmediate||a.setTimeout)(function(){throw c;},0)},r=0,s=function(c){var e=function(){"string"===typeof c?(a.URL||a.webkitURL||a).revokeObjectURL(c):c.remove()};a.chrome?e():setTimeout(e,500)},t=function(c,a,d){a=[].concat(a);for(var b=a.length;b--;){var l=c["on"+a[b]];if("function"===typeof l)try{l.call(c,d||c)}catch(f){y(f)}}},m=function(c,e){var d=this,b=c.type,l=!1,f,p,k=function(){t(d,["writestart","progress","write","writeend"])},g=function(){if(l||!f)f=(a.URL||a.webkitURL||
a).createObjectURL(c);p?p.location.href=f:void 0==a.open(f,"_blank")&&"undefined"!==typeof safari&&(a.location.href=f);d.readyState=d.DONE;k();s(f)},h=function(a){return function(){if(d.readyState!==d.DONE)return a.apply(this,arguments)}},m={create:!0,exclusive:!1},v;d.readyState=d.INIT;e||(e="download");if(w)f=(a.URL||a.webkitURL||a).createObjectURL(c),n.href=f,n.download=e,x(n),d.readyState=d.DONE,k(),s(f);else{a.chrome&&b&&"application/octet-stream"!==b&&(v=c.slice||c.webkitSlice,c=v.call(c,0,
c.size,"application/octet-stream"),l=!0);q&&"download"!==e&&(e+=".download");if("application/octet-stream"===b||q)p=a;u?(r+=c.size,u(a.TEMPORARY,r,h(function(a){a.root.getDirectory("saved",m,h(function(a){var b=function(){a.getFile(e,m,h(function(a){a.createWriter(h(function(b){b.onwriteend=function(b){p.location.href=a.toURL();d.readyState=d.DONE;t(d,"writeend",b);s(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&g()};["writestart","progress","write","abort"].forEach(function(a){b["on"+
a]=d["on"+a]});b.write(c);d.abort=function(){b.abort();d.readyState=d.DONE};d.readyState=d.WRITING}),g)}),g)};a.getFile(e,{create:!1},h(function(a){a.remove();b()}),h(function(a){a.code===a.NOT_FOUND_ERR?b():g()}))}),g)}),g)):g()}},b=m.prototype;b.abort=function(){this.readyState=this.DONE;t(this,"abort")};b.readyState=b.INIT=0;b.WRITING=1;b.DONE=2;b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null;return function(a,b){return new m(a,b)}}}("undefined"!==typeof self&&
self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&null!==module?module.exports=savingAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define("savingAs",function(){return savingAs});
/** @license jsPDF v1.4.1 | Copyright (c) 2010-2016 James Hall <james@parall.ax> [https://github.com/MrRio/jsPDF] | MIT License [https://github.com/MrRio/jsPDF/blob/master/MIT-LICENSE.txt] */
var u4b={'T4':256,'f4':"helvetica",'K3':' 0 R','P4':"http://www.w3.org/1999/xhtml",'C3':"function",'r4':'endobj','e4':"italic",'N4':'object','X3':'>>','d4':'function','B4':'number','L4':"bold",'G4':0.264583,'L3':'putXobjectDict','U3':'undefined','A3':'postPutResources','M3':" ",'p3':"undefined",'E4':'putResources','K4':false,'u3':"times",'F3':'addPage','U4':255,'n4':"string",'q3':'Unicode','V3':'string','w4':"normal",'A4':'right','H4':"courier",'p4':null,'q4':true,'D4':' ','I3':"application/octet-stream"};var jsPDF=(function(r1){'use strict';var p2='1.3',s2={'a0':[2383.94,3370.39],'a1':[1683.78,2383.94],'a2':[1190.55,1683.78],'a3':[841.89,1190.55],'a4':[595.28,841.89],'a5':[419.53,595.28],'a6':[297.64,419.53],'a7':[209.76,297.64],'a8':[147.40,209.76],'a9':[104.88,147.40],'a10':[73.70,104.88],'b0':[2834.65,4008.19],'b1':[2004.09,2834.65],'b2':[1417.32,2004.09],'b3':[1000.63,1417.32],'b4':[708.66,1000.63],'b5':[498.90,708.66],'b6':[354.33,498.90],'b7':[249.45,354.33],'b8':[175.75,249.45],'b9':[124.72,175.75],'b10':[87.87,124.72],'c0':[2599.37,3676.54],'c1':[1836.85,2599.37],'c2':[1298.27,1836.85],'c3':[918.43,1298.27],'c4':[649.13,918.43],'c5':[459.21,649.13],'c6':[323.15,459.21],'c7':[229.61,323.15],'c8':[161.57,229.61],'c9':[113.39,161.57],'c10':[79.37,113.39],'dl':[311.81,623.62],'letter':[612,792],'government-letter':[576,756],'legal':[612,1008],'junior-legal':[576,360],'ledger':[1224,792],'tabloid':[792,1224],'credit-card':[153,243]};function k2(s){var t={};this.subscribe=function(g,j,m){if(typeof j!==u4b.d4){return u4b.K4;}if(!t.hasOwnProperty(g)){t[g]={};}var n=Math.random().toString(35);t[g][n]=[j,!!m];return n;};this.unsubscribe=function(g){for(var j in t){if(t[j][g]){delete  t[j][g];return u4b.q4;}}return u4b.K4;};this.publish=function(j){if(t.hasOwnProperty(j)){var m=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[j]){var q=t[j][o];try{q[0].apply(s,m);}catch(g){if(r1.console){console.error('jsPDF PubSub Error',g.message,g);}}if(q[1])n.push(o);}if(n.length)n.forEach(this.unsubscribe);}};}function w1(U,Y,W,Q){var s0="' is not recognized. See or extend .CapJoinStyles property for valid styles",k0={};if(typeof U===u4b.N4){k0=U;U=k0.orientation;Y=k0.unit||Y;W=k0.format||W;Q=k0.compress||k0.compressPdf||Q;}Y=Y||'mm';W=W||'a4';U=(''+(U||'P')).toLowerCase();var m0=(''+W).toLowerCase(),j0=!!Q&&typeof Uint8Array===u4b.d4,e0=k0.textColor||'0 g',R=k0.drawColor||'0 G',S=k0.fontSize||16,y0=k0.lineHeight||1.15,f0=k0.lineWidth||0.200025,v0=2,z0=!1,C0=[],Z={},I0={},w0,l0,U0,O0=0,D0,N0=[],t1={},x1=[],W0=0,q1=0,Q0=0,f1,F0,E1,o1,u1,X0={'title':'','subject':'','author':'','keywords':'','creator':''},B0={},i1=new k2(B0),q0=function(g){return g.toFixed(2);},K0=function(g){return g.toFixed(3);},H0=function(g){return ('0'+parseInt(g)).slice(-2);},g0=function(g){if(z0){N0[D0].push(g);}else{Q0+=g.length+1;x1.push(g);}},v1=function(){v0++;C0[v0]=Q0;g0(v0+' 0 obj');return v0;},H1=function(g){g0('stream');g0(g);g0('endstream');},W1=function(){var g,j,m,n,o,q,s,t,v;s=r1.adler32cs||w1.adler32cs;if(j0&&typeof s===u4b.U3){j0=u4b.K4;}for(g=1;g<=O0;g++){v1();t=(f1=t1[g].width)*l0;v=(F0=t1[g].height)*l0;g0('<</Type /Page');g0('/Parent 1 0 R');g0('/Resources 2 0 R');g0('/MediaBox [0 0 '+q0(t)+u4b.D4+q0(v)+']');g0('/Contents '+(v0+1)+' 0 R>>');g0(u4b.r4);j=N0[g].join('\n');v1();if(j0){m=[];n=j.length;while(n--){m[n]=j.charCodeAt(n);}q=s.from(j);o=new Deflater(6);o.append(new Uint8Array(m));j=o.flush();m=new Uint8Array(j.length+6);m.set(new Uint8Array([120,156])),m.set(j,2);m.set(new Uint8Array([q&0xFF,(q>>8)&0xFF,(q>>16)&0xFF,(q>>24)&0xFF]),j.length+2);j=String.fromCharCode.apply(u4b.p4,m);g0('<</Length '+j.length+' /Filter [/FlateDecode]>>');}else{g0('<</Length '+j.length+'>>');}H1(j);g0(u4b.r4);}C0[1]=Q0;g0('1 0 obj');g0('<</Type /Pages');var H='/Kids [';for(n=0;n<O0;n++){H+=(3+2*n)+' 0 R ';}g0(H+']');g0('/Count '+O0);g0(u4b.X3);g0(u4b.r4);},X1=function(g){g.objectNumber=v1();g0('<</BaseFont/'+g.PostScriptName+'/Type/Font');if(typeof g.encoding===u4b.V3){g0('/Encoding/'+g.encoding);}g0('/Subtype/Type1>>');g0(u4b.r4);},h1=function(){for(var g in Z){if(Z.hasOwnProperty(g)){X1(Z[g]);}}},I1=function(){i1.publish(u4b.L3);},Y1=function(){g0('/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]');g0('/Font <<');for(var g in Z){if(Z.hasOwnProperty(g)){g0('/'+g+u4b.D4+Z[g].objectNumber+u4b.K3);}}g0(u4b.X3);g0('/XObject <<');I1();g0(u4b.X3);},l1=function(){h1();i1.publish(u4b.E4);C0[2]=Q0;g0('2 0 obj');g0('<<');Y1();g0(u4b.X3);g0(u4b.r4);i1.publish(u4b.A3);},y1=function(g,j,m){if(!I0.hasOwnProperty(j)){I0[j]={};}I0[j][m]=g;},z2=function(g,j,m,n){var o='F'+(Object.keys(Z).length+1).toString(10),q=Z[o]={'id':o,'PostScriptName':g,'fontName':j,'fontStyle':m,'encoding':n,'metadata':{}};y1(o,j,m);i1.publish('addFont',q);return o;},U2=function(){var g=u4b.f4,j=u4b.u3,m=u4b.H4,n=u4b.w4,o=u4b.L4,q=u4b.e4,s="bolditalic",t='StandardEncoding',v=[['Helvetica',g,n],['Helvetica-Bold',g,o],['Helvetica-Oblique',g,q],['Helvetica-BoldOblique',g,s],['Courier',m,n],['Courier-Bold',m,o],['Courier-Oblique',m,q],['Courier-BoldOblique',m,s],['Times-Roman',j,n],['Times-Bold',j,o],['Times-Italic',j,q],['Times-BoldItalic',j,s]];for(var H=0,z=v.length;H<z;H++){var I=z2(v[H][0],v[H][1],v[H][2],t),K=v[H][0].split('-');y1(I,K[0],K[1]||'');}i1.publish('addFonts',{fonts:Z,dictionary:I0});},w2=function j3(n){n.foo=function o(){try{return n.apply(this,arguments);}catch(g){var j=g.stack||'';if(~j.indexOf(' at '))j=j.split(" at ")[1];var m="Error in function "+j.split("\n")[0].split('<')[0]+": "+g.message;if(r1.console){r1.console.error(m,g);if(r1.alert)alert(m);}else{throw  new Error(m);}}};n.foo.bar=n;return n.foo;},Z1=function(g,j){var m,n,o,q,s,t,v,H,z;j=j||{};o=j.sourceEncoding||u4b.q3;s=j.outputEncoding;if((j.autoencode||s)&&Z[w0].metadata&&Z[w0].metadata[o]&&Z[w0].metadata[o].encoding){q=Z[w0].metadata[o].encoding;if(!s&&Z[w0].encoding){s=Z[w0].encoding;}if(!s&&q.codePages){s=q.codePages[0];}if(typeof s===u4b.V3){s=q[s];}if(s){v=u4b.K4;t=[];for(m=0,n=g.length;m<n;m++){H=s[g.charCodeAt(m)];if(H){t.push(String.fromCharCode(H));}else{t.push(g[m]);}if(t[m].charCodeAt(0)>>8){v=u4b.q4;}}g=t.join('');}}m=g.length;while(v===undefined&&m!==0){if(g.charCodeAt(m-1)>>8){v=u4b.q4;}m--;}if(!v){return g;}t=j.noBOM?[]:[254,u4b.U4];for(m=0,n=g.length;m<n;m++){H=g.charCodeAt(m);z=H>>8;if(z>>8){throw  new Error("Character at position "+m+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");}t.push(z);t.push(H-(z<<8));}return String.fromCharCode.apply(undefined,t);},f2=function(g,j){return Z1(g,j).replace(/\\/g,'\\\\').replace(/\(/g,'\\(').replace(/\)/g,'\\)');},B2=function(){g0('/Producer (jsPDF '+w1.version+')');for(var g in X0){if(X0.hasOwnProperty(g)&&X0[g]){g0('/'+g.substr(0,1).toUpperCase()+g.substr(1)+' ('+f2(X0[g])+')');}}var j=new Date(),m=j.getTimezoneOffset(),n=m<0?'+':'-',o=Math.floor(Math.abs(m/60)),q=Math.abs(m%60),s=[n,H0(o),"'",H0(q),"'"].join('');g0(['/CreationDate (D:',j.getFullYear(),H0(j.getMonth()+1),H0(j.getDate()),H0(j.getHours()),H0(j.getMinutes()),H0(j.getSeconds()),s,')'].join(''));},X2=function(){g0('/Type /Catalog');g0('/Pages 1 0 R');if(!o1)o1='fullwidth';switch(o1){case 'fullwidth':g0('/OpenAction [3 0 R /FitH null]');break;case 'fullheight':g0('/OpenAction [3 0 R /FitV null]');break;case 'fullpage':g0('/OpenAction [3 0 R /Fit]');break;case 'original':g0('/OpenAction [3 0 R /XYZ null null 1]');break;default:var g=''+o1;if(g.substr(g.length-1)==='%')o1=parseInt(o1)/100;if(typeof o1===u4b.B4){g0('/OpenAction [3 0 R /XYZ null null '+q0(o1)+']');}}if(!u1)u1='continuous';switch(u1){case 'continuous':g0('/PageLayout /OneColumn');break;case 'single':g0('/PageLayout /SinglePage');break;case 'two':case 'twoleft':g0('/PageLayout /TwoColumnLeft');break;case 'tworight':g0('/PageLayout /TwoColumnRight');break;}if(E1){g0('/PageMode /'+E1);}i1.publish('putCatalog');},A2=function(){g0('/Size '+(v0+1));g0('/Root '+v0+u4b.K3);g0('/Info '+(v0-1)+u4b.K3);},V2=function(g,j){var m=typeof j===u4b.V3&&j.toLowerCase();if(typeof g===u4b.V3){var n=g.toLowerCase();if(s2.hasOwnProperty(n)){g=s2[n][0]/l0;j=s2[n][1]/l0;}}if(Array.isArray(g)){j=g[1];g=g[0];}if(m){switch(m.substr(0,1)){case 'l':if(j>g)m='s';break;case 'p':if(g>j)m='s';break;}if(m==='s'){U0=g;g=j;j=U0;}}z0=u4b.q4;N0[++O0]=[];t1[O0]={width:Number(g)||f1,height:Number(j)||F0};g2(O0);},M1=function(){V2.apply(this,arguments);g0(q0(f0*l0)+' w');g0(R);if(W0!==0){g0(W0+' J');}if(q1!==0){g0(q1+' j');}i1.publish(u4b.F3,{pageNumber:O0});},g2=function(g){if(g>0&&g<=O0){D0=g;f1=t1[g].width;F0=t1[g].height;}},r2=function(j,m){var n;j=j!==undefined?j:Z[w0].fontName;m=m!==undefined?m:Z[w0].fontStyle;try{n=I0[j][m];}catch(g){}if(!n){throw  new Error("Unable to look up font label for font '"+j+"', '"+m+"'. Refer to getFontList() for available fonts.");}return n;},h2=function(){z0=u4b.K4;v0=2;x1=[];C0=[];g0('%PDF-'+p2);W1();l1();v1();g0('<<');B2();g0(u4b.X3);g0(u4b.r4);v1();g0('<<');X2();g0(u4b.X3);g0(u4b.r4);var g=Q0,j,m="0000000000";g0('xref');g0('0 '+(v0+1));g0(m+' 65535 f ');for(j=1;j<=v0;j++){g0((m+C0[j]).slice(-10)+' 00000 n ');}g0('trailer');g0('<<');A2();g0(u4b.X3);g0('startxref');g0(g);g0('%%EOF');z0=u4b.q4;return x1.join('\n');},d2=function(g){var j='S';if(g==='F'){j='f';}else if(g==='FD'||g==='DF'){j='B';}else if(g==='f'||g==='f*'||g==='B'||g==='B*'){j=g;}return j;},D2=function(){var g=h2(),j=g.length,m=new ArrayBuffer(j),n=new Uint8Array(m);while(j--)n[j]=g.charCodeAt(j);return m;},o2=function(){return new Blob([D2()],{type:"application/pdf"});},Y2=w2(function(g,j){var m='dataurlnewwindow',n=(''+g).substr(0,6)==='dataur'?'data:application/pdf;base64,'+btoa(h2()):0;switch(g){case undefined:return h2();case 'save':if(navigator.getUserMedia){if(r1.URL===undefined||r1.URL.createObjectURL===undefined){return B0.output(m);}}saveAs(o2(),j);if(typeof saveAs.unload===u4b.d4){if(r1.setTimeout){setTimeout(saveAs.unload,911);}}break;case 'arraybuffer':return D2();case 'blob':return o2();case 'bloburi':case 'bloburl':return r1.URL&&r1.URL.createObjectURL(o2())||void 0;case 'datauristring':case 'dataurlstring':return n;case m:var o=r1.open(n);if(o||typeof safari===u4b.p3)return o;case 'datauri':case 'dataurl':return r1.document.location.href=n;default:throw  new Error('Output type "'+g+'" is not supported.');}});switch(Y){case 'pt':l0=1;break;case 'mm':l0=72/25.4;break;case 'cm':l0=72/2.54;break;case 'in':l0=72;break;case 'px':l0=96/72;break;case 'pc':l0=12;break;case 'em':l0=12;break;case 'ex':l0=6;break;default:throw ('Invalid unit: '+Y);}B0.internal={'pdfEscape':f2,'getStyle':d2,'getFont':function(){return Z[r2.apply(B0,arguments)];},'getFontSize':function(){return S;},'getLineHeight':function(){return S*y0;},'write':function(g){g0(arguments.length===1?g:Array.prototype.join.call(arguments,' '));},'getCoordinateString':function(g){return q0(g*l0);},'getVerticalCoordinateString':function(g){return q0((F0-g)*l0);},'collections':{},'newObject':v1,'putStream':H1,'events':i1,'scaleFactor':l0,'pageSize':{get width(){return f1;},get height(){return F0;}},'output':function(g,j){return Y2(g,j);},'getNumberOfPages':function(){return N0.length-1;},'pages':N0};B0.addPage=function(){M1.apply(this,arguments);return this;};B0.setPage=function(){g2.apply(this,arguments);return this;};B0.setDisplayMode=function(g,j,m){o1=g;u1=j;E1=m;return this;},B0.text=function(j,m,n,o,q,s){function t(g){g=g.split("\t").join(Array(k0.TabLen||9).join(" "));return f2(g,o);}if(typeof j==='number'){U0=n;n=m;m=j;j=U0;}if(typeof j==='string'&&j.match(/[\n\r]/)){j=j.split(/\r\n|\r|\n/g);}if(typeof o==='number'){q=o;o=null;}var v='',H='Td',z;if(q){q*=(Math.PI/180);var I=Math.cos(q),K=Math.sin(q);v=[q0(I),q0(K),q0(K*-1),q0(I),''].join(" ");H='Tm';}o=o||{};if(!('noBOM' in o))o.noBOM=true;if(!('autoencode' in o))o.autoencode=true;if(typeof j==='string'){if(s==="center"){var M=this.getStringUnitWidth(j)*S/l0;m-=M/2;}else if(s==="right"){var M=this.getStringUnitWidth(j)*S/l0;m-=M;}j=t(j);}else if(j instanceof Array){var N=j.concat(),P=[],O=N.length;while(O--){P.push(t(N.shift()));}var X=Math.ceil((F0-n)*l0/(S*y0));if(0<=X&&X<P.length+1){z=P.splice(X-1);}j=P.join(") Tj\nT* (");}else{throw  new Error('Type of text must be string or Array. "'+j+'" is not recognized.');}g0('BT\n/'+w0+' '+S+' Tf\n'+(S*y0)+' TL\n'+e0+'\n'+v+q0(m*l0)+' '+q0((F0-n)*l0)+' '+H+'\n('+j+') Tj\nET');if(z){this.addPage();this.text(z,m,S*1.7/l0);}return this;};B0.lstext=function(g,j,m,n){for(var o=0,q=g.length;o<q;o++,j+=n)this.text(g[o],j,m);};B0.line=function(g,j,m,n){return this.lines([[m-g,n-j]],g,j);};B0.clip=function(){g0('W');g0('S');};B0.lines=function(g,j,m,n,o,q){var s,t,v,H,z,I,K,M,N,P,O;if(typeof g==='number'){U0=m;m=j;j=g;g=U0;}n=n||[1,1];g0(K0(j*l0)+' '+K0((F0-m)*l0)+' m ');s=n[0];t=n[1];H=g.length;P=j;O=m;for(v=0;v<H;v++){z=g[v];if(z.length===2){P=z[0]*s+P;O=z[1]*t+O;g0(K0(P*l0)+' '+K0((F0-O)*l0)+' l');}else{I=z[0]*s+P;K=z[1]*t+O;M=z[2]*s+P;N=z[3]*t+O;P=z[4]*s+P;O=z[5]*t+O;g0(K0(I*l0)+' '+K0((F0-K)*l0)+' '+K0(M*l0)+' '+K0((F0-N)*l0)+' '+K0(P*l0)+' '+K0((F0-O)*l0)+' c');}}if(q){g0(' h');}if(o!==null){g0(d2(o));}return this;};B0.rect=function(g,j,m,n,o){var q=d2(o);g0([q0(g*l0),q0((F0-j)*l0),q0(m*l0),q0(-n*l0),'re'].join(' '));if(o!==null){g0(d2(o));}return this;};B0.triangle=function(g,j,m,n,o,q,s){this.lines([[m-g,n-j],[o-m,q-n],[g-o,j-q]],g,j,[1,1],s,u4b.q4);return this;};B0.roundedRect=function(g,j,m,n,o,q,s){var t=4/3*(Math.SQRT2-1);this.lines([[(m-2*o),0],[(o*t),0,o,q-(q*t),o,q],[0,(n-2*q)],[0,(q*t),-(o*t),q,-o,q],[(-m+2*o),0],[-(o*t),0,-o,-(q*t),-o,-q],[0,(-n+2*q)],[0,-(q*t),(o*t),-q,o,-q]],g+o,j,[1,1],s);return this;};B0.ellipse=function(g,j,m,n,o){var q=4/3*(Math.SQRT2-1)*m,s=4/3*(Math.SQRT2-1)*n;g0([q0((g+m)*l0),q0((F0-j)*l0),'m',q0((g+m)*l0),q0((F0-(j-s))*l0),q0((g+q)*l0),q0((F0-(j-n))*l0),q0(g*l0),q0((F0-(j-n))*l0),'c'].join(u4b.D4));g0([q0((g-q)*l0),q0((F0-(j-n))*l0),q0((g-m)*l0),q0((F0-(j-s))*l0),q0((g-m)*l0),q0((F0-j)*l0),'c'].join(u4b.D4));g0([q0((g-m)*l0),q0((F0-(j+s))*l0),q0((g-q)*l0),q0((F0-(j+n))*l0),q0(g*l0),q0((F0-(j+n))*l0),'c'].join(u4b.D4));g0([q0((g+q)*l0),q0((F0-(j+n))*l0),q0((g+m)*l0),q0((F0-(j+s))*l0),q0((g+m)*l0),q0((F0-j)*l0),'c'].join(u4b.D4));if(o!==u4b.p4){g0(d2(o));}return this;};B0.circle=function(g,j,m,n){return this.ellipse(g,j,m,m,n);};B0.setProperties=function(g){for(var j in X0){if(X0.hasOwnProperty(j)&&g[j]){X0[j]=g[j];}}return this;};B0.setFontSize=function(g){S=g;return this;};B0.setFont=function(g,j){w0=r2(g,j);return this;};B0.setFontStyle=B0.setFontType=function(g){w0=r2(undefined,g);return this;};B0.getFontList=function(){var g={},j,m,n;for(j in I0){if(I0.hasOwnProperty(j)){g[j]=n=[];for(m in I0[j]){if(I0[j].hasOwnProperty(m)){n.push(m);}}}}return g;};B0.setLineWidth=function(g){g0((g*l0).toFixed(2)+' w');return this;};B0.setDrawColor=function(g,j,m,n){var o;if(j===undefined||(n===undefined&&g===j===m)){if(typeof g===u4b.V3){o=g+' G';}else{o=q0(g/u4b.U4)+' G';}}else if(n===undefined){if(typeof g===u4b.V3){o=[g,j,m,'RG'].join(u4b.D4);}else{o=[q0(g/u4b.U4),q0(j/u4b.U4),q0(m/u4b.U4),'RG'].join(u4b.D4);}}else{if(typeof g===u4b.V3){o=[g,j,m,n,'K'].join(u4b.D4);}else{o=[q0(g),q0(j),q0(m),q0(n),'K'].join(u4b.D4);}}g0(o);return this;};B0.setFillColor=function(g,j,m,n){var o;if(j===undefined||(n===undefined&&g===j===m)){if(typeof g===u4b.V3){o=g+' g';}else{o=q0(g/u4b.U4)+' g';}}else if(n===undefined){if(typeof g===u4b.V3){o=[g,j,m,'rg'].join(u4b.D4);}else{o=[q0(g/u4b.U4),q0(j/u4b.U4),q0(m/u4b.U4),'rg'].join(u4b.D4);}}else{if(typeof g===u4b.V3){o=[g,j,m,n,'k'].join(u4b.D4);}else{o=[q0(g),q0(j),q0(m),q0(n),'k'].join(u4b.D4);}}g0(o);return this;};B0.setTextColor=function(g,j,m){if((typeof g===u4b.V3)&&/^#[0-9A-Fa-f]{6}$/.test(g)){var n=parseInt(g.substr(1),16);g=(n>>16)&u4b.U4;j=(n>>8)&u4b.U4;m=(n&u4b.U4);}if((g===0&&j===0&&m===0)||(typeof j===u4b.U3)){e0=K0(g/u4b.U4)+' g';}else{e0=[K0(g/u4b.U4),K0(j/u4b.U4),K0(m/u4b.U4),'rg'].join(u4b.D4);}return this;};B0.CapJoinStyles={0:0,'butt':0,'but':0,'miter':0,1:1,'round':1,'rounded':1,'circle':1,2:2,'projecting':2,'project':2,'square':2,'bevel':2};B0.setLineCap=function(g){var j=this.CapJoinStyles[g];if(j===undefined){throw  new Error("Line cap style of '"+g+s0);}W0=j;g0(j+' J');return this;};B0.setLineJoin=function(g){var j=this.CapJoinStyles[g];if(j===undefined){throw  new Error("Line join style of '"+g+s0);}q1=j;g0(j+' j');return this;};B0.output=Y2;B0.save=function(g){B0.output('save',g);};for(var U1 in w1.API){if(w1.API.hasOwnProperty(U1)){if(U1==='events'&&w1.API.events.length){(function(g,j){var m,n,o;for(o=j.length-1;o!==-1;o--){m=j[o][0];n=j[o][1];g.subscribe.apply(g,[m].concat(typeof n==='function'?[n]:n));}}(i1,w1.API.events));}else{B0[U1]=w1.API[U1];}}}U2();w0='F1';M1(W,U);i1.publish('initialized');return B0;}w1.API={events:[]};w1.version="1.0.272-debug 2014-09-29T15:09:diegocr";if(typeof define===u4b.d4&&define.amd){define('jsPDF',function(){return w1;});}else{r1.jsPDF=w1;}return w1;}(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this));(function(k0){'use strict';k0.addHTML=function(M,N,P,O,X){'use strict';if(typeof html2canvas==='undefined'&&typeof rasterizeHTML==='undefined')throw  new Error('You need either '+'https://github.com/niklasvh/html2canvas'+' or https://github.com/cburgmer/rasterizeHTML.js');if(typeof N!=='number'){O=N;X=P;}if(typeof O==='function'){X=O;O=null;}var U=this.internal,Y=U.scaleFactor,W=U.pageSize.width,Q=U.pageSize.height;O=O||{};O.onrendered=function(o){N=parseInt(N)||0;P=parseInt(P)||0;var q=O.dim||{},s=q.h||0,t=q.w||Math.min(W,o.width/Y)-N,v='JPEG';if(O.format)v=O.format;if(o.height>Q&&O.pagesplit){var H=function(){var g=0;while(1){var j=document.createElement('canvas');j.width=Math.min(W*Y,o.width);j.height=Math.min(Q*Y,o.height-g);var m=j.getContext('2d');m.drawImage(o,0,g,o.width,j.height,0,0,j.width,j.height);var n=[j,N,g?0:P,j.width/Y,j.height/Y,v,null,'SLOW'];this.addImage.apply(this,n);g+=j.height;if(g>=o.height)break;this.addPage();}X(t,g,null,n);}.bind(this);if(o.nodeName==='CANVAS'){var z=new Image();z.onload=H;z.src=o.toDataURL("image/png");o=z;}else{H();}}else{var I=Math.random().toString(35),K=[o,N,P,t,s,v,I,'SLOW'];this.addImage.apply(this,K);X(t,s,I,K);}}.bind(this);if(typeof html2canvas!=='undefined'&&!O.rstz){return html2canvas(M,O);}if(typeof rasterizeHTML!=='undefined'){var s0='drawDocument';if(typeof M==='string'){s0=/^http/.test(M)?'drawURL':'drawHTML';}O.width=O.width||(W*Y);return rasterizeHTML[s0](M,void 0,O).then(function(g){O.onrendered(g.image);},function(g){X(null,g);});}return null;};})(jsPDF.API);;(function(P){'use strict';var O='addImage_',X=['jpeg','jpg','png'],U=function(g){var j=this.internal.newObject(),m=this.internal.write,n=this.internal.putStream;g['n']=j;m('<</Type /XObject');m('/Subtype /Image');m('/Width '+g['w']);m('/Height '+g['h']);if(g['cs']===this.color_spaces.INDEXED){m('/ColorSpace [/Indexed /DeviceRGB '+(g['pal'].length/3-1)+' '+('smask' in g?j+2:j+1)+' 0 R]');}else{m('/ColorSpace /'+g['cs']);if(g['cs']===this.color_spaces.DEVICE_CMYK){m('/Decode [1 0 1 0 1 0 1 0]');}}m('/BitsPerComponent '+g['bpc']);if('f' in g){m('/Filter /'+g['f']);}if('dp' in g){m('/DecodeParms <<'+g['dp']+'>>');}if('trns' in g&&g['trns'].constructor==Array){var o='',q=0,s=g['trns'].length;for(;q<s;q++)o+=(g['trns'][q]+' '+g['trns'][q]+' ');m('/Mask ['+o+']');}if('smask' in g){m('/SMask '+(j+1)+' 0 R');}m('/Length '+g['data'].length+'>>');n(g['data']);m('endobj');if('smask' in g){var t='/Predictor 15 /Colors 1 /BitsPerComponent '+g['bpc']+' /Columns '+g['w'];var v={'w':g['w'],'h':g['h'],'cs':'DeviceGray','bpc':g['bpc'],'dp':t,'data':g['smask']};if('f' in g)v.f=g['f'];U.call(this,v);}if(g['cs']===this.color_spaces.INDEXED){this.internal.newObject();m('<< /Length '+g['pal'].length+'>>');n(this.arrayBufferToBinaryString(new Uint8Array(g['pal'])));m('endobj');}},Y=function(){var g=this.internal.collections[O+'images'];for(var j in g){U.call(this,g[j]);}},W=function(){var g=this.internal.collections[O+'images'],j=this.internal.write,m;for(var n in g){m=g[n];j('/I'+m['i'],m['n'],'0','R');}},Q=function(g){if(g&&typeof g==='string')g=g.toUpperCase();return g in P.image_compression?g:P.image_compression.NONE;},s0=function(){var g=this.internal.collections[O+'images'];if(!g){this.internal.collections[O+'images']=g={};this.internal.events.subscribe('putResources',Y);this.internal.events.subscribe('putXobjectDict',W);}return g;},k0=function(n){var o=0;if(n){o=Object.keys?Object.keys(n).length:(function(g){var j=0;for(var m in g){if(g.hasOwnProperty(m)){j++;}}return j;})(n);}return o;},m0=function(g){return typeof g==='undefined'||g===null;},j0=function(g){return typeof g==='string'&&P.sHashCode(g);},e0=function(g){return X.indexOf(g)===-1;},R=function(g){return typeof P['process'+g.toUpperCase()]!=='function';},S=function(g){return typeof g==='object'&&g.nodeType===1;},y0=function(g,j,m){if(g.nodeName==='IMG'&&g.hasAttribute('src')){var n=''+g.getAttribute('src');if(!m&&n.indexOf('data:image/')===0)return n;if(!j&&/\.png(?:[?#].*)?$/i.test(n))j='png';}if(g.nodeName==='CANVAS'){var o=g;}else{var o=document.createElement('canvas');o.width=g.clientWidth||g.width;o.height=g.clientHeight||g.height;var q=o.getContext('2d');if(!q){throw ('addImage requires canvas to be supported by browser.');}if(m){var s,t,v,H,z,I,K,M=Math.PI/180,N;if(typeof m==='object'){s=m.x;t=m.y;v=m.bg;m=m.angle;}N=m*M;H=Math.abs(Math.cos(N));z=Math.abs(Math.sin(N));I=o.width;K=o.height;o.width=K*z+I*H;o.height=K*H+I*z;if(isNaN(s))s=o.width/2;if(isNaN(t))t=o.height/2;q.clearRect(0,0,o.width,o.height);q.fillStyle=v||'white';q.fillRect(0,0,o.width,o.height);q.save();q.translate(s,t);q.rotate(N);q.drawImage(g,-(I/2),-(K/2));q.rotate(-N);q.translate(-s,-t);q.restore();}else{q.drawImage(g,0,0,o.width,o.height);}}return o.toDataURL((''+j).toLowerCase()=='png'?'image/png':'image/jpeg');},f0=function(g,j){var m;if(j){for(var n in j){if(g===j[n].alias){m=j[n];break;}}}return m;},v0=function(g,j,m){if(!g&&!j){g=-96;j=-96;}if(g<0){g=(-1)*m['w']*72/g/this.internal.scaleFactor;}if(j<0){j=(-1)*m['h']*72/j/this.internal.scaleFactor;}if(g===0){g=j*m['w']/m['h'];}if(j===0){j=g*m['h']/m['w'];}return [g,j];},z0=function(g,j,m,n,o,q,s){var t=v0.call(this,m,n,o),v=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString;m=t[0];n=t[1];s[q]=o;this.internal.write('q',v(m),'0 0',v(n),v(g),H(j+n),'cm /I'+o['i'],'Do Q');};P.color_spaces={DEVICE_RGB:'DeviceRGB',DEVICE_GRAY:'DeviceGray',DEVICE_CMYK:'DeviceCMYK',CAL_GREY:'CalGray',CAL_RGB:'CalRGB',LAB:'Lab',ICC_BASED:'ICCBased',INDEXED:'Indexed',PATTERN:'Pattern',SEPERATION:'Seperation',DEVICE_N:'DeviceN'};P.decode={DCT_DECODE:'DCTDecode',FLATE_DECODE:'FlateDecode',LZW_DECODE:'LZWDecode',JPX_DECODE:'JPXDecode',JBIG2_DECODE:'JBIG2Decode',ASCII85_DECODE:'ASCII85Decode',ASCII_HEX_DECODE:'ASCIIHexDecode',RUN_LENGTH_DECODE:'RunLengthDecode',CCITT_FAX_DECODE:'CCITTFaxDecode'};P.image_compression={NONE:'NONE',FAST:'FAST',MEDIUM:'MEDIUM',SLOW:'SLOW'};P.sHashCode=function(m){return Array.prototype.reduce&&m.split("").reduce(function(g,j){g=((g<<5)-g)+j.charCodeAt(0);return g&g;},0);};P.isString=function(g){return typeof g==='string';};P.extractInfoFromBase64DataURI=function(g){return /^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(g);};P.supportsArrayBuffer=function(){return typeof ArrayBuffer!=='undefined'&&typeof Uint8Array!=='undefined';};P.isArrayBuffer=function(g){if(!this.supportsArrayBuffer())return false;return g instanceof ArrayBuffer;};P.isArrayBufferView=function(g){if(!this.supportsArrayBuffer())return false;if(typeof Uint32Array==='undefined')return false;return (g instanceof Int8Array||g instanceof Uint8Array||(typeof Uint8ClampedArray!=='undefined'&&g instanceof Uint8ClampedArray)||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array);};P.binaryStringToUint8Array=function(g){var j=g.length,m=new Uint8Array(j);for(var n=0;n<j;n++){m[n]=g.charCodeAt(n);}return m;};P.arrayBufferToBinaryString=function(g){if(this.isArrayBuffer(g))g=new Uint8Array(g);var j='',m=g.byteLength;for(var n=0;n<m;n++){j+=String.fromCharCode(g[n]);}return j;};P.arrayBufferToBase64=function(g){var j='',m='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',n=new Uint8Array(g),o=n.byteLength,q=o%3,s=o-q,t,v,H,z,I;for(var K=0;K<s;K=K+3){I=(n[K]<<16)|(n[K+1]<<8)|n[K+2];t=(I&16515072)>>18;v=(I&258048)>>12;H=(I&4032)>>6;z=I&63;j+=m[t]+m[v]+m[H]+m[z];}if(q==1){I=n[s];t=(I&252)>>2;v=(I&3)<<4;j+=m[t]+m[v]+'==';}else if(q==2){I=(n[s]<<8)|n[s+1];t=(I&64512)>>10;v=(I&1008)>>4;H=(I&15)<<2;j+=m[t]+m[v]+m[H]+'=';}return j;};P.createImageInfo=function(g,j,m,n,o,q,s,t,v,H,z,I){var K={alias:t,w:j,h:m,cs:n,bpc:o,i:s,data:g};if(q)K.f=q;if(v)K.dp=v;if(H)K.trns=H;if(z)K.pal=z;if(I)K.smask=I;return K;};P.addImage=function(g,j,m,n,o,q,s,t,v){'use strict';if(typeof j!=='string'){var H=q;q=o;o=n;n=m;m=j;j=H;}if(typeof g==='object'&&!S(g)&&"imageData" in g){var z=g;g=z.imageData;j=z.format||j;m=z.x||m||0;n=z.y||n||0;o=z.w||o;q=z.h||q;s=z.alias||s;t=z.compression||t;v=z.rotation||z.angle||v;}if(isNaN(m)||isNaN(n)){console.error('jsPDF.addImage: Invalid coordinates',arguments);throw  new Error('Invalid coordinates passed to jsPDF.addImage');}var I=s0.call(this),K;if(!(K=f0(g,I))){var M;if(S(g))g=y0(g,j,v);if(m0(s))s=j0(g);if(!(K=f0(s,I))){if(this.isString(g)){var N=this.extractInfoFromBase64DataURI(g);if(N){j=N[2];g=atob(N[3]);}else{if(g.charCodeAt(0)===0x89&&g.charCodeAt(1)===0x50&&g.charCodeAt(2)===0x4e&&g.charCodeAt(3)===0x47)j='png';}}j=(j||'JPEG').toLowerCase();if(e0(j))throw  new Error('addImage currently only supports formats '+X+', not \''+j+'\'');if(R(j))throw  new Error('please ensure that the plugin for \''+j+'\' support is added');if(this.supportsArrayBuffer()){M=g;g=this.binaryStringToUint8Array(g);}K=this['process'+j.toUpperCase()](g,k0(I),s,Q(t),M);if(!K)throw  new Error('An unkwown error occurred whilst processing the image');}}z0.call(this,m,n,o,q,K,K.i,I);return this;};var C0=function(g){'use strict';var j,m,n;if(!g.charCodeAt(0)===0xff||!g.charCodeAt(1)===0xd8||!g.charCodeAt(2)===0xff||!g.charCodeAt(3)===0xe0||!g.charCodeAt(6)==='J'.charCodeAt(0)||!g.charCodeAt(7)==='F'.charCodeAt(0)||!g.charCodeAt(8)==='I'.charCodeAt(0)||!g.charCodeAt(9)==='F'.charCodeAt(0)||!g.charCodeAt(10)===0x00){throw  new Error('getJpegSize requires a binary string jpeg file');}var o=g.charCodeAt(4)*256+g.charCodeAt(5),q=4,s=g.length;while(q<s){q+=o;if(g.charCodeAt(q)!==0xff){throw  new Error('getJpegSize could not find the size of the image');}if(g.charCodeAt(q+1)===0xc0||g.charCodeAt(q+1)===0xc1||g.charCodeAt(q+1)===0xc2||g.charCodeAt(q+1)===0xc3||g.charCodeAt(q+1)===0xc4||g.charCodeAt(q+1)===0xc5||g.charCodeAt(q+1)===0xc6||g.charCodeAt(q+1)===0xc7){m=g.charCodeAt(q+5)*256+g.charCodeAt(q+6);j=g.charCodeAt(q+7)*256+g.charCodeAt(q+8);n=g.charCodeAt(q+9);return [j,m,n];}else{q+=2;o=g.charCodeAt(q)*256+g.charCodeAt(q+1);}}},Z=function(g){var j=(g[0]<<8)|g[1];if(j!==0xFFD8)throw  new Error('Supplied data is not a JPEG');var m=g.length,n=(g[4]<<8)+g[5],o=4,q,s,t,v;while(o<m){o+=n;q=I0(g,o);n=(q[2]<<8)+q[3];if((q[1]===0xC0||q[1]===0xC2)&&q[0]===0xFF&&n>7){q=I0(g,o+5);s=(q[2]<<8)+q[3];t=(q[0]<<8)+q[1];v=q[4];return {width:s,height:t,numcomponents:v};}o+=2;}throw  new Error('getJpegSizeFromBytes could not find the size of the image');},I0=function(g,j){return g.subarray(j,j+5);};P.processJPEG=function(g,j,m,n,o){'use strict';var q=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE,t=8,v;if(this.isString(g)){v=C0(g);return this.createImageInfo(g,v[0],v[1],v[3]==1?this.color_spaces.DEVICE_GRAY:q,t,s,j,m);}if(this.isArrayBuffer(g))g=new Uint8Array(g);if(this.isArrayBufferView(g)){v=Z(g);g=o||this.arrayBufferToBinaryString(g);return this.createImageInfo(g,v.width,v.height,v.numcomponents==1?this.color_spaces.DEVICE_GRAY:q,t,s,j,m);}return null;};P.processJPG=function(){return this.processJPEG.apply(this,arguments);};})(jsPDF.API);(function(j){'use strict';j.autoPrint=function(){'use strict';var g;this.internal.events.subscribe(u4b.A3,function(){g=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj");});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+g+" 0"+" R");});return this;};})(jsPDF.API);(function(S){'use strict';var y0,f0,v0,z0=3,C0=13,Z,I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},w0=1,l0=function(g,j,m,n,o){I0={'x':g,'y':j,'w':m,'h':n,'ln':o};},U0=function(){return I0;},O0={left:0,top:0,bottom:0};S.setHeaderFunction=function(g){Z=g;};S.getTextDimensions=function(g){y0=this.internal.getFont().fontName;f0=this.table_font_size||this.internal.getFontSize();v0=this.internal.getFont().fontStyle;var j=u4b.G4*72/25.4,m,n;n=document.createElement('font');n.id="jsPDFCell";n.style.fontStyle=v0;n.style.fontName=y0;n.style.fontSize=f0+'pt';n.textContent=g;document.body.appendChild(n);m={w:(n.offsetWidth+1)*j,h:(n.offsetHeight+1)*j};document.body.removeChild(n);return m;};S.cellAddPage=function(){var g=this.margins||O0;this.addPage();l0(g.left,g.top,undefined,undefined);w0+=1;};S.cellInitialize=function(){I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined};w0=1;};S.cell=function(g,j,m,n,o,q,s){var t=U0();if(t.ln!==undefined){if(t.ln===q){g=t.x+t.w;j=t.y;}else{var v=this.margins||O0;if((t.y+t.h+n+C0)>=this.internal.pageSize.height-v.bottom){this.cellAddPage();if(this.printHeaders&&this.tableHeaderRow){this.printHeaderRow(q,true);}}j=(U0().y+U0().h);}}if(o[0]!==undefined){if(this.printingHeaderRow){this.rect(g,j,m,n,'FD');}else{this.rect(g,j,m,n);}if(s==='right'){if(o instanceof Array){for(var H=0;H<o.length;H++){var z=o[H],I=this.getStringUnitWidth(z)*this.internal.getFontSize();this.text(z,g+m-I-z0,j+this.internal.getLineHeight()*(H+1));}}}else{this.text(o,g+z0,j+this.internal.getLineHeight());}}l0(g,j,m,n,q);return this;};S.arrayMax=function(g,j){var m=g[0],n,o,q;for(n=0,o=g.length;n<o;n+=1){q=g[n];if(j){if(j(m,q)===-1){m=q;}}else{if(q>m){m=q;}}}return m;};S.table=function(j,m,n,o,q){if(!n){throw 'No data for PDF table';}var s=[],t=[],v,H,z,I,K={},M={},N,P,O=[],X,U=[],Y,W,Q,s0=false,k0=true,m0=12,j0=O0;j0.width=this.internal.pageSize.width;if(q){if(q.autoSize===true){s0=true;}if(q.printHeaders===false){k0=false;}if(q.fontSize){m0=q.fontSize;}if(q.margins){j0=q.margins;}}this.lnMod=0;I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},w0=1;this.printHeaders=k0;this.margins=j0;this.setFontSize(m0);this.table_font_size=m0;if(o===undefined||(o===null)){s=Object.keys(n[0]);}else if(o[0]&&(typeof o[0]!=='string')){var e0=0.264583*72/25.4;for(H=0,z=o.length;H<z;H+=1){v=o[H];s.push(v.name);t.push(v.prompt);M[v.name]=v.width*e0;}}else{s=o;}if(s0){Q=function(g){return g[v];};for(H=0,z=s.length;H<z;H+=1){v=s[H];K[v]=n.map(Q);O.push(this.getTextDimensions(t[H]||v).w);P=K[v];for(X=0,I=P.length;X<I;X+=1){N=P[X];O.push(this.getTextDimensions(N).w);}M[v]=S.arrayMax(O);}}if(k0){var R=this.calculateLineHeight(s,M,t.length?t:s);for(H=0,z=s.length;H<z;H+=1){v=s[H];U.push([j,m,M[v],R,String(t.length?t[H]:v)]);}this.setTableHeaderRow(U);this.printHeaderRow(1,false);}for(H=0,z=n.length;H<z;H+=1){var R;Y=n[H];R=this.calculateLineHeight(s,M,Y);for(X=0,W=s.length;X<W;X+=1){v=s[X];this.cell(j,m,M[v],R,Y[v],H+2,v.align);}}this.lastCellPos=I0;this.table_x=j;this.table_y=m;return this;};S.calculateLineHeight=function(g,j,m){var n,o=0;for(var q=0;q<g.length;q++){n=g[q];m[n]=this.splitTextToSize(String(m[n]),j[n]-z0);var s=this.internal.getLineHeight()*m[n].length+z0;if(s>o)o=s;}return o;};S.setTableHeaderRow=function(g){this.tableHeaderRow=g;};S.printHeaderRow=function(g,j){if(!this.tableHeaderRow){throw 'Property tableHeaderRow does not exist.';}var m,n,o,q;this.printingHeaderRow=true;if(Z!==undefined){var s=Z(this,w0);l0(s[0],s[1],s[2],s[3],-1);}this.setFontStyle('bold');var t=[];for(o=0,q=this.tableHeaderRow.length;o<q;o+=1){this.setFillColor(200,200,200);m=this.tableHeaderRow[o];if(j){m[1]=this.margins&&this.margins.top||0;t.push(m);}n=[].concat(m);this.cell.apply(this,n.concat(g));}if(t.length>0){this.setTableHeaderRow(t);}this.setFontStyle('normal');this.printingHeaderRow=false;};})(jsPDF.API);(function(v0){var z0='left',C0='htmlRenderingFinished',Z="padding-right",I0="padding-left",w0="margin-right",l0="margin-left",U0="padding-bottom",O0="padding-top",D0="margin-bottom",N0="margin-top",t1="line-height",x1="font-size",W0="font-style",q1="font-family",Q0,f1,F0,E1,o1,u1,X0,B0,i1,q0,K0,H0,g0,v1,H1,W1,X1,h1,I1;Q0=(function(){return function(g){j.prototype=g;return new j();};function j(){}})();i1=function(g){var j,m,n,o,q,s,t;m=0;n=g.length;j=void 0;o=u4b.K4;s=u4b.K4;while(!o&&m!==n){j=g[m]=g[m].trimLeft();if(j){o=u4b.q4;}m++;}m=n-1;while(n&&!s&&m!==-1){j=g[m]=g[m].trimRight();if(j){s=u4b.q4;}m--;}q=/\s+$/g;t=u4b.q4;m=0;while(m!==n){j=g[m].replace(/\s+/g,u4b.M3);if(t){j=j.trimLeft();}if(j){t=q.test(j);}g[m]=j;m++;}return g;};q0=function(g,j,m,n){this.pdf=g;this.x=j;this.y=m;this.settings=n;this.watchFunctions=[];this.init();return this;};K0=function(g){var j,m,n;j=void 0;n=g.split(",");m=n.shift();while(!j&&m){j=F0[m.trim().toLowerCase()];m=n.shift();}return j;};H0=function(g){g=g==="auto"?"0px":g;if(g.indexOf("em")>-1&&!isNaN(Number(g.replace("em","")))){g=Number(g.replace("em",""))*18.719+"px";}if(g.indexOf("pt")>-1&&!isNaN(Number(g.replace("pt","")))){g=Number(g.replace("pt",""))*1.333+"px";}var j,m,n;m=void 0;j=16.00;n=g0[g];if(n){return n;}n={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:g}];if(n!==m){return g0[g]=n/j;}if(n=parseFloat(g)){return g0[g]=n/j;}n=g.match(/([\d\.]+)(px)/);if(n.length===3){return g0[g]=parseFloat(n[1])/j;}return g0[g]=1;};B0=function(o){var q="display",s,t,v;v=(function(m){var n;n=(function(g){if(document.defaultView&&document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(g,u4b.p4);}else if(g.currentStyle){return g.currentStyle;}else{return g.style;}})(m);return function(j){j=j.replace(/-\D/g,function(g){return g.charAt(1).toUpperCase();});return n[j];};})(o);s={};t=void 0;s[q1]=K0(v(q1))||u4b.u3;s[W0]=E1[v(W0)]||u4b.w4;s["text-align"]=TextAlignMap[v("text-align")]||"left";t=o1[v("font-weight")]||u4b.w4;if(t===u4b.L4){if(s[W0]===u4b.w4){s[W0]=t;}else{s[W0]=t+s[W0];}}s[x1]=H0(v(x1))||1;s[t1]=H0(v(t1))||1;s[q]=(v(q)==="inline"?"inline":"block");t=(s[q]==="block");s[N0]=t&&H0(v(N0))||0;s[D0]=t&&H0(v(D0))||0;s[O0]=t&&H0(v(O0))||0;s[U0]=t&&H0(v(U0))||0;s[l0]=t&&H0(v(l0))||0;s[w0]=t&&H0(v(w0))||0;s[I0]=t&&H0(v(I0))||0;s[Z]=t&&H0(v(Z))||0;s["float"]=u1[v("cssFloat")]||"none";s["clear"]=X0[v("clear")]||"none";return s;};v1=function(g,j,m){var n,o,q,s,t;q=u4b.K4;o=void 0;s=void 0;t=void 0;n=m["#"+g.id];if(n){if(typeof n===u4b.C3){q=n(g,j);}else{o=0;s=n.length;while(!q&&o!==s){q=n[o](g,j);o++;}}}n=m[g.nodeName];if(!q&&n){if(typeof n===u4b.C3){q=n(g,j);}else{o=0;s=n.length;while(!q&&o!==s){q=n[o](g,j);o++;}}}return q;};I1=function(g,j){var m,n,o,q,s,t,v,H,z,I;m=[];n=[];o=0;I=g.rows[0].cells.length;H=g.clientWidth;while(o<I){z=g.rows[0].cells[o];n[o]={name:z.textContent.toLowerCase().replace(/\s+/g,''),prompt:z.textContent.replace(/\r?\n/g,''),width:(z.clientWidth/H)*j.pdf.internal.pageSize.width};o++;}o=1;while(o<g.rows.length){t=g.rows[o];s={};q=0;while(q<t.cells.length){s[n[q].name]=t.cells[q].textContent.replace(/\r?\n/g,'');q++;}m.push(s);o++;}return v={rows:m,headers:n};};var Y1={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},l1=1;f1=function(o,q,s){var t,v,H,z,I,K,M,N,P;v=o.childNodes;t=void 0;H=B0(o);I=H.display==="block";if(I){q.setBlockBoundary();q.setBlockStyle(H);}M=0.264583*72/25.4;z=0;K=v.length;while(z<K){t=v[z];if(typeof t==="object"){q.executeWatchFunctions(t);if(t.nodeType===1&&t.nodeName==='HEADER'){var O=t,X=q.pdf.margins_doc.top;q.pdf.internal.events.subscribe('addPage',function(g){q.y=X;f1(O,q,s);q.pdf.margins_doc.top=q.y+10;q.y+=10;},false);}if(t.nodeType===8&&t.nodeName==="#comment"){if(~t.textContent.indexOf("ADD_PAGE")){q.pdf.addPage();q.y=q.pdf.margins_doc.top;}}else if(t.nodeType===1&&!Y1[t.nodeName]){var U;if(t.nodeName==="IMG"){var Y=t.getAttribute("src");U=H1[q.pdf.sHashCode(Y)||Y];}if(U){if((q.pdf.internal.pageSize.height-q.pdf.margins_doc.bottom<q.y+t.height)&&(q.y>q.pdf.margins_doc.top)){q.pdf.addPage();q.y=q.pdf.margins_doc.top;q.executeWatchFunctions(t);}var W=B0(t),Q=q.x,s0=12/q.pdf.internal.scaleFactor,k0=(W["margin-left"]+W["padding-left"])*s0,m0=(W["margin-right"]+W["padding-right"])*s0,j0=(W["margin-top"]+W["padding-top"])*s0,e0=(W["margin-bottom"]+W["padding-bottom"])*s0;if(W['float']!==undefined&&W['float']==='right'){Q+=q.settings.width-t.width-m0;}else{Q+=k0;}q.pdf.addImage(U,Q,q.y+j0,t.width,t.height);U=undefined;if(W['float']==='right'||W['float']==='left'){q.watchFunctions.push((function(g,j,m,n){if(q.y>=j){q.x+=g;q.settings.width+=m;return true;}else if(n&&n.nodeType===1&&!Y1[n.nodeName]&&q.x+n.width>(q.pdf.margins_doc.left+q.pdf.margins_doc.width)){q.x+=g;q.y=j;q.settings.width+=m;return true;}else{return false;}}).bind(this,(W['float']==='left')?-t.width-k0-m0:0,q.y+t.height+j0+e0,t.width));q.watchFunctions.push((function(g,j,m){if(q.y<g&&j===q.pdf.internal.getNumberOfPages()){if(m.nodeType===1&&B0(m).clear==='both'){q.y=g;return true;}else{return false;}}else{return true;}}).bind(this,q.y+t.height,q.pdf.internal.getNumberOfPages()));q.settings.width-=t.width+k0+m0;if(W['float']==='left'){q.x+=t.width+k0+m0;}}else{q.y+=t.height+e0;}}else if(t.nodeName==="TABLE"){N=I1(t,q);q.y+=10;q.pdf.table(q.x,q.y,N.rows,N.headers,{autoSize:false,printHeaders:true,margins:q.pdf.margins_doc});q.y=q.pdf.lastCellPos.y+q.pdf.lastCellPos.h+20;}else if(t.nodeName==="OL"||t.nodeName==="UL"){l1=1;if(!v1(t,q,s)){f1(t,q,s);}q.y+=10;}else if(t.nodeName==="LI"){var R=q.x;q.x+=t.parentNode.nodeName==="UL"?22:10;q.y+=3;if(!v1(t,q,s)){f1(t,q,s);}q.x=R;}else if(t.nodeName==="BR"){q.y+=H["font-size"]*q.pdf.internal.scaleFactor;}else{if(!v1(t,q,s)){f1(t,q,s);}}}else if(t.nodeType===3){var S=t.nodeValue;if(t.nodeValue&&t.parentNode.nodeName==="LI"){if(t.parentNode.parentNode.nodeName==="OL"){S=l1++ +'. '+S;}else{var y0=H["font-size"]*16,f0=2;if(y0>20){f0=3;}P=function(g,j){this.pdf.circle(g,j,f0,'FD');};}}q.addText(S,H);}else if(typeof t==="string"){q.addText(t,H);}}z++;}if(I){return q.setBlockBoundary(P);}};H1={};W1=function(q,s,t,v){var H=q.getElementsByTagName('img'),z=H.length,I,K=0;function M(){s.pdf.internal.events.publish('imagesLoaded');v(I);}function N(j,m,n){if(!j)return ;var o=new Image();I=++K;o.crossOrigin='';o.onerror=o.onload=function(){if(o.complete){if(o.src.indexOf('data:image/')===0){o.width=m||o.width||0;o.height=n||o.height||0;}if(o.width+o.height){var g=s.pdf.sHashCode(j)||j;H1[g]=H1[g]||o;}}if(!--K){M();}};o.src=j;}while(z--)N(H[z].getAttribute("src"),H[z].width,H[z].height);return K||M();};X1=function(q,s,t){var v=q.getElementsByTagName("footer");if(v.length>0){v=v[0];var H=s.pdf.internal.write,z=s.y;s.pdf.internal.write=function(){};f1(v,s,t);var I=Math.ceil(s.y-z)+5;s.y=z;s.pdf.internal.write=H;s.pdf.margins_doc.bottom+=I;var K=function(g){var j=g!==undefined?g.pageNumber:1,m=s.y;s.y=s.pdf.internal.pageSize.height-s.pdf.margins_doc.bottom;s.pdf.margins_doc.bottom-=I;var n=v.getElementsByTagName('span');for(var o=0;o<n.length;++o){if((" "+n[o].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1){n[o].innerHTML=j;}if((" "+n[o].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1){n[o].innerHTML='###jsPDFVarTotalPages###';}}f1(v,s,t);s.pdf.margins_doc.bottom+=I;s.y=m;},M=v.getElementsByTagName('span');for(var N=0;N<M.length;++N){if((" "+M[N].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1){s.pdf.internal.events.subscribe('htmlRenderingFinished',s.pdf.putTotalPages.bind(s.pdf,'###jsPDFVarTotalPages###'),true);}}s.pdf.internal.events.subscribe('addPage',K,false);K();Y1['FOOTER']=1;}};h1=function(q,s,t,v,H,z){if(!s)return u4b.K4;if(typeof s!==u4b.n4&&!s.parentNode)s=''+s.innerHTML;if(typeof s===u4b.n4){s=(function(g){var $frame,$hiddendiv,n,o;n="jsPDFhtmlText"+Date.now().toString()+(Math.random()*1000).toFixed(0);o="position: absolute !important;"+"clip: rect(1px 1px 1px 1px); /* IE6, IE7 */"+"clip: rect(1px, 1px, 1px, 1px);"+"padding:0 !important;"+"border:0 !important;"+"height: 1px !important;"+"width: 1px !important; "+"top:auto;"+"left:-100px;"+"overflow: hidden;";$hiddendiv=document.createElement('div');$hiddendiv.style.cssText=o;$hiddendiv.innerHTML="<iframe style=\"height:1px;width:1px\" name=\""+n+"\" />";document.body.appendChild($hiddendiv);$frame=window.frames[n];$frame.document.body.innerHTML=g;return $frame.document.body;})(s.replace(/<\/?script[^>]*?>/gi,''));}var I=new q0(q,t,v,H),K;W1.call(this,s,I,H.elementHandlers,function(g){X1(s,I,H.elementHandlers);f1(s,I,H.elementHandlers);I.pdf.internal.events.publish(C0);K=I.dispose();if(typeof z===u4b.d4)z(K);else if(g)console.error('jsPDF Warning: rendering issues? provide a callback to fromHTML!');});return K||{x:I.x,y:I.y};};q0.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q");};q0.prototype.dispose=function(){this.pdf.internal.write("Q");return {x:this.x,y:this.y,ready:u4b.q4};};q0.prototype.executeWatchFunctions=function(g){var j=false,m=[];if(this.watchFunctions.length>0){for(var n=0;n<this.watchFunctions.length;++n){if(this.watchFunctions[n](g)===true){j=true;}else{m.push(this.watchFunctions[n]);}}this.watchFunctions=m;}return j;};q0.prototype.splitFragmentsIntoLines=function(g,j){var m,n,o,q,s,t,v,H,z,I,K,M,N,P,O;n=12;K=this.pdf.internal.scaleFactor;s={};o=void 0;I=void 0;q=void 0;t=void 0;O=void 0;z=void 0;H=void 0;v=void 0;M=[];N=[M];m=0;P=this.settings.width;while(g.length){t=g.shift();O=j.shift();if(t){o=O["font-family"];I=O["font-style"];q=s[o+I];if(!q){q=this.pdf.internal.getFont(o,I).metadata.Unicode;s[o+I]=q;}z={widths:q.widths,kerning:q.kerning,fontSize:O["font-size"]*n,textIndent:m};H=this.pdf.getStringUnitWidth(t,z)*z.fontSize/K;if(m+H>P){v=this.pdf.splitTextToSize(t,P,z);M.push([v.shift(),O]);while(v.length){M=[[v.shift(),O]];N.push(M);}m=this.pdf.getStringUnitWidth(M[0][0],z)*z.fontSize/K;}else{M.push([t,O]);m+=H;}}}if(O['text-align']!==undefined&&(O['text-align']==='center'||O['text-align']==='right'||O['text-align']==='justify')){for(var X=0;X<N.length;++X){var U=this.pdf.getStringUnitWidth(N[X][0][0],z)*z.fontSize/K;if(X>0){N[X][0][1]=Q0(N[X][0][1]);}var Y=(P-U);if(O['text-align']==='right'){N[X][0][1]['margin-left']=Y;}else if(O['text-align']==='center'){N[X][0][1]['margin-left']=Y/2;}else if(O['text-align']==='justify'){var W=N[X][0][0].split(' ').length-1;N[X][0][1]['word-spacing']=Y/W;if(X===(N.length-1)){N[X][0][1]['word-spacing']=0;}}}}return N;};q0.prototype.RenderTextFragment=function(g,j){var m,n,o;o=0;m=12;if(this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()){this.pdf.internal.write("ET","Q");this.pdf.addPage();this.y=this.pdf.margins_doc.top;this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");o=Math.max(o,j["line-height"],j["font-size"]);this.pdf.internal.write(0,(-1*m*o).toFixed(2),"Td");}n=this.pdf.internal.getFont(j["font-family"],j["font-style"]);if(j['word-spacing']!==undefined&&j['word-spacing']>0){this.pdf.internal.write(j['word-spacing'].toFixed(2),"Tw");}this.pdf.internal.write("/"+n.id,(m*j["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(g)+") Tj");if(j['word-spacing']!==undefined){this.pdf.internal.write(0,"Tw");}};q0.prototype.renderParagraph=function(n){var o,q,s,t,v,H,z,I,K,M,N,P,O,X,U;t=i1(this.paragraph.text);X=this.paragraph.style;o=this.paragraph.blockstyle;O=this.paragraph.blockstyle||{};this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:o};if(!t.join("").trim()){return ;}I=this.splitFragmentsIntoLines(t,X);z=void 0;K=void 0;q=12;s=q/this.pdf.internal.scaleFactor;P=(Math.max((o["margin-top"]||0)-(O["margin-bottom"]||0),0)+(o["padding-top"]||0))*s;N=((o["margin-bottom"]||0)+(o["padding-bottom"]||0))*s;M=this.pdf.internal.write;v=void 0;H=void 0;this.y+=P;M("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");var Y=0;while(I.length){z=I.shift();K=0;v=0;H=z.length;while(v!==H){if(z[v][0].trim()){K=Math.max(K,z[v][1]["line-height"],z[v][1]["font-size"]);U=z[v][1]["font-size"]*7;}v++;}var W=0;if(z[0][1]["margin-left"]!==undefined&&z[0][1]["margin-left"]>0){wantedIndent=this.pdf.internal.getCoordinateString(z[0][1]["margin-left"]);W=wantedIndent-Y;Y=wantedIndent;}M(W,(-1*q*K).toFixed(2),"Td");v=0;H=z.length;while(v!==H){if(z[v][0]){this.RenderTextFragment(z[v][0],z[v][1]);}v++;}this.y+=K*s;if(this.executeWatchFunctions(z[0][1])&&I.length>0){var Q=[],s0=[];I.forEach(function(g){var j=0,m=g.length;while(j!==m){if(g[j][0]){Q.push(g[j][0]+' ');s0.push(g[j][1]);}++j;}});I=this.splitFragmentsIntoLines(i1(Q),s0);M("ET","Q");M("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");}}if(n&&typeof n==="function"){n.call(this,this.x-9,this.y-U/2);}M("ET","Q");return this.y+=N;};q0.prototype.setBlockBoundary=function(g){return this.renderParagraph(g);};q0.prototype.setBlockStyle=function(g){return this.paragraph.blockstyle=g;};q0.prototype.addText=function(g,j){this.paragraph.text.push(g);return this.paragraph.style.push(j);};F0={helvetica:u4b.f4,"sans-serif":u4b.f4,"times new roman":u4b.u3,serif:u4b.u3,times:u4b.u3,monospace:u4b.H4,courier:u4b.H4};o1={100:u4b.w4,200:u4b.w4,300:u4b.w4,400:u4b.w4,500:u4b.L4,600:u4b.L4,700:u4b.L4,800:u4b.L4,900:u4b.L4,normal:u4b.w4,bold:u4b.L4,bolder:u4b.L4,lighter:u4b.w4};E1={normal:u4b.w4,italic:u4b.e4,oblique:u4b.e4};TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"};u1={none:'none',right:u4b.A4,left:z0};X0={none:'none',both:'both'};g0={normal:1};v0.fromHTML=function(g,j,m,n,o,q){"use strict";this.margins_doc=q||{top:0,bottom:0};if(!n)n={};if(!n.elementHandlers)n.elementHandlers={};return h1(this,g,isNaN(j)?4:j,isNaN(m)?4:m,n,o);};})(jsPDF.API);(function(m){'use strict';var n,o,q;m.addJS=function(j){q=j;this.internal.events.subscribe(u4b.A3,function(g){n=this.internal.newObject();this.internal.write('<< /Names [(EmbeddedJS) '+(n+1)+' 0 R] >>',u4b.r4);o=this.internal.newObject();this.internal.write('<< /S /JavaScript /JS (',q,') >>',u4b.r4);});this.internal.events.subscribe('putCatalog',function(){if(n!==undefined&&o!==undefined){this.internal.write('/Names <</JavaScript '+n+' 0 R>>');}});return this;};}(jsPDF.API));(function(S){'use strict';var y0=function(){return typeof PNG!=='function'||typeof FlateStream!=='function';},f0=function(g){return g!==S.image_compression.NONE&&v0();},v0=function(){var g=typeof Deflater==='function';if(!g)throw  new Error("requires deflate.js for compression");return g;},z0=function(g,j,m,n){var o=5,q=U0;switch(n){case S.image_compression.FAST:o=3;q=l0;break;case S.image_compression.MEDIUM:o=6;q=O0;break;case S.image_compression.SLOW:o=9;q=D0;break;}g=I0(g,j,m,q);var s=new Uint8Array(C0(o)),t=Z(g),v=new Deflater(o),H=v.append(g),z=v.flush(),I=s.length+H.length+z.length,K=new Uint8Array(I+4);K.set(s);K.set(H,s.length);K.set(z,s.length+H.length);K[I++]=(t>>>24)&0xff;K[I++]=(t>>>16)&0xff;K[I++]=(t>>>8)&0xff;K[I++]=t&0xff;return S.arrayBufferToBinaryString(K);},C0=function(g,j){var m=8,n=Math.LOG2E*Math.log(0x8000)-8,o=(n<<4)|m,q=o<<8,s=Math.min(3,((j-1)&0xff)>>1);q|=(s<<6);q|=0;q+=31-(q%31);return [o,(q&0xff)&0xff];},Z=function(g,j){var m=1,n=m&0xffff,o=(m>>>16)&0xffff,q=g.length,s,t=0;while(q>0){s=q>j?j:q;q-=s;do {n+=g[t++];o+=n;}while(--s);n%=65521;o%=65521;}return ((o<<16)|n)>>>0;},I0=function(g,j,m,n){var o=g.length/j,q=new Uint8Array(g.length+o),s=t1(),t=0,v,H,z;for(;t<o;t++){z=t*j;v=g.subarray(z,z+j);if(n){q.set(n(v,m,H),z+t);}else{var I=0,K=s.length,M=[];for(;I<K;I++)M[I]=s[I](v,m,H);var N=x1(M.concat());q.set(M[N],z+t);}H=v;}return q;},w0=function(g,j,m){var n=Array.apply([],g);n.unshift(0);return n;},l0=function(g,j,m){var n=[],o=0,q=g.length,s;n[0]=1;for(;o<q;o++){s=g[o-j]||0;n[o+1]=(g[o]-s+0x0100)&0xff;}return n;},U0=function(g,j,m){var n=[],o=0,q=g.length,s;n[0]=2;for(;o<q;o++){s=m&&m[o]||0;n[o+1]=(g[o]-s+0x0100)&0xff;}return n;},O0=function(g,j,m){var n=[],o=0,q=g.length,s,t;n[0]=3;for(;o<q;o++){s=g[o-j]||0;t=m&&m[o]||0;n[o+1]=(g[o]+0x0100-((s+t)>>>1))&0xff;}return n;},D0=function(g,j,m){var n=[],o=0,q=g.length,s,t,v,H;n[0]=4;for(;o<q;o++){s=g[o-j]||0;t=m&&m[o]||0;v=m&&m[o-j]||0;H=N0(s,t,v);n[o+1]=(g[o]-H+0x0100)&0xff;}return n;},N0=function(g,j,m){var n=g+j-m,o=Math.abs(n-g),q=Math.abs(n-j),s=Math.abs(n-m);return (o<=q&&o<=s)?g:(q<=s)?j:m;},t1=function(){return [w0,l0,U0,O0,D0];},x1=function(g){var j=0,m=g.length,n,o,q;while(j<m){n=W0(g[j].slice(1));if(n<o||!o){o=n;q=j;}j++;}return q;},W0=function(g){var j=0,m=g.length,n=0;while(j<m)n+=Math.abs(g[j++]);return n;},q1=function(g){console.log("width: "+g.width);console.log("height: "+g.height);console.log("bits: "+g.bits);console.log("colorType: "+g.colorType);console.log("transparency:");console.log(g.transparency);console.log("text:");console.log(g.text);console.log("compressionMethod: "+g.compressionMethod);console.log("filterMethod: "+g.filterMethod);console.log("interlaceMethod: "+g.interlaceMethod);console.log("imgData:");console.log(g.imgData);console.log("palette:");console.log(g.palette);console.log("colors: "+g.colors);console.log("colorSpace: "+g.colorSpace);console.log("pixelBitlength: "+g.pixelBitlength);console.log("hasAlphaChannel: "+g.hasAlphaChannel);};S.processPNG=function(g,j,m,n,o){'use strict';var q=this.color_spaces.DEVICE_RGB,s=this.decode.FLATE_DECODE,t=8,v,H,z,I,K,M;if(this.isArrayBuffer(g))g=new Uint8Array(g);if(this.isArrayBufferView(g)){if(y0())throw  new Error("PNG support requires png.js and zlib.js");v=new PNG(g);g=v.imgData;t=v.bits;q=v.colorSpace;I=v.colors;if([4,6].indexOf(v.colorType)!==-1){if(v.bits===8){var N=window['Uint'+v.pixelBitlength+'Array'],P=new N(v.decodePixels().buffer),O=P.length,X=new Uint8Array(O*v.colors),U=new Uint8Array(O),Y=v.pixelBitlength-v.bits,W=0,Q=0,s0,k0;for(;W<O;W++){s0=P[W];k0=0;while(k0<Y){X[Q++]=(s0>>>k0)&0xff;k0=k0+v.bits;}U[W]=(s0>>>k0)&0xff;}}if(v.bits===16){var P=new Uint32Array(v.decodePixels().buffer),O=P.length,X=new Uint8Array((O*(32/v.pixelBitlength))*v.colors),U=new Uint8Array(O*(32/v.pixelBitlength)),m0=v.colors>1,W=0,Q=0,j0=0,s0;while(W<O){s0=P[W++];X[Q++]=(s0>>>0)&0xFF;if(m0){X[Q++]=(s0>>>16)&0xFF;s0=P[W++];X[Q++]=(s0>>>0)&0xFF;}U[j0++]=(s0>>>16)&0xFF;}t=8;}if(f0(n)){g=z0(X,v.width*v.colors,v.colors,n);M=z0(U,v.width,1,n);}else{g=X;M=U;s=null;}}if(v.colorType===3){q=this.color_spaces.INDEXED;K=v.palette;if(v.transparency.indexed){var e0=v.transparency.indexed,R=0,W=0,O=e0.length;for(;W<O;++W)R+=e0[W];R=R/255;if(R===O-1&&e0.indexOf(0)!==-1){z=[e0.indexOf(0)];}else if(R!==O){var P=v.decodePixels(),U=new Uint8Array(P.length),W=0,O=P.length;for(;W<O;W++)U[W]=e0[P[W]];M=z0(U,v.width,1);}}}if(s===this.decode.FLATE_DECODE)H='/Predictor 15 /Colors '+I+' /BitsPerComponent '+t+' /Columns '+v.width;else H='/Colors '+I+' /BitsPerComponent '+t+' /Columns '+v.width;if(this.isArrayBuffer(g)||this.isArrayBufferView(g))g=this.arrayBufferToBinaryString(g);if(M&&this.isArrayBuffer(M)||this.isArrayBufferView(M))M=this.arrayBufferToBinaryString(M);return this.createImageInfo(g,v.width,v.height,q,t,s,j,m,H,z,K,M);}throw  new Error("Unsupported PNG image data, try using JPEG instead.");};})(jsPDF.API);(function(e0){'use strict';e0.addSVG=function(s,t,v,H,z){var I;if(t===I||v===I){throw  new Error("addSVG needs values for 'x' and 'y'");}function K(g,j){var m=j.createElement('style');m.type='text/css';if(m.styleSheet){m.styleSheet.cssText=g;}else{m.appendChild(j.createTextNode(g));}j.getElementsByTagName("head")[0].appendChild(m);}function M(g){var j='childframe',m=g.createElement('iframe');K('.jsPDF_sillysvg_iframe {display:none;position:absolute;}',g);m.name=j;m.setAttribute("width",0);m.setAttribute("height",0);m.setAttribute("frameborder","0");m.setAttribute("scrolling","no");m.setAttribute("seamless","seamless");m.setAttribute("class","jsPDF_sillysvg_iframe");g.body.appendChild(m);return m;}function N(g,j){var m=(j.contentWindow||j.contentDocument).document;m.write(g);m.close();return m.getElementsByTagName('svg')[0];}function P(g){'use strict';var j=parseFloat(g[1]),m=parseFloat(g[2]),n=[],o=3,q=g.length;while(o<q){if(g[o]==='c'){n.push([parseFloat(g[o+1]),parseFloat(g[o+2]),parseFloat(g[o+3]),parseFloat(g[o+4]),parseFloat(g[o+5]),parseFloat(g[o+6])]);o+=7;}else if(g[o]==='l'){n.push([parseFloat(g[o+1]),parseFloat(g[o+2])]);o+=3;}else{o+=1;}}return [j,m,n];}var O=M(document),X=N(s,O),U=[1,1],Y=parseFloat(X.getAttribute('width')),W=parseFloat(X.getAttribute('height'));if(Y&&W){if(H&&z){U=[H/Y,z/W];}else if(H){U=[H/Y,H/Y];}else if(z){U=[z/W,z/W];}}var Q,s0,k0,m0,j0=X.childNodes;for(Q=0,s0=j0.length;Q<s0;Q++){k0=j0[Q];if(k0.tagName&&k0.tagName.toUpperCase()==='PATH'){m0=P(k0.getAttribute("d").split(' '));m0[0]=m0[0]*U[0]+t;m0[1]=m0[1]*U[1]+v;this.lines.call(this,m0[2],m0[0],m0[1],U);}}return this;};})(jsPDF.API);;(function(k0){'use strict';var m0=k0.getCharWidthsArray=function(g,j){if(!j){j={};}var m=j.widths?j.widths:this.internal.getFont().metadata.Unicode.widths,n=m.fof?m.fof:1,o=j.kerning?j.kerning:this.internal.getFont().metadata.Unicode.kerning,q=o.fof?o.fof:1,s,t,v,H=0,z=m[0]||n,I=[];for(s=0,t=g.length;s<t;s++){v=g.charCodeAt(s);I.push((m[v]||z)/n+(o[v]&&o[v][H]||0)/q);H=v;}return I;},j0=function(g){var j=g.length,m=0;while(j){;j--;m+=g[j];}return m;},e0=k0.getStringUnitWidth=function(g,j){return j0(m0.call(this,g,j));},R=function(g,j,m,n){var o=[];var q=0,s=g.length,t=0;while(q!==s&&t+j[q]<m){t+=j[q];q++;}o.push(g.slice(0,q));var v=q;t=0;while(q!==s){if(t+j[q]>n){o.push(g.slice(v,q));t=0;v=q;}t+=j[q];q++;}if(v!==q){o.push(g.slice(v,q));}return o;},S=function(n,o,q){if(!q){q={};}var s=[],t=[s],v=q.textIndent||0,H=0,z=0,I,K,M=n.split(' '),N=m0(' ',q)[0],P,O,X,U;if(q.lineIndent===-1){U=M[0].length+2;}else{U=q.lineIndent||0;}if(U){var Y=Array(U).join(" "),W=[];M.map(function(m){m=m.split(/\s*\n/);if(m.length>1){W=W.concat(m.map(function(g,j){return (j&&g.length?"\n":"")+g;}));}else{W.push(m[0]);}});M=W;U=e0(Y,q);}for(P=0,O=M.length;P<O;P++){var Q=0;I=M[P];if(U&&I[0]=="\n"){I=I.substr(1);Q=1;}K=m0(I,q);z=j0(K);if(v+H+z>o||Q){if(z>o){X=R(I,K,o-(v+H),o);s.push(X.shift());s=[X.pop()];while(X.length){t.push([X.shift()]);}z=j0(K.slice(I.length-s[0].length));}else{s=[I];}t.push(s);v=z+U;H=N;}else{s.push(I);v+=H+z;H=N;}}if(U){var s0=function(g,j){return (j?Y:'')+g.join(" ");};}else{var s0=function(g){return g.join(" ");};}return t.map(s0);};k0.splitTextToSize=function(q,s,t){'use strict';if(!t){t={};}var v=t.fontSize||this.internal.getFontSize(),H=(function(g){var j={0:1},m={};if(!g.widths||!g.kerning){var n=this.internal.getFont(g.fontName,g.fontStyle),o='Unicode';if(n.metadata[o]){return {widths:n.metadata[o].widths||j,kerning:n.metadata[o].kerning||m};}}else{return {widths:g.widths,kerning:g.kerning};}return {widths:j,kerning:m};}).call(this,t),z;if(Array.isArray(q)){z=q;}else{z=q.split(/\r?\n/);}var I=1.0*this.internal.scaleFactor*s/v;H.textIndent=t.textIndent?t.textIndent*1.0*this.internal.scaleFactor/v:0;H.lineIndent=t.lineIndent;var K,M,N=[];for(K=0,M=z.length;K<M;K++){N=N.concat(S(z[K],I,H));}return N;};})(jsPDF.API);;(function(X){'use strict';var U=function(g){var j='0123456789abcdef',m='klmnopqrstuvwxyz',n={};for(var o=0;o<m.length;o++){n[m[o]]=j[o];}var q,s={},t=1,v,H=s,z=[],I,K='',M='',N,P=g.length-1,O;o=1;while(o!=P){O=g[o];o+=1;if(O=="'"){if(v){N=v.join('');v=q;}else{v=[];}}else if(v){v.push(O);}else if(O=='{'){z.push([H,N]);H={};N=q;}else if(O=='}'){I=z.pop();I[0][I[1]]=H;N=q;H=I[0];}else if(O=='-'){t=-1;}else{if(N===q){if(n.hasOwnProperty(O)){K+=n[O];N=parseInt(K,16)*t;t=+1;K='';}else{K+=O;}}else{if(n.hasOwnProperty(O)){M+=n[O];H[N]=parseInt(M,16)*t;t=+1;N=q;M='';}else{M+=O;}}}}return s;},Y={'codePages':['WinAnsiEncoding'],'WinAnsiEncoding':U("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},W={'Unicode':{'Courier':Y,'Courier-Bold':Y,'Courier-BoldOblique':Y,'Courier-Oblique':Y,'Helvetica':Y,'Helvetica-Bold':Y,'Helvetica-BoldOblique':Y,'Helvetica-Oblique':Y,'Times-Roman':Y,'Times-Bold':Y,'Times-BoldItalic':Y,'Times-Italic':Y}},Q={'Unicode':{'Courier-Oblique':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-BoldItalic':U("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),'Helvetica-Bold':U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),'Courier':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Courier-BoldOblique':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-Bold':U("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),'Helvetica':U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),'Helvetica-BoldOblique':U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),'Courier-Bold':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-Italic':U("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),'Times-Roman':U("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),'Helvetica-Oblique':U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};X.events.push(['addFonts',function(g){var j,m,n,o,q='Unicode',s;for(m in g.fonts){if(g.fonts.hasOwnProperty(m)){j=g.fonts[m];n=Q[q][j.PostScriptName];if(n){if(j.metadata[q]){o=j.metadata[q];}else{o=j.metadata[q]={};}o.widths=n.widths;o.kerning=n.kerning;}s=W[q][j.PostScriptName];if(s){if(j.metadata[q]){o=j.metadata[q];}else{o=j.metadata[q]={};}o.encoding=s;if(s.codePages&&s.codePages.length){j.encoding=s.codePages[0];}}}}}]);})(jsPDF.API);(function(o){'use strict';o.putTotalPages=function(g){'use strict';var j=new RegExp(g,'g');for(var m=1;m<=this.internal.getNumberOfPages();m++){for(var n=0;n<this.internal.pages[m].length;n++)this.internal.pages[m][n]=this.internal.pages[m][n].replace(j,this.internal.getNumberOfPages());}return this;};})(jsPDF.API);(function(S){"use strict";S.URL=S.URL||S.webkitURL;if(S.Blob&&S.URL){try{new Blob;return ;}catch(g){}}var y0=S.BlobBuilder||S.WebKitBlobBuilder||S.MozBlobBuilder||(function(t){var v=function(g){return Object.prototype.toString.call(g).match(/^\[object\s(.*)\]$/)[1];},H=function z(){this.data=[];},I=function K(g,j,m){this.data=g;this.size=g.length;this.type=j;this.encoding=m;},M=H.prototype,N=I.prototype,P=t.FileReaderSync,O=function(g){this.code=this[this.name=g];},X=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR "+"NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),U=X.length,Y=t.URL||t.webkitURL||t,W=Y.createObjectURL,Q=Y.revokeObjectURL,s0=Y,k0=t.btoa,m0=t.atob,j0=t.ArrayBuffer,e0=t.Uint8Array,R=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;I.fake=N.fake=true;while(U--){O.prototype[X[U]]=U+1;}if(!Y.createObjectURL){s0=t.URL=function(g){var j=document.createElementNS("http://www.w3.org/1999/xhtml","a"),m;j.href=g;if(!("origin" in j)){if(j.protocol.toLowerCase()==="data:"){j.origin=null;}else{m=g.match(R);j.origin=m&&m[1];}}return j;};}s0.createObjectURL=function(g){var j=g.type,m;if(j===null){j="application/octet-stream";}if(g instanceof I){m="data:"+j;if(g.encoding==="base64"){return m+";base64,"+g.data;}else if(g.encoding==="URI"){return m+","+decodeURIComponent(g.data);}if(k0){return m+";base64,"+k0(g.data);}else{return m+","+encodeURIComponent(g.data);}}else if(W){return W.call(Y,g);}};s0.revokeObjectURL=function(g){if(g.substring(0,5)!=="data:"&&Q){Q.call(Y,g);}};M.append=function(g){var j=this.data;if(e0&&(g instanceof j0||g instanceof e0)){var m="",n=new e0(g),o=0,q=n.length;for(;o<q;o++){m+=String.fromCharCode(n[o]);}j.push(m);}else if(v(g)==="Blob"||v(g)==="File"){if(P){var s=new P;j.push(s.readAsBinaryString(g));}else{throw  new O("NOT_READABLE_ERR");}}else if(g instanceof I){if(g.encoding==="base64"&&m0){j.push(m0(g.data));}else if(g.encoding==="URI"){j.push(decodeURIComponent(g.data));}else if(g.encoding==="raw"){j.push(g.data);}}else{if(typeof g!=="string"){g+="";}j.push(unescape(encodeURIComponent(g)));}};M.getBlob=function(g){if(!arguments.length){g=null;}return new I(this.data.join(""),g,"raw");};M.toString=function(){return "[object BlobBuilder]";};N.slice=function(g,j,m){var n=arguments.length;if(n<3){m=null;}return new I(this.data.slice(g,n>1?j:this.data.length),m,this.encoding);};N.toString=function(){return "[object Blob]";};N.close=function(){this.size=0;delete  this.data;};return H;}(S));S.Blob=function(g,j){var m=j?(j.type||""):"",n=new y0();if(g){for(var o=0,q=g.length;o<q;o++){n.append(g[o]);}}return n.getBlob(m);};}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));var saveAs=saveAs||(typeof navigator!==u4b.p3&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator))||(function(U){"use strict";var Y="download";if(typeof navigator!==u4b.p3&&/MSIE [1-9]\./.test(navigator.userAgent)){return ;}var W=U.document,Q=function(){return U.URL||U.webkitURL||U;},s0=W.createElementNS(u4b.P4,"a"),k0=Y in s0,m0=function(g){var j=W.createEvent("MouseEvents");j.initMouseEvent("click",u4b.q4,u4b.K4,U,0,0,0,0,0,u4b.K4,u4b.K4,u4b.K4,u4b.K4,0,u4b.p4);g.dispatchEvent(j);},j0=U.webkitRequestFileSystem,e0=U.requestFileSystem||j0||U.mozRequestFileSystem,R=function(g){(U.setImmediate||U.setTimeout)(function(){throw g;},0);},S=u4b.I3,y0=0,f0=10,v0=function(g){var j=function(){if(typeof g===u4b.n4){Q().revokeObjectURL(g);}else{g.remove();}};if(U.chrome){j();}else{setTimeout(j,f0);}},z0=function(j,m,n){m=[].concat(m);var o=m.length;while(o--){var q=j["on"+m[o]];if(typeof q===u4b.C3){try{q.call(j,n||j);}catch(g){R(g);}}}},C0=function(s,t){var v=this,H=s.type,z=u4b.K4,I,K,M=function(){z0(v,"writestart progress write writeend".split(u4b.M3));},N=function(){if(z||!I){I=Q().createObjectURL(s);}if(K){K.location.href=I;}else{var g=U.open(I,"_blank");if(g==undefined&&typeof safari!==u4b.p3){U.location.href=I;}}v.readyState=v.DONE;M();v0(I);},P=function(g){return function(){if(v.readyState!==v.DONE){return g.apply(this,arguments);}};},O={create:u4b.q4,exclusive:u4b.K4},X;v.readyState=v.INIT;if(!t){t=Y;}if(k0){I=Q().createObjectURL(s);s0.href=I;s0.download=t;m0(s0);v.readyState=v.DONE;M();v0(I);return ;}if(U.chrome&&H&&H!==S){X=s.slice||s.webkitSlice;s=X.call(s,0,s.size,S);z=u4b.q4;}if(j0&&t!==Y){t+=".download";}if(H===S||j0){K=U;}if(!e0){N();return ;}y0+=s.size;e0(U.TEMPORARY,y0,P(function(q){q.root.getDirectory("saved",O,P(function(n){var o=function(){n.getFile(t,O,P(function(m){m.createWriter(P(function(j){j.onwriteend=function(g){K.location.href=m.toURL();v.readyState=v.DONE;z0(v,"writeend",g);v0(m);};j.onerror=function(){var g=j.error;if(g.code!==g.ABORT_ERR){N();}};"writestart progress write abort".split(" ").forEach(function(g){j["on"+g]=v["on"+g];});j.write(s);v.abort=function(){j.abort();v.readyState=v.DONE;};v.readyState=v.WRITING;}),N);}),N);};n.getFile(t,{create:false},P(function(g){g.remove();o();}),P(function(g){if(g.code===g.NOT_FOUND_ERR){o();}else{N();}}));}),N);}),N);},Z=C0.prototype,I0=function(g,j){return new C0(g,j);};Z.abort=function(){var g=this;g.readyState=g.DONE;z0(g,"abort");};Z.readyState=Z.INIT=0;Z.WRITING=1;Z.DONE=2;Z.error=Z.onwritestart=Z.onprogress=Z.onwrite=Z.onabort=Z.onerror=Z.onwriteend=null;return I0;}(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this.content));if(typeof module!==u4b.p3&&module!==u4b.p4){module.exports=saveAs;}else if((typeof define!==u4b.p3&&0)){define([],function(){return saveAs;});}void function(g,j){if(typeof module==='object'){module.exports=j();}else if(0==='function'){define(j);}else{g.adler32cs=j();}}(jsPDF,function(){var K=typeof ArrayBuffer==='function'&&typeof Uint8Array==='function',M=null,N=(function(){if(!K)return function j(){return false;};try{var m=require('buffer');if(typeof m.Buffer==='function')M=m.Buffer;}catch(g){}return function j(g){return g instanceof ArrayBuffer||M!==null&&g instanceof M;};}()),P=(function(){if(M!==null){return function j(g){return new M(g,'utf8').toString('binary');};}else{return function j(g){return unescape(encodeURIComponent(g));};}}()),O=65521,X=function X(g,j){var m=g&0xFFFF,n=g>>>16;for(var o=0,q=j.length;o<q;o++){m=(m+(j.charCodeAt(o)&0xFF))%O;n=(n+m)%O;}return (n<<16|m)>>>0;},U=function U(g,j){var m=g&0xFFFF,n=g>>>16;for(var o=0,q=j.length,s;o<q;o++){m=(m+j[o])%O;n=(n+m)%O;}return (n<<16|m)>>>0;},Y={},W=Y.Adler32=(function(){var m=function n(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(!isFinite(g=g==null?1:+g)){throw  new Error('First arguments needs to be a finite number.');}this.checksum=g>>>0;};var o=m.prototype={};o.constructor=m;m.from=function(g){g.prototype=o;return g;}(function q(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(g==null)throw  new Error('First argument needs to be a string.');this.checksum=X(1,g.toString());});m.fromUtf8=function(g){g.prototype=o;return g;}(function s(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());this.checksum=X(1,j);});if(K){m.fromBuffer=function(g){g.prototype=o;return g;}(function t(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(!N(g))throw  new Error('First argument needs to be ArrayBuffer.');var j=new Uint8Array(g);return this.checksum=U(1,j);});}o.update=function v(g){if(g==null)throw  new Error('First argument needs to be a string.');g=g.toString();return this.checksum=X(this.checksum,g);};o.updateUtf8=function H(g){if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());return this.checksum=X(this.checksum,j);};if(K){o.updateBuffer=function z(g){if(!N(g))throw  new Error('First argument needs to be ArrayBuffer.');var j=new Uint8Array(g);return this.checksum=U(this.checksum,j);};}o.clone=function I(){return new n(this.checksum);};return m;}());Y.from=function Q(g){if(g==null)throw  new Error('First argument needs to be a string.');return X(1,g.toString());};Y.fromUtf8=function s0(g){if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());return X(1,j);};if(K){Y.fromBuffer=function k0(g){if(!N(g))throw  new Error('First argument need to be ArrayBuffer.');var j=new Uint8Array(g);return U(1,j);};}return Y;});var Deflater=(function(Y2){var U1=15,r1=30,p2=19,s2=29,k2=u4b.T4,w1=(k2+1+s2),s3=(2*w1+1),t2=u4b.T4,D3=7,r3=16,o3=17,l3=18,d3=8*2,Z2=-1,E3=1,G2=2,G3=0,m2=0,v3=1,H3=3,B1=4,O1=0,t3=1,F2=2,R1=-2,O3=-3,n2=-5,x3=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function R0(){var M=this;function N(g){var j=M.dyn_tree,m=M.stat_desc.static_tree,n=M.stat_desc.extra_bits,o=M.stat_desc.extra_base,q=M.stat_desc.max_length,s,t,v,H,z,I,K=0;for(H=0;H<=U1;H++)g.bl_count[H]=0;j[g.heap[g.heap_max]*2+1]=0;for(s=g.heap_max+1;s<s3;s++){t=g.heap[s];H=j[j[t*2+1]*2+1]+1;if(H>q){H=q;K++;}j[t*2+1]=H;if(t>M.max_code)continue;g.bl_count[H]++;z=0;if(t>=o)z=n[t-o];I=j[t*2];g.opt_len+=I*(H+z);if(m)g.static_len+=I*(m[t*2+1]+z);}if(K===0)return ;do {H=q-1;while(g.bl_count[H]===0)H--;g.bl_count[H]--;g.bl_count[H+1]+=2;g.bl_count[q]--;K-=2;}while(K>0);for(H=q;H!==0;H--){t=g.bl_count[H];while(t!==0){v=g.heap[--s];if(v>M.max_code)continue;if(j[v*2+1]!=H){g.opt_len+=(H-j[v*2+1])*j[v*2];j[v*2+1]=H;}t--;}}}function P(g,j){var m=0;do {m|=g&1;g>>>=1;m<<=1;}while(--j>0);return m>>>1;}function O(g,j,m){var n=[],o=0,q,s,t;for(q=1;q<=U1;q++){n[q]=o=((o+m[q-1])<<1);}for(s=0;s<=j;s++){t=g[s*2+1];if(t===0)continue;g[s*2]=P(n[t]++,t);}}M.build_tree=function(g){var j=M.dyn_tree,m=M.stat_desc.static_tree,n=M.stat_desc.elems,o,q,s=-1,t;g.heap_len=0;g.heap_max=s3;for(o=0;o<n;o++){if(j[o*2]!==0){g.heap[++g.heap_len]=s=o;g.depth[o]=0;}else{j[o*2+1]=0;}}while(g.heap_len<2){t=g.heap[++g.heap_len]=s<2?++s:0;j[t*2]=1;g.depth[t]=0;g.opt_len--;if(m)g.static_len-=m[t*2+1];}M.max_code=s;for(o=Math.floor(g.heap_len/2);o>=1;o--)g.pqdownheap(j,o);t=n;do {o=g.heap[1];g.heap[1]=g.heap[g.heap_len--];g.pqdownheap(j,1);q=g.heap[1];g.heap[--g.heap_max]=o;g.heap[--g.heap_max]=q;j[t*2]=(j[o*2]+j[q*2]);g.depth[t]=Math.max(g.depth[o],g.depth[q])+1;j[o*2+1]=j[q*2+1]=t;g.heap[1]=t++;g.pqdownheap(j,1);}while(g.heap_len>=2);g.heap[--g.heap_max]=g.heap[1];N(g);O(j,M.max_code,g.bl_count);};}R0._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];R0.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];R0.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,u4b.T4,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];R0.d_code=function(g){return ((g)<u4b.T4?x3[g]:x3[u4b.T4+((g)>>>7)]);};R0.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];R0.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];R0.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];R0.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function s1(g,j,m,n,o){var q=this;q.static_tree=g;q.extra_bits=j;q.extra_base=m;q.elems=n;q.max_length=o;}s1.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,u4b.U4,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];s1.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];s1.static_l_desc=new s1(s1.static_ltree,R0.extra_lbits,k2+1,w1,U1);s1.static_d_desc=new s1(s1.static_dtree,R0.extra_dbits,0,r1,U1);s1.static_bl_desc=new s1(u4b.p4,R0.extra_blbits,0,p2,D3);var J3=9,N3=8;function V1(g,j,m,n,o){var q=this;q.good_length=g;q.max_lazy=j;q.nice_length=m;q.max_chain=n;q.func=o;}var w3=0,H2=1,e2=2,T1=[new V1(0,0,0,0,w3),new V1(4,4,8,4,H2),new V1(4,5,16,8,H2),new V1(4,6,32,32,H2),new V1(4,4,16,16,e2),new V1(8,16,32,32,e2),new V1(8,16,128,128,e2),new V1(8,32,128,u4b.T4,e2),new V1(32,128,258,1024,e2),new V1(32,258,258,4096,e2)],O2=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],F1=0,L2=1,u2=2,M2=3,P3=0x20,i3=42,Q2=113,v2=666,h3=8,R3=0,f3=1,Q3=2,e1=3,P2=258,C1=(P2+e1+1);function y3(g,j,m,n){var o=g[j*2],q=g[m*2];return (o<q||(o==q&&n[j]<=n[m]));}function S3(){var K=this,M,N,P,O,X,U,Y,W,Q,s0,k0,m0,j0,e0,R,S,y0,f0,v0,z0,C0,Z,I0,w0,l0,U0,O0,D0,N0,t1,x1,W0,q1,Q0,f1=new R0(),F0=new R0(),E1=new R0();K.depth=[];var o1,u1,X0,B0,i1,q0,K0,H0;K.bl_count=[];K.heap=[];W0=[];q1=[];Q0=[];function g0(){var g;s0=2*U;m0[e0-1]=0;for(g=0;g<e0-1;g++){m0[g]=0;}O0=T1[D0].max_lazy;t1=T1[D0].good_length;x1=T1[D0].nice_length;U0=T1[D0].max_chain;Z=0;f0=0;w0=0;v0=l0=e1-1;C0=0;j0=0;}function v1(){var g;for(g=0;g<w1;g++)W0[g*2]=0;for(g=0;g<r1;g++)q1[g*2]=0;for(g=0;g<p2;g++)Q0[g*2]=0;W0[t2*2]=1;K.opt_len=K.static_len=0;X0=i1=0;}function H1(){f1.dyn_tree=W0;f1.stat_desc=s1.static_l_desc;F0.dyn_tree=q1;F0.stat_desc=s1.static_d_desc;E1.dyn_tree=Q0;E1.stat_desc=s1.static_bl_desc;K0=0;H0=0;q0=8;v1();}K.pqdownheap=function(g,j){var m=K.heap,n=m[j],o=j<<1;while(o<=K.heap_len){if(o<K.heap_len&&y3(g,m[o+1],m[o],K.depth)){o++;}if(y3(g,n,m[o],K.depth))break;m[j]=m[o];j=o;o<<=1;}m[j]=n;};function W1(g,j){var m,n=-1,o,q=g[0*2+1],s=0,t=7,v=4;if(q===0){t=138;v=3;}g[(j+1)*2+1]=0xffff;for(m=0;m<=j;m++){o=q;q=g[(m+1)*2+1];if(++s<t&&o==q){continue;}else if(s<v){Q0[o*2]+=s;}else if(o!==0){if(o!=n)Q0[o*2]++;Q0[r3*2]++;}else if(s<=10){Q0[o3*2]++;}else{Q0[l3*2]++;}s=0;n=o;if(q===0){t=138;v=3;}else if(o==q){t=6;v=3;}else{t=7;v=4;}}}function X1(){var g;W1(W0,f1.max_code);W1(q1,F0.max_code);E1.build_tree(K);for(g=p2-1;g>=3;g--){if(Q0[R0.bl_order[g]*2+1]!==0)break;}K.opt_len+=3*(g+1)+5+5+4;return g;}function h1(g){K.pending_buf[K.pending++]=g;}function I1(g){h1(g&0xff);h1((g>>>8)&0xff);}function Y1(g){h1((g>>8)&0xff);h1((g&0xff)&0xff);}function l1(g,j){var m,n=j;if(H0>d3-n){m=g;K0|=((m<<H0)&0xffff);I1(K0);K0=m>>>(d3-H0);H0+=n-d3;}else{K0|=(((g)<<H0)&0xffff);H0+=n;}}function y1(g,j){var m=g*2;l1(j[m]&0xffff,j[m+1]&0xffff);}function z2(g,j){var m,n=-1,o,q=g[0*2+1],s=0,t=7,v=4;if(q===0){t=138;v=3;}for(m=0;m<=j;m++){o=q;q=g[(m+1)*2+1];if(++s<t&&o==q){continue;}else if(s<v){do {y1(o,Q0);}while(--s!==0);}else if(o!==0){if(o!=n){y1(o,Q0);s--;}y1(r3,Q0);l1(s-3,2);}else if(s<=10){y1(o3,Q0);l1(s-3,3);}else{y1(l3,Q0);l1(s-11,7);}s=0;n=o;if(q===0){t=138;v=3;}else if(o==q){t=6;v=3;}else{t=7;v=4;}}}function U2(g,j,m){var n;l1(g-257,5);l1(j-1,5);l1(m-4,4);for(n=0;n<m;n++){l1(Q0[R0.bl_order[n]*2+1],3);}z2(W0,g-1);z2(q1,j-1);}function w2(){if(H0==16){I1(K0);K0=0;H0=0;}else if(H0>=8){h1(K0&0xff);K0>>>=8;H0-=8;}}function j3(){l1(f3<<1,3);y1(t2,s1.static_ltree);w2();if(1+q0+10-H0<9){l1(f3<<1,3);y1(t2,s1.static_ltree);w2();}q0=7;}function Z1(g,j){var m,n,o;K.pending_buf[B0+X0*2]=(g>>>8)&0xff;K.pending_buf[B0+X0*2+1]=g&0xff;K.pending_buf[o1+X0]=j&0xff;X0++;if(g===0){W0[j*2]++;}else{i1++;g--;W0[(R0._length_code[j]+k2+1)*2]++;q1[R0.d_code(g)*2]++;}if((X0&0x1fff)===0&&D0>2){m=X0*8;n=Z-f0;for(o=0;o<r1;o++){m+=q1[o*2]*(5+R0.extra_dbits[o]);}m>>>=3;if((i1<Math.floor(X0/2))&&m<Math.floor(n/2))return u4b.q4;}return (X0==u1-1);}function f2(g,j){var m,n,o=0,q,s;if(X0!==0){do {m=((K.pending_buf[B0+o*2]<<8)&0xff00)|(K.pending_buf[B0+o*2+1]&0xff);n=(K.pending_buf[o1+o])&0xff;o++;if(m===0){y1(n,g);}else{q=R0._length_code[n];y1(q+k2+1,g);s=R0.extra_lbits[q];if(s!==0){n-=R0.base_length[q];l1(n,s);}m--;q=R0.d_code(m);y1(q,j);s=R0.extra_dbits[q];if(s!==0){m-=R0.base_dist[q];l1(m,s);}}}while(o<X0);}y1(t2,g);q0=g[t2*2+1];}function B2(){if(H0>8){I1(K0);}else if(H0>0){h1(K0&0xff);}K0=0;H0=0;}function X2(g,j,m){B2();q0=8;if(m){I1(j);I1(~j);}K.pending_buf.set(Q.subarray(g,g+j),K.pending);K.pending+=j;}function A2(g,j,m){l1((R3<<1)+(m?1:0),3);X2(g,j,u4b.q4);}function V2(g,j,m){var n,o,q=0;if(D0>0){f1.build_tree(K);F0.build_tree(K);q=X1();n=(K.opt_len+3+7)>>>3;o=(K.static_len+3+7)>>>3;if(o<=n)n=o;}else{n=o=j+5;}if((j+4<=n)&&g!=-1){A2(g,j,m);}else if(o==n){l1((f3<<1)+(m?1:0),3);f2(s1.static_ltree,s1.static_dtree);}else{l1((Q3<<1)+(m?1:0),3);U2(f1.max_code+1,F0.max_code+1,q+1);f2(W0,q1);}v1();if(m){B2();}}function M1(g){V2(f0>=0?f0:-1,Z-f0,g);f0=Z;M.flush_pending();}function g2(){var g,j,m,n;do {n=(s0-w0-Z);if(n===0&&Z===0&&w0===0){n=U;}else if(n==-1){n--;}else if(Z>=U+U-C1){Q.set(Q.subarray(U,U+U),0);I0-=U;Z-=U;f0-=U;g=e0;m=g;do {j=(m0[--m]&0xffff);m0[m]=(j>=U?j-U:0);}while(--g!==0);g=U;m=g;do {j=(k0[--m]&0xffff);k0[m]=(j>=U?j-U:0);}while(--g!==0);n+=U;}if(M.avail_in===0)return ;g=M.read_buf(Q,Z+w0,n);w0+=g;if(w0>=e1){j0=Q[Z]&0xff;j0=(((j0)<<y0)^(Q[Z+1]&0xff))&S;}}while(w0<C1&&M.avail_in!==0);}function r2(g){var j=0xffff,m;if(j>P-5){j=P-5;}while(u4b.q4){if(w0<=1){g2();if(w0===0&&g==m2)return F1;if(w0===0)break;}Z+=w0;w0=0;m=f0+j;if(Z===0||Z>=m){w0=(Z-m);Z=m;M1(u4b.K4);if(M.avail_out===0)return F1;}if(Z-f0>=U-C1){M1(u4b.K4);if(M.avail_out===0)return F1;}}M1(g==B1);if(M.avail_out===0)return (g==B1)?u2:F1;return g==B1?M2:L2;}function h2(g){var j=U0,m=Z,n,o,q=l0,s=Z>(U-C1)?Z-(U-C1):0,t=x1,v=W,H=Z+P2,z=Q[m+q-1],I=Q[m+q];if(l0>=t1){j>>=2;}if(t>w0)t=w0;do {n=g;if(Q[n+q]!=I||Q[n+q-1]!=z||Q[n]!=Q[m]||Q[++n]!=Q[m+1])continue;m+=2;n++;do {}while(Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&m<H);o=P2-(H-m);m=H-P2;if(o>q){I0=g;q=o;if(o>=t)break;z=Q[m+q-1];I=Q[m+q];}}while((g=(k0[g&v]&0xffff))>s&&--j!==0);if(q<=w0)return q;return w0;}function d2(g){var j=0,m;while(u4b.q4){if(w0<C1){g2();if(w0<C1&&g==m2){return F1;}if(w0===0)break;}if(w0>=e1){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}if(j!==0&&((Z-j)&0xffff)<=U-C1){if(N0!=G2){v0=h2(j);}}if(v0>=e1){m=Z1(Z-I0,v0-e1);w0-=v0;if(v0<=O0&&w0>=e1){v0--;do {Z++;j0=((j0<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}while(--v0!==0);Z++;}else{Z+=v0;v0=0;j0=Q[Z]&0xff;j0=(((j0)<<y0)^(Q[Z+1]&0xff))&S;}}else{m=Z1(0,Q[Z]&0xff);w0--;Z++;}if(m){M1(u4b.K4);if(M.avail_out===0)return F1;}}M1(g==B1);if(M.avail_out===0){if(g==B1)return u2;else return F1;}return g==B1?M2:L2;}function D2(g){var j=0,m,n;while(u4b.q4){if(w0<C1){g2();if(w0<C1&&g==m2){return F1;}if(w0===0)break;}if(w0>=e1){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}l0=v0;z0=I0;v0=e1-1;if(j!==0&&l0<O0&&((Z-j)&0xffff)<=U-C1){if(N0!=G2){v0=h2(j);}if(v0<=5&&(N0==E3||(v0==e1&&Z-I0>4096))){v0=e1-1;}}if(l0>=e1&&v0<=l0){n=Z+w0-e1;m=Z1(Z-1-z0,l0-e1);w0-=l0-1;l0-=2;do {if(++Z<=n){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}}while(--l0!==0);C0=0;v0=e1-1;Z++;if(m){M1(u4b.K4);if(M.avail_out===0)return F1;}}else if(C0!==0){m=Z1(0,Q[Z-1]&0xff);if(m){M1(u4b.K4);}Z++;w0--;if(M.avail_out===0)return F1;}else{C0=1;Z++;w0--;}}if(C0!==0){m=Z1(0,Q[Z-1]&0xff);C0=0;}M1(g==B1);if(M.avail_out===0){if(g==B1)return u2;else return F1;}return g==B1?M2:L2;}function o2(g){g.total_in=g.total_out=0;g.msg=u4b.p4;K.pending=0;K.pending_out=0;N=Q2;X=m2;H1();g0();return O1;}K.deflateInit=function(g,j,m,n,o,q){if(!n)n=h3;if(!o)o=N3;if(!q)q=G3;g.msg=u4b.p4;if(j==Z2)j=6;if(o<1||o>J3||n!=h3||m<9||m>15||j<0||j>9||q<0||q>G2){return R1;}g.dstate=K;Y=m;U=1<<Y;W=U-1;R=o+7;e0=1<<R;S=e0-1;y0=Math.floor((R+e1-1)/e1);Q=new Uint8Array(U*2);k0=[];m0=[];u1=1<<(o+6);K.pending_buf=new Uint8Array(u1*4);P=u1*4;B0=Math.floor(u1/2);o1=(1+2)*u1;D0=j;N0=q;O=n&0xff;return o2(g);};K.deflateEnd=function(){if(N!=i3&&N!=Q2&&N!=v2){return R1;}K.pending_buf=u4b.p4;m0=u4b.p4;k0=u4b.p4;Q=u4b.p4;K.dstate=u4b.p4;return N==Q2?O3:O1;};K.deflateParams=function(g,j,m){var n=O1;if(j==Z2){j=6;}if(j<0||j>9||m<0||m>G2){return R1;}if(T1[D0].func!=T1[j].func&&g.total_in!==0){n=g.deflate(v3);}if(D0!=j){D0=j;O0=T1[D0].max_lazy;t1=T1[D0].good_length;x1=T1[D0].nice_length;U0=T1[D0].max_chain;}N0=m;return n;};K.deflateSetDictionary=function(g,j,m){var n=m,o,q=0;if(!j||N!=i3)return R1;if(n<e1)return O1;if(n>U-C1){n=U-C1;q=m-n;}Q.set(j.subarray(q,q+n),0);Z=n;f0=n;j0=Q[0]&0xff;j0=(((j0)<<y0)^(Q[1]&0xff))&S;for(o=0;o<=n-e1;o++){j0=(((j0)<<y0)^(Q[(o)+(e1-1)]&0xff))&S;k0[o&W]=m0[j0];m0[j0]=o;}return O1;};K.deflate=function(g,j){var m,n,o,q,s;if(j>B1||j<0){return R1;}if(!g.next_out||(!g.next_in&&g.avail_in!==0)||(N==v2&&j!=B1)){g.msg=O2[F2-(R1)];return R1;}if(g.avail_out===0){g.msg=O2[F2-(n2)];return n2;}M=g;q=X;X=j;if(N==i3){n=(h3+((Y-8)<<4))<<8;o=((D0-1)&0xff)>>1;if(o>3)o=3;n|=(o<<6);if(Z!==0)n|=P3;n+=31-(n%31);N=Q2;Y1(n);}if(K.pending!==0){M.flush_pending();if(M.avail_out===0){X=-1;return O1;}}else if(M.avail_in===0&&j<=q&&j!=B1){M.msg=O2[F2-(n2)];return n2;}if(N==v2&&M.avail_in!==0){g.msg=O2[F2-(n2)];return n2;}if(M.avail_in!==0||w0!==0||(j!=m2&&N!=v2)){s=-1;switch(T1[D0].func){case w3:s=r2(j);break;case H2:s=d2(j);break;case e2:s=D2(j);break;default:}if(s==u2||s==M2){N=v2;}if(s==F1||s==u2){if(M.avail_out===0){X=-1;}return O1;}if(s==L2){if(j==v3){j3();}else{A2(0,0,u4b.K4);if(j==H3){for(m=0;m<e0;m++)m0[m]=0;}}M.flush_pending();if(M.avail_out===0){X=-1;return O1;}}}if(j!=B1)return O1;return t3;};}function z3(){var g=this;g.next_in_index=0;g.next_out_index=0;g.avail_in=0;g.total_in=0;g.avail_out=0;g.total_out=0;}z3.prototype={deflateInit:function(g,j){var m=this;m.dstate=new S3();if(!j)j=U1;return m.dstate.deflateInit(m,g,j);},deflate:function(g){var j=this;if(!j.dstate){return R1;}return j.dstate.deflate(j,g);},deflateEnd:function(){var g=this;if(!g.dstate)return R1;var j=g.dstate.deflateEnd();g.dstate=u4b.p4;return j;},deflateParams:function(g,j){var m=this;if(!m.dstate)return R1;return m.dstate.deflateParams(m,g,j);},deflateSetDictionary:function(g,j){var m=this;if(!m.dstate)return R1;return m.dstate.deflateSetDictionary(m,g,j);},read_buf:function(g,j,m){var n=this,o=n.avail_in;if(o>m)o=m;if(o===0)return 0;n.avail_in-=o;g.set(n.next_in.subarray(n.next_in_index,n.next_in_index+o),j);n.next_in_index+=o;n.total_in+=o;return o;},flush_pending:function(){var g=this,j=g.dstate.pending;if(j>g.avail_out)j=g.avail_out;if(j===0)return ;g.next_out.set(g.dstate.pending_buf.subarray(g.dstate.pending_out,g.dstate.pending_out+j),g.next_out_index);g.next_out_index+=j;g.dstate.pending_out+=j;g.total_out+=j;g.avail_out-=j;g.dstate.pending-=j;if(g.dstate.pending===0){g.dstate.pending_out=0;}}};return function T3(H){var z="deflating: ",I=this,K=new z3(),M=512,N=m2,P=new Uint8Array(M);if(typeof H==u4b.p3)H=Z2;K.deflateInit(H);K.next_out=P;I.append=function(j,m){var n,o=[],q=0,s=0,t=0,v;if(!j.length)return ;K.next_in_index=0;K.next_in=j;K.avail_in=j.length;do {K.next_out_index=0;K.avail_out=M;n=K.deflate(N);if(n!=O1)throw "deflating: "+K.msg;if(K.next_out_index)if(K.next_out_index==M)o.push(new Uint8Array(P));else o.push(new Uint8Array(P.subarray(0,K.next_out_index)));t+=K.next_out_index;if(m&&K.next_in_index>0&&K.next_in_index!=q){m(K.next_in_index);q=K.next_in_index;}}while(K.avail_in>0||K.avail_out===0);v=new Uint8Array(t);o.forEach(function(g){v.set(g,s);s+=g.length;});return v;};I.flush=function(){var j,m=[],n=0,o=0,q;do {K.next_out_index=0;K.avail_out=M;j=K.deflate(B1);if(j!=t3&&j!=O1)throw z+K.msg;if(M-K.avail_out>0)m.push(new Uint8Array(P.subarray(0,K.next_out_index)));o+=K.next_out_index;}while(K.avail_in>0||K.avail_out===0);K.deflateEnd();q=new Uint8Array(o);m.forEach(function(g){q.set(g,n);n+=g.length;});return q;};};})(this);(function(C0){var Z;Z=(function(){var m0,j0,e0,R,S,y0,f0,v0;z0.load=function(m,n,o){var q,s=this;if(typeof n==='function'){o=n;}q=new XMLHttpRequest;q.open("GET",m,true);q.responseType="arraybuffer";q.onload=function(){var g,j;g=new Uint8Array(q.response||q.mozResponseArrayBuffer);j=new z0(g);if(typeof (n!=null?n.getContext:void 0)==='function'){j.render(n);}return typeof o==="function"?o(j):void 0;};return q.send(null);};R=0;e0=1;S=2;j0=0;m0=1;function z0(m){var n,o,q,s,t,v,H,z,I,K,M,N,P,O,X;this.data=m;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};v=null;while(true){n=this.readUInt32();K=((function(){var g,j;j=[];for(H=g=0;g<4;H=++g){j.push(String.fromCharCode(this.data[this.pos++]));}return j;}).call(this)).join('');switch(K){case 'IHDR':this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case 'acTL':this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case 'PLTE':this.palette=this.read(n);break;case 'fcTL':if(v){this.animation.frames.push(v);}this.pos+=4;v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};t=this.readUInt16();s=this.readUInt16()||100;v.delay=1000*t/s;v.disposeOp=this.data[this.pos++];v.blendOp=this.data[this.pos++];v.data=[];break;case 'IDAT':case 'fdAT':if(K==='fdAT'){this.pos+=4;n-=4;}m=(v!=null?v.data:void 0)||this.imgData;for(H=P=0;0<=n?P<n:P>n;H=0<=n?++P:--P){m.push(this.data[this.pos++]);}break;case 'tRNS':this.transparency={};switch(this.colorType){case 3:q=this.palette.length/3;this.transparency.indexed=this.read(n);if(this.transparency.indexed.length>q)throw  new Error('More transparent colors than palette size');M=q-this.transparency.indexed.length;if(M>0){for(H=O=0;0<=M?O<M:O>M;H=0<=M?++O:--O){this.transparency.indexed.push(255);}}break;case 0:this.transparency.grayscale=this.read(n)[0];break;case 2:this.transparency.rgb=this.read(n);}break;case 'tEXt':N=this.read(n);z=N.indexOf(0);I=String.fromCharCode.apply(String,N.slice(0,z));this.text[I]=String.fromCharCode.apply(String,N.slice(z+1));break;case 'IEND':if(v){this.animation.frames.push(v);}this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3;}}).call(this);this.hasAlphaChannel=(X=this.colorType)===4||X===6;o=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*o;this.colorSpace=(function(){switch(this.colors){case 1:return 'DeviceGray';case 3:return 'DeviceRGB';}}).call(this);this.imgData=new Uint8Array(this.imgData);return ;default:this.pos+=n;}this.pos+=4;if(this.pos>this.data.length){throw  new Error("Incomplete or corrupt PNG file");}}return ;}z0.prototype.read=function(g){var j,m,n;n=[];for(j=m=0;0<=g?m<g:m>g;j=0<=g?++m:--m){n.push(this.data[this.pos++]);}return n;};z0.prototype.readUInt32=function(){var g,j,m,n;g=this.data[this.pos++]<<24;j=this.data[this.pos++]<<16;m=this.data[this.pos++]<<8;n=this.data[this.pos++];return g|j|m|n;};z0.prototype.readUInt16=function(){var g,j;g=this.data[this.pos++]<<8;j=this.data[this.pos++];return g|j;};z0.prototype.decodePixels=function(g){var j,m,n,o,q,s,t,v,H,z,I,K,M,N,P,O,X,U,Y,W,Q,s0,k0;if(g==null){g=this.imgData;}if(g.length===0){return new Uint8Array(0);}g=new FlateStream(g);g=g.getBytes();K=this.pixelBitlength/8;O=K*this.width;M=new Uint8Array(O*this.height);s=g.length;P=0;N=0;m=0;while(N<s){switch(g[N++]){case 0:for(o=Y=0;Y<O;o=Y+=1){M[m++]=g[N++];}break;case 1:for(o=W=0;W<O;o=W+=1){j=g[N++];q=o<K?0:M[m-K];M[m++]=(j+q)%256;}break;case 2:for(o=Q=0;Q<O;o=Q+=1){j=g[N++];n=(o-(o%K))/K;X=P&&M[(P-1)*O+n*K+(o%K)];M[m++]=(X+j)%256;}break;case 3:for(o=s0=0;s0<O;o=s0+=1){j=g[N++];n=(o-(o%K))/K;q=o<K?0:M[m-K];X=P&&M[(P-1)*O+n*K+(o%K)];M[m++]=(j+Math.floor((q+X)/2))%256;}break;case 4:for(o=k0=0;k0<O;o=k0+=1){j=g[N++];n=(o-(o%K))/K;q=o<K?0:M[m-K];if(P===0){X=U=0;}else{X=M[(P-1)*O+n*K+(o%K)];U=n&&M[(P-1)*O+(n-1)*K+(o%K)];}t=q+X-U;v=Math.abs(t-q);z=Math.abs(t-X);I=Math.abs(t-U);if(v<=z&&v<=I){H=q;}else if(z<=I){H=X;}else{H=U;}M[m++]=(j+H)%256;}break;default:throw  new Error("Invalid filter algorithm: "+g[N-1]);}P++;}return M;};z0.prototype.decodePalette=function(){var g,j,m,n,o,q,s,t,v,H;n=this.palette;s=this.transparency.indexed||[];q=new Uint8Array((s.length||0)+n.length);o=0;m=n.length;g=0;for(j=t=0,v=n.length;t<v;j=t+=3){q[o++]=n[j];q[o++]=n[j+1];q[o++]=n[j+2];q[o++]=(H=s[g++])!=null?H:255;}return q;};z0.prototype.copyToImageData=function(g,j){var m,n,o,q,s,t,v,H,z,I,K;n=this.colors;z=null;m=this.hasAlphaChannel;if(this.palette.length){z=(K=this._decodedPalette)!=null?K:this._decodedPalette=this.decodePalette();n=4;m=true;}o=g.data||g;H=o.length;s=z||j;q=t=0;if(n===1){while(q<H){v=z?j[q/4]*4:t;I=s[v++];o[q++]=I;o[q++]=I;o[q++]=I;o[q++]=m?s[v++]:255;t=v;}}else{while(q<H){v=z?j[q/4]*4:t;o[q++]=s[v++];o[q++]=s[v++];o[q++]=s[v++];o[q++]=m?s[v++]:255;t=v;}}};z0.prototype.decode=function(){var g;g=new Uint8Array(this.width*this.height*4);this.copyToImageData(g,this.decodePixels());return g;};try{f0=C0.document.createElement('canvas');v0=f0.getContext('2d');}catch(g){return -1;}y0=function(g){var j;v0.width=g.width;v0.height=g.height;v0.clearRect(0,0,g.width,g.height);v0.putImageData(g,0,0);j=new Image;j.src=f0.toDataURL();return j;};z0.prototype.decodeFrames=function(g){var j,m,n,o,q,s,t,v;if(!this.animation){return ;}t=this.animation.frames;v=[];for(m=q=0,s=t.length;q<s;m=++q){j=t[m];n=g.createImageData(j.width,j.height);o=this.decodePixels(new Uint8Array(j.data));this.copyToImageData(n,o);j.imageData=n;v.push(j.image=y0(n));}return v;};z0.prototype.renderFrame=function(g,j){var m,n,o;n=this.animation.frames;m=n[j];o=n[j-1];if(j===0){g.clearRect(0,0,this.width,this.height);}if((o!=null?o.disposeOp:void 0)===e0){g.clearRect(o.xOffset,o.yOffset,o.width,o.height);}else if((o!=null?o.disposeOp:void 0)===S){g.putImageData(o.imageData,o.xOffset,o.yOffset);}if(m.blendOp===j0){g.clearRect(m.xOffset,m.yOffset,m.width,m.height);}return g.drawImage(m.image,m.xOffset,m.yOffset);};z0.prototype.animate=function(m){var n,o,q,s,t,v,H=this;o=0;v=this.animation,s=v.numFrames,q=v.frames,t=v.numPlays;return (n=function(){var g,j;g=o++%s;j=q[g];H.renderFrame(m,g);if(s>1&&o/s<t){return H.animation._timeout=setTimeout(n,j.delay);}})();};z0.prototype.stopAnimation=function(){var g;return clearTimeout((g=this.animation)!=null?g._timeout:void 0);};z0.prototype.render=function(g){var j,m;if(g._png){g._png.stopAnimation();}g._png=this;g.width=this.width;g.height=this.height;j=g.getContext("2d");if(this.animation){this.decodeFrames(j);return this.animate(j);}else{m=j.createImageData(this.width,this.height);this.copyToImageData(m,this.decodePixels());return j.putImageData(m,0,0);}};return z0;})();C0.PNG=Z;})(typeof window!==u4b.p3&&window||this);var DecodeStream=(function(){function s(){this.pos=0;this.bufferLength=0;this.eof=u4b.K4;this.buffer=u4b.p4;}s.prototype={ensureBuffer:function decodestream_ensureBuffer(g){var j=this.buffer,m=j?j.byteLength:0;if(g<m)return j;var n=512;while(n<g)n<<=1;var o=new Uint8Array(n);for(var q=0;q<m;++q)o[q]=j[q];return this.buffer=o;},getByte:function decodestream_getByte(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return this.buffer[this.pos++];},getBytes:function decodestream_getBytes(g){var j=this.pos;if(g){this.ensureBuffer(j+g);var m=j+g;while(!this.eof&&this.bufferLength<m)this.readBlock();var n=this.bufferLength;if(m>n)m=n;}else{while(!this.eof)this.readBlock();var m=this.bufferLength;}this.pos=m;return this.buffer.subarray(j,m);},lookChar:function decodestream_lookChar(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return String.fromCharCode(this.buffer[this.pos]);},getChar:function decodestream_getChar(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return String.fromCharCode(this.buffer[this.pos++]);},makeSubStream:function decodestream_makeSubstream(g,j,m){var n=g+j;while(this.bufferLength<=n&&!this.eof)this.readBlock();return new Stream(this.buffer,g,j,m);},skip:function decodestream_skip(g){if(!g)g=1;this.pos+=g;},reset:function decodestream_reset(){this.pos=0;}};return s;})(),FlateStream=(function(){if(typeof Uint32Array===u4b.U3){return undefined;}var I0=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w0=new Uint32Array([0x00003,0x00004,0x00005,0x00006,0x00007,0x00008,0x00009,0x0000a,0x1000b,0x1000d,0x1000f,0x10011,0x20013,0x20017,0x2001b,0x2001f,0x30023,0x3002b,0x30033,0x3003b,0x40043,0x40053,0x40063,0x40073,0x50083,0x500a3,0x500c3,0x500e3,0x00102,0x00102,0x00102]),l0=new Uint32Array([0x00001,0x00002,0x00003,0x00004,0x10005,0x10007,0x20009,0x2000d,0x30011,0x30019,0x40021,0x40031,0x50041,0x50061,0x60081,0x600c1,0x70101,0x70181,0x80201,0x80301,0x90401,0x90601,0xa0801,0xa0c01,0xb1001,0xb1801,0xc2001,0xc3001,0xd4001,0xd6001]),U0=[new Uint32Array([0x70100,0x80050,0x80010,0x80118,0x70110,0x80070,0x80030,0x900c0,0x70108,0x80060,0x80020,0x900a0,0x80000,0x80080,0x80040,0x900e0,0x70104,0x80058,0x80018,0x90090,0x70114,0x80078,0x80038,0x900d0,0x7010c,0x80068,0x80028,0x900b0,0x80008,0x80088,0x80048,0x900f0,0x70102,0x80054,0x80014,0x8011c,0x70112,0x80074,0x80034,0x900c8,0x7010a,0x80064,0x80024,0x900a8,0x80004,0x80084,0x80044,0x900e8,0x70106,0x8005c,0x8001c,0x90098,0x70116,0x8007c,0x8003c,0x900d8,0x7010e,0x8006c,0x8002c,0x900b8,0x8000c,0x8008c,0x8004c,0x900f8,0x70101,0x80052,0x80012,0x8011a,0x70111,0x80072,0x80032,0x900c4,0x70109,0x80062,0x80022,0x900a4,0x80002,0x80082,0x80042,0x900e4,0x70105,0x8005a,0x8001a,0x90094,0x70115,0x8007a,0x8003a,0x900d4,0x7010d,0x8006a,0x8002a,0x900b4,0x8000a,0x8008a,0x8004a,0x900f4,0x70103,0x80056,0x80016,0x8011e,0x70113,0x80076,0x80036,0x900cc,0x7010b,0x80066,0x80026,0x900ac,0x80006,0x80086,0x80046,0x900ec,0x70107,0x8005e,0x8001e,0x9009c,0x70117,0x8007e,0x8003e,0x900dc,0x7010f,0x8006e,0x8002e,0x900bc,0x8000e,0x8008e,0x8004e,0x900fc,0x70100,0x80051,0x80011,0x80119,0x70110,0x80071,0x80031,0x900c2,0x70108,0x80061,0x80021,0x900a2,0x80001,0x80081,0x80041,0x900e2,0x70104,0x80059,0x80019,0x90092,0x70114,0x80079,0x80039,0x900d2,0x7010c,0x80069,0x80029,0x900b2,0x80009,0x80089,0x80049,0x900f2,0x70102,0x80055,0x80015,0x8011d,0x70112,0x80075,0x80035,0x900ca,0x7010a,0x80065,0x80025,0x900aa,0x80005,0x80085,0x80045,0x900ea,0x70106,0x8005d,0x8001d,0x9009a,0x70116,0x8007d,0x8003d,0x900da,0x7010e,0x8006d,0x8002d,0x900ba,0x8000d,0x8008d,0x8004d,0x900fa,0x70101,0x80053,0x80013,0x8011b,0x70111,0x80073,0x80033,0x900c6,0x70109,0x80063,0x80023,0x900a6,0x80003,0x80083,0x80043,0x900e6,0x70105,0x8005b,0x8001b,0x90096,0x70115,0x8007b,0x8003b,0x900d6,0x7010d,0x8006b,0x8002b,0x900b6,0x8000b,0x8008b,0x8004b,0x900f6,0x70103,0x80057,0x80017,0x8011f,0x70113,0x80077,0x80037,0x900ce,0x7010b,0x80067,0x80027,0x900ae,0x80007,0x80087,0x80047,0x900ee,0x70107,0x8005f,0x8001f,0x9009e,0x70117,0x8007f,0x8003f,0x900de,0x7010f,0x8006f,0x8002f,0x900be,0x8000f,0x8008f,0x8004f,0x900fe,0x70100,0x80050,0x80010,0x80118,0x70110,0x80070,0x80030,0x900c1,0x70108,0x80060,0x80020,0x900a1,0x80000,0x80080,0x80040,0x900e1,0x70104,0x80058,0x80018,0x90091,0x70114,0x80078,0x80038,0x900d1,0x7010c,0x80068,0x80028,0x900b1,0x80008,0x80088,0x80048,0x900f1,0x70102,0x80054,0x80014,0x8011c,0x70112,0x80074,0x80034,0x900c9,0x7010a,0x80064,0x80024,0x900a9,0x80004,0x80084,0x80044,0x900e9,0x70106,0x8005c,0x8001c,0x90099,0x70116,0x8007c,0x8003c,0x900d9,0x7010e,0x8006c,0x8002c,0x900b9,0x8000c,0x8008c,0x8004c,0x900f9,0x70101,0x80052,0x80012,0x8011a,0x70111,0x80072,0x80032,0x900c5,0x70109,0x80062,0x80022,0x900a5,0x80002,0x80082,0x80042,0x900e5,0x70105,0x8005a,0x8001a,0x90095,0x70115,0x8007a,0x8003a,0x900d5,0x7010d,0x8006a,0x8002a,0x900b5,0x8000a,0x8008a,0x8004a,0x900f5,0x70103,0x80056,0x80016,0x8011e,0x70113,0x80076,0x80036,0x900cd,0x7010b,0x80066,0x80026,0x900ad,0x80006,0x80086,0x80046,0x900ed,0x70107,0x8005e,0x8001e,0x9009d,0x70117,0x8007e,0x8003e,0x900dd,0x7010f,0x8006e,0x8002e,0x900bd,0x8000e,0x8008e,0x8004e,0x900fd,0x70100,0x80051,0x80011,0x80119,0x70110,0x80071,0x80031,0x900c3,0x70108,0x80061,0x80021,0x900a3,0x80001,0x80081,0x80041,0x900e3,0x70104,0x80059,0x80019,0x90093,0x70114,0x80079,0x80039,0x900d3,0x7010c,0x80069,0x80029,0x900b3,0x80009,0x80089,0x80049,0x900f3,0x70102,0x80055,0x80015,0x8011d,0x70112,0x80075,0x80035,0x900cb,0x7010a,0x80065,0x80025,0x900ab,0x80005,0x80085,0x80045,0x900eb,0x70106,0x8005d,0x8001d,0x9009b,0x70116,0x8007d,0x8003d,0x900db,0x7010e,0x8006d,0x8002d,0x900bb,0x8000d,0x8008d,0x8004d,0x900fb,0x70101,0x80053,0x80013,0x8011b,0x70111,0x80073,0x80033,0x900c7,0x70109,0x80063,0x80023,0x900a7,0x80003,0x80083,0x80043,0x900e7,0x70105,0x8005b,0x8001b,0x90097,0x70115,0x8007b,0x8003b,0x900d7,0x7010d,0x8006b,0x8002b,0x900b7,0x8000b,0x8008b,0x8004b,0x900f7,0x70103,0x80057,0x80017,0x8011f,0x70113,0x80077,0x80037,0x900cf,0x7010b,0x80067,0x80027,0x900af,0x80007,0x80087,0x80047,0x900ef,0x70107,0x8005f,0x8001f,0x9009f,0x70117,0x8007f,0x8003f,0x900df,0x7010f,0x8006f,0x8002f,0x900bf,0x8000f,0x8008f,0x8004f,0x900ff]),9],O0=[new Uint32Array([0x50000,0x50010,0x50008,0x50018,0x50004,0x50014,0x5000c,0x5001c,0x50002,0x50012,0x5000a,0x5001a,0x50006,0x50016,0x5000e,0x00000,0x50001,0x50011,0x50009,0x50019,0x50005,0x50015,0x5000d,0x5001d,0x50003,0x50013,0x5000b,0x5001b,0x50007,0x50017,0x5000f,0x00000]),5];function D0(g){throw  new Error(g);}function N0(g){var j=0,m=g[j++],n=g[j++];if(m==-1||n==-1)D0('Invalid header in flate stream');if((m&0x0f)!=0x08)D0('Unknown compression method in flate stream');if((((m<<8)+n)%31)!=0)D0('Bad FCHECK in flate stream');if(n&0x20)D0('FDICT bit set in flate stream');this.bytes=g;this.bytesPos=j;this.codeSize=0;this.codeBuf=0;DecodeStream.call(this);}N0.prototype=Object.create(DecodeStream.prototype);N0.prototype.getBits=function(g){var j=this.codeSize,m=this.codeBuf,n=this.bytes,o=this.bytesPos,q;while(j<g){if(typeof (q=n[o++])==u4b.U3)D0('Bad encoding in flate stream');m|=q<<j;j+=8;}q=m&((1<<g)-1);this.codeBuf=m>>g;this.codeSize=j-=g;this.bytesPos=o;return q;};N0.prototype.getCode=function(g){var j=g[0],m=g[1],n=this.codeSize,o=this.codeBuf,q=this.bytes,s=this.bytesPos;while(n<m){var t;if(typeof (t=q[s++])==u4b.U3)D0('Bad encoding in flate stream');o|=(t<<n);n+=8;}var v=j[o&((1<<m)-1)],H=v>>16,z=v&0xffff;if(n==0||n<H||H==0)D0('Bad encoding in flate stream');this.codeBuf=(o>>H);this.codeSize=(n-H);this.bytesPos=s;return z;};N0.prototype.generateHuffmanTable=function(g){var j=g.length,m=0;for(var n=0;n<j;++n){if(g[n]>m)m=g[n];}var o=1<<m,q=new Uint32Array(o);for(var s=1,t=0,v=2;s<=m;++s,t<<=1,v<<=1){for(var H=0;H<j;++H){if(g[H]==s){var z=0,I=t;for(var n=0;n<s;++n){z=(z<<1)|(I&1);I>>=1;}for(var n=z;n<o;n+=v)q[n]=(s<<16)|H;++t;}}}return [q,m];};N0.prototype.readBlock=function(){function s(g,j,m,n,o){var q=g.getBits(m)+n;while(q-->0)j[k0++]=o;}var t=this.getBits(3);if(t&1)this.eof=true;t>>=1;if(t==0){var v=this.bytes,H=this.bytesPos,z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');var I=z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');I|=(z<<8);if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');var K=z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');K|=(z<<8);if(K!=(~I&0xffff))D0('Bad uncompressed block length in flate stream');this.codeBuf=0;this.codeSize=0;var M=this.bufferLength,N=this.ensureBuffer(M+I),P=M+I;this.bufferLength=P;for(var O=M;O<P;++O){if(typeof (z=v[H++])=='undefined'){this.eof=true;break;}N[O]=z;}this.bytesPos=H;return ;}var X,U;if(t==1){X=U0;U=O0;}else if(t==2){var Y=this.getBits(5)+257,W=this.getBits(5)+1,Q=this.getBits(4)+4,s0=Array(I0.length),k0=0;while(k0<Q)s0[I0[k0++]]=this.getBits(3);var m0=this.generateHuffmanTable(s0),j0=0,k0=0,e0=Y+W,R=new Array(e0);while(k0<e0){var S=this.getCode(m0);if(S==16){s(this,R,2,3,j0);}else if(S==17){s(this,R,3,3,j0=0);}else if(S==18){s(this,R,7,11,j0=0);}else{R[k0++]=j0=S;}}X=this.generateHuffmanTable(R.slice(0,Y));U=this.generateHuffmanTable(R.slice(Y,e0));}else{D0('Unknown block type in flate stream');}var N=this.buffer,y0=N?N.length:0,f0=this.bufferLength;while(true){var v0=this.getCode(X);if(v0<256){if(f0+1>=y0){N=this.ensureBuffer(f0+1);y0=N.length;}N[f0++]=v0;continue;}if(v0==256){this.bufferLength=f0;return ;}v0-=257;v0=w0[v0];var z0=v0>>16;if(z0>0)z0=this.getBits(z0);var j0=(v0&0xffff)+z0;v0=this.getCode(U);v0=l0[v0];z0=v0>>16;if(z0>0)z0=this.getBits(z0);var C0=(v0&0xffff)+z0;if(f0+j0>=y0){N=this.ensureBuffer(f0+j0);y0=N.length;}for(var Z=0;Z<j0;++Z,++f0)N[f0]=N[f0-C0];}};return N0;})();(function(N){var P='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';if(typeof N.btoa===u4b.U3){N.btoa=function(g){var j,m,n,o,q,s,t,v,H=0,z=0,I='',K=[];if(!g){return g;}do {j=g.charCodeAt(H++);m=g.charCodeAt(H++);n=g.charCodeAt(H++);v=j<<16|m<<8|n;o=v>>18&0x3f;q=v>>12&0x3f;s=v>>6&0x3f;t=v&0x3f;K[z++]=P.charAt(o)+P.charAt(q)+P.charAt(s)+P.charAt(t);}while(H<g.length);I=K.join('');var M=g.length%3;return (M?I.slice(0,M-3):I)+'==='.slice(M||3);};}if(typeof N.atob===u4b.U3){N.atob=function(g){var j,m,n,o,q,s,t,v,H=0,z=0,I='',K=[];if(!g){return g;}g+='';do {o=P.indexOf(g.charAt(H++));q=P.indexOf(g.charAt(H++));s=P.indexOf(g.charAt(H++));t=P.indexOf(g.charAt(H++));v=o<<18|q<<12|s<<6|t;j=v>>16&0xff;m=v>>8&0xff;n=v&0xff;if(s==64){K[z++]=String.fromCharCode(j);}else if(t==64){K[z++]=String.fromCharCode(j,m);}else{K[z++]=String.fromCharCode(j,m,n);}}while(H<g.length);I=K.join('');return I;};}if(!Array.prototype.map){Array.prototype.map=function(g){if(this===void 0||this===null||typeof g!=="function")throw  new TypeError();var j=Object(this),m=j.length>>>0,n=new Array(m),o=arguments.length>1?arguments[1]:void 0;for(var q=0;q<m;q++){if(q in j)n[q]=g.call(o,j[q],q,j);}return n;};}if(!Array.isArray){Array.isArray=function(g){return Object.prototype.toString.call(g)==='[object Array]';};}if(!Array.prototype.forEach){Array.prototype.forEach=function(g,j){"use strict";if(this===void 0||this===null||typeof g!=="function")throw  new TypeError();var m=Object(this),n=m.length>>>0;for(var o=0;o<n;o++){if(o in m)g.call(j,m[o],o,m);}};}if(!Object.keys){Object.keys=(function(){'use strict';var o=Object.prototype.hasOwnProperty,q=!({toString:null}).propertyIsEnumerable('toString'),s=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],t=s.length;return function(g){if(typeof g!=='object'&&(typeof g!=='function'||g===null)){throw  new TypeError();}var j=[],m,n;for(m in g){if(o.call(g,m)){j.push(m);}}if(q){for(n=0;n<t;n++){if(o.call(g,s[n])){j.push(s[n]);}}}return j;};}());}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};}if(!String.prototype.trimLeft){String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"");};}if(!String.prototype.trimRight){String.prototype.trimRight=function(){return this.replace(/\s+$/g,"");};}})(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this);
/** @license Promise polyfill | Copyright (c) 2014 Taylor Hakes [https://github.com/taylorhakes/promise-polyfill] | MIT License [https://github.com/taylorhakes/promise-polyfill/blob/master/LICENSE] */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if("function"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},c=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype["finally"]=u,n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();l.Promise?l.Promise.prototype["finally"]||(l.Promise.prototype["finally"]=u):l.Promise=n});
/** @license html2canvas v0.5.0-beta3 | Copyright (c) 2018 Niklas von Hertzen [https://html2canvas.hertzen.com] | MIT License [https://github.com/niklasvh/html2canvas/blob/master/LICENSE] */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s="function"==typeof require&&require;if(!l&&s)return s(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f?f:n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(".")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)n=e.charCodeAt(d++),n>=55296&&56319>=n&&i>d?(f=e.charCodeAt(d++),56320==(64512&f)?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--)):o.push(n);return o}function u(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(f=e.lastIndexOf(E),0>f&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i("not-basic"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i("invalid-input"),p=a(e.charCodeAt(d++)),(p>=k||p>K((j-w)/l))&&i("overflow"),w+=p*l,y=g>=s?q:s>=g+z?z:s-g,!(y>p);s+=k)m=k-y,l>K(j/m)&&i("overflow"),l*=m;n=r.length+1,g=c(w-t,n,0==t),K(w/n)>j-b&&i("overflow"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(e=s(e),v=e.length,n=D,f=0,t=C,l=0;v>l;++l)r=e[l],128>r&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)r=e[l],r>=n&&u>r&&(u=r);for(w=o+1,u-n>K((j-f)/w)&&i("overflow"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i("overflow"),r==n){for(a=f,y=k;m=t>=y?q:y>=t+z?z:y-t,!(m>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join("")}function r(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return G.test(e)?"xn--"+m(e):e})}var w="object"==typeof o&&o,b="object"==typeof f&&f&&f.exports==w&&f,g="object"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:"1.2.4",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:v,toUnicode:r},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return h});else if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n){function f(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function o(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(f){t("Unable to copy canvas content from",e,f)}}function d(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(n===!0||1!==i.nodeType||"SCRIPT"!==i.nodeName)&&f.appendChild(d(i,n)),i=i.nextSibling;return 1===e.nodeType&&(f._scrollTop=e.scrollTop,f._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?o(e,f):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(f.value=e.value)),f}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)i(n),n=n.nextSibling}}var t=e("./log");n.exports=function(e,n,o,t,l,s,u){var a=d(e.documentElement,l.javascriptEnabled),p=n.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=o,p.height=t,p.scrolling="no",n.body.appendChild(p),new Promise(function(n){var o=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){o.body.childNodes.length>0&&(i(o.documentElement),clearInterval(e),"view"===l.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(o.documentElement.style.top=-u+"px",o.documentElement.style.left=-s+"px",o.documentElement.style.position="absolute")),n(p))},50)},o.open(),o.write("<!DOCTYPE html><html></html>"),f(e,s,u),o.replaceChild(o.adoptNode(a),o.documentElement),o.close()})}},{"./log":13}],3:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},f.prototype.namedColor=function(e){e=e.toLowerCase();var n=l[e];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],4:[function(n,f){function o(e,n){var f=j++;if(n=n||{},n.logging&&(v.options.logging=!0,v.options.start=Date.now()),n.async="undefined"==typeof n.async?!0:n.async,n.allowTaint="undefined"==typeof n.allowTaint?!1:n.allowTaint,n.removeContainer="undefined"==typeof n.removeContainer?!0:n.removeContainer,n.javascriptEnabled="undefined"==typeof n.javascriptEnabled?!1:n.javascriptEnabled,n.imageTimeout="undefined"==typeof n.imageTimeout?1e4:n.imageTimeout,n.renderer="function"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,"string"==typeof e){if("string"!=typeof n.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(a(e),n.proxy,document,o,t,n).then(function(e){return i(e.contentWindow.document.documentElement,e,n,o,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),d(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return"function"==typeof n.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),n.onrendered(e)),e})}function d(e,n,f,o,d){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v("Document cloned");var l=x+d,s="["+l+"='"+d+"']";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,a=u.document.querySelector(s),p=Promise.resolve("function"==typeof n.onclone?n.onclone(u.document):!0);return p.then(function(){return i(a,t,n,f,o)})})}function i(e,n,f,o,d){var i=n.contentWindow,a=new p(i.document),c=new y(f,a),r=h(e),w="view"===f.type?o:s(i.document),b="view"===f.type?d:u(i.document),g=new f.renderer(w,b,c,f,document),x=new m(e,g,a,c,f);return x.ready.then(function(){v("Finished rendering");var o;return o="view"===f.type?l(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=f.canvas?g.canvas:l(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:0,y:0}),t(n,f),o})}function t(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function l(e,n){var f=document.createElement("canvas"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));f.width=n.width,f.height=n.height;var l=d-o,s=t-i;return v("Cropping canvas at:","left:",n.left,"top:",n.top,"width:",l,"height:",s),v("Resulting crop with width",n.width,"and height",n.height,"with x",o,"and y",i),f.getContext("2d").drawImage(e,o,i,l,s,n.x,n.y,l,s),f}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function a(e){var n=document.createElement("a");return n.href=e,n.href=n.href,n}var p=n("./support"),c=n("./renderers/canvas"),y=n("./imageloader"),m=n("./nodeparser"),r=n("./nodecontainer"),v=n("./log"),w=n("./utils"),b=n("./clone"),g=n("./proxy").loadUrlDocument,h=w.getBounds,x="data-html2canvas-node",j=0;o.CanvasRenderer=c,o.NodeContainer=r,o.log=v,o.utils=w;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;f.exports=k,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return k})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,n){function f(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new Promise(function(e,f){n.onload=e,n.onerror=f,n.src=d(),n.complete===!0&&e(n)})}}var o=e("./log"),d=e("./utils").smallImage;n.exports=f},{"./log":13,"./utils":26}],6:[function(e,n){function f(e,n){var f,d,i=document.createElement("div"),t=document.createElement("img"),l=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",t.style.verticalAlign="super",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}var o=e("./utils").smallImage;n.exports=f},{"./utils":26}],7:[function(e,n){function f(){this.data={}}var o=e("./font");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+"-"+n]&&(this.data[e+"-"+n]=new o(e,n)),this.data[e+"-"+n]},n.exports=f},{"./font":6}],8:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var i=this,t=d(n);this.promise=(f?new Promise(function(e){"about:blank"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,t,o)).then(function(n){var f=e("./core");return f(n.contentWindow.document.documentElement,{type:"view",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return i.image=e})}var o=e("./utils"),d=o.getBounds,i=e("./proxy").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return i(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}f.TYPES={LINEAR:1,RADIAL:2},f.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,n.exports=f},{}],10:[function(e,n){function f(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new Promise(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin="anonymous"),f.image.src=e,f.image.complete===!0&&o(f.image)})}n.exports=f},{}],11:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e("./log"),d=e("./imagecontainer"),i=e("./dummyimagecontainer"),t=e("./proxyimagecontainer"),l=e("./framecontainer"),s=e("./svgcontainer"),u=e("./svgnodecontainer"),a=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),c=e("./utils").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case"IMG":return e.concat([{args:[n.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(d){this.imageExists(e,d)||(e.splice(0,0,n.call(this,f)),o("Added image #"+e.length,"string"==typeof d?d.substring(0,100):d))},this)}},f.prototype.hasImageBackground=function(e){return"none"!==e.method},f.prototype.loadImage=function(e){if("url"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\/.*;base64,/i)?new d(n.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(n)||this.options.allowTaint===!0||this.isSVG(n)?new d(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(n,!0):this.options.proxy?new t(n,this.options.proxy):new i(n):new s(n)}return"linear-gradient"===e.method?new a(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},f.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement("a"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var n=new i(e.src);return n.promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){o("Succesfully loaded image #"+(n+1),e)},function(f){o("Failed loading image #"+(n+1),e,f)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},f.prototype.timeout=function(e,n){var f,d=Promise.race([e.promise,new Promise(function(d,i){f=setTimeout(function(){o("Timed out loading image",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return d["catch"](function(){clearTimeout(f)}),d},n.exports=f},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,n){function f(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var n=f.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);n?e.args[0].split(/\s+/).reverse().forEach(function(e,n){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var f=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=f;break;case"center":break;default:var d=.01*parseFloat(e,10);if(isNaN(d))break;0===n?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(o.REGEXP_COLORSTOP),f=+n[2],i=0===f?"%":n[3];return{color:new d(n[1]),stop:"%"===i?f/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop?(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}var o=e("./gradientcontainer"),d=e("./color");f.prototype=Object.create(o.prototype),f.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,n.exports=f},{"./color":3,"./gradientcontainer":9}],13:[function(e,n){var f=function(){f.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-f.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};f.options={logging:!1},n.exports=f},{}],14:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||"":""}function d(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var n=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[n[0],n[1],n[4],n[5],n[12],n[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function t(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=["webkit","moz","ms","o"],f=this.css(e);return void 0===f&&n.some(function(n){return f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==f},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},f.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||"").split(",");return f=f[n||0]||f[0]||"auto",f=f.trim().split(" "),1===f.length&&(f=[f[0],i(f[0])?"auto":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList("backgroundSize",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^"contain"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d="auto"===t[0]&&"auto"===t[1]?n.height:"auto"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),"auto"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList("backgroundPosition",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t="auto"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css("textShadow"),n=[];if(e&&"none"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",""):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss("transformOrigin").split(" ").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n?n:[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("•")),0===e.length?this.node.placeholder||"":e},f.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,f.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,n.exports=f},{"./color":3,"./utils":26}],15:[function(e,n){function f(e,n,f,o,d){N("Starting NodeParser"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new U(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(W(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(W(function(e){d.async?"function"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=4*((Math.sqrt(2)-1)/3),i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0]<i/2?n[0][0]:i/2,u=n[0][1]<t/2?n[0][1]:t/2,a=n[1][0]<i/2?n[1][0]:i/2,p=n[1][1]<t/2?n[1][1]:t/2,c=n[2][0]<i/2?n[2][0]:i/2,y=n[2][1]<t/2?n[2][1]:t/2,m=n[3][0]<i/2?n[3][0]:i/2,r=n[3][1]<t/2?n[3][1]:t/2,v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}
}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push(["bezierCurve",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push(["line",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push(["line",e.c2[0],e.c2[1]]),l.push(["line",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push(["line",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",i,t]),(f[0]>0||f[1]>0)&&e.push(["line",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt("zIndex")<0}function y(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function r(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof U}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function g(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(n){var f=e.css("border"+n+"Radius"),o=f.split(" ");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css("position"),f=-1!==["absolute","relative","fixed"].indexOf(n)?e.css("zIndex"):"auto";return"auto"!==f}function j(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function q(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return e.isPseudoElement===!0}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt("zIndex")+e.indexOf(n)/e.length-(f.cssInt("zIndex")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),O=e("punycode"),P=e("./nodecontainer"),Q=e("./textcontainer"),R=e("./pseudoelementcontainer"),S=e("./fontmetrics"),T=e("./color"),U=e("./stackingcontext"),V=e("./utils"),W=V.bind,X=V.getBounds,Y=V.parseBackgrounds,Z=V.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n="hidden"===e.css("overflow")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&n.push([["rect",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(W(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(e,n){var f=e.createElement("style");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,":before"),o=this.getPseudoElement(e,":after");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||"none"===f.content||"-moz-alt-content"===f.content||"none"===f.display)return null;for(var o=J(f.content),i="url"===o.substr(0,3),t=document.createElement(i?"img":"html2canvaspseudoelement"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Y(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&"TEXTAREA"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new U(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f);var o=n?f.getParentStack(this):f.parent.stack;o.contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join("").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement("html2canvaswrapper"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?Z(f):X(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T("#A5A5A5"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T("#DEDEDE")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T("#424242"),"normal","normal","bold",f-3+"px","arial"),this.renderer.text("✔",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T("#DEDEDE"),1,new T("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T("#424242"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement("html2canvaswrapper"),d=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];d.forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N("html2canvas: Parse: Exception caught in renderFormValue: "+f.message)}});var i=e.parseBounds();o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color("color"))}};var $={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=["Top","Right","Bottom","Left"].map(function(n,f){var o=e.css("border"+n+"Style"),d=e.color("border"+n+"Color");"inset"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=$[o]?$[o][f]:null;return{width:e.cssInt("border"+n+"Width"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var i=e.css("backgroundClip"),t=[];switch(i){case"content-box":case"padding-box":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,n,f){function o(e,n,f){var o="withCredentials"in new XMLHttpRequest;if(!n)return Promise.reject("No proxy configured");var d=t(o),s=l(n,e,d);return o?a(s):i(f,s,d).then(function(e){return m(e.content)})}function d(e,n,f){var o="crossOrigin"in new Image,d=t(o),s=l(n,e,d);return o?Promise.resolve(s):i(f,s,d).then(function(e){return"data:"+e.type+";base64,"+e.content})}function i(e,n,f){return new Promise(function(o,d){var i=e.createElement("script"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1e5*Math.random())}function l(e,n,f){return e+"?url="+encodeURIComponent(n)+(f.length?"&callback=html2canvas.proxy."+f:"")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,"text/html")}catch(d){c("DOMParser not supported, falling back to createHTMLDocument"),f=document.implementation.createHTMLDocument("");try{f.open(),f.write(n),f.close()}catch(i){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),f.body.innerHTML=n}}var t=f.querySelector("base");if(!t||!t.href.host){var l=f.createElement("base");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}function u(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return y(e,f,d,i,t,0,0)})}var a=e("./xhr"),p=e("./utils"),c=e("./log"),y=e("./clone"),m=p.decode64,r=0;f.Proxy=o,f.ProxyURL=d,f.loadUrlDocument=u},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,n){function f(e,n){var f=document.createElement("a");f.href=e,e=f.href,this.src=e,this.image=new Image;var d=this;this.promise=new Promise(function(f,i){d.image.crossOrigin="Anonymous",d.image.onload=f,d.image.onerror=i,new o(e,n,document).then(function(e){d.image.src=e})["catch"](i)})}var o=e("./proxy").ProxyURL;n.exports=f},{"./proxy":16}],18:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=":before"===f}var o=e("./nodecontainer");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},f.prototype=Object.create(o.prototype),f.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},f.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",n.exports=f},{"./nodecontainer":14}],19:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e("./log");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),t=e.cssInt("paddingRight"),l=e.cssInt("paddingBottom"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color("backgroundColor");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){var d=e.parseBackgroundImages();d.reverse().forEach(function(d,i,t){switch(d.method){case"url":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o("Error loading background-image",d.args[0]);break;case"none":break;default:o("Unknown background-image type",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i),l=e.parseBackgroundRepeat(o);switch(l){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case"no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{"./log":13}],20:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},t("Initialized CanvasRenderer with size",e,"x",n)}function o(e){return e.length>0}var d=e("../renderer"),i=e("../lineargradientcontainer"),t=e("../log");f.prototype=Object.create(d.prototype),f.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(" ").split(",")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",f).setVariable("shadowBlur",o)},f.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[["line",Math.round(d),Math.round(i)],["line",Math.round(d+t),Math.round(i)],["line",Math.round(d+t),Math.round(l+i)],["line",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),"repeat")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var o,d=document.createElement("canvas");return d.width=n.width,d.height=n.height,o=d.getContext("2d"),o.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e("./nodecontainer");f.prototype=Object.create(o.prototype),f.prototype.getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{"./nodecontainer":14}],22:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,d,i=!1;return e.createRange&&(n=e.createRange(),n.getBoundingClientRect&&(f=e.createElement("boundtest"),f.style.height="123px",f.style.display="block",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),d=o.height,123===d&&(i=!0),e.body.removeChild(f))),i},f.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement("canvas"),f=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],23:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e("./xhr"),d=e("./utils").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},f.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},f.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):d(e)},n.exports=f},{"./utils":26,"./xhr":28}],24:[function(e,n){function f(e,n){this.src=e,this.image=null;var f=this;this.promise=n?new Promise(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),f.image.complete===!0&&n(f.image)}):this.hasFabric().then(function(){return new Promise(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e("./svgcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./svgcontainer":23}],25:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e("./nodecontainer");f.prototype=Object.create(d.prototype),f.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return n.toUpperCase();default:return n}},n.exports=f},{"./nodecontainer":14}],26:[function(e,n,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length,p="";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,s=" \r\n	",u=[],a=0,p=0,c=function(){n&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),"-"===n.substr(0,1)&&(d=n.indexOf("-",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=""};return l=[],n=o=f=i="",e.split("").forEach(function(e){if(!(0===a&&s.indexOf(e)>-1)){switch(e){case'"':t?t===e&&(t=null):t=e;break;case"(":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case")":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case",":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f="",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],27:[function(e,n){function f(e){o.apply(this,arguments),this.type="linear"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e("./gradientcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./gradientcontainer":9}],28:[function(e,n){function f(e){return new Promise(function(n,f){var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error("Network Error"))},o.send()})}n.exports=f},{}]},{},[4])(4)});
/** @license JSZip v3.1.5 | Copyright (c) 2009-2016 Stuart Knightley <stuart@stuartk.com> [https://stuk.github.io/jszip/] | MIT or GPLv3 License [https://raw.github.com/Stuk/jszip/master/LICENSE.markdown] */
var r0="\x00\x00",k0='application/zip',e0="application/zip",n0="undefined",q0=null,h0=false;"use strict";var JSZip=function(k,l){this.files={};this.root="";if(k){this.load(k,l);}};JSZip.signature={LOCAL_FILE_HEADER:"\x50\x4b\x03\x04",CENTRAL_FILE_HEADER:"\x50\x4b\x01\x02",CENTRAL_DIRECTORY_END:"\x50\x4b\x05\x06",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"\x50\x4b\x06\x07",ZIP64_CENTRAL_DIRECTORY_END:"\x50\x4b\x06\x06",DATA_DESCRIPTOR:"\x50\x4b\x07\x08"};JSZip.defaults={base64:h0,binary:h0,dir:h0,date:q0,compression:q0};JSZip.support={arraybuffer:(function(){return typeof ArrayBuffer!==n0&&typeof Uint8Array!==n0;})(),nodebuffer:(function(){return typeof Buffer!==n0;})(),uint8array:(function(){return typeof Uint8Array!==n0;})(),blob:(function(){if(typeof ArrayBuffer===n0){return h0;}var l=new ArrayBuffer(0);try{return new Blob([l],{type:e0}).size===0;}catch(k){}try{var n=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();n.append(l);return n.getBlob(k0).size===0;}catch(k){}return h0;})()};JSZip.prototype=(function(){var p,v;if(JSZip.support.uint8array&&typeof TextEncoder==="function"&&typeof TextDecoder==="function"){p=new TextEncoder("utf-8");v=new TextDecoder("utf-8");}var w=function(k){if(k._data instanceof JSZip.CompressedObject){k._data=k._data.getContent();k.options.binary=true;k.options.base64=false;if(JSZip.utils.getTypeOf(k._data)==="uint8array"){var l=k._data;k._data=new Uint8Array(l.length);if(l.length!==0){k._data.set(l,0);}}}return k._data;},E=function(k){var l=w(k),n=JSZip.utils.getTypeOf(l);if(n==="string"){if(!k.options.binary){if(p){return p.encode(l);}if(JSZip.support.nodebuffer){return new Buffer(l,"utf-8");}}return k.asBinary();}return l;},z=function(k){var l=w(this);if(l===null||typeof l==="undefined"){return "";}if(this.options.base64){l=JSZip.base64.decode(l);}if(k&&this.options.binary){l=JSZip.prototype.utf8decode(l);}else{l=JSZip.utils.transformTo("string",l);}if(!k&&!this.options.binary){l=JSZip.prototype.utf8encode(l);}return l;},J=function(k,l,n){this.name=k;this._data=l;this.options=n;};J.prototype={asText:function(){return z.call(this,true);},asBinary:function(){return z.call(this,false);},asNodeBuffer:function(){var k=E(this);return JSZip.utils.transformTo("nodebuffer",k);},asUint8Array:function(){var k=E(this);return JSZip.utils.transformTo("uint8array",k);},asArrayBuffer:function(){return this.asUint8Array().buffer;}};var I=function(k,l){var n="",r;for(r=0;r<l;r++){n+=String.fromCharCode(k&0xff);k=k>>>8;}return n;},P=function(){var k={},l,n;for(l=0;l<arguments.length;l++){for(n in arguments[l]){if(arguments[l].hasOwnProperty(n)&&typeof k[n]==="undefined"){k[n]=arguments[l][n];}}}return k;},F=function(k){k=k||{};if(k.base64===true&&k.binary==null){k.binary=true;}k=P(k,JSZip.defaults);k.date=k.date||new Date();if(k.compression!==null)k.compression=k.compression.toUpperCase();return k;},K=function(k,l,n){var r=D(k),u=JSZip.utils.getTypeOf(l);if(r){x.call(this,r);}n=F(n);if(n.dir||l===null||typeof l==="undefined"){n.base64=false;n.binary=false;l=null;}else if(u==="string"){if(n.binary&&!n.base64){if(n.optimizedBinaryString!==true){l=JSZip.utils.string2binary(l);}}}else{n.base64=false;n.binary=true;if(!u&&!(l instanceof JSZip.CompressedObject)){throw  new Error("The data of '"+k+"' is in an unsupported format !");}if(u==="arraybuffer"){l=JSZip.utils.transformTo("uint8array",l);}}return this.files[k]=new J(k,l,n);},D=function(k){if(k.slice(-1)=='/'){k=k.substring(0,k.length-1);}var l=k.lastIndexOf('/');return (l>0)?k.substring(0,l):"";},x=function(k){if(k.slice(-1)!="/"){k+="/";}if(!this.files[k]){K.call(this,k,null,{dir:true});}return this.files[k];},G=function(k,l){var n=new JSZip.CompressedObject(),r;if(k._data instanceof JSZip.CompressedObject){n.uncompressedSize=k._data.uncompressedSize;n.crc32=k._data.crc32;if(n.uncompressedSize===0||k.options.dir){l=JSZip.compressions['STORE'];n.compressedContent="";n.crc32=0;}else if(k._data.compressionMethod===l.magic){n.compressedContent=k._data.getCompressedContent();}else{r=k._data.getContent();n.compressedContent=l.compress(JSZip.utils.transformTo(l.compressInputType,r));}}else{r=E(k);if(!r||r.length===0||k.options.dir){l=JSZip.compressions['STORE'];r="";}n.uncompressedSize=r.length;n.crc32=this.crc32(r);n.compressedContent=l.compress(JSZip.utils.transformTo(l.compressInputType,r));}n.compressedSize=n.compressedContent.length;n.compressionMethod=l.magic;return n;},V=function(k,l,n,r){var u=n.compressedContent,s=this.utf8encode(l.name),C=s!==l.name,y=l.options,B,A;B=y.date.getHours();B=B<<6;B=B|y.date.getMinutes();B=B<<5;B=B|y.date.getSeconds()/2;A=y.date.getFullYear()-1980;A=A<<4;A=A|(y.date.getMonth()+1);A=A<<5;A=A|y.date.getDate();var m="";m+="\x0A\x00";m+=C?"\x00\x08":"\x00\x00";m+=n.compressionMethod;m+=I(B,2);m+=I(A,2);m+=I(n.crc32,4);m+=I(n.compressedSize,4);m+=I(n.uncompressedSize,4);m+=I(s.length,2);m+="\x00\x00";var q=JSZip.signature.LOCAL_FILE_HEADER+m+s,o=JSZip.signature.CENTRAL_FILE_HEADER+"\x14\x00"+m+"\x00\x00"+"\x00\x00"+"\x00\x00"+(l.options.dir===true?"\x10\x00\x00\x00":"\x00\x00\x00\x00")+I(r,4)+s;return {fileRecord:q,dirRecord:o,compressedObject:n};},N=function(){this.data=[];};N.prototype={append:function(k){k=JSZip.utils.transformTo("string",k);this.data.push(k);},finalize:function(){return this.data.join("");}};var L=function(k){this.data=new Uint8Array(k);this.index=0;};L.prototype={append:function(k){if(k.length!==0){k=JSZip.utils.transformTo("uint8array",k);this.data.set(k,this.index);this.index+=k.length;}},finalize:function(){return this.data;}};return {load:function(k,l){throw  new Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(k){var l=[],n,r,u,s;for(n in this.files){if(!this.files.hasOwnProperty(n)){continue;}u=this.files[n];s=new J(u.name,u._data,P(u.options));r=n.slice(this.root.length,n.length);if(n.slice(0,this.root.length)===this.root&&k(r,s)){l.push(s);}}return l;},file:function(n,r,u){if(arguments.length===1){if(JSZip.utils.isRegExp(n)){var s=n;return this.filter(function(k,l){return !l.options.dir&&s.test(k);});}else{return this.filter(function(k,l){return !l.options.dir&&k===n;})[0]||null;}}else{n=this.root+n;K.call(this,n,r,u);}return this;},folder:function(n){if(!n){return this;}if(JSZip.utils.isRegExp(n)){return this.filter(function(k,l){return l.options.dir&&n.test(k);});}var r=this.root+n,u=x.call(this,r),s=this.clone();s.root=u.name;return s;},remove:function(n){n=this.root+n;var r=this.files[n];if(!r){if(n.slice(-1)!="/"){n+="/";}r=this.files[n];}if(r){if(!r.options.dir){delete  this.files[n];}else{var u=this.filter(function(k,l){return l.name.slice(0,n.length)===n;});for(var s=0;s<u.length;s++){delete  this.files[u[s].name];}}}return this;},generate:function(k){k=P(k||{},{base64:true,compression:"STORE",type:"base64"});JSZip.utils.checkSupport(k.type);var l=[],n=0,r=0,u,s;for(var C in this.files){if(!this.files.hasOwnProperty(C)){continue;}var y=this.files[C],B=y.options.compression||k.compression.toUpperCase(),A=JSZip.compressions[B];if(!A){throw  new Error(B+" is not a valid compression method !");}var m=G.call(this,y,A),q=V.call(this,C,y,m,n);n+=q.fileRecord.length+m.compressedSize;r+=q.dirRecord.length;l.push(q);}var o="";o=JSZip.signature.CENTRAL_DIRECTORY_END+"\x00\x00"+"\x00\x00"+I(l.length,2)+I(l.length,2)+I(r,4)+I(n,4)+"\x00\x00";switch(k.type.toLowerCase()){case "uint8array":case "arraybuffer":case "blob":case "nodebuffer":u=new L(n+r+o.length);break;case "base64":default :u=new N(n+r+o.length);break;}for(s=0;s<l.length;s++){u.append(l[s].fileRecord);u.append(l[s].compressedObject.compressedContent);}for(s=0;s<l.length;s++){u.append(l[s].dirRecord);}u.append(o);var t=u.finalize();switch(k.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return JSZip.utils.transformTo(k.type.toLowerCase(),t);case "blob":return JSZip.utils.arrayBuffer2Blob(JSZip.utils.transformTo("arraybuffer",t));case "base64":return (k.base64)?JSZip.base64.encode(t):t;default :return t;}},crc32:function crc32(k,l){if(typeof k==="undefined"||!k.length){return 0;}var n=JSZip.utils.getTypeOf(k)!=="string",r=[0x00000000,0x77073096,0xEE0E612C,0x990951BA,0x076DC419,0x706AF48F,0xE963A535,0x9E6495A3,0x0EDB8832,0x79DCB8A4,0xE0D5E91E,0x97D2D988,0x09B64C2B,0x7EB17CBD,0xE7B82D07,0x90BF1D91,0x1DB71064,0x6AB020F2,0xF3B97148,0x84BE41DE,0x1ADAD47D,0x6DDDE4EB,0xF4D4B551,0x83D385C7,0x136C9856,0x646BA8C0,0xFD62F97A,0x8A65C9EC,0x14015C4F,0x63066CD9,0xFA0F3D63,0x8D080DF5,0x3B6E20C8,0x4C69105E,0xD56041E4,0xA2677172,0x3C03E4D1,0x4B04D447,0xD20D85FD,0xA50AB56B,0x35B5A8FA,0x42B2986C,0xDBBBC9D6,0xACBCF940,0x32D86CE3,0x45DF5C75,0xDCD60DCF,0xABD13D59,0x26D930AC,0x51DE003A,0xC8D75180,0xBFD06116,0x21B4F4B5,0x56B3C423,0xCFBA9599,0xB8BDA50F,0x2802B89E,0x5F058808,0xC60CD9B2,0xB10BE924,0x2F6F7C87,0x58684C11,0xC1611DAB,0xB6662D3D,0x76DC4190,0x01DB7106,0x98D220BC,0xEFD5102A,0x71B18589,0x06B6B51F,0x9FBFE4A5,0xE8B8D433,0x7807C9A2,0x0F00F934,0x9609A88E,0xE10E9818,0x7F6A0DBB,0x086D3D2D,0x91646C97,0xE6635C01,0x6B6B51F4,0x1C6C6162,0x856530D8,0xF262004E,0x6C0695ED,0x1B01A57B,0x8208F4C1,0xF50FC457,0x65B0D9C6,0x12B7E950,0x8BBEB8EA,0xFCB9887C,0x62DD1DDF,0x15DA2D49,0x8CD37CF3,0xFBD44C65,0x4DB26158,0x3AB551CE,0xA3BC0074,0xD4BB30E2,0x4ADFA541,0x3DD895D7,0xA4D1C46D,0xD3D6F4FB,0x4369E96A,0x346ED9FC,0xAD678846,0xDA60B8D0,0x44042D73,0x33031DE5,0xAA0A4C5F,0xDD0D7CC9,0x5005713C,0x270241AA,0xBE0B1010,0xC90C2086,0x5768B525,0x206F85B3,0xB966D409,0xCE61E49F,0x5EDEF90E,0x29D9C998,0xB0D09822,0xC7D7A8B4,0x59B33D17,0x2EB40D81,0xB7BD5C3B,0xC0BA6CAD,0xEDB88320,0x9ABFB3B6,0x03B6E20C,0x74B1D29A,0xEAD54739,0x9DD277AF,0x04DB2615,0x73DC1683,0xE3630B12,0x94643B84,0x0D6D6A3E,0x7A6A5AA8,0xE40ECF0B,0x9309FF9D,0x0A00AE27,0x7D079EB1,0xF00F9344,0x8708A3D2,0x1E01F268,0x6906C2FE,0xF762575D,0x806567CB,0x196C3671,0x6E6B06E7,0xFED41B76,0x89D32BE0,0x10DA7A5A,0x67DD4ACC,0xF9B9DF6F,0x8EBEEFF9,0x17B7BE43,0x60B08ED5,0xD6D6A3E8,0xA1D1937E,0x38D8C2C4,0x4FDFF252,0xD1BB67F1,0xA6BC5767,0x3FB506DD,0x48B2364B,0xD80D2BDA,0xAF0A1B4C,0x36034AF6,0x41047A60,0xDF60EFC3,0xA867DF55,0x316E8EEF,0x4669BE79,0xCB61B38C,0xBC66831A,0x256FD2A0,0x5268E236,0xCC0C7795,0xBB0B4703,0x220216B9,0x5505262F,0xC5BA3BBE,0xB2BD0B28,0x2BB45A92,0x5CB36A04,0xC2D7FFA7,0xB5D0CF31,0x2CD99E8B,0x5BDEAE1D,0x9B64C2B0,0xEC63F226,0x756AA39C,0x026D930A,0x9C0906A9,0xEB0E363F,0x72076785,0x05005713,0x95BF4A82,0xE2B87A14,0x7BB12BAE,0x0CB61B38,0x92D28E9B,0xE5D5BE0D,0x7CDCEFB7,0x0BDBDF21,0x86D3D2D4,0xF1D4E242,0x68DDB3F8,0x1FDA836E,0x81BE16CD,0xF6B9265B,0x6FB077E1,0x18B74777,0x88085AE6,0xFF0F6A70,0x66063BCA,0x11010B5C,0x8F659EFF,0xF862AE69,0x616BFFD3,0x166CCF45,0xA00AE278,0xD70DD2EE,0x4E048354,0x3903B3C2,0xA7672661,0xD06016F7,0x4969474D,0x3E6E77DB,0xAED16A4A,0xD9D65ADC,0x40DF0B66,0x37D83BF0,0xA9BCAE53,0xDEBB9EC5,0x47B2CF7F,0x30B5FFE9,0xBDBDF21C,0xCABAC28A,0x53B39330,0x24B4A3A6,0xBAD03605,0xCDD70693,0x54DE5729,0x23D967BF,0xB3667A2E,0xC4614AB8,0x5D681B02,0x2A6F2B94,0xB40BBE37,0xC30C8EA1,0x5A05DF1B,0x2D02EF8D];if(typeof (l)=="undefined"){l=0;}var u=0,s=0,C=0;l=l^(-1);for(var y=0,B=k.length;y<B;y++){C=n?k[y]:k.charCodeAt(y);s=(l^C)&0xFF;u=r[s];l=(l>>>8)^u;}return l^(-1);},clone:function(){var k=new JSZip();for(var l in this){if(typeof this[l]!=="function"){k[l]=this[l];}}return k;},utf8encode:function(k){if(p){var l=p.encode(k);return JSZip.utils.transformTo("string",l);}if(JSZip.support.nodebuffer){return JSZip.utils.transformTo("string",new Buffer(k,"utf-8"));}var n=[],r=0;for(var u=0;u<k.length;u++){var s=k.charCodeAt(u);if(s<128){n[r++]=String.fromCharCode(s);}else if((s>127)&&(s<2048)){n[r++]=String.fromCharCode((s>>6)|192);n[r++]=String.fromCharCode((s&63)|128);}else{n[r++]=String.fromCharCode((s>>12)|224);n[r++]=String.fromCharCode(((s>>6)&63)|128);n[r++]=String.fromCharCode((s&63)|128);}}return n.join("");},utf8decode:function(k){var l=[],n=0,r=JSZip.utils.getTypeOf(k),u=r!=="string",s=0,C=0,y=0,B=0,A=0;if(v){return v.decode(JSZip.utils.transformTo("uint8array",k));}if(JSZip.support.nodebuffer){return JSZip.utils.transformTo("nodebuffer",k).toString("utf-8");}while(s<k.length){C=u?k[s]:k.charCodeAt(s);if(C<128){l[n++]=String.fromCharCode(C);s++;}else if((C>191)&&(C<224)){B=u?k[s+1]:k.charCodeAt(s+1);l[n++]=String.fromCharCode(((C&31)<<6)|(B&63));s+=2;}else{B=u?k[s+1]:k.charCodeAt(s+1);A=u?k[s+2]:k.charCodeAt(s+2);l[n++]=String.fromCharCode(((C&15)<<12)|((B&63)<<6)|(A&63));s+=3;}}return l.join("");}};}());JSZip.compressions={"STORE":{magic:r0,compress:function(k){return k;},uncompress:function(k){return k;},compressInputType:q0,uncompressInputType:q0}};(function(){JSZip.utils={string2binary:function(k){var l="";for(var n=0;n<k.length;n++){l+=String.fromCharCode(k.charCodeAt(n)&0xff);}return l;},string2Uint8Array:function(k){return JSZip.utils.transformTo("uint8array",k);},uint8Array2String:function(k){return JSZip.utils.transformTo("string",k);},arrayBuffer2Blob:function(l){JSZip.utils.checkSupport("blob");try{return new Blob([l],{type:"application/zip"});}catch(k){}try{var n=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();n.append(l);return n.getBlob('application/zip');}catch(k){}throw  new Error("Bug : can't construct the Blob.");},string2Blob:function(k){var l=JSZip.utils.transformTo("arraybuffer",k);return JSZip.utils.arrayBuffer2Blob(l);}};function m(k){return k;};function q(k,l){for(var n=0;n<k.length;++n){l[n]=k.charCodeAt(n)&0xFF;}return l;};function o(l){var n=65536,r=[],u=l.length,s=JSZip.utils.getTypeOf(l),C=0,y=true;try{switch(s){case "uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case "nodebuffer":String.fromCharCode.apply(null,new Buffer(0));break;}}catch(k){y=false;}if(!y){var B="";for(var A=0;A<l.length;A++){B+=String.fromCharCode(l[A]);}return B;}while(C<u&&n>1){try{if(s==="array"||s==="nodebuffer"){r.push(String.fromCharCode.apply(null,l.slice(C,Math.min(C+n,u))));}else{r.push(String.fromCharCode.apply(null,l.subarray(C,Math.min(C+n,u))));}C+=n;}catch(k){n=Math.floor(n/2);}}return r.join("");};function t(k,l){for(var n=0;n<k.length;n++){l[n]=k[n];}return l;};var p={};p["string"]={"string":m,"array":function(k){return q(k,new Array(k.length));},"arraybuffer":function(k){return p["string"]["uint8array"](k).buffer;},"uint8array":function(k){return q(k,new Uint8Array(k.length));},"nodebuffer":function(k){return q(k,new Buffer(k.length));}};p["array"]={"string":o,"array":m,"arraybuffer":function(k){return (new Uint8Array(k)).buffer;},"uint8array":function(k){return new Uint8Array(k);},"nodebuffer":function(k){return new Buffer(k);}};p["arraybuffer"]={"string":function(k){return o(new Uint8Array(k));},"array":function(k){return t(new Uint8Array(k),new Array(k.byteLength));},"arraybuffer":m,"uint8array":function(k){return new Uint8Array(k);},"nodebuffer":function(k){return new Buffer(new Uint8Array(k));}};p["uint8array"]={"string":o,"array":function(k){return t(k,new Array(k.length));},"arraybuffer":function(k){return k.buffer;},"uint8array":m,"nodebuffer":function(k){return new Buffer(k);}};p["nodebuffer"]={"string":o,"array":function(k){return t(k,new Array(k.length));},"arraybuffer":function(k){return p["nodebuffer"]["uint8array"](k).buffer;},"uint8array":function(k){return t(k,new Uint8Array(k.length));},"nodebuffer":m};JSZip.utils.transformTo=function(k,l){if(!l){l="";}if(!k){return l;}JSZip.utils.checkSupport(k);var n=JSZip.utils.getTypeOf(l),r=p[n][k](l);return r;};JSZip.utils.getTypeOf=function(k){if(typeof k==="string"){return "string";}if(Object.prototype.toString.call(k)==="[object Array]"){return "array";}if(JSZip.support.nodebuffer&&Buffer.isBuffer(k)){return "nodebuffer";}if(JSZip.support.uint8array&&k instanceof Uint8Array){return "uint8array";}if(JSZip.support.arraybuffer&&k instanceof ArrayBuffer){return "arraybuffer";}};JSZip.utils.isRegExp=function(k){return Object.prototype.toString.call(k)==="[object RegExp]";};JSZip.utils.checkSupport=function(k){var l=true;switch(k.toLowerCase()){case "uint8array":l=JSZip.support.uint8array;break;case "arraybuffer":l=JSZip.support.arraybuffer;break;case "nodebuffer":l=JSZip.support.nodebuffer;break;case "blob":l=JSZip.support.blob;break;}if(!l){throw  new Error(k+" is not supported by this browser");}};})();(function(){JSZip.CompressedObject=function(){this.compressedSize=0;this.uncompressedSize=0;this.crc32=0;this.compressionMethod=q0;this.compressedContent=q0;};JSZip.CompressedObject.prototype={getContent:function(){return q0;},getCompressedContent:function(){return q0;}};})();JSZip.base64=(function(){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return {encode:function(k,l){var n="",r,u,s,C,y,B,A,m=0;while(m<k.length){r=k.charCodeAt(m++);u=k.charCodeAt(m++);s=k.charCodeAt(m++);C=r>>2;y=((r&3)<<4)|(u>>4);B=((u&15)<<2)|(s>>6);A=s&63;if(isNaN(u)){B=A=64;}else if(isNaN(s)){A=64;}n=n+q.charAt(C)+q.charAt(y)+q.charAt(B)+q.charAt(A);}return n;},decode:function(k,l){var n="",r,u,s,C,y,B,A,m=0;k=k.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(m<k.length){C=q.indexOf(k.charAt(m++));y=q.indexOf(k.charAt(m++));B=q.indexOf(k.charAt(m++));A=q.indexOf(k.charAt(m++));r=(C<<2)|(y>>4);u=((y&15)<<4)|(B>>2);s=((B&3)<<6)|A;n=n+String.fromCharCode(r);if(B!=64){n=n+String.fromCharCode(u);}if(A!=64){n=n+String.fromCharCode(s);}}return n;}};}());
void 0!==window.jQuery&&(window.jQuery.fn.webdatarocks=function(a){a=a||{};a.container=this.get(0);a=window.WebDataRocks?window.WebDataRocks(a):window.PivotApi(a);this.data("webdatarocks",a);return a});
void 0!==window.angular&&window.angular.module("webdatarocks",[]).directive("wbrPivot",function(){function d(b,c){void 0!==b.wbrGlobal&&(c.global=b.wbrGlobal);void 0!==b.wbrWidth&&(c.width=b.wbrWidth);void 0!==b.wbrHeight&&(c.height=b.wbrHeight);void 0!==b.wbrToolbar&&(c.toolbar=!0===b.wbrToolbar||"true"==b.wbrToolbar||"on"==b.wbrToolbar)}return{restrict:"A",scope:{report:"=wbrReport",customizeCell:"&wbrCustomizeCell",cellclick:"&wbrCellClick",celldoubleclick:"&wbrCellDoubleClick",dataerror:"&wbrDataError",
datafilecancelled:"&wbrDataFileCancelled",dataloaded:"&wbrDataLoaded",datachanged:"&wbrDataChanged",fieldslistclose:"&wbrFieldsListClose",fieldslistopen:"&wbrFieldsListOpen",filteropen:"&wbrFilteropen",fullscreen:"&wbrFullscreen",loadingdata:"&wbrLoadingData",loadinglocalization:"&wbrLoadingLocalization",loadingolapstructure:"&wbrLoadingOlapStructure",loadingreportfile:"&wbrLoadingReportFile",localizationerror:"&wbrLocalizationError",localizationloaded:"&wbrLocalizationLoaded",openingreportfile:"&wbrOpeningReportFile",
querycomplete:"&wbrQueryComplete",queryerror:"&wbrQueryError",ready:"&wbrReady",reportchange:"&wbrReportChange",reportcomplete:"&wbrReportComplete",reportfilecancelled:"&wbrReportFileCancelled",reportfileerror:"&wbrReportFileError",reportfileloaded:"&wbrReportFileLoaded",runningquery:"&wbrRunningQuery",update:"&wbrUpdate",beforetoolbarcreated:"&wbrBeforeToolbarCreated"},link:function(b,c,e,a){a={};a.container=c[0];d(e,a);b.customizeCell&&(a.customizeCell=function(a,c){return b.customizeCell({html:a,
data:c})});b.cellclick&&(a.cellclick=function(a){b.cellclick({cell:a})});b.celldoubleclick&&(a.celldoubleclick=function(a){b.celldoubleclick({cell:a})});a.dataerror=b.dataerror;a.datafilecancelled=b.datafilecancelled;a.dataloaded=b.dataloaded;a.datachanged&&(a.datachanged=function(a){b.datachanged({event:a})});a.fieldslistclose=b.fieldslistclose;a.fieldslistopen=b.fieldslistopen;a.filteropen&&(a.filteropen=function(a){b.filteropen({params:a})});a.fullscreen&&(a.fullscreen=function(a){b.fullscreen({fullScreenMode:a})});
a.loadingdata=b.loadingdata;a.loadinglocalization=b.loadinglocalization;a.loadingolapstructure=b.loadingolapstructure;a.loadingreportfile=b.loadingreportfile;a.localizationerror=b.localizationerror;a.localizationloaded=b.localizationloaded;a.olapstructureerror=b.olapstructureerror;a.olapstructureloaded=b.olapstructureloaded;a.openingreportfile=b.openingreportfile;a.querycomplete=b.querycomplete;a.queryerror=b.queryerror;b.ready&&(a.ready=function(){b.ready({pivot:f})});a.reportchange=b.reportchange;
a.reportcomplete=b.reportcomplete;a.reportfilecancelled=b.reportfilecancelled;a.reportfileerror=b.reportfileerror;a.reportfileloaded=b.reportfileloaded;a.runningquery=b.runningquery;a.loadingdata=b.loadingdata;a.loadingdata=b.loadingdata;a.loadingdata=b.loadingdata;a.update=b.update;b.beforetoolbarcreated&&(a.beforetoolbarcreated=function(a){b.beforetoolbarcreated({toolbar:a})});b.report&&(a.report=b.report);b.global&&(a.global=b.global);var f=new WebDataRocks(a)}}});
void 0!==window.React&&(window.WebDataRocksReact={Pivot:React.createClass({propTypes:{global:React.PropTypes.object,width:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),height:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),report:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),toolbar:React.PropTypes.bool,customizeCell:React.PropTypes.func,cellclick:React.PropTypes.func,celldoubleclick:React.PropTypes.func,dataerror:React.PropTypes.func,
datafilecancelled:React.PropTypes.func,dataloaded:React.PropTypes.func,datachanged:React.PropTypes.func,fieldslistclose:React.PropTypes.func,fieldslistopen:React.PropTypes.func,filteropen:React.PropTypes.func,fullscreen:React.PropTypes.func,loadingdata:React.PropTypes.func,loadinglocalization:React.PropTypes.func,loadingolapstructure:React.PropTypes.func,loadingreportfile:React.PropTypes.func,localizationerror:React.PropTypes.func,localizationloaded:React.PropTypes.func,olapstructureerror:React.PropTypes.func,
olapstructureloaded:React.PropTypes.func,openingreportfile:React.PropTypes.func,querycomplete:React.PropTypes.func,queryerror:React.PropTypes.func,ready:React.PropTypes.func,reportchange:React.PropTypes.func,reportcomplete:React.PropTypes.func,reportfilecancelled:React.PropTypes.func,reportfileerror:React.PropTypes.func,reportfileloaded:React.PropTypes.func,runningquery:React.PropTypes.func,update:React.PropTypes.func,beforetoolbarcreated:React.PropTypes.func},render:function(){return React.DOM.div()},
componentDidMount:function(){var a={};a.container=ReactDOM.findDOMNode(this);this.parseProps(a);this.webdatarocks=new window.WebDataRocks(a)},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){},parseProps:function(a){for(var b in this.props)a[b]=this.props[b]}})});

if("object"===typeof module&&module.exports){module.exports=WebDataRocks;}